(self.webpackChunksheet=self.webpackChunksheet||[]).push([["99316"],{898309:function(e,t,n){"use strict";function r(){return"undefined"!=typeof FEDERATION_BUILD_IDENTIFIER?FEDERATION_BUILD_IDENTIFIER:""}function i(){return!1}function o(){return"undefined"!=typeof window}n.d(t,{S1:function(){return tE},y0:function(){return tw}});let a="[ Federation Runtime ]";function s(e,t){e||u(t)}function u(e){if(e instanceof Error)throw e.message=`${a}: ${e.message}`,e;throw Error(`${a}: ${e}`)}function c(e){e instanceof Error?(e.message=`${a}: ${e.message}`,console.warn(e)):console.warn(`${a}: ${e}`)}function l(e,t){return -1===e.findIndex(e=>e===t)&&e.push(t),e}function d(e){return"version"in e&&e.version?`${e.name}:${e.version}`:"entry"in e&&e.entry?`${e.name}:${e.entry}`:`${e.name}`}function f(e){return void 0!==e.entry}function p(e){return!e.entry.includes(".json")&&e.entry.includes(".js")}function h(e){try{return JSON.stringify(e,null,2)}catch(e){return""}}function g(e){return e&&"object"==typeof e}let m=Object.prototype.toString;function v(e){return"[object Object]"===m.call(e)}function y(e){return Array.isArray(e)?e:[e]}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}let C=(()=>{try{return Function("return this")()}catch(e){return globalThis}})(),I=C;function E(e,t,n){Object.defineProperty(e,t,{value:n,configurable:!1,writable:!0})}function w(e,t){return Object.hasOwnProperty.call(e,t)}w(globalThis,"__GLOBAL_LOADING_REMOTE_ENTRY__")||E(globalThis,"__GLOBAL_LOADING_REMOTE_ENTRY__",{});let S=globalThis.__GLOBAL_LOADING_REMOTE_ENTRY__;function D(e){var t,n,r,i,o,a,s,u,c,l,d,f;w(e,"__VMOK__")&&!w(e,"__FEDERATION__")&&E(e,"__FEDERATION__",e.__VMOK__),w(e,"__FEDERATION__")||(E(e,"__FEDERATION__",{__GLOBAL_PLUGIN__:[],__INSTANCES__:[],moduleInfo:{},__SHARE__:{},__MANIFEST_LOADING__:{},__PRELOADED_MAP__:new Map}),E(e,"__VMOK__",e.__FEDERATION__)),null!=(s=(t=e.__FEDERATION__).__GLOBAL_PLUGIN__)||(t.__GLOBAL_PLUGIN__=[]),null!=(u=(n=e.__FEDERATION__).__INSTANCES__)||(n.__INSTANCES__=[]),null!=(c=(r=e.__FEDERATION__).moduleInfo)||(r.moduleInfo={}),null!=(l=(i=e.__FEDERATION__).__SHARE__)||(i.__SHARE__={}),null!=(d=(o=e.__FEDERATION__).__MANIFEST_LOADING__)||(o.__MANIFEST_LOADING__={}),null!=(f=(a=e.__FEDERATION__).__PRELOADED_MAP__)||(a.__PRELOADED_MAP__=new Map)}function M(e,t){let n=r();return globalThis.__FEDERATION__.__INSTANCES__.find(i=>!!n&&i.options.id===r()||i.options.name===e&&!i.options.version&&!t||i.options.name===e&&!!t&&i.options.version===t)}function T(e){globalThis.__FEDERATION__.__INSTANCES__.push(e)}function A(){return globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR__}function x(e,t=i()){t&&(globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR__=e,globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR_VERSION__="0.1.6")}function N(e,t){if("string"==typeof t){if(e[t])return{value:e[t],key:t};for(let n of Object.keys(e)){let[r,i]=n.split(":"),o=`${r}:${t}`,a=e[o];if(a)return{value:a,key:o}}return{value:void 0,key:t}}throw Error("key must be string")}D(globalThis),D(C);let O=()=>C.__FEDERATION__.moduleInfo,k=(e,t)=>{let n=N(t,d(e)).value;if(n&&!n.version&&"version"in e&&e.version&&(n.version=e.version),n)return n;if("version"in e&&e.version){let{version:t}=e,n=d(_(e,["version"])),r=N(C.__FEDERATION__.moduleInfo,n).value;if((null==r?void 0:r.version)===t)return r}},R=e=>k(e,C.__FEDERATION__.moduleInfo),L=(e,t)=>{let n=d(e);return C.__FEDERATION__.moduleInfo[n]=t,C.__FEDERATION__.moduleInfo},j=e=>(C.__FEDERATION__.moduleInfo=b({},C.__FEDERATION__.moduleInfo,e),()=>{for(let t of Object.keys(e))delete C.__FEDERATION__.moduleInfo[t]}),P=(e,t)=>{let n=t||`__FEDERATION_${e}:custom__`,r=globalThis[n];return{remoteEntryKey:n,entryExports:r}},B=()=>C.__FEDERATION__.__GLOBAL_PLUGIN__,F=e=>globalThis.__FEDERATION__.__PRELOADED_MAP__.get(e),U=e=>globalThis.__FEDERATION__.__PRELOADED_MAP__.set(e,!0),G="default",W="global",Z="[0-9A-Za-z-]+",V=`(?:\\+(${Z}(?:\\.${Z})*))`,H="0|[1-9]\\d*",z="[0-9]+",Y="\\d*[a-zA-Z-][a-zA-Z0-9-]*",K=`(?:${z}|${Y})`,Q=`(?:-?(${K}(?:\\.${K})*))`,q=`(?:${H}|${Y})`,X=`(?:-(${q}(?:\\.${q})*))`,J=`${H}|x|X|\\*`,$=`[v=\\s]*(${J})(?:\\.(${J})(?:\\.(${J})(?:${X})?${V}?)?)?`,ee=`^\\s*(${$})\\s+-\\s+(${$})\\s*$`,et=`(${z})\\.(${z})\\.(${z})`,en=`[v=\\s]*${et}${Q}?${V}?`,er="((?:<|>)?=?)",ei=`(\\s*)${er}\\s*(${en}|${$})`,eo="(?:~>?)",ea=`(\\s*)${eo}\\s+`,es="(?:\\^)",eu=`(\\s*)${es}\\s+`,ec="(<|>)?=?\\s*\\*",el=`^${es}${$}$`,ed=`(${H})\\.(${H})\\.(${H})`,ef=`v?${ed}${X}?${V}?`,ep=`^${eo}${$}$`,eh=`^${er}\\s*${$}$`,eg=`^${er}\\s*(${ef})$|^$`,em="^\\s*>=\\s*0.0.0\\s*$";function ev(e){return new RegExp(e)}function ey(e){return!e||"x"===e.toLowerCase()||"*"===e}function eb(...e){return t=>e.reduce((e,t)=>t(e),t)}function e_(e){return e.match(ev(eg))}function eC(e,t,n,r){let i=`${e}.${t}.${n}`;return r?`${i}-${r}`:i}function eI(e){return e.replace(ev(ee),(e,t,n,r,i,o,a,s,u,c,l,d)=>(t=ey(n)?"":ey(r)?`>=${n}.0.0`:ey(i)?`>=${n}.${r}.0`:`>=${t}`,s=ey(u)?"":ey(c)?`<${Number(u)+1}.0.0-0`:ey(l)?`<${u}.${Number(c)+1}.0-0`:d?`<=${u}.${c}.${l}-${d}`:`<=${s}`,`${t} ${s}`.trim()))}function eE(e){return e.replace(ev(ei),"$1$2$3")}function ew(e){return e.replace(ev(ea),"$1~")}function eS(e){return e.replace(ev(eu),"$1^")}function eD(e){return e.trim().split(/\s+/).map(e=>e.replace(ev(el),(e,t,n,r,i)=>{if(ey(t))return"";if(ey(n))return`>=${t}.0.0 <${Number(t)+1}.0.0-0`;if(ey(r))if("0"===t)return`>=${t}.${n}.0 <${t}.${Number(n)+1}.0-0`;else return`>=${t}.${n}.0 <${Number(t)+1}.0.0-0`;if(i)if("0"!==t)return`>=${t}.${n}.${r}-${i} <${Number(t)+1}.0.0-0`;else if("0"===n)return`>=${t}.${n}.${r}-${i} <${t}.${n}.${Number(r)+1}-0`;else return`>=${t}.${n}.${r}-${i} <${t}.${Number(n)+1}.0-0`;if("0"===t)if("0"===n)return`>=${t}.${n}.${r} <${t}.${n}.${Number(r)+1}-0`;else return`>=${t}.${n}.${r} <${t}.${Number(n)+1}.0-0`;return`>=${t}.${n}.${r} <${Number(t)+1}.0.0-0`})).join(" ")}function eM(e){return e.trim().split(/\s+/).map(e=>e.replace(ev(ep),(e,t,n,r,i)=>ey(t)?"":ey(n)?`>=${t}.0.0 <${Number(t)+1}.0.0-0`:ey(r)?`>=${t}.${n}.0 <${t}.${Number(n)+1}.0-0`:i?`>=${t}.${n}.${r}-${i} <${t}.${Number(n)+1}.0-0`:`>=${t}.${n}.${r} <${t}.${Number(n)+1}.0-0`)).join(" ")}function eT(e){return e.split(/\s+/).map(e=>e.trim().replace(ev(eh),(e,t,n,r,i,o)=>{let a=ey(n),s=a||ey(r),u=s||ey(i);if("="===t&&u&&(t=""),o="",a)if(">"===t||"<"===t)return"<0.0.0-0";else return"*";return t&&u?(s&&(r=0),i=0,">"===t?(t=">=",s?(n=Number(n)+1,r=0):r=Number(r)+1,i=0):"<="===t&&(t="<",s?n=Number(n)+1:r=Number(r)+1),"<"===t&&(o="-0"),`${t+n}.${r}.${i}${o}`):s?`>=${n}.0.0${o} <${Number(n)+1}.0.0-0`:u?`>=${n}.${r}.0${o} <${n}.${Number(r)+1}.0-0`:e})).join(" ")}function eA(e){return e.trim().replace(ev(ec),"")}function ex(e){return e.trim().replace(ev(em),"")}function eN(e,t){return(e=Number(e)||e)>(t=Number(t)||t)?1:e===t?0:-1}function eO(e,t){let{preRelease:n}=e,{preRelease:r}=t;if(void 0===n&&r)return 1;if(n&&void 0===r)return -1;if(void 0===n&&void 0===r)return 0;for(let e=0,t=n.length;e<=t;e++){let t=n[e],i=r[e];if(t!==i){if(void 0===t&&void 0===i)return 0;if(!t)return 1;if(!i)return -1;return eN(t,i)}}return 0}function ek(e,t){return eN(e.major,t.major)||eN(e.minor,t.minor)||eN(e.patch,t.patch)||eO(e,t)}function eR(e,t){return e.version===t.version}function eL(e,t){switch(e.operator){case"":case"=":return eR(e,t);case">":return ek(e,t)<0;case">=":return eR(e,t)||ek(e,t)<0;case"<":return ek(e,t)>0;case"<=":return eR(e,t)||ek(e,t)>0;case void 0:return!0;default:return!1}}function ej(e){return eb(eD,eM,eT,eA)(e)}function eP(e){return eb(eI,eE,ew,eS)(e.trim()).split(/\s+/).join(" ")}function eB(e,t){if(!e)return!1;let n=eP(t).split(" ").map(e=>ej(e)).join(" ").split(/\s+/).map(e=>ex(e)),r=e_(e);if(!r)return!1;let[,i,,o,a,s,u]=r,c={operator:i,version:eC(o,a,s,u),major:o,minor:a,patch:s,preRelease:null==u?void 0:u.split(".")};for(let e of n){let t=e_(e);if(!t)return!1;let[,n,,r,i,o,a]=t;if(!eL({operator:n,version:eC(r,i,o,a),major:r,minor:i,patch:o,preRelease:null==a?void 0:a.split(".")},c))return!1}return!0}function eF(){return(eF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function eU(e,t,n){var r;let i;return i="get"in e?e.get:"lib"in e?()=>Promise.resolve(e.lib):()=>Promise.resolve(()=>{throw Error(`Can not get shared '${n}'!`)}),eF({deps:[],useIn:[],from:t,loading:null},e,{shareConfig:eF({requiredVersion:`^${e.version}`,singleton:!1,eager:!1,strictVersion:!1},e.shareConfig),get:i,loaded:"lib"in e||void 0,version:null!=(r=e.version)?r:"0",scope:Array.isArray(e.scope)?e.scope:["default"],strategy:e.strategy||"version-first"})}function eG(e,t){return e?Object.keys(e).reduce((n,r)=>{let i=y(e[r]);return n[r]=n[r]||[],i.forEach(e=>{n[r].push(eU(e,t,r))}),n},{}):{}}function eW(e,t){let n=e=>{if(!Number.isNaN(Number(e))){let t=e.split("."),n=e;for(let e=0;e<3-t.length;e++)n+=".0";return n}return e};return!!eB(n(e),`<=${n(t)}`)}let eZ=(e,t)=>{let n=t||function(e,t){return eW(e,t)};return Object.keys(e).reduce((e,t)=>!e||n(e,t)||"0"===e?t:e,0)},eV=e=>!!e.loaded||"function"==typeof e.lib;function eH(e,t,n){let r=e[t][n],i=function(e,t){return!eV(r[e])&&eW(e,t)};return eZ(e[t][n],i)}function ez(e,t,n){let r=e[t][n],i=function(e,t){if(eV(r[t]))if(eV(r[e]))return!!eW(e,t);else return!0;return!eV(r[e])&&eW(e,t)};return eZ(e[t][n],i)}function eY(e){return"loaded-first"===e?ez:eH}function eK(e,t,n,r){if(!e)return;let{shareConfig:i,scope:o=G,strategy:a}=n;for(let s of Array.isArray(o)?o:[o])if(i&&e[s]&&e[s][t]){let{requiredVersion:o}=i,l=eY(a)(e,s,t),d=()=>{if(i.singleton){if("string"==typeof o&&!eB(l,o)){let r=`Version ${l} from ${l&&e[s][t][l].from} of shared singleton module ${t} does not satisfy the requirement of ${n.from} which needs ${o})`;i.strictVersion?u(r):c(r)}return e[s][t][l]}if(!1===o||"*"===o||eB(l,o))return e[s][t][l];for(let[n,r]of Object.entries(e[s][t]))if(eB(n,o))return r},f={shareScopeMap:e,scope:s,pkgName:t,version:l,GlobalFederation:I.__FEDERATION__,resolver:d};return(r.emit(f)||f).resolver()}}function eQ(){return I.__FEDERATION__.__SHARE__}function eq(e){var t;let{pkgName:n,extraOptions:r,shareInfos:i}=e,o=e=>{if(!e)return;let t={};e.forEach(e=>{t[e.version]=e});let n=function(e,n){return!eV(t[e])&&eW(e,n)},r=eZ(t,n);return t[r]};return Object.assign({},(null!=(t=null==r?void 0:r.resolver)?t:o)(i[n]),null==r?void 0:r.customShareInfo)}var eX=n(85097);function eJ(e,t){for(let n of e){let e=t.startsWith(n.name),r=t.replace(n.name,"");if(e){if(r.startsWith("/"))return{pkgNameOrAlias:n.name,expose:r=`.${r}`,remote:n};else if(""===r)return{pkgNameOrAlias:n.name,expose:".",remote:n}}let i=n.alias&&t.startsWith(n.alias),o=n.alias&&t.replace(n.alias,"");if(n.alias&&i){if(o&&o.startsWith("/"))return{pkgNameOrAlias:n.alias,expose:o=`.${o}`,remote:n};else if(""===o)return{pkgNameOrAlias:n.alias,expose:".",remote:n}}}}function e$(e,t){for(let n of e)if(t===n.name||n.alias&&t===n.alias)return n}function e0(e,t){let n=B();return n.length>0&&n.forEach(t=>{(null==e?void 0:e.find(e=>e.name!==t.name))&&e.push(t)}),e&&e.length>0&&e.forEach(e=>{t.forEach(t=>{t.applyPlugin(e)})}),e}function e1(){return(e1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}async function e2({entry:e,remoteEntryExports:t}){return new Promise((n,r)=>{try{t?n(t):Function("callbacks",`import("${e}").then(callbacks[0]).catch(callbacks[1])`)([n,r])}catch(e){r(e)}})}async function e4({name:e,globalName:t,entry:n,createScriptHook:r}){let{entryExports:i}=P(e,t);return i||("undefined"==typeof document?(0,eX.qN)(n,{attrs:{name:e,globalName:t},createScriptHook:r}).then(()=>{let{remoteEntryKey:r,entryExports:i}=P(e,t);return s(i,`
        Unable to use the ${e}'s '${n}' URL with ${r}'s globalName to get remoteEntry exports.
        Possible reasons could be:

        1. '${n}' is not the correct URL, or the remoteEntry resource or name is incorrect.

        2. ${r} cannot be used to get remoteEntry exports in the window object.
      `),i}).catch(e=>e):(0,eX.ve)(n,{attrs:{},createScriptHook:r}).then(()=>{let{remoteEntryKey:r,entryExports:i}=P(e,t);return s(i,`
      Unable to use the ${e}'s '${n}' URL with ${r}'s globalName to get remoteEntry exports.
      Possible reasons could be:

      1. '${n}' is not the correct URL, or the remoteEntry resource or name is incorrect.

      2. ${r} cannot be used to get remoteEntry exports in the window object.
    `),i}).catch(e=>e))}function e3(e){let{entry:t,name:n}=e;return(0,eX.M8)(n,t)}async function e5({remoteEntryExports:e,remoteInfo:t,createScriptHook:n}){let{entry:r,name:i,type:o,entryGlobalName:a}=t,s=e3(t);return e||(S[s]||("esm"===o?S[s]=e2({entry:r,remoteEntryExports:e}):S[s]=e4({name:i,globalName:a,entry:r,createScriptHook:n})),S[s])}function e9(e){return e1({},e,{entry:"entry"in e?e.entry:"",type:e.type||W,entryGlobalName:e.entryGlobalName||e.name,shareScope:e.shareScope||G})}function e8(){return(e8=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let e6=class{async getEntry(){if(this.remoteEntryExports)return this.remoteEntryExports;let e=await e5({remoteInfo:this.remoteInfo,remoteEntryExports:this.remoteEntryExports,createScriptHook:e=>{let t=this.host.loaderHook.lifecycle.createScript.emit({url:e});if("undefined"==typeof document||t instanceof HTMLScriptElement)return t}});return s(e,`remoteEntryExports is undefined 
 ${h(this.remoteInfo)}`),this.remoteEntryExports=e,this.remoteEntryExports}async get(e,t){let{loadFactory:n=!0}=t||{loadFactory:!0},r=await this.getEntry();if(!this.inited){let e=this.host.shareScopeMap,t=this.remoteInfo.shareScope||"default";e[t]||(e[t]={});let n=e[t],i=[],o={version:this.remoteInfo.version||""};Object.defineProperty(o,"hostId",{value:this.host.options.id||this.host.name,enumerable:!1});let a=await this.host.hooks.lifecycle.beforeInitContainer.emit({shareScope:n,remoteEntryInitOptions:o,initScope:i,remoteInfo:this.remoteInfo,origin:this.host});await r.init(a.shareScope,a.initScope,a.remoteEntryInitOptions),await this.host.hooks.lifecycle.initContainer.emit(e8({},a,{remoteEntryExports:r}))}this.lib=r,this.inited=!0;let i=await r.get(e);return(s(i,`${d(this.remoteInfo)} remote don't export ${e}.`),n)?await i():i}constructor({remoteInfo:e,host:t}){this.inited=!1,this.lib=void 0,this.remoteInfo=e,this.host=t}};class e7{on(e){"function"==typeof e&&this.listeners.add(e)}once(e){let t=this;this.on(function n(...r){return t.remove(n),e.apply(null,r)})}emit(...e){let t;return this.listeners.size>0&&this.listeners.forEach(n=>{t=n(...e)}),t}remove(e){this.listeners.delete(e)}removeAll(){this.listeners.clear()}constructor(e){this.type="",this.listeners=new Set,e&&(this.type=e)}}class te extends e7{emit(...e){let t,n=Array.from(this.listeners);if(n.length>0){let r=0,i=t=>!1!==t&&(r<n.length?Promise.resolve(n[r++].apply(null,e)).then(i):t);t=i()}return Promise.resolve(t)}}function tt(e,t){if(!g(t))return!1;if(e!==t){for(let n in e)if(!(n in t))return!1}return!0}class tn extends e7{emit(e){for(let t of(g(e)||u(`The data for the "${this.type}" hook should be an object.`),this.listeners))try{let n=t(e);if(tt(e,n))e=n;else{this.onerror(`A plugin returned an unacceptable value for the "${this.type}" type.`);break}}catch(e){c(e),this.onerror(e)}return e}constructor(e){super(),this.onerror=u,this.type=e}}class tr extends e7{emit(e){g(e)||u(`The response data for the "${this.type}" hook must be an object.`);let t=Array.from(this.listeners);if(t.length>0){let n=0,r=t=>(c(t),this.onerror(t),e),i=o=>{if(tt(e,o)){if(e=o,n<t.length)try{return Promise.resolve(t[n++](e)).then(i,r)}catch(e){return r(e)}}else this.onerror(`A plugin returned an incorrect value for the "${this.type}" type.`);return e};return Promise.resolve(i(e))}return Promise.resolve(e)}constructor(e){super(),this.onerror=u,this.type=e}}class ti{applyPlugin(e){s(v(e),"Plugin configuration is invalid.");let t=e.name;s(t,"A name must be provided by the plugin."),this.registerPlugins[t]||(this.registerPlugins[t]=e,Object.keys(this.lifecycle).forEach(t=>{let n=e[t];n&&this.lifecycle[t].on(n)}))}removePlugin(e){s(e,"A name is required.");let t=this.registerPlugins[e];s(t,`The plugin "${e}" is not registered.`),Object.keys(t).forEach(e=>{"name"!==e&&this.lifecycle[e].remove(t[e])})}inherit({lifecycle:e,registerPlugins:t}){Object.keys(e).forEach(t=>{s(!this.lifecycle[t],`The hook "${t}" has a conflict and cannot be inherited.`),this.lifecycle[t]=e[t]}),Object.keys(t).forEach(e=>{s(!this.registerPlugins[e],`The plugin "${e}" has a conflict and cannot be inherited.`),this.applyPlugin(t[e])})}constructor(e){this.registerPlugins={},this.lifecycle=e,this.lifecycleKeys=Object.keys(e)}}function to(){return(to=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ta(e){return to({resourceCategory:"sync",share:!0,depsRemote:!0,prefetchInterface:!1},e)}function ts(e,t){return t.map(t=>{let n=e$(e,t.nameOrAlias);return s(n,`Unable to preload ${t.nameOrAlias} as it is not included in ${!n&&h({remoteInfo:n,remotes:e})}`),{remote:n,preloadConfig:ta(t)}})}function tu(e){return e?e.map(e=>"."===e?e:e.startsWith("./")?e.replace("./",""):e):[]}function tc(e,t,n){let{cssAssets:r,jsAssetsWithoutEntry:i,entryAssets:o}=n;if(t.options.inBrowser){o.forEach(n=>{let{moduleInfo:r}=n,i=t.moduleCache.get(e.name);i?e5({remoteInfo:r,remoteEntryExports:i.remoteEntryExports,createScriptHook:e=>{let n=t.loaderHook.lifecycle.createScript.emit({url:e});if(n instanceof HTMLScriptElement)return n}}):e5({remoteInfo:r,remoteEntryExports:void 0,createScriptHook:e=>{let n=t.loaderHook.lifecycle.createScript.emit({url:e});if(n instanceof HTMLScriptElement)return n}})});let n=document.createDocumentFragment();r.forEach(e=>{let{link:r,needAttach:i}=(0,eX.EW)(e,()=>{},{rel:"preload",as:"style"},e=>{let n=t.loaderHook.lifecycle.createLink.emit({url:e});if(n instanceof HTMLLinkElement)return n});i&&n.appendChild(r)}),i.forEach(e=>{let{link:n,needAttach:r}=(0,eX.EW)(e,()=>{},{rel:"preload",as:"script"},e=>{let n=t.loaderHook.lifecycle.createLink.emit({url:e});if(n instanceof HTMLLinkElement)return n});r&&document.head.appendChild(n)}),document.head.appendChild(n)}}function tl(){return(tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function td(e,t){"remoteEntry"in t&&t.remoteEntry||u(`The attribute remoteEntry of ${name} must not be undefined.`);let{remoteEntry:n}=t,r=(0,eX.vM)(t,n);e.type=t.remoteEntryType,e.entryGlobalName=t.globalName,e.entry=r,e.version=t.version,e.buildVersion=t.buildVersion}function tf(){return{name:"snapshot-plugin",async afterResolve(e){let{remote:t,pkgNameOrAlias:n,expose:r,origin:i,remoteInfo:o}=e;if(!f(t)||!p(t)){let{remoteSnapshot:a,globalSnapshot:s}=await i.snapshotHandler.loadRemoteSnapshotInfo(t);td(o,a);let u={remote:t,preloadConfig:{nameOrAlias:n,exposes:[r],resourceCategory:"sync",share:!1,depsRemote:!1}},c=await i.hooks.lifecycle.generatePreloadAssets.emit({origin:i,preloadOptions:u,remoteInfo:o,remote:t,remoteSnapshot:a,globalSnapshot:s});return c&&tc(o,i,c),tl({},e,{remoteSnapshot:a})}return e}}}function tp(e){let t=e.split(":");return 1===t.length?{name:t[0],version:void 0}:2===t.length?{name:t[0],version:t[1]}:{name:t[1],version:t[2]}}function th(e,t,n,r,i={},o){let{value:a}=N(e,d(t)),s=o||a;if(s&&!(0,eX.xw)(s)&&(n(s,t,r),s.remotesInfo))for(let t of Object.keys(s.remotesInfo)){if(i[t])continue;i[t]=!0;let r=tp(t),o=s.remotesInfo[t];th(e,{name:r.name,version:o.matchedVersion},n,!1,i,void 0)}}function tg(e,t,n,r,i){let o=[],a=[],s=[],u=new Set,c=new Set,{options:l}=e,{preloadConfig:d}=t,{depsRemote:f}=d;if(th(r,n,(t,n,r)=>{let i;if(r)i=d;else if(Array.isArray(f)){let e=f.find(e=>e.nameOrAlias===n.name||e.nameOrAlias===n.alias);if(!e)return;i=ta(e)}else{if(!0!==f)return;i=d}let u=(0,eX.vM)(t,"remoteEntry"in t?t.remoteEntry:"");u&&s.push({name:n.name,moduleInfo:{name:n.name,entry:u,type:"remoteEntryType"in t?t.remoteEntryType:"global",entryGlobalName:"globalName"in t?t.globalName:n.name,shareScope:"",version:"version"in t?t.version:void 0},url:u});let c="modules"in t?t.modules:[],l=tu(i.exposes);if(l.length&&"modules"in t){var p;c=null==t||null==(p=t.modules)?void 0:p.reduce((e,t)=>((null==l?void 0:l.indexOf(t.moduleName))!==-1&&e.push(t),e),[])}function h(e){let n=e.map(e=>(0,eX.vM)(t,e));return i.filter?n.filter(i.filter):n}if(c){let r=c.length;for(let s=0;s<r;s++){let r=c[s],u=`${n.name}/${r.moduleName}`;e.hooks.lifecycle.handlePreloadModule.emit({id:"."===r.moduleName?n.name:u,name:n.name,remoteSnapshot:t,preloadConfig:i,remote:n,origin:e}),F(u)||("all"===i.resourceCategory?(o.push(...h(r.assets.css.async)),o.push(...h(r.assets.css.sync)),a.push(...h(r.assets.js.async))):(i.resourceCategory="sync",o.push(...h(r.assets.css.sync))),a.push(...h(r.assets.js.sync)),U(u))}}},!0,{},i),i.shared){let t=(t,n)=>{let r=eK(e.shareScopeMap,n.sharedName,t,e.hooks.lifecycle.resolveShare);r&&"function"==typeof r.lib&&(n.assets.js.sync.forEach(e=>{u.add(e)}),n.assets.css.sync.forEach(e=>{c.add(e)}))};i.shared.forEach(e=>{var n;let r=null==(n=l.shared)?void 0:n[e.sharedName];if(!r)return;let i=e.version?r.find(t=>t.version===e.version):r;i&&y(i).forEach(n=>{t(n,e)})})}let p=a.filter(e=>!u.has(e));return{cssAssets:o.filter(e=>!c.has(e)),jsAssetsWithoutEntry:p,entryAssets:s}}let tm=function(){return{name:"generate-preload-assets-plugin",async generatePreloadAssets(e){let{origin:t,preloadOptions:n,remoteInfo:r,remote:i,globalSnapshot:o,remoteSnapshot:a}=e;return f(i)&&p(i)?{cssAssets:[],jsAssetsWithoutEntry:[],entryAssets:[{name:i.name,url:i.entry,moduleInfo:{name:r.name,entry:i.entry,type:"global",entryGlobalName:"",shareScope:""}}]}:(td(r,a),tg(t,n,r,o,a))}}};function tv(){return(tv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class ty{async loadSnapshot(e){let{options:t}=this.HostInstance,{hostGlobalSnapshot:n,remoteSnapshot:r,globalSnapshot:i}=this.getGlobalRemoteInfo(e),{remoteSnapshot:o,globalSnapshot:a}=await this.hooks.lifecycle.loadSnapshot.emit({options:t,moduleInfo:e,hostGlobalSnapshot:n,remoteSnapshot:r,globalSnapshot:i});return{remoteSnapshot:o,globalSnapshot:a}}async loadRemoteSnapshotInfo(e){let{options:t}=this.HostInstance;await this.hooks.lifecycle.beforeLoadRemoteSnapshot.emit({options:t,moduleInfo:e});let n=R({name:this.HostInstance.options.name,version:this.HostInstance.options.version});n||(n={version:this.HostInstance.options.version||"",remoteEntry:"",remotesInfo:{}},j({[this.HostInstance.options.name]:n})),n&&"remotesInfo"in n&&!N(n.remotesInfo,e.name).value&&("version"in e||"entry"in e)&&(n.remotesInfo=tv({},null==n?void 0:n.remotesInfo,{[e.name]:{matchedVersion:"version"in e?e.version:e.entry}}));let{hostGlobalSnapshot:r,remoteSnapshot:i,globalSnapshot:o}=this.getGlobalRemoteInfo(e),{remoteSnapshot:a,globalSnapshot:s}=await this.hooks.lifecycle.loadSnapshot.emit({options:t,moduleInfo:e,hostGlobalSnapshot:r,remoteSnapshot:i,globalSnapshot:o});if(a)if((0,eX.xw)(a)){let t=await this.getManifestJson(a.remoteEntry,e,{}),n=L(tv({},e,{entry:a.remoteEntry}),t);return{remoteSnapshot:t,globalSnapshot:n}}else{let{remoteSnapshot:t}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:e,remoteSnapshot:a,from:"global"});return{remoteSnapshot:t,globalSnapshot:s}}if(f(e)){let t=await this.getManifestJson(e.entry,e,{}),n=L(e,t),{remoteSnapshot:r}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:e,remoteSnapshot:t,from:"global"});return{remoteSnapshot:r,globalSnapshot:n}}u(`
          Cannot get remoteSnapshot with the name: '${e.name}', version: '${e.version}' from __FEDERATION__.moduleInfo. The following reasons may be causing the problem:

          1. The Deploy platform did not deliver the correct data. You can use __FEDERATION__.moduleInfo to check the remoteInfo.

          2. The remote '${e.name}' version '${e.version}' is not released.

          The transformed module info: ${JSON.stringify(s)}
        `)}getGlobalRemoteInfo(e){let t=R({name:this.HostInstance.options.name,version:this.HostInstance.options.version}),n=t&&"remotesInfo"in t&&t.remotesInfo&&N(t.remotesInfo,e.name).value;return n&&n.matchedVersion?{hostGlobalSnapshot:t,globalSnapshot:O(),remoteSnapshot:R({name:e.name,version:n.matchedVersion})}:{hostGlobalSnapshot:void 0,globalSnapshot:O(),remoteSnapshot:R({name:e.name,version:"version"in e?e.version:void 0})}}async getManifestJson(e,t,n){let r=async()=>{let n=this.manifestCache.get(e);if(n)return n;try{let t=await this.loaderHook.lifecycle.fetch.emit(e,{});return t&&t instanceof Response||(t=await fetch(e,{})),n=await t.json(),s(n.metaData&&n.exposes&&n.shared,`${e} is not a federation manifest`),this.manifestCache.set(e,n),n}catch(n){u(`Failed to get manifestJson for ${t.name}. The manifest URL is ${e}. Please ensure that the manifestUrl is accessible.
          
 Error message:
          
 ${n}`)}},i=async()=>{let n=await r(),i=(0,eX.S5)(n,{version:e}),{remoteSnapshot:o}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:t,manifestJson:n,remoteSnapshot:i,manifestUrl:e,from:"manifest"});return o};return this.manifestLoading[e]||(this.manifestLoading[e]=i().then(e=>e)),this.manifestLoading[e]}constructor(e){this.loadingHostSnapshot=null,this.manifestCache=new Map,this.hooks=new ti({beforeLoadRemoteSnapshot:new te("beforeLoadRemoteSnapshot"),loadSnapshot:new tr("loadGlobalSnapshot"),loadRemoteSnapshot:new tr("loadRemoteSnapshot")}),this.manifestLoading=I.__FEDERATION__.__MANIFEST_LOADING__,this.HostInstance=e,this.loaderHook=e.loaderHook}}function tb(){return(tb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function t_(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}class tC{_setGlobalShareScopeMap(){let e=eQ(),t=this.options.id||this.options.name;t&&!e[t]&&(e[t]=this.shareScopeMap)}initOptions(e){this.registerPlugins(e.plugins);let t=this.formatOptions(this.options,e);return this.options=t,t}async loadShare(e,t){let n=eq({pkgName:e,extraOptions:t,shareInfos:this.options.shared});(null==n?void 0:n.scope)&&await Promise.all(n.scope.map(async e=>{await Promise.all(this.initializeSharing(e,n.strategy))}));let{shareInfo:r}=await this.hooks.lifecycle.beforeLoadShare.emit({pkgName:e,shareInfo:n,shared:this.options.shared,origin:this});s(r,`Cannot find ${e} Share in the ${this.options.name}. Please ensure that the ${e} Share parameters have been injected`);let i=eK(this.shareScopeMap,e,r,this.hooks.lifecycle.resolveShare),o=e=>{e.useIn||(e.useIn=[]),l(e.useIn,this.options.name)};if(i&&i.lib)return o(i),i.lib;if(i&&i.loading&&!i.loaded){let e=await i.loading;return i.loaded=!0,i.lib||(i.lib=e),o(i),e}if(i){let t=(async()=>{let t=await i.get();r.lib=t,r.loaded=!0,o(r);let n=eK(this.shareScopeMap,e,r,this.hooks.lifecycle.resolveShare);return n&&(n.lib=t,n.loaded=!0),t})();return this.setShared({pkgName:e,loaded:!1,shared:i,from:this.options.name,lib:null,loading:t}),t}{if(null==t?void 0:t.customShareInfo)return!1;let n=(async()=>{let t=await r.get();r.lib=t,r.loaded=!0,o(r);let n=eK(this.shareScopeMap,e,r,this.hooks.lifecycle.resolveShare);return n&&(n.lib=t,n.loaded=!0),t})();return this.setShared({pkgName:e,loaded:!1,shared:r,from:this.options.name,lib:null,loading:n}),n}}loadShareSync(e,t){let n=eq({pkgName:e,extraOptions:t,shareInfos:this.options.shared});(null==n?void 0:n.scope)&&n.scope.forEach(e=>{this.initializeSharing(e,n.strategy)});let r=eK(this.shareScopeMap,e,n,this.hooks.lifecycle.resolveShare),i=e=>{e.useIn||(e.useIn=[]),l(e.useIn,this.options.name)};if(r){if("function"==typeof r.lib)return i(r),r.loaded||(r.loaded=!0,r.from===this.options.name&&(n.loaded=!0)),r.lib;if("function"==typeof r.get){let t=r.get();if(!(t instanceof Promise))return i(r),this.setShared({pkgName:e,loaded:!0,from:this.options.name,lib:t,shared:r}),t}}if(n.lib)return n.loaded||(n.loaded=!0),n.lib;if(n.get){let t=n.get();if(t instanceof Promise)throw Error(`
        The loadShareSync function was unable to load ${e}. The ${e} could not be found in ${this.options.name}.
        Possible reasons for failure: 

        1. The ${e} share was registered with the 'get' attribute, but loadShare was not used beforehand.

        2. The ${e} share was not registered with the 'lib' attribute.

      `);return n.lib=t,this.setShared({pkgName:e,loaded:!0,from:this.options.name,lib:n.lib,shared:n}),n.lib}throw Error(`
        The loadShareSync function was unable to load ${e}. The ${e} could not be found in ${this.options.name}.
        Possible reasons for failure: 

        1. The ${e} share was registered with the 'get' attribute, but loadShare was not used beforehand.

        2. The ${e} share was not registered with the 'lib' attribute.

      `)}initRawContainer(e,t,n){let r=new e6({host:this,remoteInfo:e9({name:e,entry:t})});return r.remoteEntryExports=n,this.moduleCache.set(e,r),r}async _getRemoteModuleAndOptions(e){let{id:t}=await this.hooks.lifecycle.beforeRequest.emit({id:e,options:this.options,origin:this}),n=eJ(this.options.remotes,t);s(n,`
        Unable to locate ${t} in ${this.options.name}. Potential reasons for failure include:

        1. ${t} was not included in the 'remotes' parameter of ${this.options.name||"the host"}.

        2. ${t} could not be found in the 'remotes' of ${this.options.name} with either 'name' or 'alias' attributes.
        3. ${t} is not online, injected, or loaded.
        4. ${t}  cannot be accessed on the expected.
        5. The 'beforeRequest' hook was provided but did not return the correct 'remoteInfo' when attempting to load ${t}.
      `);let{remote:r}=n,i=e9(r),o=await this.hooks.lifecycle.afterResolve.emit(tb({id:t},n,{options:this.options,origin:this,remoteInfo:i})),{remote:a,expose:u}=o;s(a&&u,`The 'beforeRequest' hook was executed, but it failed to return the correct 'remote' and 'expose' values while loading ${t}.`);let c=this.moduleCache.get(a.name),l={host:this,remoteInfo:i};return c||(c=new e6(l),this.moduleCache.set(a.name,c)),{module:c,moduleOptions:l,remoteMatchInfo:o}}async loadRemote(e,t){try{let{loadFactory:n=!0}=t||{loadFactory:!0},{module:r,moduleOptions:i,remoteMatchInfo:o}=await this._getRemoteModuleAndOptions(e),{pkgNameOrAlias:a,remote:s,expose:u,id:c}=o,l=await r.get(u,t),d=await this.hooks.lifecycle.onLoad.emit({id:c,pkgNameOrAlias:a,expose:u,exposeModule:n?l:void 0,exposeModuleFactory:n?void 0:l,remote:s,options:i,moduleInstance:r,origin:this});if("function"==typeof d)return d;return l}catch(i){let{from:n="runtime"}=t||{from:"runtime"},r=await this.hooks.lifecycle.errorLoadRemote.emit({id:e,error:i,from:n,origin:this});if(!r)throw i;return r}}async preloadRemote(e){await this.hooks.lifecycle.beforePreloadRemote.emit({preloadOptions:e,options:this.options,origin:this});let t=ts(this.options.remotes,e);await Promise.all(t.map(async e=>{let{remote:t}=e,n=e9(t),{globalSnapshot:r,remoteSnapshot:i}=await this.snapshotHandler.loadRemoteSnapshotInfo(t),o=await this.hooks.lifecycle.generatePreloadAssets.emit({origin:this,preloadOptions:e,remote:t,remoteInfo:n,globalSnapshot:r,remoteSnapshot:i});o&&tc(n,this,o)}))}initializeSharing(e=G,t){let n=this.shareScopeMap,r=this.options.name;n[e]||(n[e]={});let i=n[e],o=(e,t)=>{var n;let{version:o,eager:a}=t;i[e]=i[e]||{};let s=i[e],u=s[o],c=!!(u&&(u.eager||(null==(n=u.shareConfig)?void 0:n.eager)));(!u||"loaded-first"!==u.strategy&&!u.loaded&&(!a!==!c?a:r>u.from))&&(s[o]=t)},a=[],s=t=>t&&t.init&&t.init(n[e]),u=async e=>{let{module:t}=await this._getRemoteModuleAndOptions(e);if(t.getEntry){let e=await t.getEntry();t.inited||(s(e),t.inited=!0)}};return Object.keys(this.options.shared).forEach(t=>{this.options.shared[t].forEach(n=>{n.scope.includes(e)&&o(t,n)})}),"version-first"===t&&this.options.remotes.forEach(t=>{t.shareScope===e&&a.push(u(t.name))}),a}initShareScopeMap(e,t){this.shareScopeMap[e]=t,this.hooks.lifecycle.initContainerShareScopeMap.emit({shareScope:t,options:this.options,origin:this})}formatOptions(e,t){let n=eG(t.shared||{},t.name),r=tb({},e.shared);Object.keys(n).forEach(e=>{r[e]?n[e].forEach(t=>{r[e].find(e=>e.version===t.version)||r[e].push(t)}):r[e]=n[e]});let{userOptions:i,options:o}=this.hooks.lifecycle.beforeInit.emit({origin:this,userOptions:t,options:e,shareInfo:r}),a=(i.remotes||[]).reduce((e,t)=>(this.registerRemote(t,e,{force:!1}),e),o.remotes);Object.keys(n).forEach(e=>{n[e].forEach(n=>{!eK(this.shareScopeMap,e,n,this.hooks.lifecycle.resolveShare)&&n&&n.lib&&this.setShared({pkgName:e,lib:n.lib,get:n.get,loaded:!0,shared:n,from:t.name})})});let s=[...o.plugins];i.plugins&&i.plugins.forEach(e=>{s.includes(e)||s.push(e)});let u=tb({},e,t,{plugins:s,remotes:a,shared:r});return this.hooks.lifecycle.init.emit({origin:this,options:u}),u}registerPlugins(e){let t=e0(e,[this.hooks,this.snapshotHandler.hooks,this.loaderHook]);this.options.plugins=this.options.plugins.reduce((e,t)=>(e&&!e.find(e=>e.name===t.name)&&e.push(t),e),t||[])}setShared({pkgName:e,shared:t,from:n,lib:r,loading:i,loaded:o,get:a}){let{version:s,scope:u="default"}=t,c=t_(t,["version","scope"]);(Array.isArray(u)?u:[u]).forEach(t=>{this.shareScopeMap[t]||(this.shareScopeMap[t]={}),this.shareScopeMap[t][e]||(this.shareScopeMap[t][e]={}),!this.shareScopeMap[t][e][s]&&(this.shareScopeMap[t][e][s]=tb({version:s,scope:["default"]},c,{lib:r,loaded:o,loading:i}),a&&(this.shareScopeMap[t][e][s].get=a))})}removeRemote(e){let{name:t}=e,n=this.options.remotes.findIndex(e=>e.name===t);-1!==n&&this.options.remotes.splice(n,1);let r=this.moduleCache.get(e.name);if(r){let t=r.remoteInfo.entryGlobalName;globalThis[t]&&delete globalThis[t];let n=e3(r.remoteInfo);S[n]&&delete S[n],this.moduleCache.delete(e.name)}}registerRemote(e,t,n){let r=()=>{if(e.alias){let n=t.find(t=>{var n;return e.alias&&(t.name.startsWith(e.alias)||(null==(n=t.alias)?void 0:n.startsWith(e.alias)))});s(!n,`The alias ${e.alias} of remote ${e.name} is not allowed to be the prefix of ${n&&n.name} name or alias`)}"entry"in e&&o()&&!e.entry.startsWith("http")&&(e.entry=new URL(e.entry,window.location.origin).href),e.shareScope||(e.shareScope=G),e.type||(e.type=W)},i=t.find(t=>t.name===e.name);if(i){let o=[`The remote "${e.name}" is already registered.`,(null==n?void 0:n.force)?"Hope you have known that OVERRIDE it may have some unexpected errors":'If you want to merge the remote, you can set "force: true".'];(null==n?void 0:n.force)&&(this.removeRemote(i),r(),t.push(e)),c(o.join(" "))}else r(),t.push(e)}registerRemotes(e,t){e.forEach(e=>{this.registerRemote(e,this.options.remotes,{force:null==t?void 0:t.force})})}constructor(e){this.hooks=new ti({beforeInit:new tn("beforeInit"),init:new e7,beforeRequest:new tr("beforeRequest"),afterResolve:new tr("afterResolve"),beforeInitContainer:new tr("beforeInitContainer"),initContainerShareScopeMap:new tr("initContainer"),initContainer:new tr("initContainer"),onLoad:new te("onLoad"),handlePreloadModule:new e7("handlePreloadModule"),errorLoadRemote:new te("errorLoadRemote"),beforeLoadShare:new tr("beforeLoadShare"),loadShare:new te,resolveShare:new tn("resolveShare"),beforePreloadRemote:new te,generatePreloadAssets:new te("generatePreloadAssets"),afterPreloadRemote:new te}),this.version="0.1.6",this.moduleCache=new Map,this.loaderHook=new ti({getModuleInfo:new e7,createScript:new e7,createLink:new e7,fetch:new te("fetch")});let t={id:r(),name:e.name,plugins:[tf(),tm()],remotes:[],shared:{},inBrowser:o()};this.name=e.name,this.options=t,this.shareScopeMap={},this._setGlobalShareScopeMap(),this.snapshotHandler=new ty(this),this.registerPlugins([...t.plugins,...e.plugins||[]]),this.options=this.formatOptions(t,e)}}let tI=null;function tE(e){let t=M(e.name,e.version);return t?(t.initOptions(e),tI||(tI=t),t):(T(tI=new(A()||tC)(e)),tI)}function tw(...e){return s(tI,"Please call init first"),tI.loadRemote.apply(tI,e)}x(tC)},85097:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function _define_property$3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}__webpack_require__.d(__webpack_exports__,{EW:function(){return createLink},M8:function(){return composeKeyWithSeparator},S5:function(){return generateSnapshotFromManifest},qN:function(){return loadScriptNode},vM:function(){return getResourceUrl},ve:function(){return loadScript},xw:function(){return isManifestProvider}});var _obj,_obj1,FederationModuleManifest="federation-manifest.json",MANIFEST_EXT=".json",BROWSER_LOG_KEY="FEDERATION_DEBUG",BROWSER_LOG_VALUE="1",NameTransformSymbol={AT:"@",HYPHEN:"-",SLASH:"/"},NameTransformMap=(_obj={},_define_property$3(_obj,NameTransformSymbol.AT,"scope_"),_define_property$3(_obj,NameTransformSymbol.HYPHEN,"_"),_define_property$3(_obj,NameTransformSymbol.SLASH,"__"),_obj),EncodedNameTransformMap=(_obj1={},_define_property$3(_obj1,NameTransformMap[NameTransformSymbol.AT],NameTransformSymbol.AT),_define_property$3(_obj1,NameTransformMap[NameTransformSymbol.HYPHEN],NameTransformSymbol.HYPHEN),_define_property$3(_obj1,NameTransformMap[NameTransformSymbol.SLASH],NameTransformSymbol.SLASH),_obj1),SEPARATOR=":",ManifestFileName="mf-manifest.json",StatsFileName="mf-stats.json",MFModuleType=7719==__webpack_require__.j?{NPM:"npm",APP:"app"}:null,MODULE_DEVTOOL_IDENTIFIER="__MF_DEVTOOLS_MODULE_INFO__",ContainerPlugin=7719==__webpack_require__.j?Object.freeze({__proto__:null}):null,ContainerReferencePlugin=7719==__webpack_require__.j?Object.freeze({__proto__:null}):null,ModuleFederationPlugin=7719==__webpack_require__.j?Object.freeze({__proto__:null}):null,SharePlugin=7719==__webpack_require__.j?Object.freeze({__proto__:null}):null;function isBrowserEnv(){return"undefined"!=typeof window}function isDebugMode(){return"undefined"!=typeof process&&process.env&&process.env.FEDERATION_DEBUG?!!process.env.FEDERATION_DEBUG:"undefined"!=typeof FEDERATION_DEBUG&&!!FEDERATION_DEBUG}var getProcessEnv=function(){return"undefined"!=typeof process&&process.env?process.env:{}};function _array_like_to_array$2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _array_without_holes(e){if(Array.isArray(e))return _array_like_to_array$2(e)}function _class_call_check(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _create_class(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _define_property$2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _iterable_to_array$1(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _to_consumable_array(e){return _array_without_holes(e)||_iterable_to_array$1(e)||_unsupported_iterable_to_array$2(e)||_non_iterable_spread()}function _unsupported_iterable_to_array$2(e,t){if(e){if("string"==typeof e)return _array_like_to_array$2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array$2(e,t)}}function safeToString(e){try{return JSON.stringify(e,null,2)}catch(e){return""}}var DEBUG_LOG="[ FEDERATION DEBUG ]";function safeGetLocalStorageItem(){try{if("undefined"!=typeof window&&window.localStorage)return localStorage.getItem(BROWSER_LOG_KEY)===BROWSER_LOG_VALUE}catch(e){return"undefined"!=typeof document}return!1}var Logger=function(){function e(t){_class_call_check(this,e),_define_property$2(this,"enable",!1),_define_property$2(this,"identifier",void 0),this.identifier=t||DEBUG_LOG,isBrowserEnv()&&safeGetLocalStorageItem()?this.enable=!0:isDebugMode()&&(this.enable=!0)}return _create_class(e,[{key:"info",value:function(e,t){if(this.enable){var n=safeToString(t)||"";isBrowserEnv()?console.info("%c ".concat(this.identifier,": ").concat(e," ").concat(n),"color:#3300CC"):console.info("\x1b[34m%s","".concat(this.identifier,": ").concat(e," ").concat(n?"\n".concat(n):""))}}},{key:"logOriginalInfo",value:function(){for(var e,t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];this.enable&&(isBrowserEnv()?(console.info("%c ".concat(this.identifier,": OriginalInfo"),"color:#3300CC"),(e=console).log.apply(e,_to_consumable_array(r))):(console.info("%c ".concat(this.identifier,": OriginalInfo"),"color:#3300CC"),(t=console).log.apply(t,_to_consumable_array(r))))}}]),e}();function _array_like_to_array$1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _array_with_holes$1(e){if(Array.isArray(e))return e}function _iterable_to_array(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _iterable_to_array_limit$1(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}}function _non_iterable_rest$1(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array$1(e,t){return _array_with_holes$1(e)||_iterable_to_array_limit$1(e,t)||_unsupported_iterable_to_array$1(e,t)||_non_iterable_rest$1()}function _to_array(e){return _array_with_holes$1(e)||_iterable_to_array(e)||_unsupported_iterable_to_array$1(e)||_non_iterable_rest$1()}function _unsupported_iterable_to_array$1(e,t){if(e){if("string"==typeof e)return _array_like_to_array$1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array$1(e,t)}}var LOG_CATEGORY="[ Federation Runtime ]",parseEntry=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:SEPARATOR,r=e.split(n),i="development"===getProcessEnv().NODE_ENV&&t,o="*",a=function(e){return e.startsWith("http")||e.includes(MANIFEST_EXT)};if(r.length>=2){var s=_to_array(r),u=s[0],c=s.slice(1),l=i||c.join(n);return a(l)?{name:u,entry:l}:{name:u,version:l||o}}if(1===r.length){var d=_sliced_to_array$1(r,1)[0];return i&&a(i)?{name:d,entry:i}:{name:d,version:i||o}}throw"Invalid entry value: ".concat(e)},logger=new Logger,composeKeyWithSeparator=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length?t.reduce(function(e,t){return t?e?"".concat(e).concat(SEPARATOR).concat(t):t:e},""):""},encodeName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var r=n?".js":"";return"".concat(t).concat(e.replace(RegExp("".concat(NameTransformSymbol.AT),"g"),NameTransformMap[NameTransformSymbol.AT]).replace(RegExp("".concat(NameTransformSymbol.HYPHEN),"g"),NameTransformMap[NameTransformSymbol.HYPHEN]).replace(RegExp("".concat(NameTransformSymbol.SLASH),"g"),NameTransformMap[NameTransformSymbol.SLASH])).concat(r)}catch(e){throw e}},decodeName=function(e,t,n){try{var r=e;if(t){if(!r.startsWith(t))return r;r=r.replace(RegExp(t,"g"),"")}return r=r.replace(RegExp("".concat(NameTransformMap[NameTransformSymbol.AT]),"g"),EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.AT]]).replace(RegExp("".concat(NameTransformMap[NameTransformSymbol.SLASH]),"g"),EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.SLASH]]).replace(RegExp("".concat(NameTransformMap[NameTransformSymbol.HYPHEN]),"g"),EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.HYPHEN]]),n&&(r=r.replace(".js","")),r}catch(e){throw e}},generateExposeFilename=function(e,t){if(!e)return"";var n=e;return"."===n&&(n="default_export"),n.startsWith("./")&&(n=n.replace("./","")),encodeName(n,"__federation_expose_",t)},generateShareFilename=function(e,t){return e?encodeName(e,"__federation_shared_",t):""},getResourceUrl=function(e,t){if("getPublicPath"in e){var n=Function(e.getPublicPath)();return"".concat(n).concat(t)}return"publicPath"in e?"".concat(e.publicPath).concat(t):(console.warn("Can not get resource url, if in debug mode, please ignore",e,t),"")},assert=function(e,t){e||error(t)},error=function(e){throw Error("".concat(LOG_CATEGORY,": ").concat(e))},warn=function(e){console.warn("".concat(LOG_CATEGORY,": ").concat(e))};function _define_property$1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _object_spread$1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_define_property$1(e,t,n[t])})}return e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _object_spread_props(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}var simpleJoinRemoteEntry=function(e,t){if(!e)return t;var n=function(e){if("."===e)return"";if(e.startsWith("./"))return e.replace("./","");if(e.startsWith("/")){var t=e.slice(1);return t.endsWith("/")?t.slice(0,-1):t}return e}(e);return n?n.endsWith("/")?"".concat(n).concat(t):"".concat(n,"/").concat(t):t};function generateSnapshotFromManifest(e){var t,n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.remotes,s=void 0===a?{}:a,u=o.overrides,c=void 0===u?{}:u,l=o.version,d=function(){return"publicPath"in e.metaData?e.metaData.publicPath:e.metaData.getPublicPath},f=Object.keys(c),p={};Object.keys(s).length||(p=(null==(i=e.remotes)?void 0:i.reduce(function(e,t){var n,r=t.federationContainerName;return n=f.includes(r)?c[r]:"version"in t?t.version:t.entry,e[r]={matchedVersion:n},e},{}))||{}),Object.keys(s).forEach(function(e){return p[e]={matchedVersion:f.includes(e)?c[e]:s[e]}});var h=e.metaData,g=h.remoteEntry,m=g.path,v=g.name,y=g.type,b=h.types,_=h.buildInfo.buildVersion,C=h.globalName,I=e.exposes,E={version:l||"",buildVersion:_,globalName:C,remoteEntry:simpleJoinRemoteEntry(m,v),remoteEntryType:y,remoteTypes:simpleJoinRemoteEntry(b.path,b.name),remoteTypesZip:b.zip||"",remoteTypesAPI:b.api||"",remotesInfo:p,shared:null==e?void 0:e.shared.map(function(e){return{assets:e.assets,sharedName:e.name,version:e.version}}),modules:null==I?void 0:I.map(function(e){return{moduleName:e.name,modulePath:e.path,assets:e.assets}})};if(null==(t=e.metaData)?void 0:t.prefetchInterface){var w=e.metaData.prefetchInterface;E=_object_spread_props(_object_spread$1({},E),{prefetchInterface:w})}if(null==(n=e.metaData)?void 0:n.prefetchEntry){var S=e.metaData.prefetchEntry,D=S.path,M=S.name,T=S.type;E=_object_spread_props(_object_spread$1({},E),{prefetchEntry:simpleJoinRemoteEntry(D,M),prefetchEntryType:T})}return"publicPath"in e.metaData?_object_spread_props(_object_spread$1({},E),{publicPath:d()}):_object_spread_props(_object_spread$1({},E),{getPublicPath:d()})}function isManifestProvider(e){return!!("remoteEntry"in e&&e.remoteEntry.includes(MANIFEST_EXT))}function asyncGeneratorStep$1(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){n(e);return}s.done?t(u):Promise.resolve(u).then(r,i)}function _async_to_generator$1(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){asyncGeneratorStep$1(o,r,i,a,s,"next",e)}function s(e){asyncGeneratorStep$1(o,r,i,a,s,"throw",e)}a(void 0)})}}function _instanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function _ts_generator$1(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function safeWrapper(e,t){return _safeWrapper.apply(this,arguments)}function _safeWrapper(){return(_safeWrapper=_async_to_generator$1(function(e,t){var n;return _ts_generator$1(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e()];case 1:return[2,r.sent()];case 2:return n=r.sent(),t||warn(n),[2];case 3:return[2]}})})).apply(this,arguments)}function isStaticResourcesEqual(e,t){var n=/^(https?:)?\/\//i;return e.replace(n,"").replace(/\/$/,"")===t.replace(n,"").replace(/\/$/,"")}function createScript(e,t,n,r){for(var i=null,o=!0,a=document.getElementsByTagName("script"),s=0;s<a.length;s++){var u=a[s],c=u.getAttribute("src");if(c&&isStaticResourcesEqual(c,e)){i=u,o=!1;break}}if(!i&&((i=document.createElement("script")).type="text/javascript",i.src=e,r)){var l=r(e);_instanceof(l,HTMLScriptElement)&&(i=l)}n&&Object.keys(n).forEach(function(e){i&&("async"===e||"defer"===e?i[e]=n[e]:i.setAttribute(e,n[e]))});var d=function(e,n){if(i&&(i.onerror=null,i.onload=null,safeWrapper(function(){(null==i?void 0:i.parentNode)&&i.parentNode.removeChild(i)}),e)){var r=e(n);return t(),r}t()};return i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),{script:i,needAttach:o}}function createLink(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=null,o=!0,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var u=a[s],c=u.getAttribute("href"),l=u.getAttribute("ref");if(c&&isStaticResourcesEqual(c,e)&&l===n.ref){i=u,o=!1;break}}if(!i&&((i=document.createElement("link")).setAttribute("href",e),r)){var d=r(e);_instanceof(d,HTMLLinkElement)&&(i=d)}n&&Object.keys(n).forEach(function(e){i&&i.setAttribute(e,n[e])});var f=function(e,n){if(i&&(i.onerror=null,i.onload=null,safeWrapper(function(){(null==i?void 0:i.parentNode)&&i.parentNode.removeChild(i)}),e)){var r=e(n);return t(),r}t()};return i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),{link:i,needAttach:o}}function loadScript(e,t){var n=t.attrs,r=t.createScriptHook;return new Promise(function(t,i){var o=createScript(e,t,n,r),a=o.script;o.needAttach&&document.getElementsByTagName("head")[0].appendChild(a)})}function _array_like_to_array(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _array_with_holes(e){if(Array.isArray(e))return e}function asyncGeneratorStep(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){n(e);return}s.done?t(u):Promise.resolve(u).then(r,i)}function _async_to_generator(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){asyncGeneratorStep(o,r,i,a,s,"next",e)}function s(e){asyncGeneratorStep(o,r,i,a,s,"throw",e)}a(void 0)})}}function _iterable_to_array_limit(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(e,t){return _array_with_holes(e)||_iterable_to_array_limit(e,t)||_unsupported_iterable_to_array(e,t)||_non_iterable_rest()}function _unsupported_iterable_to_array(e,t){if(e){if("string"==typeof e)return _array_like_to_array(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(e,t)}}function _ts_generator(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function importNodeModule(e){if(!e)throw Error("import specifier is required");return Function("name","return import(name)")(e).then(function(e){return e.default}).catch(function(t){throw console.error("Error importing module ".concat(e,":"),t),t})}function createScriptNode(url,cb,attrs,createScriptHook){if(createScriptHook){var urlObj,hookResult=createScriptHook(url);hookResult&&"object"==typeof hookResult&&"url"in hookResult&&(url=hookResult.url)}try{urlObj=new URL(url)}catch(e){console.error("Error constructing URL:",e),cb(Error("Invalid URL: ".concat(e)));return}var getFetch=function(){var e=_async_to_generator(function(){var e;return _ts_generator(this,function(t){switch(t.label){case 0:if("undefined"!=typeof fetch)return[3,2];return[4,importNodeModule("node-fetch")];case 1:return[2,(null==(e=t.sent())?void 0:e.default)||e];case 2:return[2,fetch];case 3:return[2]}})});return function(){return e.apply(this,arguments)}}();urlObj.href,getFetch().then(function(f){f(urlObj.href).then(function(e){return e.text()}).then(function(){var _ref=_async_to_generator(function(data){var _ref,path,vm,scriptContext,urlDirname,filename,script,exportedInterface,container;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,Promise.all([importNodeModule("path"),importNodeModule("vm")])];case 1:_ref=_sliced_to_array.apply(void 0,[_state.sent(),2]),path=_ref[0],vm=_ref[1],scriptContext={exports:{},module:{exports:{}}},urlDirname=urlObj.pathname.split("/").slice(0,-1).join("/"),filename=path.basename(urlObj.pathname);try{if(script=new vm.Script("(function(exports, module, require, __dirname, __filename) {".concat(data,"\n})"),filename),script.runInThisContext()(scriptContext.exports,scriptContext.module,eval("require"),urlDirname,filename),exportedInterface=scriptContext.module.exports||scriptContext.exports,attrs&&exportedInterface&&attrs.globalName)return container=exportedInterface[attrs.globalName]||exportedInterface,cb(void 0,container),[2];cb(void 0,exportedInterface)}catch(e){cb(Error("Script execution error: ".concat(e)))}return[2]}})});return function(e){return _ref.apply(this,arguments)}}()).catch(function(e){cb(e)})})}function loadScriptNode(e,t){return new Promise(function(n,r){createScriptNode(e,function(e,i){if(e)r(e);else{var o,a,s=(null==t||null==(o=t.attrs)?void 0:o.globalName)||"__FEDERATION_".concat(null==t||null==(a=t.attrs)?void 0:a.name,":custom__");n(globalThis[s]=i)}},t.attrs,t.createScriptHook)})}function _define_property(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _object_spread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_define_property(e,t,n[t])})}return e}function _type_of(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function normalizeOptions(e,t,n){return function(r){if(!1===r)return!1;if(void 0===r)if(e)return t;else return!1;if(!0===r)return t;if(r&&"object"==typeof r)return _object_spread({},t,r);throw Error("Unexpected type for `".concat(n,"`, expect boolean/undefined/object, got: ").concat(void 0===r?"undefined":_type_of(r)))}}},545317:function(e){"use strict";e.exports=function e(e,t){for(var n=Array(arguments.length-1),r=0,i=2,o=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise(function(i,a){n[r]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){o&&(o=!1,a(e))}})}},598660:function(e,t){"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=Array(64),i=Array(123),o=0;o<64;)i[r[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;n.encode=function(e,t,n){for(var i,o=null,a=[],s=0,u=0;t<n;){var c=e[t++];switch(u){case 0:a[s++]=r[c>>2],i=(3&c)<<4,u=1;break;case 1:a[s++]=r[i|c>>4],i=(15&c)<<2,u=2;break;case 2:a[s++]=r[i|c>>6],a[s++]=r[63&c],u=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return(u&&(a[s++]=r[i],a[s++]=61,1===u&&(a[s++]=61)),o)?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var a="invalid encoding";n.decode=function(e,t,n){for(var r,o=n,s=0,u=0;u<e.length;){var c=e.charCodeAt(u++);if(61===c&&s>1)break;if(void 0===(c=i[c]))throw Error(a);switch(s){case 0:r=c,s=1;break;case 1:t[n++]=r<<2|(48&c)>>4,r=c,s=2;break;case 2:t[n++]=(15&r)<<4|(60&c)>>2,r=c,s=3;break;case 3:t[n++]=(3&r)<<6|c,s=0}}if(1===s)throw Error(a);return n-o},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},823745:function(e){"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},319059:function(e){"use strict";function t(e){return"undefined"!=typeof Float32Array?!function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function o(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:o,e.writeFloatBE=r?o:i,e.readFloatLE=r?a:s,e.readFloatBE=r?s:a}():!function(){function t(e,t,n,r){var i=+(t<0);if(i&&(t=-t),0===t)e(1/t>0?0:0x80000000,n,r);else if(isNaN(t))e(0x7fc00000,n,r);else if(t>34028234663852886e22)e((i<<31|0x7f800000)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(t)/Math.LN2),a=8388607&Math.round(t*Math.pow(2,-o)*8388608);e((i<<31|o+127<<23|a)>>>0,n,r)}}function a(e,t,n){var r=e(t,n),i=(r>>31)*2+1,o=r>>>23&255,a=8388607&r;return 255===o?a?NaN:1/0*i:0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,r),e.readFloatLE=a.bind(null,i),e.readFloatBE=a.bind(null,o)}(),"undefined"!=typeof Float64Array?!function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function o(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:o,e.writeDoubleBE=r?o:i,e.readDoubleLE=r?a:s,e.readDoubleBE=r?s:a}():!function(){function t(e,t,n,r,i,o){var a,s=+(r<0);if(s&&(r=-r),0===r)e(0,i,o+t),e(1/r>0?0:0x80000000,i,o+n);else if(isNaN(r))e(0,i,o+t),e(0x7ff80000,i,o+n);else if(r>17976931348623157e292)e(0,i,o+t),e((s<<31|0x7ff00000)>>>0,i,o+n);else if(r<22250738585072014e-324)e((a=r/5e-324)>>>0,i,o+t),e((s<<31|a/0x100000000)>>>0,i,o+n);else{var u=Math.floor(Math.log(r)/Math.LN2);1024===u&&(u=1023),e(0x10000000000000*(a=r*Math.pow(2,-u))>>>0,i,o+t),e((s<<31|u+1023<<20|1048576*a&1048575)>>>0,i,o+n)}}function a(e,t,n,r,i){var o=e(r,i+t),a=e(r,i+n),s=(a>>31)*2+1,u=a>>>20&2047,c=0x100000000*(1048575&a)+o;return 2047===u?c?NaN:1/0*s:0===u?5e-324*s*c:s*Math.pow(2,u-1075)*(c+0x10000000000000)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,r,4,0),e.readDoubleLE=a.bind(null,i,0,4),e.readDoubleBE=a.bind(null,o,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},350491:function(module){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},118601:function(e){"use strict";e.exports=function e(e,t,n){var r=n||8192,i=r>>>1,o=null,a=r;return function(n){if(n<1||n>i)return e(n);a+n>r&&(o=e(r),a=0);var s=t.call(o,a,a+=n);return 7&a&&(a=(7|a)+1),s}}},768375:function(e,t){"use strict";var n=t;n.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:(64512&n)===55296&&(64512&e.charCodeAt(r+1))===56320?(++r,t+=4):t+=3;return t},n.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,o=[],a=0;t<n;)(r=e[t++])<128?o[a++]=r:r>191&&r<224?o[a++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(r>>10),o[a++]=56320+(1023&r)):o[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},n.write=function(e,t,n){for(var r,i,o=n,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:((64512&r)===55296&&(64512&(i=e.charCodeAt(a+1)))===56320?(r=65536+((1023&r)<<10)+(1023&i),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128):t[n++]=r>>12|224,t[n++]=r>>6&63|128),t[n++]=63&r|128);return n-o}},875903:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});var r="production"},307926:function(e,t,n){"use strict";n.d(t,{RP:function(){return c},cc:function(){return u},fH:function(){return s}}),n(575739);var r=n(97045),i=n(36817),o=n(336584),a=n(984451);function s(){return(0,r.YO)("globalEventProcessors",()=>[])}function u(e){s().push(e)}function c(e,t,n,r){return void 0===r&&(r=0),new i.cW((i,s)=>{var u=e[r];if(null===t||"function"!=typeof u)i(t);else{var l=u({...t},n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.id&&null===l&&o.kg.log(`Event processor "${u.id}" dropped event`),(0,a.J8)(l)?l.then(t=>c(e,t,n,r+1).then(i)).then(null,s):c(e,l,n,r+1).then(i).then(null,s)}})}},574409:function(e,t,n){"use strict";n.d(t,{$e:function(){return v},Tb:function(){return a},YA:function(){return g},Yr:function(){return y},av:function(){return m},e:function(){return c},eN:function(){return u},eW:function(){return E},mG:function(){return h},n_:function(){return l},rJ:function(){return f},sU:function(){return p},uT:function(){return s},v:function(){return d},xv:function(){return C},yl:function(){return b}});var r=n(434902),i=n(336584),o=n(125459);function a(e,t){return(0,o.Gd)().captureException(e,{captureContext:t})}function s(e,t){var n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return(0,o.Gd)().captureMessage(e,n,r)}function u(e,t){return(0,o.Gd)().captureEvent(e,t)}function c(e){(0,o.Gd)().configureScope(e)}function l(e){(0,o.Gd)().addBreadcrumb(e)}function d(e,t){(0,o.Gd)().setContext(e,t)}function f(e){(0,o.Gd)().setExtras(e)}function p(e,t){(0,o.Gd)().setExtra(e,t)}function h(e){(0,o.Gd)().setTags(e)}function g(e,t){(0,o.Gd)().setTag(e,t)}function m(e){(0,o.Gd)().setUser(e)}function v(e){(0,o.Gd)().withScope(e)}function y(e,t){return(0,o.Gd)().startTransaction({...e},t)}function b(e){return _.apply(this,arguments)}function _(){return(_=(0,r._)(function*(e){var t=(0,o.Gd)().getClient();return t?t.flush(e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn("Cannot flush events. No client defined."),Promise.resolve(!1))})).apply(this,arguments)}function C(e){return I.apply(this,arguments)}function I(){return(I=(0,r._)(function*(e){var t=(0,o.Gd)().getClient();return t?t.close(e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))})).apply(this,arguments)}function E(){return(0,o.Gd)().lastEventId()}},125459:function(e,t,n){"use strict";n.d(t,{Gd:function(){return g},Xb:function(){return f},cu:function(){return p},pj:function(){return h},vi:function(){return y}}),n(575739),n(738355);var r=n(318744),i=n(980813),o=n(336584),a=n(97045),s=n(875903),u=n(970063),c=n(779796),l=4,d=100,f=function(){function e(e,t,n){void 0===t&&(t=new u.s),void 0===n&&(n=l),this._version=n,this._stack=[{scope:t}],e&&this.bindClient(e)}var t=e.prototype;return t.isOlderThan=function(e){return this._version<e},t.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},t.pushScope=function(){var e=u.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},t.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},t.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},t.getClient=function(){return this.getStackTop().client},t.getScope=function(){return this.getStackTop().scope},t.getStack=function(){return this._stack},t.getStackTop=function(){return this._stack[this._stack.length-1]},t.captureException=function(e,t){var n=this._lastEventId=t&&t.event_id?t.event_id:(0,r.DM)(),i=Error("Sentry syntheticException");return this._withClient((r,o)=>{r.captureException(e,{originalException:e,syntheticException:i,...t,event_id:n},o)}),n},t.captureMessage=function(e,t,n){var i=this._lastEventId=n&&n.event_id?n.event_id:(0,r.DM)(),o=Error(e);return this._withClient((r,a)=>{r.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:i},a)}),i},t.captureEvent=function(e,t){var n=t&&t.event_id?t.event_id:(0,r.DM)();return e.type||(this._lastEventId=n),this._withClient((r,i)=>{r.captureEvent(e,{...t,event_id:n},i)}),n},t.lastEventId=function(){return this._lastEventId},t.addBreadcrumb=function(e,t){var{scope:n,client:r}=this.getStackTop();if(r){var{beforeBreadcrumb:a=null,maxBreadcrumbs:s=d}=r.getOptions&&r.getOptions()||{};if(!(s<=0)){var u={timestamp:(0,i.yW)(),...e},c=a?(0,o.Cf)(()=>a(u,t)):u;null!==c&&(r.emit&&r.emit("beforeAddBreadcrumb",c,t),n.addBreadcrumb(c,s))}}},t.setUser=function(e){this.getScope().setUser(e)},t.setTags=function(e){this.getScope().setTags(e)},t.setExtras=function(e){this.getScope().setExtras(e)},t.setTag=function(e,t){this.getScope().setTag(e,t)},t.setExtra=function(e,t){this.getScope().setExtra(e,t)},t.setContext=function(e,t){this.getScope().setContext(e,t)},t.configureScope=function(e){var{scope:t,client:n}=this.getStackTop();n&&e(t)},t.run=function(e){var t=h(this);try{e(this)}finally{h(t)}},t.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}},t.startTransaction=function(e,t){var n=this._callExtensionMethod("startTransaction",e,t);return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&!n&&(this.getClient()?console.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):console.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),n},t.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.captureSession=function(e){if(void 0===e&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},t.endSession=function(){var e=this.getStackTop().scope,t=e.getSession();t&&(0,c.RJ)(t),this._sendSessionUpdate(),e.setSession()},t.startSession=function(e){var{scope:t,client:n}=this.getStackTop(),{release:r,environment:i=s.J}=n&&n.getOptions()||{},{userAgent:o}=a.n2.navigator||{},u=(0,c.Hv)({release:r,environment:i,user:t.getUser(),...o&&{userAgent:o},...e}),l=t.getSession&&t.getSession();return l&&"ok"===l.status&&(0,c.CT)(l,{status:"exited"}),this.endSession(),t.setSession(u),u},t.shouldSendDefaultPii=function(){var e=this.getClient(),t=e&&e.getOptions();return!!(t&&t.sendDefaultPii)},t._sendSessionUpdate=function(){var{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)},t._withClient=function(e){var{scope:t,client:n}=this.getStackTop();n&&e(n,t)},t._callExtensionMethod=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=p().__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[e])return i.extensions[e].apply(this,n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`Extension method ${e} couldn't be found, doing nothing.`)},e}();function p(){return a.n2.__SENTRY__=a.n2.__SENTRY__||{extensions:{},hub:void 0},a.n2}function h(e){var t=p(),n=y(t);return b(t,e),n}function g(){var e=p();if(e.__SENTRY__&&e.__SENTRY__.acs){var t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return m(e)}function m(e){return void 0===e&&(e=p()),(!v(e)||y(e).isOlderThan(l))&&b(e,new f),y(e)}function v(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function y(e){return(0,a.YO)("hub",()=>new f,e)}function b(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}},970063:function(e,t,n){"use strict";n.d(t,{s:function(){return c}}),n(575739);var r=n(984451),i=n(980813),o=n(318744),a=n(307926),s=n(779796),u=100,c=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=l()}var t=e.prototype;return t.addScopeListener=function(e){this._scopeListeners.push(e)},t.addEventProcessor=function(e){return this._eventProcessors.push(e),this},t.setUser=function(e){return this._user=e||{},this._session&&(0,s.CT)(this._session,{user:e}),this._notifyScopeListeners(),this},t.getUser=function(){return this._user},t.getRequestSession=function(){return this._requestSession},t.setRequestSession=function(e){return this._requestSession=e,this},t.setTags=function(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this},t.setTag=function(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this},t.setExtras=function(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this},t.setExtra=function(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this},t.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},t.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},t.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},t.setContext=function(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this},t.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},t.getSpan=function(){return this._span},t.getTransaction=function(){var e=this.getSpan();return e&&e.transaction},t.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},t.getSession=function(){return this._session},t.update=function(t){if(!t)return this;if("function"==typeof t){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession),t._propagationContext&&(this._propagationContext=t._propagationContext)):(0,r.PO)(t)&&(this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)),this},t.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=l(),this},t.addBreadcrumb=function(e,t){var n="number"==typeof t?t:u;if(n<=0)return this;var r={timestamp:(0,i.yW)(),...e},o=this._breadcrumbs;return o.push(r),this._breadcrumbs=o.length>n?o.slice(-n):o,this._notifyScopeListeners(),this},t.getLastBreadcrumb=function(){return this._breadcrumbs[this._breadcrumbs.length-1]},t.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.addAttachment=function(e){return this._attachments.push(e),this},t.getAttachments=function(){return this._attachments},t.clearAttachments=function(){return this._attachments=[],this},t.applyToEvent=function(e,t,n){if(void 0===t&&(t={}),this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};var r=this._span.transaction;if(r){e.sdkProcessingMetadata={dynamicSamplingContext:r.getDynamicSamplingContext(),...e.sdkProcessingMetadata};var i=r.name;i&&(e.tags={transaction:i,...e.tags})}}this._applyFingerprint(e);var o=this._getBreadcrumbs(),s=[].concat(e.breadcrumbs||[],o);return e.breadcrumbs=s.length>0?s:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},(0,a.RP)([].concat(n||[],(0,a.fH)(),this._eventProcessors),e,t)},t.setSDKProcessingMetadata=function(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this},t.setPropagationContext=function(e){return this._propagationContext=e,this},t.getPropagationContext=function(){return this._propagationContext},t._getBreadcrumbs=function(){return this._breadcrumbs},t._notifyScopeListeners=function(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)},t._applyFingerprint=function(e){e.fingerprint=e.fingerprint?(0,o.lE)(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=[].concat(t._breadcrumbs),n._tags={...t._tags},n._extra={...t._extra},n._contexts={...t._contexts},n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=[].concat(t._eventProcessors),n._requestSession=t._requestSession,n._attachments=[].concat(t._attachments),n._sdkProcessingMetadata={...t._sdkProcessingMetadata},n._propagationContext={...t._propagationContext}),n},e}();function l(){return{traceId:(0,o.DM)(),spanId:(0,o.DM)().substring(16)}}},779796:function(e,t,n){"use strict";n.d(t,{CT:function(){return s},Hv:function(){return a},RJ:function(){return u}});var r=n(980813),i=n(318744),o=n(770234);function a(e){var t=(0,r.ph)(),n={sid:(0,i.DM)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>c(n)};return e&&s(n,e),n}function s(e,t){if(void 0===t&&(t={}),t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,r.ph)(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,i.DM)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{var n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function u(e,t){var n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),s(e,n)}function c(e){return(0,o.Jr)({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}},322949:function(e,t,n){"use strict";n.d(t,{Rt:function(){return a},l4:function(){return u},qT:function(){return c}}),n(575739);var r=n(984451),i=(0,n(97045).Rf)(),o=80;function a(e,t){if(void 0===t&&(t={}),!e)return"<unknown>";try{for(var n,r=e,i=5,a=[],u=0,c=0,l=" > ",d=l.length,f=Array.isArray(t)?t:t.keyAttrs,p=!Array.isArray(t)&&t.maxStringLength||o;r&&u++<i&&(n=s(r,f),"html"!==n&&(!(u>1)||!(c+a.length*d+n.length>=p)));)a.push(n),c+=n.length,r=r.parentNode;return a.reverse().join(l)}catch(e){return"<unknown>"}}function s(e,t){var n,i,o,a,s,u=e,c=[];if(!u||!u.tagName)return"";c.push(u.tagName.toLowerCase());var l=t&&t.length?t.filter(e=>u.getAttribute(e)).map(e=>[e,u.getAttribute(e)]):null;if(l&&l.length)l.forEach(e=>{c.push(`[${e[0]}="${e[1]}"]`)});else if(u.id&&c.push(`#${u.id}`),(n=u.className)&&(0,r.HD)(n))for(s=0,i=n.split(/\s+/);s<i.length;s++)c.push(`.${i[s]}`);var d=["aria-label","type","name","title","alt"];for(s=0;s<d.length;s++)o=d[s],(a=u.getAttribute(o))&&c.push(`[${o}="${a}"]`);return c.join("")}function u(){try{return i.document.location.href}catch(e){return""}}function c(e){return i.document&&i.document.querySelector?i.document.querySelector(e):null}},962337:function(e,t,n){"use strict";function r(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function i(){return"npm"}n.d(t,{S:function(){return i},n:function(){return r}})},984451:function(e,t,n){"use strict";n.d(t,{Cy:function(){return m},HD:function(){return c},J8:function(){return g},Kj:function(){return h},PO:function(){return d},TX:function(){return s},V9:function(){return y},VW:function(){return a},VZ:function(){return i},cO:function(){return f},fm:function(){return u},i2:function(){return v},kK:function(){return p},pt:function(){return l},y1:function(){return b}}),n(738355);var r=Object.prototype.toString;function i(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(e,Error)}}function o(e,t){return r.call(e)===`[object ${t}]`}function a(e){return o(e,"ErrorEvent")}function s(e){return o(e,"DOMError")}function u(e){return o(e,"DOMException")}function c(e){return o(e,"String")}function l(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function d(e){return o(e,"Object")}function f(e){return"undefined"!=typeof Event&&y(e,Event)}function p(e){return"undefined"!=typeof Element&&y(e,Element)}function h(e){return o(e,"RegExp")}function g(e){return!!(e&&e.then&&"function"==typeof e.then)}function m(e){return d(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function v(e){return"number"==typeof e&&e!==e}function y(e,t){try{return e instanceof t}catch(e){return!1}}function b(e){return!!("object"==typeof e&&null!==e&&(e.__isVue||e._isVue))}},336584:function(e,t,n){"use strict";n.d(t,{Cf:function(){return s},LD:function(){return a},RU:function(){return o},kg:function(){return u}});var r=n(97045),i="Sentry Logger ",o=["debug","info","warn","error","log","assert","trace"],a={};function s(e){if(!("console"in r.n2))return e();var t=r.n2.console,n={},i=Object.keys(a);i.forEach(e=>{var r=a[e];n[e]=t[e],t[e]=r});try{return e()}finally{i.forEach(e=>{t[e]=n[e]})}}var u=function(){var e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?o.forEach(n=>{t[n]=function(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];e&&s(()=>{var e;(e=r.n2.console)[n].apply(e,[].concat([`${i}[${n}]:`],o))})}}):o.forEach(e=>{t[e]=()=>void 0}),t}()},318744:function(e,t,n){"use strict";n.d(t,{DM:function(){return o},Db:function(){return u},EG:function(){return c},YO:function(){return l},jH:function(){return s},lE:function(){return d}}),n(313575),n(322554),n(323242),n(604509),n(100355),n(83731);var r=n(770234),i=n(97045);function o(){var e=i.n2,t=e.crypto||e.msCrypto,n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>t.getRandomValues(new Uint8Array(1))[0])}catch(e){}return"10000000100040008000100000000000".replace(/[018]/g,e=>(e^(15&n())>>e/4).toString(16))}function a(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function s(e){var{message:t,event_id:n}=e;if(t)return t;var r=a(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function u(e,t,n){var r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function c(e,t){var n=a(e);if(n){var r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){var o={...i&&i.data,...t.data};n.mechanism.data=o}}}function l(e){if(e&&e.__sentry_captured__)return!0;try{(0,r.xp)(e,"__sentry_captured__",!0)}catch(e){}return!1}function d(e){return Array.isArray(e)?e:[e]}},744801:function(e,t,n){"use strict";n.d(t,{KV:function(){return i},l$:function(){return o}});var r=n(962337);function i(){return!(0,r.n)()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function o(e,t){return e.require(t)}e=n.hmd(e)},770234:function(e,t,n){"use strict";n.d(t,{$Q:function(){return c},HK:function(){return l},Jr:function(){return m},Sh:function(){return f},_j:function(){return d},hl:function(){return s},xp:function(){return u},zf:function(){return g}}),n(575739);var r=n(322949),i=n(984451),o=n(336584),a=n(377125);function s(e,t,n){if(t in e){var r=e[t],i=n(r);"function"==typeof i&&c(i,r),e[t]=i}}function u(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function c(e,t){try{var n=t.prototype||{};e.prototype=t.prototype=n,u(e,"__sentry_original__",t)}catch(e){}}function l(e){return e.__sentry_original__}function d(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function f(e){if((0,i.VZ)(e))return{message:e.message,name:e.name,stack:e.stack,...h(e)};if(!(0,i.cO)(e))return e;var t={type:e.type,target:p(e.target),currentTarget:p(e.currentTarget),...h(e)};return"undefined"!=typeof CustomEvent&&(0,i.V9)(e,CustomEvent)&&(t.detail=e.detail),t}function p(e){try{return(0,i.kK)(e)?(0,r.Rt)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function h(e){if("object"!=typeof e||null===e)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function g(e,t){void 0===t&&(t=40);var n=Object.keys(f(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,a.$G)(n[0],t);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t)){if(r===n.length)return i;return(0,a.$G)(i,t)}}return""}function m(e){return v(e,new Map)}function v(e,t){if((0,i.PO)(e)){var n=t.get(e);if(void 0!==n)return n;var r={};for(var o of(t.set(e,r),Object.keys(e)))void 0!==e[o]&&(r[o]=v(e[o],t));return r}if(Array.isArray(e)){var a=t.get(e);if(void 0!==a)return a;var s=[];return t.set(e,s),e.forEach(e=>{s.push(v(e,t))}),s}return e}},377125:function(e,t,n){"use strict";n.d(t,{$G:function(){return i},U0:function(){return s},nK:function(){return o}}),n(575739);var r=n(984451);function i(e,t){return(void 0===t&&(t=0),"string"!=typeof e||0===t||e.length<=t)?e:`${e.slice(0,t)}...`}function o(e,t){if(!Array.isArray(e))return"";for(var n=[],i=0;i<e.length;i++){var o=e[i];try{(0,r.y1)(o)?n.push("[VueViewModel]"):n.push(String(o))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function a(e,t,n){return void 0===n&&(n=!1),!!(0,r.HD)(e)&&((0,r.Kj)(t)?t.test(e):!!(0,r.HD)(t)&&(n?e===t:e.includes(t)))}function s(e,t,n){return void 0===t&&(t=[]),void 0===n&&(n=!1),t.some(t=>a(e,t,n))}},36817:function(e,t,n){"use strict";n.d(t,{$2:function(){return a},WD:function(){return o},cW:function(){return s}}),n(575739);var r,i=n(984451);function o(e){return new s(t=>{t(e)})}function a(e){return new s((t,n)=>{n(e)})}!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(r||(r={}));var s=function(){function e(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=r.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(e){this._reject(e)}}var t=e.prototype;return t.then=function(t,n){return new e((e,r)=>{this._handlers.push([!1,n=>{if(t)try{e(t(n))}catch(e){r(e)}else e(n)},t=>{if(n)try{e(n(t))}catch(e){r(e)}else r(t)}]),this._executeHandlers()})},t.catch=function(e){return this.then(e=>e,e)},t.finally=function(t){return new e((e,n)=>{var r,i;return this.then(e=>{i=!1,r=e,t&&t()},e=>{i=!0,r=e,t&&t()}).then(()=>{if(i)return void n(r);e(r)})})},t.__init=function(){this._resolve=e=>{this._setResult(r.RESOLVED,e)}},t.__init2=function(){this._reject=e=>{this._setResult(r.REJECTED,e)}},t.__init3=function(){this._setResult=(e,t)=>{if(this._state===r.PENDING){if((0,i.J8)(t))return void t.then(this._resolve,this._reject);this._state=e,this._value=t,this._executeHandlers()}}},t.__init4=function(){this._executeHandlers=()=>{if(this._state!==r.PENDING){var e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(this._state===r.RESOLVED&&e[1](this._value),this._state===r.REJECTED&&e[2](this._value),e[0]=!0)})}}},e}()},980813:function(e,t,n){"use strict";n.d(t,{Z1:function(){return h},ph:function(){return p},yW:function(){return f}});var r,i=n(744801),o=n(97045);e=n.hmd(e);var a=(0,o.Rf)(),s={nowSeconds:()=>Date.now()/1e3};function u(){var{performance:e}=a;if(e&&e.now){var t=Date.now()-e.now();return{now:()=>e.now(),timeOrigin:t}}}function c(){try{return(0,i.l$)(e,"perf_hooks").performance}catch(e){return}}var l=(0,i.KV)()?c():u(),d=void 0===l?s:{nowSeconds:()=>(l.timeOrigin+l.now())/1e3},f=s.nowSeconds.bind(s),p=d.nowSeconds.bind(d),h=(()=>{var{performance:e}=a;if(!e||!e.now){r="none";return}var t=36e5,n=e.now(),i=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-i):t,s=o<t,u=e.timing&&e.timing.navigationStart,c="number"==typeof u?Math.abs(u+n-i):t,l=c<t;if(s||l)if(o<=c)return r="timeOrigin",e.timeOrigin;else return r="navigationStart",u;return r="dateNow",i})()},97045:function(e,t,n){"use strict";function r(e){return e&&e.Math==Math?e:void 0}n.d(t,{Rf:function(){return o},YO:function(){return a},n2:function(){return i}});var i="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function o(){return i}function a(e,t,n){var r=n||i,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}},368155:function(e,t,n){"use strict";var r;n.d(t,{g:function(){return r}}),function(e){e.BINDING="BINDING",e.UNBIND="UNBIND"}(r||(r={}))},792461:function(e,t,n){"use strict";var r;n.d(t,{n:function(){return r}}),function(e){e[e.UNAUTHED=0]="UNAUTHED",e[e.ENTERPRISE=1]="ENTERPRISE",e[e.ENTERPRISE_MEDIA=2]="ENTERPRISE_MEDIA",e[e.GOVERNMENT=3]="GOVERNMENT",e[e.NON_PROFIT_ORGANIZATION=4]="NON_PROFIT_ORGANIZATION",e[e.PRIVATE_NON_ENTERPRISE=5]="PRIVATE_NON_ENTERPRISE",e[e.FOR_PROFIT_ORGANIZATION=6]="FOR_PROFIT_ORGANIZATION",e[e.SOCIAL_GROUPS=8]="SOCIAL_GROUPS",e[e.BUSINESS_MEDIA=9]="BUSINESS_MEDIA",e[e.BUSINESS_UNIT=11]="BUSINESS_UNIT",e[e.INDIVIDUAL_INDUSTRIAL_AND_COMMERCIAL_HOUSEHOLDS=12]="INDIVIDUAL_INDUSTRIAL_AND_COMMERCIAL_HOUSEHOLDS",e[e.OVERSEAS_COMPANIES=13]="OVERSEAS_COMPANIES"}(r||(r={}))},445497:function(e,t,n){"use strict";n.d(t,{Dr:function(){return a},Dv:function(){return i.Dv},RM:function(){return i.RM},T0:function(){return i.T0},gq:function(){return i.gq},gz:function(){return r.g},n6:function(){return o.n},pN:function(){return i.pN},qu:function(){return i.qu},vA:function(){return i.vA},vV:function(){return i.vV}});var r=n(368155),i=n(271048),o=n(792461),a="100000000000000000"},271048:function(e,t,n){"use strict";var r,i,o,a,s,u,c,l;n.d(t,{Dv:function(){return s},RM:function(){return l},T0:function(){return c},gq:function(){return i},pN:function(){return r},qu:function(){return a},vA:function(){return u},vV:function(){return o}}),function(e){e[e.NOT_YET=1]="NOT_YET",e[e.USING=2]="USING",e[e.EXPIRED=3]="EXPIRED"}(r||(r={})),function(e){e[e.NO_STATUS=0]="NO_STATUS",e[e.CLOSE=1]="CLOSE",e[e.OPEN=2]="OPEN",e[e.EXPIRED=3]="EXPIRED"}(i||(i={})),function(e){e[e.EXPIRED=1]="EXPIRED",e[e.SUPER_VIP_EXPIRED=2]="SUPER_VIP_EXPIRED"}(o||(o={})),function(e){e.NORMAL="NORMAL",e.SUPER="SUPER",e.SUPER_PLUS="SUPER_PLUS",e.NONE="NONE",e.EXPIRED="EXPIRED"}(a||(a={})),function(e){e[e.NORMAL=2]="NORMAL",e[e.SUPER=3]="SUPER",e[e.SUPER_PLUS=4]="SUPER_PLUS",e[e.NONE=1]="NONE",e[e.EXPIRED=0]="EXPIRED"}(s||(s={})),function(e){e[e.INVALID_CORP_VIP_LEVEL=0]="INVALID_CORP_VIP_LEVEL",e[e.CORP_VIP_LEVEL_BASIC=1]="CORP_VIP_LEVEL_BASIC",e[e.CORP_VIP_LEVEL_PRO=2]="CORP_VIP_LEVEL_PRO"}(u||(u={})),function(e){e[e.NONE=1]="NONE",e[e.NORMAL=2]="NORMAL",e[e.SUPER=3]="SUPER",e[e.SUPER_PLUS=4]="SUPER_PLUS"}(c||(c={})),function(e){e[e.NONE=0]="NONE",e[e.AUTO_RENEWAL=1]="AUTO_RENEWAL",e[e.CLOSED=2]="CLOSED"}(l||(l={}))},497342:function(e,t,n){"use strict";var r,i,o,a,s,u,c,l;n.d(t,{Cl:function(){return u},Cy:function(){return s},Dl:function(){return c},nN:function(){return r},pZ:function(){return o},rg:function(){return a},uv:function(){return i},v2:function(){return l}}),function(e){e[e.COLLECT=0]="COLLECT",e[e.CANCEL=1]="CANCEL"}(r||(r={})),function(e){e[e.BLANK=1]="BLANK",e[e.TEMPLATE=2]="TEMPLATE",e[e.COPY=4]="COPY"}(i||(i={})),function(e){e[e.DOC=0]="DOC",e[e.EXCEL=1]="EXCEL",e[e.PPT=2]="PPT",e[e.FORM=3]="FORM"}(o||(o={})),function(e){e[e.NONE=0]="NONE",e[e.HUMTRANS=1]="HUMTRANS"}(a||(a={})),function(e){e[e.NONE=0]="NONE",e[e.DEFAULT=5]="DEFAULT"}(s||(s={})),function(e){e[e.MOBILE=0]="MOBILE",e[e.PC=1]="PC"}(u||(u={})),function(e){e[e.Inactive=1]="Inactive",e[e.NormalVip=2]="NormalVip",e[e.SuperVip=3]="SuperVip"}(c||(c={})),function(e){e[e.Inactive=0]="Inactive",e[e.Active=1]="Active",e[e.CloseAfterActive=2]="CloseAfterActive"}(l||(l={}))},419705:function(e,t,n){"use strict";n.d(t,{AZ:function(){return d},CU:function(){return b},Cl:function(){return r},Es:function(){return p},GF:function(){return i},JU:function(){return a},L0:function(){return h},MJ:function(){return u},O:function(){return I},SM:function(){return m},XE:function(){return _},b2:function(){return c},d4:function(){return g},dh:function(){return s},hw:function(){return v},mH:function(){return y},n2:function(){return C},pM:function(){return o},t2:function(){return E},uG:function(){return l},zC:function(){return f}});var r="Metadata must be applied to the parameters of a class constructor",i=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return`Metadata key was used more than once for parameter of class \
${t[0]} in position ${t[1]}, already has metadata: [${t[2]}], newly add metadata: [${t[3]}]`},o=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return`inject with illegal \
serviceIdentifier ${t[0]} ${t[1]} ${t[2]}`},a="@inject: only support to be used as parameters decorator",s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return`Ambiguous override for serviceIdentifier: ${t[0]}`},u=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return`Should not update identifier ${t[0]} holder's descriptor, \
when ${t[1]} already has a instance`},c=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return`Ambiguous match found for serviceIdentifier: ${t[0]}`},l="Illegal hierarchy state: elder border is duplicated",d="Illegal merge state: cannot merge a node with a parent to anther node",f="Illegal parent state: there is already a parent node",p=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return`Warning: try to override service [${t[0]}], \
which with no supportsOverride options`},h=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return`[invokeFunction] get unknown service '${t[0]}'`},g=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return`Service ${t[0]} depends on unknown service ${t[1]}`},m=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return`IllegalState: creating unknown service instance ${t[0]}`},v=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return`IllegalState: resolve unknown service instance ${t[0]}`},y="Cyclic dependency between services",b="May detected cyclic dependency in graph",_=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return`@ServiceName decorator [${t[0]}] \
can only be used to decorate constructor parameter`},C="Illegal state: getInstantion return orphan InstantiationService",I="Illegal state: staticInstantiationService of LoaderBase can only be set once",E=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return`CreateInstance ${t[0]} \
depends on ${t[1]} which is NOT registered`}},45710:function(e,t,n){"use strict";n.d(t,{B:function(){return a}}),n(575739);var r=n(927427),i=n(878314),o=n(769997),a=function(){function e(){}return e.addServiceDependencies=function(e,t,n){(0,o.d)(r.$e,e,void 0,t,n)},e.getServiceDependencies=function(e){var t=[],n=i.a.getDepsMetadata(r.$e,e);return n&&Object.keys(n).forEach(e=>{var r=n[e];r[1]?t.push({id:r[1].serviceIdentifier,index:parseInt(e,10),query:r[1]}):r[0]&&t.push({id:r[0],index:parseInt(e,10),query:{serviceIdentifier:r[0]}})}),t},e}()},471202:function(e,t,n){"use strict";n.d(t,{M:function(){return i}});var r=n(868879),i=function(){function e(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===r&&(r=!1),this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=n,this.supportsOverride=r}return e.prototype.isEqualWith=function(e){return this.ctor===e.ctor&&this.supportsDelayedInstantiation===e.supportsDelayedInstantiation&&this.supportsOverride===e.supportsOverride&&!!(0,r._g)(this.staticArguments,e.staticArguments)},e}()},736669:function(e,t,n){"use strict";n.d(t,{R:function(){return l}});var r=n(758699),i=n(921734),o=n(209787),a=n(696030),s=n(696272),u=n(962222),c=function(){function e(){this.isInnerOpen=!1,this.innerPromise=new Promise(e=>{this.completePromise=e})}var t=e.prototype;return t.isOpen=function(){return this.isInnerOpen},t.open=function(){this.isInnerOpen=!0,this.completePromise(!0)},t.wait=function(){return this.innerPromise},e}(),l=function(e){function t(t,n){var r;return void 0===t&&(t=[]),(r=e.call(this,n)||this).disposableId="DynamicLoader",r.params=(0,u.R)(t),r}(0,i._)(t,e);var n=t.prototype;return n.getInstance=function(e){return(0,o.__awaiter)(this,void 0,void 0,function*(){if(this.getInstancePromise)try{return yield this.getInstancePromise}catch(e){this.clear()}var t=new a.CancellationTokenSource;return this.tokenSource=t,this.getInstancePromise=this.executor(t.token,e),this.getInstancePromise})},n.executor=function(e,t){return(0,o.__awaiter)(this,void 0,void 0,function*(){var n=yield this.loadModule();if(!e.isCancellationRequested&&n){var r=t||(this.params.length>0?this.params:[]),i=this.createInstance(n,r);return this.instance=i,i}})},n.loadModule=function(){var e;return(0,o.__awaiter)(this,void 0,void 0,function*(){if((null==(e=this.loadBarrier)?void 0:e.isOpen())&&this.ctor)return this.ctor;if(this.loadBarrier)yield this.loadBarrier.wait();else{this.loadBarrier=new c;var t=yield this.getModule();this.ctor=(null==t?void 0:t.default)||t,this.loadBarrier.open()}if(this.ctor)return this.ctor})},n.dispose=function(t){e.prototype.dispose.call(this,t),this.clear()},n.clear=function(){var e;this.instance=void 0,this.loadBarrier=void 0,null==(e=this.tokenSource)||e.cancel(),this.tokenSource=void 0,this.getInstancePromise=void 0},(0,r._)(t,[{key:"loadedModule",get:function(){var e;if(null==(e=this.loadBarrier)?void 0:e.isOpen())return this.ctor}}]),t}(u.l);l=(0,o.__decorate)([(0,o.__param)(1,s.T)],l)},535680:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});var r=function(){function e(){this.hookRegistry=new Set}var t=e.prototype;return t.addHook=function(e,t){this.hookRegistry.add({hookPoint:e,callback:t})},t.executeHooks=function(e,t){this.hookRegistry.forEach(n=>{var{hookPoint:r,callback:i}=n;r===t&&i(e)})},e}()},119665:function(e,t,n){"use strict";n.d(t,{F:function(){return E}});var r=n(923749);n(738355),n(575739);var i=n(696030),o=n(419705),a=function(e){this.incoming=new Map,this.outgoing=new Map,this.data=e},s=function(){function e(e){this.identifier=e,this.innerNodes=new Map}var t=e.prototype;return t.roots=function(){var e=[];return this.innerNodes.forEach(t=>{0===t.outgoing.size&&e.push(t)}),e},t.insertEdge=function(e,t){var n=this.lookupOrInsertNode(e),r=this.lookupOrInsertNode(t);n.outgoing.set(this.identifier.hashId(t),r),r.incoming.set(this.identifier.hashId(e),n)},t.removeNode=function(e){var t=this.identifier.hashId(e);this.innerNodes.delete(t),this.innerNodes.forEach(e=>{e.outgoing.delete(t),e.incoming.delete(t)})},t.lookupOrInsertNode=function(e){var t=this.identifier.hashId(e),n=this.innerNodes.get(t);return n||(n=new a(e),this.innerNodes.set(t,n)),n},t.lookup=function(e){return this.innerNodes.get(this.identifier.hashId(e))},t.isEmpty=function(){return 0===this.innerNodes.size},t.dfs=function(e,t){var n=this.clone(),r=[],i=n.innerNodes.get(n.identifier.hashId(e));if(i){r.push(i);for(var a=0;r.length;){if(a>1e4)throw Error(o.CU);a+=1;var s=r[r.length-1];s.outgoing.forEach(e=>{r.push(e)}),s.outgoing.size||(n.lookup(s.data)&&(t(s.data),n.removeNode(s.data)),r.pop())}}},t.clone=function(){var t=new e(this.identifier);return this.innerNodes.forEach(e=>{e.outgoing.forEach(n=>{t.insertEdge(e.data,n.data)})}),t},t.toString=function(){var e=[];return this.innerNodes.forEach(t=>{var n=this.identifier.hashString(t.data),r=[];t.incoming.forEach(e=>{r.push(this.identifier.hashString(e.data))});var i=[];t.outgoing.forEach(e=>{i.push(this.identifier.hashString(e.data))}),e.push(`${n}, (incoming)[${r.join(", ")}], (outgoing)[${i.join(", ")}]`)}),e.join("\n")},e}(),u=n(471202),c=n(365230),l=n(696272),d=n(791304),f=n(758699),p=function(){function e(e){this.didRun=!1,this.executor=()=>{try{this.innerValue=e()}catch(e){this.innerError=e}finally{this.didRun=!0}}}return e.prototype.dispose=function(e){this.innerValue&&(0,i.isDisposable)(this.innerValue)&&this.innerValue.dispose(e)},(0,f._)(e,[{key:"value",get:function(){if(this.didRun||this.executor(),this.innerError)throw this.innerError;return this.innerValue}}]),e}(),h=n(921734),g=n(550785),m=!1,v=function(){function e(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}var t=e.prototype;return t.branch=function(t,n){var r=new e(2,t.toString());return this._dep.push([t,n,r]),r},t.stop=function(){var t=Date.now()-this._start;e._totals+=t;var n=!1;function r(e,t){var i=[],o=Array(e+1).join("	");for(var[a,s,u]of t._dep)if(s&&u){n=!0,i.push(`${o}CREATES -> ${(0,g.r)(a)}`);var c=r(e+1,u);c&&i.push(c)}else i.push(`${o}uses -> ${(0,g.r)(a)}`);return i.join("\n")}var i=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${r(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${e._totals.toFixed(2)}ms)`];(t>2||n)&&i.join("\n")},e.traceInvocation=function(t){return m?new e(1,t.name||t.toString().substring(0,42).replace(/\n/g,"")):e._None},e.traceCreation=function(t){return m?new e(0,t.name):e._None},e.traverse=function(t,n,r){if(void 0===r&&(r=!1),!m)return r;var i=r;return null==t||t._dep.forEach((r,o)=>{var[a,s,u]=r;a===n?!0===i&&!0===s?t._dep[o]=[a,!1,new e(2,a.toString())]:(i=!0,(null==u?void 0:u._dep)&&(null==u?void 0:u._dep.length)>0&&(i=e.traverse(u,n,i))):(null==u?void 0:u._dep)&&(null==u?void 0:u._dep.length)>0&&(i=e.traverse(u,n,i))}),i},e}();v._None=new(function(e){function t(){return e.call(this,-1,null)||this}(0,h._)(t,e);var n=t.prototype;return n.stop=function(){},n.branch=function(){return this},t}(v)),v._totals=0;var y=n(45710),b=function(){function e(e){this.children=new Set,this.isElderBrother=!1,this.self=e}var t=e.prototype;return t.attachToParent=function(e,t){if(void 0===t&&(t=!1),this.parent&&!t)throw Error(o.zC);this.parent=e},t.getParent=function(){return this.parent},t.addChild=function(e){this.children.has(e)||this.children.add(e)},t.walkUp=function(e){this.walkSiblings(t=>{e(t.getSelfNode())});var t=this.getElderBrother().getParent();t&&t.walkUp(e)},t.walkDown=function(e){this.walkSiblings(t=>{e(t.getSelfNode())});var t=this.getElderBrother().getChildren();t.size>0&&t.forEach(t=>t.walkDown(e))},t.mergeTo=function(e){if(this.getParent())throw Error(o.AZ);var t=e.getElderBrother();this.walkSiblings(e=>{e.setElderBrother(!1),e.getChildren().forEach(e=>{e.attachToParent(t,!0),t.addChild(e)}),e.removeChildren()});var n=e.getRightTailSiblingNode();e.getRightTailSiblingNode().addAsRightSibling(this.getLeftHeadSiblingNode()),this.getLeftHeadSiblingNode().addAsLeftSibling(n)},t.getChildren=function(){return this.children},t.removeChildren=function(){this.children.clear()},t.addAsLeftSibling=function(e){if(this.leftSibling){var t=this.getLeftHeadSiblingNode();null==t||t.addAsLeftSibling(e)}else this.leftSibling=e},t.addAsRightSibling=function(e){this.rightSibling?this.getRightTailSiblingNode().addAsRightSibling(e):this.rightSibling=e},t.getLeftSibling=function(){return this.leftSibling},t.getRightSibling=function(){return this.rightSibling},t.isSelfElder=function(){return this.isElderBrother},t.setElderBrother=function(e){this.isElderBrother=e},t.getSelfNode=function(){return this.self},t.getLeftHeadSiblingNode=function(){var e=this.getLeftSibling();if(!e)return this;for(;null==e?void 0:e.getLeftSibling();)e=null==e?void 0:e.getLeftSibling();return e||this},t.getRightTailSiblingNode=function(){var e=this.getRightSibling();if(!e)return this;for(;null==e?void 0:e.getRightSibling();)e=null==e?void 0:e.getRightSibling();return e||this},t.getElderBrother=function(){var e;return this.walkSiblings(t=>{if(t.isSelfElder()||t.getParent()){if(e)throw Error(o.uG);e=t}}),e||this},t.walkSiblings=function(e){e(this);for(var t=this.leftSibling;t;)e(t),t=t.getLeftSibling();for(var n=this.rightSibling;n;)e(n),n=n.getRightSibling()},e.linkParentAndChild=function(e,t){e.addChild(t),t.attachToParent(e)},e.linkSibling=function(e,t){e.addAsRightSibling(t),t.addAsLeftSibling(e)},e}(),_=n(962222),C=n(868879),I="undefined"!=typeof Proxy,E=function(){function e(e,t,n){if(void 0===e&&(e=new d.y),void 0===t&&(t=!1),this.hookRegistry=new Map,this.commonHookList=[],this.innerService=e,this.strictMode=t,this.innerService.set(l.T,this),this.hierarchyNode=new b(this),n){var r=n.getHierarchyNode();b.linkParentAndChild(r,this.hierarchyNode)}}var t=e.prototype;return t.getHierarchyNode=function(){return this.hierarchyNode},t.createChild=function(t){return new e(t,this.strictMode,this)},t.addChild=function(e){b.linkParentAndChild(this.hierarchyNode,e.getHierarchyNode())},t.attachToParent=function(e){b.linkParentAndChild(e.getHierarchyNode(),this.hierarchyNode)},t.getParent=function(){var e;return null==(e=this.hierarchyNode.getParent())?void 0:e.getSelfNode()},t.addService=function(e,t,n){n?this.innerService.setMulti(e,t):this.innerService.set(e,t)},t.createInstance=function(e){for(var t,n,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e instanceof u.M?(t=v.traceCreation(e.ctor),n=this.resolveAndCreateInstance(e.ctor,e.staticArguments.concat(i),t)):(t=v.traceCreation(e),n=this.resolveAndCreateInstance(e,i,t)),t.stop(),n},t.invokeFunction=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=v.traceInvocation(e);try{var a={get:e=>{var t={serviceIdentifier:e,isMultiInject:!0},n=this.getOrCreateServiceInstance(t,i);if(!n)throw Error((0,o.L0)((0,g.r)(e)));return n},getAll:e=>{var t={serviceIdentifier:e,isMultiInject:!0},n=this.getOrCreateServiceInstances(t,i);if(!n)throw Error((0,o.L0)((0,g.r)(e)));return n}};return e.apply(void 0,[].concat([a],n))}finally{i.stop()}},t.dispose=function(t,n){void 0===n&&(n=!1);var r=t||i.DisposeTrace.traceRoot("IInstantiationService");this.innerService.teardown(t=>t&&!(t instanceof e),e=>!(e instanceof _.l),t=>!(t instanceof e),r),n||this.hierarchyNode.walkDown(e=>{e!==this&&e.dispose(r.branch("IInstantiationService"),!0)}),this.hookRegistry.clear(),this.commonHookList=[],!t&&r&&r.stop()},t.has=function(e){var t=!1;return this.hierarchyNode.walkUp(n=>{t||(t=n.innerService.has(e))}),t},t.getClass=function(e){var t;return this.hierarchyNode.walkUp(n=>{var r;if(!t){var i=n.innerService.getHolder({serviceIdentifier:e});t=null==(r=null==i?void 0:i.descriptor)?void 0:r.ctor}}),t},t.addHook=function(e,t,n){return this.addServiceHook(e,t,n)},t.addCommonHook=function(e,t,n){this.commonHookList.push({hookPoint:e,callback:t,filter:n})},t.mergeTo=function(e){this.hierarchyNode.mergeTo(e.getHierarchyNode())},t.addServiceHook=function(e,t,n){var r=!1;return this.hierarchyNode.walkUp(i=>{if(!r&&i.innerService.has(t)){var o=i.innerService.getAllHolder({serviceIdentifier:t,isMultiInject:!0});null==o||o.forEach(t=>{t.instance&&(0,C.iY)(t.instance)&&(0,C.bw)(t.instance,e,n)}),i.innerService.getMapping().getMapping(t).forEach(t=>{if(t&&"string"!=typeof t){var o=i.hookRegistry.get(t)||[];o.push({hookPoint:e,callback:n}),i.hookRegistry.set(t,o),r=!0}})}}),r},t.resolveAndCreateInstance=function(e,t,n){void 0===t&&(t=[]);var i,a=y.B.getServiceDependencies(e).sort((e,t)=>e.index-t.index),s=[];for(var u of a){var c=u.query.isMultiInject?this.getOrCreateServiceInstances(u.query,n):this.getOrCreateServiceInstance(u.query,n);if(!c&&this.strictMode&&!(null==(i=null==u?void 0:u.query)?void 0:i.isOption))throw Error((0,o.d4)(e.name,(0,g.r)(u.id)));s.push(c)}var l=this.alignArgs(t,a),d=(0,r._)(e,[].concat([].concat(l,s)));return this.executePostDecorator(e,d),this.executePostHooks(e,d),this.executeCommonPostHooks(d),d},t.executePostHooks=function(e,t){var n=this.hookRegistry.get(e);n&&n.forEach(e=>{var{hookPoint:n,callback:r}=e;n===l.q.POST_CONSTRUCTOR&&(t&&(0,C.iY)(t)?(0,C.bw)(t,n,r):r(t))})},t.executeCommonPostHooks=function(e){this.hierarchyNode.walkDown(t=>{t.commonHookList.forEach(t=>{var{hookPoint:n,callback:r,filter:i}=t;n===l.q.POST_CONSTRUCTOR&&(!i||i(e))&&r(e)})})},t.executePostDecorator=function(e,t){var n=(0,C.up)(e);n&&t[n].call(t)},t.alignArgs=function(e,t){var n=e,r=t.length>0?t[0].index:e.length;if(e.length!==r){var i=r-e.length;n=i>0?e.concat(Array(i)):e.slice(0,r)}return n},t.tryToCacheServiceInstance=function(e,t){return(null==e?void 0:e.descriptor)instanceof u.M&&(e.instance=t,!0)},t.getServiceInstanceOrDescriptor=function(e){var t;return this.hierarchyNode.walkUp(n=>{t||(t=n.innerService.getHolder(e))}),t},t.getAllServiceInstanceOrDescriptors=function(e){var t;return this.hierarchyNode.walkUp(n=>{t||(t=n.innerService.getAllHolder(e))}),t},t.createAndCacheServiceInstance=function(e,t,n){var r=this.resolveDependencyGraph(e,t,n);return this.createServiceInstanceFromGraph(r)},t.resolveDependencyGraph=function(e,t,n){for(var r,i=new s({hashId:e=>e.query.serviceIdentifier,hashString:e=>(0,g.r)(e.query.serviceIdentifier)}),a=0,u=[{query:e,descriptor:t,trace:n}];u.length;){var l=u.pop();if(i.lookupOrInsertNode(l),a>1e3)throw new c.W(i);for(var d of(a+=1,y.B.getServiceDependencies(l.descriptor.ctor))){var f=this.getAllServiceInstanceOrDescriptors(d.query);f||(null==(r=null==d?void 0:d.query)?void 0:r.isOption)||console.warn((0,o.t2)((0,g.r)(e.serviceIdentifier),(0,g.r)(d.id)));var p=null==f?void 0:f.filter(e=>e.descriptor);if(p&&(null==p?void 0:p.length)>0&&p[0].descriptor){var h={query:d.query,descriptor:p[0].descriptor,trace:l.trace.branch(d.id,!0)};i.insertEdge(l,h),u.push(h)}}}return i},t.createServiceInstanceFromGraph=function(e){for(;;){var t,n,r=e.roots();if(0===r.length){if(!e.isEmpty())throw new c.W(e);break}for(var{data:i}of r)n=i.descriptor.ctor,t=this.createServiceInstanceWithOwner(i.query,i.descriptor.ctor,i.descriptor.staticArguments,i.descriptor.supportsDelayedInstantiation,i.trace),e.removeNode(i)}if(!t)throw Error((0,o.hw)(null==n?void 0:n.name));return t},t.getOrCreateServiceInstance=function(e,t){var n,r=this.getServiceInstanceOrDescriptor(e);return!(null==r?void 0:r.instance)&&(null==r?void 0:r.descriptor)?this.createAndCacheServiceInstance(e,r.descriptor,t.branch(e.serviceIdentifier,!0)):(v.traverse(t,e.serviceIdentifier,!1)||t.branch(e.serviceIdentifier,!1),null!=(n=null==r?void 0:r.instance)?n:void 0)},t.getOrCreateServiceInstances=function(e,t){var n=this.getAllServiceInstanceOrDescriptors(e),r=[];return null==n||n.forEach(n=>{if(n.instance)r.push(n.instance);else if(n.descriptor){var i=this.createAndCacheServiceInstance(e,n.descriptor,t.branch(e.serviceIdentifier,!0));r.push(i)}v.traverse(t,e.serviceIdentifier,!1)||t.branch(e.serviceIdentifier,!1)}),r||void 0},t.createServiceInstanceWithOwner=function(e,t,n,r,i){var a;if(void 0===n&&(n=[]),this.hierarchyNode.walkUp(o=>{if(!a){var s,u=o.innerService.getAllHolder(e,e=>{var n;return(null==(n=e.descriptor)?void 0:n.ctor)===t}),c=null==u?void 0:u[0];(a=null!=(s=null==c?void 0:c.instance)?s:void 0)||(null==c?void 0:c.descriptor)&&(a=o.createServiceInstance(t,n,r,i),this.tryToCacheServiceInstance(c,a))}}),a)return a;throw Error((0,o.SM)(t.name))},t.createServiceInstance=function(e,t,n,r){if(void 0===t&&(t=[]),!n||!I)return this.resolveAndCreateInstance(e,t,r);var i=new p(()=>this.resolveAndCreateInstance(e,t,r));return new Proxy(Object.create(null),{get(e,t){if(t in e)return e[t];var n=i.value,r=n[t];return"function"!=typeof r||(r=r.bind(n),e[t]=r),r},set:(e,t,n)=>(i.value[t]=n,!0)})},e}()},696272:function(e,t,n){"use strict";n.d(t,{T:function(){return o},q:function(){return r}});var r,i=n(730635);!function(e){e[e.POST_CONSTRUCTOR=0]="POST_CONSTRUCTOR"}(r||(r={}));var o=(0,i.y)("IInstantiationService")},730635:function(e,t,n){"use strict";n.d(t,{y:function(){return s}}),n(738355);var r=n(769997),i=n(927427),o=n(419705),a=function(){function e(){}return e.has=function(e){return this.serviceIdsMap.has(e)},e.get=function(e){return this.serviceIdsMap.get(e)},e.set=function(e,t){this.serviceIdsMap.set(e,t)},e}();function s(e){if(a.has(e))return a.get(e);var t=function(e,n,a){if(3!==arguments.length)throw Error((0,o.XE)(n));(0,r.d)(i.$e,e,void 0,t,a)};return t.toLegacyString=()=>e,a.set(e,t),t}a.serviceIdsMap=new Map},962222:function(e,t,n){"use strict";n.d(t,{R:function(){return s},l:function(){return u}}),n(738355);var r=n(696030),i=n(419705),o=n(696272),a=n(535680);function s(e){return Array.isArray(e)?e:[e]}var u=function(){function e(e){this.instantiationHook=new a._,this.selfInstantiationService=e}var t=e.prototype;return t.createInstance=function(e,t){if(this.instance)return this.instance;var n,i=(n=this.loaderInstantiationService()).createInstance.apply(n,[].concat([e],t));return this.executeHooks(i,o.q.POST_CONSTRUCTOR),this.instance=i,(0,r.tryToMarkDispose)(i),i},t.loaderInstantiationService=function(){var t=this.getInstantion()||e.staticInstantiationService;if(t&&t!==this.selfInstantiationService){var n=!0;if(t.getHierarchyNode().walkUp(e=>{n&&e===this.selfInstantiationService&&(n=!1)}),n)throw Error(i.n2)}return t||this.selfInstantiationService},t.getInstantion=function(){return null},t.addHook=function(e,t){this.instantiationHook.addHook(e,t)},t.executeHooks=function(e,t){this.instantiationHook.executeHooks(e,t)},t.dispose=function(e){var t,n;this.instance&&((0,r.isDisposable)(this.instance)&&(e&&e.branch(`${(null==(n=null==(t=this.instance)?void 0:t.constructor)?void 0:n.name)||""}instance`),this.instance.dispose(e)),this.instance=null)},e.initStaticInstantiationService=function(t){if(e.staticInstantiationService)throw Error(i.O);e.staticInstantiationService=t},e}()},791304:function(e,t,n){"use strict";n.d(t,{y:function(){return l}}),n(738355),n(575739);var r=n(696030),i=n(471202),o=n(365230),a=n(550785),s=n(892674),u=n(419705),c=function(){function e(){this.identifierMap=new Map,this.serviceKeyMap=new Map}var t=e.prototype;return t.getMapping=function(e){var t=this.identifierMap.get(e),n=[];return null==t||t.forEach(e=>{this.serviceKeyMap.get(e)&&n.push(e)}),void 0===t&&"function"==typeof e&&"function"!=typeof e.toLegacyString&&this.serviceKeyMap.get(e)&&n.push(e),n},t.deleteMapping=function(e){this.identifierMap.forEach(t=>{var n=t.indexOf(e);n>=0&&(t.splice(n,1),this.serviceKeyMap.delete(e))})},t.clear=function(){this.identifierMap.clear(),this.serviceKeyMap.clear()},t.dispose=function(){this.clear()},t.generateServiceKey=function(e,t,n){return(void 0===n&&(n=!1),t instanceof i.M)?this.generateDescriptorKey(e,t,n):this.generateValueInstanceKey(e,t,n)},t.generateValueInstanceKey=function(e,t,n){if(void 0===n&&(n=!1),n){var r=this.createRandomValueKey(t);return this.addMapping(e,t,{valueId:r}),r}var i=this.getMapping(e);if(0===i.length){var o=this.createRandomValueKey(t);return this.addMapping(e,t,{valueId:o}),o}if(1===i.length){var s=i[0],c=this.serviceKeyMap.get(s);if(null==c?void 0:c.override){this.deleteMappingById(e,s);var l=this.createRandomValueKey(t);return this.addMapping(e,t,{valueId:l}),l}return i[0]}throw Error((0,u.dh)((0,a.r)(e)))},t.generateDescriptorKey=function(e,t,n){void 0===n&&(n=!1);var r=this.getMapping(e);if(n)return(null==r?void 0:r.includes(t))||this.addMapping(e,t.ctor),t.ctor;if(0===r.length)return this.addMapping(e,t.ctor,{override:t.supportsOverride}),t.ctor;if(1===r.length){var i=r[0],o=this.serviceKeyMap.get(i);return(null==o?void 0:o.override)&&t.ctor!==i?(this.deleteMappingById(e,i),this.addMapping(e,t.ctor,{override:t.supportsOverride}),t.ctor):r[0]}throw Error((0,u.dh)((0,a.r)(e)))},t.addMapping=function(e,t,n){var r=this.identifierMap.get(e);if(null==n?void 0:n.valueId){var{valueId:i}=n;r?r.push(i):this.identifierMap.set(e,[i]),this.serviceKeyMap.set(i,{serviceKey:i})}else r?r.push(t):this.identifierMap.set(e,[t]),this.serviceKeyMap.set(t,{serviceKey:t,override:null==n?void 0:n.override})},t.createRandomValueKey=function(e){return`${e.constructor.name}@${(0,s.v4)()}`},t.deleteMappingById=function(e,t){var n=0;if(this.identifierMap.forEach(e=>{e.indexOf(t)>=0&&(n+=1)}),0!==n){var r=this.identifierMap.get(e);if(r&&r.length){var i=r.indexOf(t);i>=0&&r.splice(i,1),1===n&&this.serviceKeyMap.delete(t)}}},e}(),l=function(){function e(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var[r,i]of(this.innerEntries=new Map,this.keyMapping=new c,t))this.set(r,i)}var t=e.prototype;return t.set=function(e,t){var n=this.keyMapping.generateServiceKey(e,t),r=this.innerEntries.get(n);if(!r)return void this.createNewServiceHolder(n,t);t instanceof i.M?this.overrideExistServiceHolder(e,r,t):this.setHolderInstance(n,r,t)},t.setMulti=function(e,t){var n=this.keyMapping.generateServiceKey(e,t,!0);if(!this.innerEntries.get(n)){var r=this.createNewHolderByCondition(t);this.innerEntries.set(n,r)}},t.has=function(e){return!!this.keyMapping.getMapping(e).find(e=>this.innerEntries.has(e))},t.get=function(e){var t=this.keyMapping.getMapping(e);if(0!==t.length){if(t.length>1)throw Error((0,u.b2)((0,a.r)(e)));var n=this.innerEntries.get(t[0]);return(null==n?void 0:n.instance)||(null==n?void 0:n.descriptor)||void 0}},t.getAllHolder=function(e,t){var n=this.keyMapping.getMapping(e.serviceIdentifier),r=[];return(n.forEach(e=>{var t=this.innerEntries.get(e);t&&(null==r||r.push(t))}),t)?null==r?void 0:r.filter((e,n)=>t(e,n)):r.length>0?r:void 0},t.getHolder=function(e){var t=this.keyMapping.getMapping(e.serviceIdentifier);if(0!==t.length){if(t.length>1)throw Error((0,u.b2)((0,a.r)(e.serviceIdentifier)));var n=this.innerEntries.get(t[0]);return n}},t.getMapping=function(){return this.keyMapping},t.teardown=function(e,t,n,i){this.innerEntries.forEach((o,s)=>{var{instance:u,descriptor:c}=o;(null==e?void 0:e(u))&&(0,r.tryToDispose)(u,null==i?void 0:i.branch((0,a.r)(s))),c&&u&&(null==t?void 0:t(u))&&(o.instance=null),!c&&u&&(null==n?void 0:n(u))&&(this.innerEntries.delete(s),this.keyMapping.deleteMapping(s))})},t.createNewServiceHolder=function(e,t){var n=this.createNewHolderByCondition(t);this.innerEntries.set(e,n)},t.overrideExistServiceHolder=function(e,t,n){var r,i,o;if(null==(r=t.descriptor)?void 0:r.supportsOverride){var s=this.keyMapping.generateServiceKey(e,n),c=this.createHolderInstance(null,n);this.innerEntries.set(s,c)}else if(t.instance)throw Error((0,u.MJ)((0,a.r)(e),null==(o=t.descriptor)?void 0:o.ctor.name));else(null==(i=t.descriptor)?void 0:i.isEqualWith(n))||console.warn((0,u.Es)((0,a.r)(e)))},t.setHolderInstance=function(e,t,n){(0,r.tryToMarkDispose)(n),t.instance=n,this.innerEntries.set(e,t)},t.createNewHolderByCondition=function(e){return e instanceof i.M?this.createHolderInstance(null,e):((0,r.tryToMarkDispose)(e),this.createHolderInstance(e,null))},t.createHolderInstance=function(e,t){return new o.p(e,t)},e}()},550785:function(e,t,n){"use strict";function r(e){return"function"==typeof e?"function"==typeof e.toLegacyString?e.toLegacyString():e.name:String(e)}n.d(t,{r:function(){return r}})},518416:function(e,t,n){"use strict";n.d(t,{o:function(){return i}}),n(575739);var r=n(471202),i=function(){function e(){this.innerRegistry=[],this.innerMultiRegistry=[]}var t=e.prototype;return t.register=function(e,t,n,i){this.innerRegistry.push([e,new r.M(t,n,i)])},t.registerValue=function(e,t){this.innerRegistry.push([e,t])},t.registerMulti=function(e,t,n,i){this.innerMultiRegistry.push([e,new r.M(t,n,i)])},t.registerMultiValue=function(e,t){this.innerMultiRegistry.push([e,t])},t.getServiceDescriptors=function(){return this.innerRegistry},t.getMulServiceDescriptor=function(){return this.innerMultiRegistry},e}()},297526:function(e,t,n){"use strict";n.d(t,{A:function(){return s},u:function(){return u}});var r=n(921734),i=n(209787),o=n(696272),a=n(535680),s=function(){function e(e,t){void 0===e&&(e=[]),this.instantiationService=t,this.instantiationHook=new a._,this.params=e}var t=e.prototype;return t.getNewInstance=function(e){var t,n=e||(this.params.length>0?this.params:[]),r=this.getCtor(),i=(t=this.instantiationService).createInstance.apply(t,[].concat([r],n));return this.executeHooks(i,o.q.POST_CONSTRUCTOR),i},t.addHook=function(e,t){this.instantiationHook.addHook(e,t)},t.executeHooks=function(e,t){this.instantiationHook.executeHooks(e,t)},e}();function u(e){return function(t){function n(){return t.apply(this,arguments)||this}return(0,r._)(n,t),n.prototype.getCtor=function(){return e},n}(s)}s=(0,i.__decorate)([(0,i.__param)(1,o.T)],s)},365230:function(e,t,n){"use strict";n.d(t,{W:function(){return s},p:function(){return a}});var r=n(921734),i=n(762563);n(738355);var o=n(419705),a=function(e,t){this.instance=e,this.descriptor=t},s=function(e){function t(t){var n;return(n=e.call(this,o.mH)||this).message=t.toString(),n}return(0,r._)(t,e),t}((0,i._)(Error))},868879:function(e,t,n){"use strict";n.d(t,{_g:function(){return s},bw:function(){return l},iY:function(){return c},up:function(){return u}});var r=n(927427),i=n(878314),o=n(962222),a=n(297526);function s(e,t,n){if(void 0===n&&(n=(e,t)=>e===t),e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(var r=0,i=e.length;r<i;r++)if(!n(e[r],t[r]))return!1;return!0}function u(e){var t=i.a.getMethodMetadata(r.vE,e);if(t)return t.methodName}function c(e){return e instanceof o.l||e instanceof a.A}function l(e,t,n){(e instanceof o.l||e instanceof a.A)&&e.addHook(t,n)}},769997:function(e,t,n){"use strict";n.d(t,{d:function(){return a}}),n(738355);var r=n(878314),i=n(550785),o=n(419705);function a(e,t,n,a,s){if(void 0!==n&&"number"==typeof s)throw Error(o.Cl);var u=s.toString(),c=r.a.getDepsMetadata(e,t)||{},l=c[u];if((null==l?void 0:l[0])!==void 0&&(null==l?void 0:l[0])!==a)throw Error((0,o.GF)(t.name,u,(0,i.r)(l[0]),(0,i.r)(a)));l&&l[1]&&!l[1].serviceIdentifier?(l[0]=a,l[1].serviceIdentifier=a):void 0===l&&(c[u]=[a,{serviceIdentifier:a}],r.a.setDepsMetadata(e,c,t))}},878314:function(e,t,n){"use strict";n.d(t,{a:function(){return r}});var r=function(){function e(){}return e.hasMetadata=function(e,t){return!!t[e]},e.getDepsMetadata=function(e,t){return t[e]},e.setDepsMetadata=function(e,t,n){n[e]=t},e.getMethodMetadata=function(e,t){return t[e]},e.setMethodMetadata=function(e,t,n){n[e]=t},e}()},927427:function(e,t,n){"use strict";n.d(t,{$e:function(){return r},vE:function(){return i}});var r="di:ctor_deps",i="di:post_constructor"},873565:function(e,t,n){"use strict";n.d(t,{Am:function(){return x},ll:function(){return l},RU:function(){return w},Ln:function(){return S},zt:function(){return c},aN:function(){return O},nZ:function(){return k},GS:function(){return N},tB:function(){return I}});var r=n(923749),i=n(921734);n(738355),n(575739);var o=n(209787),a=n(882081),s=n(75032),u=n(758699),c=function(){function e(e){this.provide=e,this._useClass=(0,s.ll)(e),this.overridable=!1}return(0,u._)(e,[{key:"className",get:function(){return(0,s.FM)(this.provide)}},{key:"useClass",get:function(){return this._useClass},set:function(e){this._useClass=e}}]),e}();(0,o.__decorate)([(0,s.NG)(),(0,o.__metadata)("design:type",s.Dy)],c.prototype,"_useClass",void 0),(0,o.__decorate)([(0,s.NG)(),(0,o.__metadata)("design:type",Object)],c.prototype,"provide",void 0),(0,o.__decorate)([(0,s.NG)(),(0,o.__metadata)("design:type",Object)],c.prototype,"instance",void 0),(0,o.__decorate)([(0,s.NG)(),(0,o.__metadata)("design:type",String)],c.prototype,"type",void 0),(0,o.__decorate)([(0,s.NG)(),(0,o.__metadata)("design:type",Boolean)],c.prototype,"singleton",void 0),(0,o.__decorate)([(0,s.NG)(),(0,o.__metadata)("design:type",Boolean)],c.prototype,"supportDeferInvoke",void 0),(0,o.__decorate)([(0,s.NG)(),(0,o.__metadata)("design:type",Boolean)],c.prototype,"overridable",void 0);var l=new s.Bz(c),d=function(e){function t(){return e.call(this,l)||this}return(0,i._)(t,e),t}(s.bP),f=n(119665),p=new(function(){function e(){this.data=new Map}var t=e.prototype;return t.add=function(e,t){this.data.set(e,t)},t.knows=function(e){return this.data.has(e)},t.as=function(e){return this.data.get(e)||null},e}()),h=new Map,g=function(){function e(e){this.id=e}return e.prototype.getId=function(){return this.id},e}(),m=function(){function e(){}return e.getInstantiation=function(e,t){var n=p.as(e.getId());return n||(n=t?t.createChild():new f.F,p.add(e.getId(),n)),n},e}();function v(e){var t=h.get(e);return t||(t=new g(e),h.set(e,t)),t}var y=n(45710),b=n(471202),_=function(){function e(){var t=v(e.workbenchInstantionId);this.instantion=m.getInstantiation(t)}var t=e.prototype;return t.adoptBy=function(e){this.instantion.mergeTo(e)},t.invokable=function(e){s.SF.getParamTypes(e).forEach((t,n)=>{try{y.B.addServiceDependencies(e,t,n)}catch(e){}})},t.get=function(e){return this.instantion.invokeFunction(t=>t.get(e))},t.set=function(e,t){var n,r=e;if(t.instance)this.instantion.addService(r,t.instance);else{var i=new b.M(null!=(n=t.useClass)?n:t.provide,[],t.supportDeferInvoke,t.overridable);this.instantion.addService(r,i)}return this},t.addHook=function(e,t,n){var r=e;this.instantion.addHook(t,r,n)},t.getServiceDependency=function(e){return y.B.getServiceDependencies(e).map(e=>e.id)},t.getClass=function(e){return this.instantion.getClass(e)},t.has=function(e){return this.instantion.has(e)},e}();_.workbenchInstantionId="workbenchInstantion";var C=n(696272);function I(e){return function(t,n,r){if("number"==typeof r){if(e){var i=s.SF.getParamTypes(t,n);i[r]=e,s.SF.setParamTypes(t,n,i)}}else{if(void 0===r&&(r=(0,s.yH)(t,n)),void 0===r)return e&&s.SF.setType(t,n,e),{get:()=>x.invokeGetter(t,n)};var o=r.value;return r.value=function(e){return void 0===e&&(e=new Map),e instanceof Map===!1&&(e=new Map),x.invokeMethod(o.bind(this),{target:t,methodName:n,locals:e})},r.value.$injected=!0,r}}}var E=Symbol.for("IInjectService"),w=function(){function e(e){this.key=e,this.loaded=!1}var t=e.prototype;return t.getModule=function(){return(0,o.__awaiter)(this,void 0,void 0,function*(){var e,t=yield this.useFactory();if(!this.injectService.has(this.key)){var n=l.get(t);this.injectService.set(null,Object.assign(Object.assign({},n),{provide:this.key,useClass:t}))}return this.promise=null,this.loaded=!0,null==(e=this.onModuleLoad)||e.call(this,t),t})},t.load=function(){return this.promise||(this.promise=this.getModule()),this.promise},t.getInstance=function(){return(0,o.__awaiter)(this,void 0,void 0,function*(){return this.injectService.has(this.key)||(yield this.load()),this.instance})},(0,u._)(e,[{key:"instance",get:function(){return this.injectService.get(this.key)}}]),e}();(0,o.__decorate)([I(E),(0,o.__metadata)("design:type",Function)],w.prototype,"injectService",void 0);var S=new(function(e){function t(){var t;return(t=e.call(this,w)||this).triggerMap=new Map,t}return(0,i._)(t,e),t.prototype.merge=function(t,n){if(e.prototype.merge.call(this,t,n),n.on){var r=this.triggerMap.get(n.on);r&&!r.resolved?r.loaders.push(t):(null==r?void 0:r.resolved)?this.get(t).load():(this.triggerMap.set(n.on,{loaders:[t],resolved:!1}),n.on(()=>new Promise(e=>{var t=this.triggerMap.get(n.on);t.resolved=!0,Promise.all(t.loaders.map(e=>{var t;return null==(t=this.get(e))?void 0:t.load()})).then(()=>e())})))}},t}(s.Bz)),D=new(function(e){function t(){return e.apply(this,arguments)||this}return(0,i._)(t,e),t.prototype.setCallback=function(e,t){this.get(e)||this.set(e,[]);var n=this.get(e);null==n||n.push(t)},t}(s.zl)),M="No matching bindings found for target, Did you forget @inject for interface?",T=(e,t,n)=>`postConstruct error in class ${e.name}, with key ${String(t)}:${n} `,A="function"==typeof Proxy&&Proxy.toString().includes("[native code]"),x=function(e){function t(){return e.apply(this,arguments)||this}(0,i._)(t,e);var n=t.prototype;return n.invoke=function(e,n,r){return void 0===n&&(n=new Map),t.invoke(e,n,r)},n.invokeMethod=function(e,n){return t.invokeMethod(e,n)},n.invokeGetter=function(e,n){return t.invokeGetter(e,n)},n.get=function(e){return t.get(e)},n.set=function(e,n){return t.set(n),this},n.has=function(e){return t.has(e)},n.construct=function(e){return t.construct(e)},n.override=function(e,n){t.override(e,n)},n.emit=function(e){for(var n,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(n=t).emit.apply(n,[].concat([e],i))},n.emitOn=function(e,n){for(var r,i=arguments.length,o=Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return(r=t).emitOn.apply(r,[].concat([e,n],o))},n.emitAt=function(e,n){for(var r,i=arguments.length,o=Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return(r=t).emitAt.apply(r,[].concat([e,n],o))},t.getServices=function(e,t,n){return t.map((t,r)=>{var i="function"==typeof t?(0,s.FM)(t):t;if(e.has(i))return e.get(i);if(e.has(t))return e.get(t);if(this.has(t))return this.get(t);if(n)throw Error(`${M}, the ${r} param requested by${String(n)} `)})},t.withContainer=function(e){this.container=new _,this.container.adoptBy(e),l.forEach((e,t)=>{var n;this.container.set(t,e),this.registerPostConstructorInContainer(t,this.container),null==(n=this.container)||n.invokable(e.useClass)}),this.aliases.forEach((e,t)=>{var n=l.get(e);n?this.container.set(t,n):console.error("cannot find alias's corresponding provider in ProviderRegistry")})},t.registerPostConstructorInContainer=function(e,t){var n=D.get(e);null==n||n.forEach(n=>{t.addHook(e,C.q.POST_CONSTRUCTOR,n)})},t.invoke=function(e,t,n){void 0===t&&(t=new Map),n||(n=s.SF.getParamTypes(e));var i=this.getServices(t,n,e);return(0,r._)(e,[].concat(i))},t.invokeMethod=function(e,t){var n,r,i,o=new Map;if(t instanceof Array?n=t:(n=t.designParamTypes,r=t.target,i=t.methodName,t.locals&&(o=t.locals)),o instanceof Map===!1&&(o=new Map),e.$injected)return e.call(r,o);n||(n=s.SF.getParamTypes(r,i));var a=this.getServices(o,n);return e.apply(void 0,[].concat(a))},t.invokeGetter=function(e,t){var n=s.SF.getType(e,t);if(this.has(n))return this.get(n)},t.invokeProxy=function(e,n,r){if(void 0===n&&(n=new Map),!A)return t.invoke(e,n,r);var i=new a.Ue(()=>t.invoke(e,n,r),{priority:a.UL.normal});return new Proxy(Object.create(null),{get(t,n){if(n in t)return t[n];if("constructor"===n)return e.constructor;if("prototype"===n)return e.prototype;var r=i.getValue(),o=r[n];return"function"!=typeof o||(o=o.bind(r),t[n]=o),o},set:(e,t,n)=>(e[t]=n,i.getValue()[t]=n,!0),defineProperty:(e,t,n)=>(Object.defineProperty(i.getValue(),t,n),!0),getPrototypeOf:()=>e.prototype})},t.set=function(e,n){void 0===e.provide?e={provide:o=e,useClass:o,instance:n}:o=e.provide;var r,o,a=e.useClass;if(e.useClass===w&&(a=function(e){function t(){return e.apply(this,arguments)||this}return(0,i._)(t,e),t}(w)),l.merge(a,e),this.container&&this.container.set(a,e),a&&o!==a&&this.alias(o,a),S.has(e.provide)){var s=S.get(e.provide);s.loaded=!0,null==(r=s.onModuleLoad)||r.call(s,e.useClass)}return t},t.get=function(e){var n,r=null!=(n=this.aliases.get(e))?n:e,i=l.get(r);if(!this.has(e))throw Error(`${M}:${String(e)}`);var o=null==i?void 0:i.instance;return o||(this.container?(o=this.container.get(r),i&&(i.instance=o)):i&&(i.instance=t.invoke(i.useClass),t.runPostConstructors(e,i),o=i.instance)),o},t.runPostConstructors=function(e,t){var n=D.get(e);n&&n.forEach(n=>{try{n(t.instance)}catch(n){console.error(T(t.useClass,e,n.message)),console.error(n)}})},t.has=function(e){var t,n,r=null!=(t=this.aliases.get(e))?t:e,i=null==(n=this.container)?void 0:n.has(r);return null!=i?i:l.has(r)},t.alias=function(e,t){this.aliases.set(e,(0,s.ll)(t));var n=l.get((0,s.ll)(t));if(!n)return void console.error("cannot find alias's corresponding provider in ProviderRegistry");this.container&&this.container.set(e,n)},t.construct=function(e){var t,n=null!=(t=this.aliases.get(e))?t:e,r=l.get(n);return this.invoke(r.useClass)},t.override=function(e,t){var n,r,i=null!=(n=this.aliases.get(e))?n:e,o=l.get(i);return o?o.overridable?void(o.useClass=t,o.instance=void 0,o.overridable&&(null==(r=this.container)||r.set(i,o))):void console.warn("Original class cannot be overrided"):void console.error("Original class has not been registered")},t.hasClass=function(e){var t,n=null!=(t=this.aliases.get(e))?t:e;return!!l.get(n)},t.getClass=function(e){var t,n=null!=(t=this.aliases.get(e))?t:e;return l.get(n).useClass},t.invokable=function(e){this.container&&this.container.invokable(e)},t.emit=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(0,o.__awaiter)(this,void 0,void 0,function*(){var n=[];return l.forEach(i=>{if(i.instance){var o,a=t.get(i.provide);if(a&&e in a)try{n.push((o=a)[e].apply(o,[].concat(r)))}catch(e){console.error(e)}}}),Promise.all(n)})},t.emitOn=function(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return(0,o.__awaiter)(this,void 0,void 0,function*(){var r=[],o=l,a=e=>!0;return n instanceof s.Bz?o=n:a=n,o.forEach((n,o)=>{if(a(n)&&n.instance){var s,u=t.get(o);if(u instanceof n.useClass&&u&&e in u)try{r.push((s=u)[e].apply(s,[].concat(i)))}catch(e){console.error(e)}}}),Promise.all(r)})},t.emitAt=function(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return(0,o.__awaiter)(this,void 0,void 0,function*(){var r,o=t.get(n);if(o&&e in o)try{return yield(r=o)[e].apply(r,[].concat(i))}catch(e){console.error(e)}return Promise.resolve(null)})},t.buildRegistry=function(e,n){return void 0===n&&(n=e=>void 0===e.instance),e.forEach(e=>{n(e)&&(this.container?e.instance=this.container.get(e.useClass):e.supportDeferInvoke?e.instance=t.invokeProxy(e.useClass):e.instance=t.invoke(e.useClass))}),e},t.service=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[n.length-1],o=n[n.length-2],a=o;3===n.length&&([a]=n),t.set(Object.assign(Object.assign({overridable:!1},i),{singleton:!0,provide:a,useClass:o}))},t.bind=function(e,n){var r,i=l.get(n);if(!i)throw Error("target should be injectable");if(i.instance)throw Error("target has been instantiated");var o=l.get(e);if(o||(t.set({provide:e,useClass:n,overridable:!0}),o=null!=(r=l.get(e))?r:l.get(n)),o.instance)throw Error("token's target has been instantiated");if(!o.overridable&&this.container)throw Error("containerized requires provider be overridable in order to bind");return o.useClass=n,this.container&&this.container.set(e,o),this},t.addPostConstructor=function(e,t){D.setCallback(e,t),this.container&&this.container.addHook(e,C.q.POST_CONSTRUCTOR,t)},t}(d);function N(e){return function(t){return x.set(Object.assign(Object.assign({provide:t},e),{useClass:t})),t}}function O(e){var t=Symbol.for(`loader:${e.toString()}`),n=S.createIfNotExists(e);return x.has(t)||x.factory(t,n),function(e,n,r){if("number"!=typeof r)return(void 0===r&&(r=(0,s.yH)(e,n)),void 0===r)?(s.SF.setType(e,n,t),{get:()=>x.invokeGetter(e,n)}):r;var i=s.SF.getParamTypes(e,n);i[r]=t,s.SF.setParamTypes(e,n,i)}}function k(e){var t=Symbol.for(`loader:${e.toString()}`),n=S.createIfNotExists(e);return x.has(t)||x.factory(t,n),x.get(t)}x.aliases=new Map,x.container=null,x.factory=(e,t)=>x.set({provide:e,useClass:(0,s.ll)(t),instance:t,singleton:!0}),x.factory(x,new x),x.alias(E,x),Symbol("jest:done")},479388:function(e,t,n){"use strict";var r=n(163922);t.getRetryStrategy=function(){return r.RuntimeNamespace in window?window[r.RuntimeNamespace].strategy:{getRetryCountLimit:()=>3,findRequestUrl:(e,t)=>e,emitLoadSuccessEvent:(e,t)=>{},emitLoadFailedEvent:(e,t)=>{}}}},163922:function(e,t){"use strict";let n="DCR";t.PluginPrefix="DocsCdnRetryPlugin",t.RuntimeNamespace=n},911610:function(e,t,n){"use strict";n.r(t),n.d(t,{ClientResourceLock:function(){return I},LockMode:function(){return i},LockStrategy:function(){return r},WebResourceLock:function(){return x}}),n(631881),n(282372);var r,i,o=n(126713),a=n.n(o),s=n(352669),u=n.n(s),c=n(793232),l=n.n(c),d=n(328063),f=n.n(d),p=n(709293),h=n.n(p);n(738355),n(58106),n(153526),n(370646),n(581965),n(427843);var g=n(766123),m=n.n(g),v=n(209787),y=n(444553);n(947527),n(335284),n(310355),n(926006),n(238145),n(604658),n(267625),n(62248),n(4139),n(969824),n(404359),n(652443),n(628684),n(778778),n(537814);var b=function(){return function(e,t){void 0!==e&&(this.error=e),void 0!==t&&(this.data=t)}}(),_=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"exclusive";a()(this,e),this.id=this.getId();var r=Object.assign(Object.assign({},this.getDefaultConfig()),t);this.mode=n,this.strategy=r.strategy,this.period=r.period,this.autoRenewal=r.autoRenewal}return u()(e,[{key:"getId",value:function(){var e=new Date,t="".concat(e.toLocaleDateString(),"-").concat(e.getHours(),":").concat(e.getMinutes(),":").concat(e.getSeconds(),":").concat(e.getMilliseconds());return"".concat(t,"-").concat(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))}}])}();function C(e,t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}return t=f()(t),l()(e,r()?Reflect.construct(t,n||[],f()(e).constructor):t.apply(e,n))}var I=function(e){function t(){return a()(this,t),C(this,t,arguments)}return h()(t,e),u()(t,[{key:"lock",value:function(e,t){return(0,v.__awaiter)(this,void 0,void 0,m().mark(function n(){return m().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("exclusive"!==this.mode){n.next=4;break}return n.next=3,this.lockExclusive(e,t);case 3:case 6:return n.abrupt("return",n.sent);case 4:return n.next=6,this.lockShared(e,t);case 7:case"end":return n.stop()}},n,this)}))}},{key:"detectKey",value:function(e){return(0,v.__awaiter)(this,void 0,void 0,m().mark(function t(){return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("exclusive"!==this.mode){t.next=4;break}return t.next=3,this.detectExclusiveKey(e);case 3:case 6:return t.abrupt("return",t.sent);case 4:return t.next=6,this.detectSharedKey(e);case 7:case"end":return t.stop()}},t,this)}))}},{key:"release",value:function(e){return(0,v.__awaiter)(this,void 0,void 0,m().mark(function t(){return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("exclusive"!==this.mode){t.next=4;break}return t.next=3,this.releaseExclusiveKey(e);case 3:case 6:return t.abrupt("return",t.sent);case 4:return t.next=6,this.releaseSharedKey(e);case 7:case"end":return t.stop()}},t,this)}))}},{key:"getDefaultConfig",value:function(){return{strategy:0,period:-1,autoRenewal:!0}}},{key:"lockExclusive",value:function(e,t){return(0,v.__awaiter)(this,void 0,void 0,m().mark(function n(){var r,i,o=this;return m().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r={command:"lock",key:e,item:{tabId:this.id,expire:-1===this.period?-1:Date.now()+this.period,optional:t}},n.next=4,new Promise(function(e){o.invokeNative(r,e)});case 4:if(!(i=n.sent).error){n.next=7;break}return n.abrupt("return",{isSuccess:!1,data:i.data});case 7:if(i.data.id!==this.id){n.next=9;break}return n.abrupt("return",{isSuccess:!0,data:i.data});case 9:return n.abrupt("return",{isSuccess:!1,data:i.data});case 10:case"end":return n.stop()}},n,this)}))}},{key:"lockShared",value:function(e,t){return(0,v.__awaiter)(this,void 0,void 0,m().mark(function n(){return m().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:throw Error("method not implemented with ".concat(e," ").concat(t));case 1:case"end":return n.stop()}},n)}))}},{key:"detectExclusiveKey",value:function(e){return(0,v.__awaiter)(this,void 0,void 0,m().mark(function t(){var n,r,i,o=this;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={command:"detectKey",key:e},t.next=3,new Promise(function(e){o.invokeNative(n,e)});case 3:if(i=new b(void 0,(r=t.sent).result),!r.err_code){t.next=8;break}return i.error=Error("".concat(r.err_code)),t.abrupt("return",i);case 8:return t.abrupt("return",i);case 9:case"end":return t.stop()}},t)}))}},{key:"detectSharedKey",value:function(e){return(0,v.__awaiter)(this,void 0,void 0,m().mark(function t(){return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw Error("method not implemented with ".concat(e));case 1:case"end":return t.stop()}},t)}))}},{key:"releaseExclusiveKey",value:function(e){return(0,v.__awaiter)(this,void 0,void 0,m().mark(function t(){var n,r=this;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={command:"release",key:e},t.next=3,new Promise(function(e){r.invokeNative(n,e)});case 3:if(!t.sent.error){t.next=6;break}return t.abrupt("return",!1);case 6:return t.abrupt("return",!0);case 7:case"end":return t.stop()}},t)}))}},{key:"releaseSharedKey",value:function(e){return(0,v.__awaiter)(this,void 0,void 0,m().mark(function t(){return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw Error("method not implemented with ".concat(e));case 1:case"end":return t.stop()}},t)}))}},{key:"wrapResult",value:function(e){var t;return((null==(t=e.result)?void 0:t.tabId)&&(e.result.id=e.result.tabId,delete e.result.tabId),e.err_msg||e.err_code)?new b(Error(e.err_msg||e.err_code),e.result):new b(void 0,e.result||{})}},{key:"invokeNative",value:function(e,t){var n,r=this;(null==(n=null==window?void 0:window.tdocs)?void 0:n.getClientMutexLock)?window.tdocs.getClientMutexLock(e).then(function(e){var n=e;e.result||(n={result:e}),t(r.wrapResult(n))}):y.nativeRequest.invoke({schema:"jsapi",namespace:"docx",method:"clientMutexLock",params:e,callback:function(e){t(r.wrapResult(e))}})}}])}(_);function E(e,t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}return t=f()(t),l()(e,r()?Reflect.construct(t,n||[],f()(e).constructor):t.apply(e,n))}var w=200,S=function(e){function t(){var e;return a()(this,t),e=E(this,t,arguments),e.renewalHandler=new Map,e}return h()(t,e),u()(t,[{key:"getDefaultConfig",value:function(){return{strategy:0,period:3e5,autoRenewal:!0}}},{key:"lock",value:function(e,t){return(0,v.__awaiter)(this,void 0,void 0,m().mark(function n(){return m().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("exclusive"!==this.mode){n.next=4;break}return n.next=3,this.lockExclusive(e,t);case 3:case 6:return n.abrupt("return",n.sent);case 4:return n.next=6,this.lockShared(e,t);case 7:case"end":return n.stop()}},n,this)}))}},{key:"detectKey",value:function(e){return(0,v.__awaiter)(this,void 0,void 0,m().mark(function t(){var n,r,i,o;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getYKey(e),r=new b(void 0,void 0),(i=localStorage.getItem(n))&&(o=JSON.parse(i)).expire>Date.now()&&(r.data=o),t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}))}},{key:"release",value:function(e){return(0,v.__awaiter)(this,void 0,void 0,m().mark(function t(){return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("exclusive"!==this.mode){t.next=4;break}return t.next=3,this.releaseExclusiveLock(e);case 3:case 6:return t.abrupt("return",t.sent);case 4:return t.next=6,this.releaseSharedLock(e);case 7:case"end":return t.stop()}},t,this)}))}},{key:"lockExclusive",value:function(e,t){return(0,v.__awaiter)(this,void 0,void 0,m().mark(function n(){var r,i=this;return m().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise(function(n,r){i.tryToLockKey(e,t,n,r)}).then(function(t){return i.autoRenewal&&i.renewal(e,i.period),{isSuccess:!0,data:t}},function(t){var n=i.getXKey(e);return localStorage.getItem(n)===i.id&&localStorage.removeItem(n),{isSuccess:!1,data:t}});case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}},n)}))}},{key:"lockShared",value:function(e,t){return(0,v.__awaiter)(this,void 0,void 0,m().mark(function n(){return m().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:throw Error("method not implemented with ".concat(e," ").concat(t," "));case 1:case"end":return n.stop()}},n)}))}},{key:"releaseExclusiveLock",value:function(e){return(0,v.__awaiter)(this,void 0,void 0,m().mark(function t(){var n,r,i,o;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.getXKey(e),r=this.getYKey(e),i=localStorage.getItem(r)){t.next=5;break}return t.abrupt("return",!1);case 5:if(JSON.parse(i).id!==this.id){t.next=12;break}return localStorage.removeItem(r),localStorage.getItem(n)===this.id&&localStorage.removeItem(n),(o=this.renewalHandler.get(e))&&(clearTimeout(o),this.renewalHandler.delete(e)),t.abrupt("return",!0);case 12:return t.abrupt("return",!1);case 13:case"end":return t.stop()}},t,this)}))}},{key:"releaseSharedLock",value:function(e){return(0,v.__awaiter)(this,void 0,void 0,m().mark(function t(){return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw Error("method not implemented with ".concat(e));case 1:case"end":return t.stop()}},t)}))}},{key:"renewal",value:function(e,t){var n=this,r=this.renewalHandler.get(e);r&&clearTimeout(r);var i=setTimeout(function(){var r=n.getYKey(e),i=localStorage.getItem(r);if(i){var o=JSON.parse(i);if(o.id===n.id){var a=Object.assign(Object.assign({},o),{expire:Date.now()+n.period});localStorage.setItem(n.getYKey(e),JSON.stringify(a)),n.renewal(e,t)}}},.85*t);return this.renewalHandler.set(e,i),i}},{key:"getXKey",value:function(e){return"".concat(t.PREFIX_LOCK_X,"_").concat(e)}},{key:"getYKey",value:function(e){return"".concat(t.PREFIX_LOCK_Y,"_").concat(e)}},{key:"tryToLockKey",value:function(e,t,n,r){var i=this.getXKey(e),o=this.getYKey(e);localStorage.setItem(i,this.id);var a=localStorage.getItem(o);if(a&&JSON.parse(a).expire>Date.now())return void this.handleDetectLockFail(e,t,n,r);var s={id:this.id,expire:Date.now()+this.period,optional:t};if(localStorage.setItem(o,JSON.stringify(s)),localStorage.getItem(i)!==this.id)return void this.delayDetect(e,t,n,r);n(s)}},{key:"delayDetect",value:function(e,t,n,r){var i=this,o=this.getYKey(e),a=localStorage.getItem(o),s=JSON.parse(a||"{}");setTimeout(function(){if(a&&s.id===i.id&&s.expire>Date.now())return void n(s);i.handleDetectLockFail(e,t,n,r)})}},{key:"handleDetectLockFail",value:function(e,t,n,r){var i=this,o=this.getYKey(e),a=JSON.parse(localStorage.getItem(o)||"{}");if(0===this.strategy)return void r(a);setTimeout(function(){return i.tryToLockKey(e,t,n,r)},w)}}])}(_);function D(){return!!window.localStorage}function M(){return!!navigator.locks}function T(e,t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}return t=f()(t),l()(e,r()?Reflect.construct(t,n||[],f()(e).constructor):t.apply(e,n))}S.PREFIX_LOCK_X="prefix_lock_x",S.PREFIX_LOCK_Y="prefix_lock_y";var A=function(e){function t(){var e;return a()(this,t),e=T(this,t,arguments),e.releaseLockHandlerMap=new Map,e.lockManager=navigator.locks,e}return h()(t,e),u()(t,[{key:"lock",value:function(e,t){var n=this;return new Promise(function(r){var i={isSuccess:!1,data:{id:n.id,expire:-1,optional:t}};n.lockManager.request(e,{ifAvailable:!0,mode:n.mode},function(t){if(!t)return r(i),Promise.resolve();if(D())try{localStorage.setItem(e,JSON.stringify(i))}catch(e){}return i.isSuccess=!0,r(i),n.keepLock(e)})})}},{key:"release",value:function(e){if(!this.releaseLockHandlerMap.has(e))return Promise.resolve(!1);this.releaseLockHandlerMap.get(e)(),this.releaseLockHandlerMap.delete(e);try{localStorage.removeItem(e)}catch(e){}return Promise.resolve(!0)}},{key:"detectKey",value:function(e){return(0,v.__awaiter)(this,void 0,void 0,m().mark(function t(){var n,r,i,o,a;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.lockManager.query();case 2:if(n=t.sent.held.some(function(t){return t.name===e}),r=!!this.releaseLockHandlerMap.has(e),i=new b(void 0,void 0),!(!n||r)){t.next=8;break}return t.abrupt("return",i);case 8:if(o={id:"",expire:-1,optional:{}},D())try{a=localStorage.getItem(e),o=JSON.parse(a)}catch(e){}return i.data=o,t.abrupt("return",i);case 12:case"end":return t.stop()}},t,this)}))}},{key:"getDefaultConfig",value:function(){return{strategy:0,period:-1,autoRenewal:!1}}},{key:"keepLock",value:function(e){var t=this;return new Promise(function(n){var r;null==(r=t.releaseLockHandlerMap.get(e))||r(),t.releaseLockHandlerMap.set(e,n)})}}])}(_),x=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"exclusive";if(a()(this,e),!D()&&!M())throw Error("\u5F53\u524D\u73AF\u5883\u4E0D\u652F\u6301\u4F7F\u7528\u9501\u673A\u5236");this.resourceLock=M()?new A(t,n):new S(t,n)}return u()(e,[{key:"lock",value:function(e,t){return(0,v.__awaiter)(this,void 0,void 0,m().mark(function n(){return m().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.resourceLock.lock(e,t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n,this)}))}},{key:"release",value:function(e){return(0,v.__awaiter)(this,void 0,void 0,m().mark(function t(){return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.resourceLock.release(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}))}},{key:"detectKey",value:function(e){return(0,v.__awaiter)(this,void 0,void 0,m().mark(function t(){return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.resourceLock.detectKey(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}))}},{key:"getDefaultConfig",value:function(){return this.resourceLock.getDefaultConfig()}}])}();!function(e){e[e.ONCE=0]="ONCE",e[e.RETRY=1]="RETRY"}(r||(r={})),function(e){e.EXCLUSIVE="exclusive",e.SHARED="shared"}(i||(i={}))},717457:function(e,t,n){"use strict";n.r(t),n.d(t,{ACCOUNT_TYPE:function(){return p},ALL_LOCAL_FILES_DB_NAME:function(){return L},BIND_TYPE:function(){return g},BaseChangeModel:function(){return F},DB_NAME:function(){return R},DB_NAME_TESTENV:function(){return j},DOCUMENT_DATA_TYPE:function(){return l},DOCUMENT_POLICY:function(){return o},DOCUMENT_RESOURCE_CACHE_STATUS:function(){return s},DOCUMENT_STATUS:function(){return a},DOCUMENT_TYPE:function(){return r},DOCUMENT_TYPE_DESC:function(){return i},DOCUMENT_TYPE_DESC_MAP:function(){return k},DOCUMENT_TYPE_MAP:function(){return O},DRIVE_TYPE:function(){return d},DocumentData:function(){return G},DocumentEntity:function(){return Z},DocumentId:function(){return H},DocumentStatus:function(){return Y},DriveData:function(){return Q},LIST_INFO_TYPE:function(){return u},LIST_TYPE:function(){return c},OfflineData:function(){return X},PadInfo:function(){return $},TABLE_NAME:function(){return f},UserInfo:function(){return et},VipLevel:function(){return v},VipType:function(){return m}});var r,i,o,a,s,u,c,l,d,f,p,h,g,m,v,y=n(737033),b=n.n(y);n(581965),n(631881),n(282372);var _=n(126713),C=n.n(_),I=n(352669),E=n.n(I),w=n(793232),S=n.n(w),D=n(328063),M=n.n(D),T=n(709293),A=n.n(T);n(153526),n(370646),n(498816);var x=n(209787),N=n(451831);!function(e){e[e.unknown=-1]="unknown",e[e.doc=0]="doc",e[e.sheet=1]="sheet",e[e.form=2]="form",e[e.folder=3]="folder",e[e.slide=4]="slide",e[e.note=5]="note",e[e.pdf=6]="pdf",e[e.miniProgram=7]="miniProgram",e[e.smartCanvas=8]="smartCanvas",e[e.smartSheet=9]="smartSheet",e[e.unknow=10]="unknow",e[e.resume=11]="resume",e[e.board=12]="board",e[e.drawing=89]="drawing",e[e.mind=90]="mind",e[e.flowchart=91]="flowchart",e[e.file=100]="file",e[e.drive=101]="drive",e[e.sogoSpeech=102]="sogoSpeech",e[e.addon=110]="addon"}(r||(r={})),function(e){e.doc="doc",e.sheet="sheet",e.form="form",e.slide="slide",e.smartSheet="smartSheet",e.smartCanvas="smartCanvas",e.flowchart="flowchart",e.mind="mind",e.pdf="pdf",e.drive="document"}(i||(i={}));var O=b()(b()(b()(b()(b()(b()(b()(b()(b()({},i.doc,r.doc),i.sheet,r.sheet),i.slide,r.slide),i.smartSheet,r.smartSheet),i.smartCanvas,r.smartCanvas),i.flowchart,r.flowchart),i.mind,r.mind),i.pdf,r.pdf),i.drive,r.drive),k=b()(b()(b()(b()(b()(b()(b()(b()(b()({},r.doc,i.doc),r.sheet,i.sheet),r.slide,i.slide),r.smartSheet,i.smartSheet),r.smartCanvas,i.smartCanvas),r.flowchart,i.flowchart),r.mind,i.mind),r.pdf,i.pdf),r.drive,i.drive);!function(e){e[e.private=0]="private",e[e.partialShare=1]="partialShare",e[e.canRead=2]="canRead",e[e.canEdit=3]="canEdit"}(o||(o={})),function(e){e.new="new",e.local="local",e.deleted="deleted",e.normal="normal"}(a||(a={})),function(e){e.NONE="none",e.SUCCESS="success",e.FAIL="fail",e.ERROR="error"}(s||(s={})),function(e){e[e.file=1]="file",e[e.folder=2]="folder"}(u||(u={})),function(e){e[e.trash=3]="trash",e[e.share=4]="share",e[e.myDoc=5]="myDoc",e[e.recent=6]="recent",e[e.start=7]="start"}(c||(c={})),function(e){e.init="init",e.document="document",e.workbook="workbook",e.chunk="chunk",e.accepted="accepted",e.missChange="misschange",e.newChange="newchange",e.committing="commiting",e.waiting="watting",e.queue="queue"}(l||(l={})),function(e){e.drive="drive",e.attachment="attachment"}(d||(d={}));var R="TencentDocs",L="all-local-files/TencentDocs",j="TencentDocs_TestEnv";function P(e,t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}return t=M()(t),S()(e,r()?Reflect.construct(t,n||[],M()(e).constructor):t.apply(e,n))}!function(e){e.documentStatus="DocumentStatus",e.documentEntities="DocumentEntities",e.newDocumentIds="NewDocumentIds",e.padinfo="PadInfo",e.offlineData="OfflineData",e.documentData="DocumentData",e.Users="Users",e.driveData="DriveData"}(f||(f={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.QQ=1]="QQ",e[e.WX=2]="WX",e[e.WORK=3]="WORK",e[e.EMAIL=4]="EMAIL",e[e.PHONE=8]="PHONE",e[e.WORK_COMBINATION=9]="WORK_COMBINATION",e[e.TOWER=10]="TOWER",e[e.ROBOT=11]="ROBOT",e[e.QFYF=12]="QFYF",e[e.OPEN=13]="OPEN",e[e.MEETING=14]="MEETING"}(p||(p={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WECHAT=4]="WECHAT",e[e.WEWORK=3]="WEWORK"}(h||(h={})),function(e){e.BINDING="BINDING",e.UNBIND="UNBIND"}(g||(g={})),function(e){e.NORMAL="NORMAL",e.SUPER="SUPER",e.SUPER_PLUS="SUPER_PLUS",e.NONE="NONE",e.EXPIRED="EXPIRED"}(m||(m={})),function(e){e[e.NORMAL=2]="NORMAL",e[e.SUPER=3]="SUPER",e[e.SUPER_PLUS=4]="SUPER_PLUS",e[e.NONE=1]="NONE",e[e.EXPIRED=0]="EXPIRED"}(v||(v={}));var B=0x80000000,F=function(e){function t(e){var n,r,i,o,s,u,c;return C()(this,t),(n=P(this,t)).isDefaultChunk=!1,n.uid=e.uid,n.type=e.type,n.data=e.data,n.dataVersion=e.dataVersion,n.docType=e.docType,n.subId=e.subId,n.secretId=e.secretId,n.version=e.version,n.globalPadId=e.globalPadId,n.taskId=null!=(r=e.taskId)?r:n.getTaskId(),n.isDefaultChunk=null!=(i=e.isDefaultChunk)&&i,n.chunkId=null!=(o=e.chunkId)?o:0,n.docStatus=null!=(s=e.docStatus)?s:a.normal,n.createTimestamp=null!=(u=e.createTimestamp)?u:Date.now(),n.lastModifyTimestamp=null!=(c=e.lastModifyTimestamp)?c:Date.now(),n.key=n.getKey(),n.subGlobalPadId=e.subGlobalPadId,n.subDocType=e.subDocType,n}return A()(t,e),E()(t,[{key:"getTaskId",value:function(){return Math.ceil(Math.random()*B)}},{key:"getKey",value:function(){var e;return this.type===l.init?"".concat(this.globalPadId,"_").concat(this.subId,"_").concat(this.uid):this.type===l.document?"".concat(this.globalPadId,"_").concat(this.uid,"_version_").concat(this.version):this.type===l.workbook?"".concat(this.globalPadId,"_").concat(this.subId,"_").concat(this.uid,"_version_").concat(this.version):this.type===l.chunk?"".concat(this.globalPadId,"_").concat(this.subId,"_").concat(this.chunkId,"_").concat(this.uid,"_version_").concat(this.version):"".concat(this.globalPadId,"_").concat(this.subId,"_").concat(this.uid,"_taskId_").concat(this.taskId)}}])}(N.Model);function U(e,t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}return t=M()(t),S()(e,r()?Reflect.construct(t,n||[],M()(e).constructor):t.apply(e,n))}(0,x.__decorate)([(0,N.primary)(),(0,x.__metadata)("design:type",String)],F.prototype,"key",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",String)],F.prototype,"secretId",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",String)],F.prototype,"globalPadId",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",String)],F.prototype,"subGlobalPadId",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",Number)],F.prototype,"subDocType",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",Number)],F.prototype,"version",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",String)],F.prototype,"type",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",String)],F.prototype,"uid",void 0),(0,x.__decorate)([(0,N.index)(),(0,N.field)("subSheetId"),(0,x.__metadata)("design:type",String)],F.prototype,"subId",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",Number)],F.prototype,"chunkId",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Number)],F.prototype,"taskId",void 0),(0,x.__decorate)([(0,N.field)("_data"),(0,x.__metadata)("design:type",String)],F.prototype,"data",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Number)],F.prototype,"docType",void 0),(0,x.__decorate)([(0,N.field)("padStatus"),(0,x.__metadata)("design:type",String)],F.prototype,"docStatus",void 0),(0,x.__decorate)([(0,N.field)("createTime"),(0,x.__metadata)("design:type",Number)],F.prototype,"createTimestamp",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Number)],F.prototype,"lastModifyTimestamp",void 0),(0,x.__decorate)([(0,N.field)("dver"),(0,x.__metadata)("design:type",String)],F.prototype,"dataVersion",void 0),(0,x.__decorate)([(0,N.field)("default"),(0,x.__metadata)("design:type",Object)],F.prototype,"isDefaultChunk",void 0);var G=function(e){function t(){return C()(this,t),U(this,t,arguments)}return A()(t,e),E()(t)}(F);function W(e,t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}return t=M()(t),S()(e,r()?Reflect.construct(t,n||[],M()(e).constructor):t.apply(e,n))}G=(0,x.__decorate)([(0,N.table)(f.documentData)],G);var Z=function(e){function t(){return C()(this,t),W(this,t,arguments)}return A()(t,e),E()(t)}(N.Model);function V(e,t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}return t=M()(t),S()(e,r()?Reflect.construct(t,n||[],M()(e).constructor):t.apply(e,n))}(0,x.__decorate)([(0,N.primary)(),(0,x.__metadata)("design:type",String)],Z.prototype,"key",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Object)],Z.prototype,"data",void 0),Z=(0,x.__decorate)([(0,N.table)(f.documentEntities)],Z);var H=function(e){function t(){var e;return C()(this,t),e=V(this,t,arguments),e.isCreated=!1,e}return A()(t,e),E()(t)}(N.Model);function z(e,t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}return t=M()(t),S()(e,r()?Reflect.construct(t,n||[],M()(e).constructor):t.apply(e,n))}(0,x.__decorate)([(0,N.primary)(),(0,x.__metadata)("design:type",String)],H.prototype,"globalPadId",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",String)],H.prototype,"secretId",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Number)],H.prototype,"documentType",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",String)],H.prototype,"localPadId",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Object)],H.prototype,"isCreated",void 0),H=(0,x.__decorate)([(0,N.table)(f.newDocumentIds)],H);var Y=function(e){function t(){var e;return C()(this,t),e=z(this,t,arguments),e.lastSyncTimestamp=0,e}return A()(t,e),E()(t)}(N.Model);function K(e,t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}return t=M()(t),S()(e,r()?Reflect.construct(t,n||[],M()(e).constructor):t.apply(e,n))}(0,x.__decorate)([(0,N.primary)(),(0,x.__metadata)("design:type",String)],Y.prototype,"globalPadId",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",String)],Y.prototype,"secretId",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",String)],Y.prototype,"uid",void 0),(0,x.__decorate)([(0,N.field)("lastSyncTime"),(0,x.__metadata)("design:type",Object)],Y.prototype,"lastSyncTimestamp",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Number)],Y.prototype,"lastErrorTimestamp",void 0),Y=(0,x.__decorate)([(0,N.table)(f.documentStatus)],Y);var Q=function(e){function t(){return C()(this,t),K(this,t,arguments)}return A()(t,e),E()(t)}(N.Model);function q(e,t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}return t=M()(t),S()(e,r()?Reflect.construct(t,n||[],M()(e).constructor):t.apply(e,n))}(0,x.__decorate)([(0,N.primary)(),(0,x.__metadata)("design:type",String)],Q.prototype,"driveId",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",String)],Q.prototype,"fileId",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",String)],Q.prototype,"objKey",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",String)],Q.prototype,"secretId",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",String)],Q.prototype,"uid",void 0),(0,x.__decorate)([(0,N.field)("type"),(0,x.__metadata)("design:type",String)],Q.prototype,"type",void 0),(0,x.__decorate)([(0,N.field)("lastRequestTime"),(0,x.__metadata)("design:type",Number)],Q.prototype,"lastRequestTime",void 0),(0,x.__decorate)([(0,N.field)("fileInfo"),(0,x.__metadata)("design:type",Object)],Q.prototype,"fileInfo",void 0),(0,x.__decorate)([(0,N.field)("previewInfo"),(0,x.__metadata)("design:type",Object)],Q.prototype,"previewInfo",void 0),Q=(0,x.__decorate)([(0,N.table)(f.driveData)],Q);var X=function(e){function t(){return C()(this,t),q(this,t,arguments)}return A()(t,e),E()(t)}(F);function J(e,t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}return t=M()(t),S()(e,r()?Reflect.construct(t,n||[],M()(e).constructor):t.apply(e,n))}X=(0,x.__decorate)([(0,N.table)(f.offlineData)],X);var $=function(e){function t(){var e;return C()(this,t),e=J(this,t,arguments),e.addListTimestamp=0,e.attribute=null,e.docPolicy=o.private,e.docPrivilege=null,e.folderPolicy=0,e.folderPrivilege=null,e.isManualOffline=!1,e.isOfflineCache=!1,e.hasSnapShot=!1,e.isAddedToMy=0,e.isCollected=0,e.isOwner=1,e.isPinned=0,e.isShortcut=0,e.isUserChangeTitle=!1,e.lastCollectTimestamp=0,e.lastDeleteTimestamp=0,e.parents=[],e.cacheStatus=0,e}return A()(t,e),E()(t)}(N.Model);function ee(e,t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}return t=M()(t),S()(e,r()?Reflect.construct(t,n||[],M()(e).constructor):t.apply(e,n))}(0,x.__decorate)([(0,N.primary)(),(0,x.__metadata)("design:type",String)],$.prototype,"key",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",String)],$.prototype,"secretId",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",String)],$.prototype,"globalPadId",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",String)],$.prototype,"uid",void 0),(0,x.__decorate)([(0,N.field)("add_list_ts"),(0,x.__metadata)("design:type",Object)],$.prototype,"addListTimestamp",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Object)],$.prototype,"attribute",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Number)],$.prototype,"childrenLength",void 0),(0,x.__decorate)([(0,N.field)("client_version"),(0,x.__metadata)("design:type",String)],$.prototype,"clientVersion",void 0),(0,x.__decorate)([(0,N.field)("create_ts"),(0,x.__metadata)("design:type",Number)],$.prototype,"createTimestamp",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",String)],$.prototype,"creator",void 0),(0,x.__decorate)([(0,N.field)("creator_domain"),(0,x.__metadata)("design:type",String)],$.prototype,"creatorDomain",void 0),(0,x.__decorate)([(0,N.field)("doc_icon"),(0,x.__metadata)("design:type",String)],$.prototype,"icon",void 0),(0,x.__decorate)([(0,N.field)("doc_policy"),(0,x.__metadata)("design:type",Number)],$.prototype,"docPolicy",void 0),(0,x.__decorate)([(0,N.field)("doc_privilege"),(0,x.__metadata)("design:type",Object)],$.prototype,"docPrivilege",void 0),(0,x.__decorate)([(0,N.field)("doc_thumbnail"),(0,x.__metadata)("design:type",String)],$.prototype,"thumbnail",void 0),(0,x.__decorate)([(0,N.field)("doc_type"),(0,x.__metadata)("design:type",Number)],$.prototype,"docType",void 0),(0,x.__decorate)([(0,N.field)("doc_type_desc"),(0,x.__metadata)("design:type",String)],$.prototype,"docTypeDesc",void 0),(0,x.__decorate)([(0,N.field)("doc_url"),(0,x.__metadata)("design:type",String)],$.prototype,"url",void 0),(0,x.__decorate)([(0,N.field)("domain_id"),(0,x.__metadata)("design:type",String)],$.prototype,"domainId",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",String)],$.prototype,"dver",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",String)],$.prototype,"folder",void 0),(0,x.__decorate)([(0,N.field)("folder_id"),(0,x.__metadata)("design:type",String)],$.prototype,"folderId",void 0),(0,x.__decorate)([(0,N.field)("folder_policy"),(0,x.__metadata)("design:type",Object)],$.prototype,"folderPolicy",void 0),(0,x.__decorate)([(0,N.field)("folder_privilege"),(0,x.__metadata)("design:type",Object)],$.prototype,"folderPrivilege",void 0),(0,x.__decorate)([(0,N.field)("isDelete"),(0,x.__metadata)("design:type",Boolean)],$.prototype,"isDeleted",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Object)],$.prototype,"isManualOffline",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Boolean)],$.prototype,"isMyCreated",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Boolean)],$.prototype,"isMydoc",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Object)],$.prototype,"isOfflineCache",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Boolean)],$.prototype,"isRencent",void 0),(0,x.__decorate)([(0,N.field)("isShareme"),(0,x.__metadata)("design:type",Boolean)],$.prototype,"isShareToMe",void 0),(0,x.__decorate)([(0,N.field)("isSnapShot"),(0,x.__metadata)("design:type",Object)],$.prototype,"hasSnapShot",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Boolean)],$.prototype,"isStar",void 0),(0,x.__decorate)([(0,N.field)("is_added_my"),(0,x.__metadata)("design:type",Object)],$.prototype,"isAddedToMy",void 0),(0,x.__decorate)([(0,N.field)("is_collected"),(0,x.__metadata)("design:type",Object)],$.prototype,"isCollected",void 0),(0,x.__decorate)([(0,N.field)("is_owner"),(0,x.__metadata)("design:type",Object)],$.prototype,"isOwner",void 0),(0,x.__decorate)([(0,N.field)("is_pinned"),(0,x.__metadata)("design:type",Object)],$.prototype,"isPinned",void 0),(0,x.__decorate)([(0,N.field)("is_shortcut"),(0,x.__metadata)("design:type",Object)],$.prototype,"isShortcut",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Object)],$.prototype,"isUserChangeTitle",void 0),(0,x.__decorate)([(0,N.field)("lastSyncTime"),(0,x.__metadata)("design:type",Number)],$.prototype,"lastSyncTimestamp",void 0),(0,x.__decorate)([(0,N.field)("last_browse_ts"),(0,x.__metadata)("design:type",Number)],$.prototype,"lastBrowseTimestamp",void 0),(0,x.__decorate)([(0,N.field)("last_collect_ts"),(0,x.__metadata)("design:type",Object)],$.prototype,"lastCollectTimestamp",void 0),(0,x.__decorate)([(0,N.field)("last_delete_ts"),(0,x.__metadata)("design:type",Object)],$.prototype,"lastDeleteTimestamp",void 0),(0,x.__decorate)([(0,N.field)("last_modify_ts"),(0,x.__metadata)("design:type",Number)],$.prototype,"lastModifyTimestamp",void 0),(0,x.__decorate)([(0,N.field)("last_modify_nick"),(0,x.__metadata)("design:type",String)],$.prototype,"lastModifyNick",void 0),(0,x.__decorate)([(0,N.field)("last_modify_uid"),(0,x.__metadata)("design:type",String)],$.prototype,"lastModifyUid",void 0),(0,x.__decorate)([(0,N.field)("last_pinned_ts"),(0,x.__metadata)("design:type",Number)],$.prototype,"lastPinnedTimestamp",void 0),(0,x.__decorate)([(0,N.field)("list_info_type"),(0,x.__metadata)("design:type",Number)],$.prototype,"listInfoType",void 0),(0,x.__decorate)([(0,N.field)("list_type"),(0,x.__metadata)("design:type",Number)],$.prototype,"listType",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Boolean)],$.prototype,"offlineCommiting",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Boolean)],$.prototype,"offlineCommitSuccessd",void 0),(0,x.__decorate)([(0,N.field)("origin_folder_id"),(0,x.__metadata)("design:type",String)],$.prototype,"originFolderId",void 0),(0,x.__decorate)([(0,N.field)("owner_nick"),(0,x.__metadata)("design:type",String)],$.prototype,"ownerNick",void 0),(0,x.__decorate)([(0,N.field)("owner_uid"),(0,x.__metadata)("design:type",String)],$.prototype,"ownerUid",void 0),(0,x.__decorate)([(0,N.field)("pad_id"),(0,x.__metadata)("design:type",String)],$.prototype,"padId",void 0),(0,x.__decorate)([(0,N.field)("parent_folder_id"),(0,x.__metadata)("design:type",String)],$.prototype,"parentFolderId",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Array)],$.prototype,"parents",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Number)],$.prototype,"privilege",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",String)],$.prototype,"status",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",String)],$.prototype,"title",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Number)],$.prototype,"type",void 0),(0,x.__decorate)([(0,N.field)("uncommit"),(0,x.__metadata)("design:type",Boolean)],$.prototype,"hasLocalChanges",void 0),(0,x.__decorate)([(0,N.field)("doc_sub_type"),(0,x.__metadata)("design:type",Number)],$.prototype,"docSubType",void 0),(0,x.__decorate)([(0,N.field)("official_auth_info"),(0,x.__metadata)("design:type",String)],$.prototype,"officialAuthInfo",void 0),(0,x.__decorate)([(0,N.field)("personalize_info"),(0,x.__metadata)("design:type",String)],$.prototype,"personalizeInfo",void 0),(0,x.__decorate)([(0,N.field)("nativeEngineStatusRecord"),(0,x.__metadata)("design:type",String)],$.prototype,"nativeEngineStatusRecord",void 0),(0,x.__decorate)([(0,N.field)("nativeEngineDocPrivilege"),(0,x.__metadata)("design:type",String)],$.prototype,"nativeEngineDocPrivilege",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",String)],$.prototype,"data",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",String)],$.prototype,"ext",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Boolean)],$.prototype,"isOfflineCacheByNative",void 0),(0,x.__decorate)([(0,N.field)("mime_type"),(0,x.__metadata)("design:type",String)],$.prototype,"mimeType",void 0),(0,x.__decorate)([(0,N.field)("owner_vip_info"),(0,x.__metadata)("design:type",String)],$.prototype,"ownerVipInfo",void 0),(0,x.__decorate)([(0,N.field)("documentResourceCacheStatus"),(0,x.__metadata)("design:type",String)],$.prototype,"documentResourceCacheStatus",void 0),(0,x.__decorate)([(0,N.field)("cache_status"),(0,x.__metadata)("design:type",Object)],$.prototype,"cacheStatus",void 0),(0,x.__decorate)([(0,N.field)("cache_status_ts"),(0,x.__metadata)("design:type",Number)],$.prototype,"cacheStatusTs",void 0),$=(0,x.__decorate)([(0,N.table)(f.padinfo)],$);var et=function(e){function t(e){var n,r,i,o;return C()(this,t),(n=ee(this,t)).docId=e.docId,n.pageType=e.pageType,n.updateTime=e.updateTime,n.tinyId=e.tinyId,n.wedriveUin=e.wedriveUin,n.wedocOpenId=e.wedocOpenId,n.nowUserIndex=null!=(r=e.nowUserIndex)?r:"",n.corpId=e.corpId,n.corpName=e.corpName,n.englishName=e.englishName,n.loginType=e.loginType,n.uidSource=e.uidSource,n.uin=e.uin,n.userId=e.userId,n.userName=e.userName,n.userPic=e.userPic,n.settings=e.settings,n.bindUserInfo=null!=(i=e.bindUserInfo)?i:{type:g.UNBIND,userName:"",userPic:"",accountType:p.UNKNOWN},n.vipUserInfo=null!=(o=e.vipUserInfo)?o:{type:m.NONE,vipLevel:v.NONE,beginTime:0,endTime:0},n.key="".concat(n.pageType,"-").concat(n.docId,"-").concat(n.tinyId),n}return A()(t,e),E()(t)}(N.Model);(0,x.__decorate)([(0,N.primary)(),(0,x.__metadata)("design:type",String)],et.prototype,"key",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",String)],et.prototype,"tinyId",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",String)],et.prototype,"nowUserIndex",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",String)],et.prototype,"docId",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",String)],et.prototype,"pageType",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",String)],et.prototype,"wedriveUin",void 0),(0,x.__decorate)([(0,N.index)(),(0,x.__metadata)("design:type",String)],et.prototype,"wedocOpenId",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",String)],et.prototype,"corpId",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",String)],et.prototype,"corpName",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",String)],et.prototype,"englishName",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Number)],et.prototype,"loginType",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",String)],et.prototype,"openId",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Number)],et.prototype,"uidSource",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",String)],et.prototype,"uin",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",String)],et.prototype,"userId",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",String)],et.prototype,"userName",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",String)],et.prototype,"userPic",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",String)],et.prototype,"updateTime",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Object)],et.prototype,"settings",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Object)],et.prototype,"bindUserInfo",void 0),(0,x.__decorate)([(0,N.field)(),(0,x.__metadata)("design:type",Object)],et.prototype,"vipUserInfo",void 0),et=(0,x.__decorate)([(0,N.table)(f.Users),(0,x.__metadata)("design:paramtypes",[Object])],et)},444553:function(e,t,n){"use strict";n.r(t),n.d(t,{BaseBackoff:function(){return Z},ConstantBackoff:function(){return H},CustomBackoff:function(){return eo},IterableBackoff:function(){return eu},REQUEST_ERROR_CODE:function(){return r},RetryPolicy:function(){return q},createNativeRequestInstance:function(){return F},createNetworkRequestInstance:function(){return en},default:function(){return ec},nativeRequest:function(){return U},networkRequest:function(){return er}}),n(581965),n(631881),n(282372);var r,i,o,a=n(126713),s=n.n(a),u=n(352669),c=n.n(u),l=n(793232),d=n.n(l),f=n(328063),p=n.n(f),h=n(709293),g=n.n(h),m=n(766123),v=n.n(m);n(559876),n(427843),n(4139);var y=n(209787);n(738355),n(58106),n(153526);var b=n(737033),_=n.n(b);n(926006),n(370646),n(238145),n(37186),n(283032),n(604658),n(267625),n(969824),n(947527),n(461892);var C=n(149133),I=n.n(C);n(310355);var E=n(430327),w=n.n(E);n(253495),n(813221),n(404359),function(e){e.aborted="ECONNABORTED",e.network="ERR_NETWORK",e.timeout="ETIMEDOUT",e.badRequest="ERR_BAD_REQUEST",e.badResponse="ERR_BAD_RESPONSE"}(r||(r={})),function(e){e[e.unknown=-1]="unknown",e[e.success=200]="success"}(i||(i={}));var S="Success";function D(e){return{data:e,status:i.success,statusText:S}}function M(e){return{data:[],status:i.unknown,statusText:e}}var T=function(){function e(){s()(this,e),this.interceptors=[]}return c()(e,[{key:"add",value:function(e){this.interceptors.push(e)}},{key:"proceed",value:function(e){return(0,y.__awaiter)(this,void 0,void 0,v().mark(function t(){var n;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Array.from(this.interceptors),this.fillBuildInInterceptors(n,e),t.abrupt("return",this.dispatch(e,n,0));case 3:case"end":return t.stop()}},t,this)}))}},{key:"dispatch",value:function(e,t,n){var r=this;if(n>=t.length)return Promise.resolve(D([]));var i=t[n],o=function(){return r.dispatch(e,t,n+1)};return i.intercept(o,e)}}])}(),A=function(){function e(){var t,n;s()(this,e),this.canUseNativeAndroid=(null==(t=globalThis.mqq)?void 0:t.android)&&(null==(n=globalThis._mqqWebViewJSInterface)?void 0:n.invoke),this.currentSeqId=0,this.reqCallbacks=new Map}return c()(e,[{key:"JSApiCallback",value:function(e){var t=this.reqCallbacks.get(e.callbackId);if(!t)throw Error("TypeError:[ark-request] the reqCallback of response[".concat(e.callbackId,"] can't found!"));t.callback(e)}},{key:"invokeNative",value:function(e,t,n,r){var i,o=null!=n?n:{},a=o.command;if(r){var s=this.createReqSeq();this.reqCallbacks.set(s,{callback:r,command:a,startTime:Date.now()}),o.callbackId=s}this.canUseNativeAndroid?this.invokeNativeAndroid(e,t,o):null==(i=globalThis.mqq)||i.invoke(e,t,o)}},{key:"invokeNativeAndroid",value:function(e,t,n){var r,i="jsbridge://".concat(encodeURIComponent(e),"/").concat(encodeURIComponent(t));n&&(i+="?p=".concat(encodeURIComponent(JSON.stringify(n)))),null==(r=globalThis._mqqWebViewJSInterface)||r.invoke(i)}},{key:"createReqSeq",value:function(){return this.currentSeqId+=1}}])}();!globalThis.jsApi&&(globalThis.jsApi=new A,globalThis.JSApiCallback||(globalThis.JSApiCallback=globalThis.jsApi.JSApiCallback.bind(globalThis.jsApi)));var x=globalThis.jsApi,N=function(){function e(){s()(this,e)}return c()(e,[{key:"invoke",value:function(e){return new Promise(function(t,n){if(!e.namespace)throw Error("jsapi, namespace is null.");var r=e.params||{},i=e.callback?function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t(D(n))}:void 0;try{x.invokeNative(e.namespace,e.method,r,i),i||t(D([]))}catch(e){n(M("Error:[ark-request] Jsapi invokeNative fail."))}})}}])}();function O(e){return"[object Function]"===Object.prototype.toString.call(e)}var k=function(){function e(){s()(this,e)}return c()(e,[{key:"invoke",value:function(e){return(0,y.__awaiter)(this,void 0,void 0,v().mark(function t(){var n,r;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(globalThis.mqq){t.next=2;break}throw Error("UnknownError:[ark-request] mqq channel is undefined.");case 2:if(e.namespace){t.next=4;break}throw Error("TypeError:[ark-request] mqq invoke has no namespace!");case 4:if(!((r=null==(n=globalThis.mqq[e.namespace])?void 0:n[e.method])&&O(r))){t.next=10;break}return t.next=9,this.innerModuleInvoke(r,e.params,e.callback);case 9:case 12:return t.abrupt("return",t.sent);case 10:return t.next=12,this.innerCoreInvoke(globalThis.mqq.invoke,e);case 13:case"end":return t.stop()}},t,this)}))}},{key:"innerModuleInvoke",value:function(e,t,n){return new Promise(function(r,i){var o=[];t&&o.push(t),n&&o.push(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r(D(t))});try{e.apply(void 0,o),n||r(D([]))}catch(e){i(M("Error:[ark-request] Mqq invoke module fail."))}})}},{key:"innerCoreInvoke",value:function(e,t){return new Promise(function(n,r){try{e(t.namespace,t.method,t.params,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n(D(t))})}catch(e){r(M("Error:[ark-request] Mqq invoke core[".concat(t.namespace,".").concat(t.method,"] fail.")))}})}}])}();!function(e){e.mqq="mqq",e.jsapi="jsapi"}(o||(o={}));var R={schema:"mqq",channels:_()(_()({},o.mqq,k),o.jsapi,N)},L=function(){function e(){s()(this,e)}return c()(e,[{key:"intercept",value:function(e,t){return(0,y.__awaiter)(this,void 0,void 0,v().mark(function e(){var n;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.schema){e.next=2;break}throw Error("TypeError[ark-request]: the schema of request(".concat(t.namespace,".").concat(t.method,") is undefined."));case 2:if(n=R.channels[t.schema]){e.next=5;break}throw Error("TypeError[ark-request]: can't match strategy to handle request(".concat(t.schema,".").concat(t.namespace,".").concat(t.method,")."));case 5:return e.next=7,new n().invoke(t);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}))}}])}();function j(e,t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}return t=p()(t),d()(e,r()?Reflect.construct(t,n||[],p()(e).constructor):t.apply(e,n))}var P=function(e){function t(){return s()(this,t),j(this,t,arguments)}return g()(t,e),c()(t,[{key:"fillBuildInInterceptors",value:function(e){return e.push(new L),e}}])}(T),B=function(){function e(t){s()(this,e),this.interceptors=t}return c()(e,[{key:"invoke",value:function(e){this.interceptors.proceed(Object.assign({schema:R.schema},e)).then(function(t){var n,r,i,o=t.data;null==(r=e.callback)||(n=r).call.apply(n,[e].concat(I()(o))),e.removeCallback&&(null==(i=e.params)?void 0:i.callbackId)&&x.reqCallbacks.delete(e.params.callbackId)})}},{key:"register",value:function(e,t){if(!O(t))throw Error("TypeError:[ark-request] The handler[".concat(e,"] to register is not function."));this.getNativeChannel()[this.generateCallbackName(e)]=t}},{key:"unregister",value:function(e){this.getNativeChannel()[this.generateCallbackName(e)]=void 0}},{key:"notify",value:function(e){var t=this.getNativeChannel()[this.generateCallbackName(e)];if(!O(t))throw Error("TypeError:[ark-request] The handler[".concat(e,"] is not function!"));for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.apply(void 0,r)}},{key:"generateCallbackName",value:function(e){return e}},{key:"getNativeChannel",value:function(){return window}}])}();function F(){return new B(new P)}var U=F(),G={maxRetry:3},W=function(){function e(){s()(this,e)}return c()(e,[{key:"intercept",value:function(e,t){return(0,y.__awaiter)(this,void 0,void 0,v().mark(function e(){return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w().request(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))}}])}(),Z=function(){function e(t){s()(this,e),this.duration=t,this.attempt=0}return c()(e,[{key:"next",value:function(e){throw Error("Method not implemented.")}}])}();function V(e,t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}return t=p()(t),d()(e,r()?Reflect.construct(t,n||[],p()(e).constructor):t.apply(e,n))}var H=function(e){function t(e,n){var r;return s()(this,t),(r=V(this,t,[e])).limit=n,r}return g()(t,e),c()(t,[{key:"next",value:function(){return void 0===this.limit?this:this.attempt>=this.limit?void 0:(this.attempt+=1,this)}}])}(Z);new H(0,0);var z=function(){return!1},Y=function(){return!1},K=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y;s()(this,e),this.errorFilter=t,this.resultFilter=n}return c()(e,[{key:"invoke",value:function(e,t){return(0,y.__awaiter)(this,void 0,void 0,v().mark(function n(){var r,i;return v().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e(t);case 3:if(r=n.sent,this.resultFilter(r)){n.next=6;break}return n.abrupt("return",{success:r});case 6:return n.abrupt("return",{value:r});case 9:if(n.prev=9,n.t0=n.catch(0),i=n.t0,this.errorFilter(i)){n.next=15;break}throw i;case 15:return n.abrupt("return",{error:i});case 16:case"end":return n.stop()}},n,this,[[0,9]])}))}}])}(),Q=function(e){var t=Math.max(e,0);return 0===t?Promise.resolve():new Promise(function(e){return setTimeout(e,t)})},q=function(){function e(t){var n;s()(this,e),this.options=t,this.executor=new K(t.errorFilter,t.resultFilter),this.backoffFactory=null!=(n=t.backoffFactory)?n:new H(0,t.maxRetry)}return c()(e,[{key:"execute",value:function(e){return(0,y.__awaiter)(this,void 0,void 0,v().mark(function t(){var n,r,i,o,a;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:return r={attempt:n,startTimestamp:Date.now()},t.next=4,this.executor.invoke(e,r);case 4:if(!("success"in(i=t.sent))){t.next=7;break}return t.abrupt("return",i.success);case 7:if(!(n<this.options.maxRetry)){t.next=14;break}if(o={attempt:n+1,result:i},!(a=this.backoffFactory.next(o))){t.next=13;break}return t.next=13,Q(a.duration);case 13:return t.abrupt("continue",17);case 14:if(!("error"in i)){t.next=16;break}throw i.error;case 16:return t.abrupt("return",i.value);case 17:n++,t.next=1;break;case 20:case"end":return t.stop()}},t,this)}))}}])}(),X=function(e){var t;return null==(t=e.message)?void 0:t.includes("timeout")},J=function(){function e(){s()(this,e)}return c()(e,[{key:"intercept",value:function(e,t){return(0,y.__awaiter)(this,void 0,void 0,v().mark(function n(){var r,i=this;return v().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.maxRetry<=0)){n.next=2;break}return n.abrupt("return",e());case 2:return r=new q(Object.assign({maxRetry:G.maxRetry,errorFilter:X},t)),n.abrupt("return",r.execute(function(t){return(0,y.__awaiter)(i,void 0,void 0,v().mark(function n(){var r;return v().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e();case 2:return(r=n.sent).retryContext=t,n.abrupt("return",r);case 5:case"end":return n.stop()}},n)}))}));case 4:case"end":return n.stop()}},n)}))}}])}();function $(e,t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}return t=p()(t),d()(e,r()?Reflect.construct(t,n||[],p()(e).constructor):t.apply(e,n))}var ee=function(e){function t(){return s()(this,t),$(this,t,arguments)}return g()(t,e),c()(t,[{key:"fillBuildInInterceptors",value:function(e,t){var n;return(null!=(n=t.maxRetry)?n:G.maxRetry)>0&&e.push(new J),e.push(new W),e}}])}(T),et=function(){function e(t,n){s()(this,e),this.defaults=t,this.interceptors=n}return c()(e,[{key:"get",value:function(e,t){return this.dispatchRequest("get",e,void 0,t)}},{key:"post",value:function(e,t,n){return this.dispatchRequest("post",e,t,n)}},{key:"request",value:function(e){return this.interceptors.proceed(Object.assign(Object.assign({},this.defaults),e))}},{key:"dispatchRequest",value:function(e,t,n,r){var i,o=null!=r?r:{},a=null!=(i=o.headers)?i:{};return o.contentType&&(a["Content-Type"]=o.contentType),this.interceptors.proceed(Object.assign(Object.assign(Object.assign({},this.defaults),o),{url:t,method:e,headers:a,data:null!=n?n:o.data}))}}])}();function en(e){return new et(e||G,new ee)}var er=en();function ei(e,t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}return t=p()(t),d()(e,r()?Reflect.construct(t,n||[],p()(e).constructor):t.apply(e,n))}var eo=function(e){function t(e){var n,r;return s()(this,t),(n=ei(this,t,[null!=(r=e({attempt:0}))?r:0])).generator=e,n}return g()(t,e),c()(t,[{key:"next",value:function(e){var t=this.generator(e);if(t)return this.duration=t,this}}])}(Z);function ea(e,t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}return t=p()(t),d()(e,r()?Reflect.construct(t,n||[],p()(e).constructor):t.apply(e,n))}var es=function(e){return Math.max(null!=e?e:0,0)},eu=function(e){function t(e){var n,r;return s()(this,t),(n=ea(this,t,[null!=(r=es(e[0]))?r:0])).durations=e,n}return g()(t,e),c()(t,[{key:"next",value:function(){if(!(this.attempt>=this.durations.length))return this.duration=es(this.durations[this.attempt]),this.attempt+=1,this}}])}(Z),ec={}},324500:function(e,t,n){"use strict";n.r(t),n.d(t,{DBEngineType:function(){return r},DB_NAME_BACKUP:function(){return k},DocumentDataStorage:function(){return P},DocumentEntityStorage:function(){return G},DocumentIdStorage:function(){return F},DocumentStatusStorage:function(){return U},DriveDataStorage:function(){return V},OfflineDataStorage:function(){return B},PadInfoStorage:function(){return W},SortOrder:function(){return p.SortOrder},StorageBackupManager:function(){return R},StorageManager:function(){return N},UserInfoStorage:function(){return Z}});var r,i=n(126713),o=n.n(i),a=n(352669),s=n.n(a),u=n(766123),c=n.n(u);n(581965),n(427843),n(404359);var l=n(209787),d=n(717457),f=n(363534),p=n(451831),h=n(702898),g=n(737033),m=n.n(g),v=n(766829),y=n(455501);n(631881),n(282372);var b=n(793232),_=n.n(b),C=n(328063),I=n.n(C),E=n(709293),w=n.n(E);n(153526),n(926006),n(335284),n(192184),n(778778),n(573228),n(969824),n(310355),n(935599),n(179651);var S='{"name":"unknown","collections":[{"name":"DocumentData","key":{"path":"key"},"indices":[{"name":"secretId","path":"secretId","unique":false},{"name":"globalPadId","path":"globalPadId","unique":false},{"name":"subGlobalPadId","path":"subGlobalPadId","unique":false},{"name":"subDocType","path":"subDocType","unique":false},{"name":"version","path":"version","unique":false},{"name":"type","path":"type","unique":false},{"name":"uid","path":"uid","unique":false},{"name":"subId","path":"subSheetId","unique":false},{"name":"chunkId","path":"chunkId","unique":false}],"properties":["key","secretId","globalPadId","subGlobalPadId","subDocType","version","type","uid","subId","chunkId","taskId","data","docType","docStatus","createTimestamp","lastModifyTimestamp","dataVersion","isDefaultChunk"]},{"name":"DocumentEntities","key":{"path":"key"},"indices":[],"properties":["key","data"]},{"name":"NewDocumentIds","key":{"path":"globalPadId"},"indices":[],"properties":["globalPadId","secretId","documentType","localPadId","isCreated"]},{"name":"DocumentStatus","key":{"path":"globalPadId"},"indices":[{"name":"secretId","path":"secretId","unique":false},{"name":"uid","path":"uid","unique":false}],"properties":["globalPadId","secretId","uid","lastSyncTimestamp","lastErrorTimestamp"]},{"name":"DriveData","key":{"path":"driveId"},"indices":[{"name":"fileId","path":"fileId","unique":false},{"name":"objKey","path":"objKey","unique":false},{"name":"secretId","path":"secretId","unique":false},{"name":"uid","path":"uid","unique":false}],"properties":["driveId","fileId","objKey","secretId","uid","type","lastRequestTime","fileInfo","previewInfo"]},{"name":"OfflineData","key":{"path":"key"},"indices":[{"name":"secretId","path":"secretId","unique":false},{"name":"globalPadId","path":"globalPadId","unique":false},{"name":"subGlobalPadId","path":"subGlobalPadId","unique":false},{"name":"subDocType","path":"subDocType","unique":false},{"name":"version","path":"version","unique":false},{"name":"type","path":"type","unique":false},{"name":"uid","path":"uid","unique":false},{"name":"subId","path":"subSheetId","unique":false},{"name":"chunkId","path":"chunkId","unique":false}],"properties":["key","secretId","globalPadId","subGlobalPadId","subDocType","version","type","uid","subId","chunkId","taskId","data","docType","docStatus","createTimestamp","lastModifyTimestamp","dataVersion","isDefaultChunk"]},{"name":"PadInfo","key":{"path":"key"},"indices":[{"name":"secretId","path":"secretId","unique":false},{"name":"globalPadId","path":"globalPadId","unique":false},{"name":"uid","path":"uid","unique":false}],"properties":["key","secretId","globalPadId","uid","addListTimestamp","attribute","childrenLength","clientVersion","createTimestamp","creator","creatorDomain","icon","docPolicy","docPrivilege","thumbnail","docType","docTypeDesc","url","domainId","dver","folder","folderId","folderPolicy","folderPrivilege","isDeleted","isManualOffline","isMyCreated","isMydoc","isOfflineCache","isRencent","isShareToMe","hasSnapShot","isStar","isAddedToMy","isCollected","isOwner","isPinned","isShortcut","isUserChangeTitle","lastSyncTimestamp","lastBrowseTimestamp","lastCollectTimestamp","lastDeleteTimestamp","lastModifyTimestamp","lastModifyNick","lastModifyUid","lastPinnedTimestamp","listInfoType","listType","offlineCommiting","offlineCommitSuccessd","originFolderId","ownerNick","ownerUid","padId","parentFolderId","parents","privilege","status","title","type","hasLocalChanges","docSubType","officialAuthInfo","personalizeInfo","nativeEngineStatusRecord","nativeEngineDocPrivilege","data","ext","isOfflineCacheByNative","mimeType","ownerVipInfo","documentResourceCacheStatus","cacheStatus","cacheStatusTs"]},{"name":"Users","key":{"path":"key"},"indices":[{"name":"tinyId","path":"tinyId","unique":false},{"name":"nowUserIndex","path":"nowUserIndex","unique":false},{"name":"docId","path":"docId","unique":false},{"name":"pageType","path":"pageType","unique":false},{"name":"wedriveUin","path":"wedriveUin","unique":false},{"name":"wedocOpenId","path":"wedocOpenId","unique":false}],"properties":["key","tinyId","nowUserIndex","docId","pageType","wedriveUin","wedocOpenId","corpId","corpName","englishName","loginType","openId","uidSource","uin","userId","userName","userPic","updateTime","settings","bindUserInfo","vipUserInfo"]}]}',D="storageActionResultAndCost";function M(e){return new h.default({onEvent:function(t){e.report(D,{action:t.action,module:t.module,retCode:t.actionExecuteState,cost:t.cost,time:t.time.getTime(),errorMsg:t.errorMsg})}})}var T=5,A=15e3;!function(e){e[e.indexDB=1]="indexDB",e[e.nativeDB=2]="nativeDB"}(r||(r={}));var x=m()(m()({},r.indexDB,v.default),r.nativeDB,y.default),N=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:r.indexDB,disableAutoOpen:!0};o()(this,e),this.config=n;var i=x[n.type];this.storage=new p.default({name:null!=(t=n.databaseName)?t:d.DB_NAME,version:T,engine:new i,databaseSchema:S,disableAutoOpen:n.disableAutoOpen,plugins:this.getPlugins(n),supportCompatibleOpen:!0})}return s()(e,[{key:"dispose",value:function(){this.storage.close()}},{key:"init",value:function(){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function e(){var t=this;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n,r=setTimeout(function(){var n,r;null==(r=null==(n=t.config.logger)?void 0:n.error)||r.call(n,"dababase init timeout."),e(!1)},null!=(n=t.config.timeout)?n:A);t.storage.open().then(function(){e(!0),clearTimeout(r)}).catch(function(){e(!1),clearTimeout(r)})}));case 1:case"end":return e.stop()}},e)}))}},{key:"getPlugins",value:function(e){var t=[];if(e.logger){var n=new f.default({logger:e.logger,disabled:!!e.disabled,verbose:!!e.verbose});t.push(n)}return e.monitorReporter&&t.push(M(e.monitorReporter)),t}}])}();function O(e,t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}return t=I()(t),_()(e,r()?Reflect.construct(t,n||[],I()(e).constructor):t.apply(e,n))}var k="TencentDocsBackup",R=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:r.indexDB,disableAutoOpen:!0};return o()(this,t),(e=O(this,t,[n])).config=n,e}return w()(t,e),s()(t)}(N);function L(e,t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}return t=I()(t),_()(e,r()?Reflect.construct(t,n||[],I()(e).constructor):t.apply(e,n))}var j=function(){function e(t){o()(this,e),this.collection=t}return s()(e,[{key:"getChanges",value:function(e,t){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function n(){var r;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.collection.where({uid:e.uid,secretId:e.secretId,subGlobalPadId:e.subGlobalPadId,subDocType:{in:e.subDocType},type:{in:e.types},docType:e.docType,dataVersion:e.dataVersion,subId:{in:e.subId?[].concat(e.subId):void 0},chunkId:{in:e.chunkId?[].concat(e.chunkId):void 0},version:{">=":null==t?void 0:t.startVersion,"<=":null==t?void 0:t.endVersion}}),(null==t?void 0:t.orderPath)&&r.orderBy(t.orderPath,t.sortOrder),(null==t?void 0:t.limit)&&r.take(t.limit),n.abrupt("return",r.values());case 4:case"end":return n.stop()}},n,this)}))}},{key:"upsertChanges",value:function(e){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function t(){return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.collection.bulkUpsert(e);case 2:case"end":return t.stop()}},t,this)}))}},{key:"deleteChanges",value:function(e){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function t(){var n,r,i,o,a,s,u;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.uid,r=e.secretId,i=e.globalPadId,o=e.types,a=e.taskIds,s=e.subGlobalPadId,u=e.subDocType,t.next=3,this.collection.where({uid:n,secretId:r,globalPadId:i,subGlobalPadId:s,subDocType:{in:u},type:{in:o},taskId:{in:a},version:{">":e.startVersion||Number.MIN_SAFE_INTEGER,"<":e.endVersion||Number.MAX_SAFE_INTEGER}}).clear();case 3:case"end":return t.stop()}},t,this)}))}}])}(),P=function(e){function t(){return o()(this,t),L(this,t,arguments)}return w()(t,e),s()(t)}(j),B=function(e){function t(){return o()(this,t),L(this,t,arguments)}return w()(t,e),s()(t)}(j),F=function(){function e(t){o()(this,e),this.collection=t}return s()(e,[{key:"popDocumentId",value:function(e){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function t(){var n,r,i;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.collection.where({documentType:e}).first();case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return",null);case 5:return r=n.globalPadId,t.next=8,this.collection.delete(r);case 8:if(i=t.sent,r===i){t.next=11;break}return t.abrupt("return",null);case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}},t,this)}))}},{key:"upsertDocumentIds",value:function(e){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function t(){return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.collection.bulkUpsert(e);case 2:case"end":return t.stop()}},t,this)}))}},{key:"countDocumentIds",value:function(e){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function t(){return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.collection.where({documentType:e}).count());case 1:case"end":return t.stop()}},t,this)}))}},{key:"deleteDocumentIds",value:function(){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collection.clear();case 2:case"end":return e.stop()}},e,this)}))}}])}(),U=function(){function e(t){o()(this,e),this.collection=t}return s()(e,[{key:"getStatus",value:function(e,t){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function n(){var r;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.collection.where({secretId:t,uid:e}).first();case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}},n,this)}))}},{key:"upsertStatus",value:function(e){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function t(){return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.collection.upsert(e);case 2:case"end":return t.stop()}},t,this)}))}},{key:"deleteStatus",value:function(e,t){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function n(){return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.collection.where({secretId:t,uid:e}).clear();case 2:case"end":return n.stop()}},n,this)}))}}])}(),G=function(){function e(t){o()(this,e),this.collection=t}return s()(e,[{key:"getEntity",value:function(e){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function t(){var n;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.collection.get(e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}))}},{key:"upsertEntities",value:function(e){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function t(){return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.collection.bulkUpsert(e);case 2:case"end":return t.stop()}},t,this)}))}},{key:"deleteEntity",value:function(e){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function t(){return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.collection.delete(e);case 2:case"end":return t.stop()}},t,this)}))}}])}(),W=function(){function e(t){o()(this,e),this.collection=t}return s()(e,[{key:"getPadInfo",value:function(e,t){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function n(){var r;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getPadInfos({uid:e,secretId:t});case 2:if(0!==(r=n.sent).length){n.next=5;break}return n.abrupt("return",null);case 5:return n.abrupt("return",r.shift());case 6:case"end":return n.stop()}},n,this)}))}},{key:"getPadInfos",value:function(e){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function t(){var n;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.collection.where({uid:e.uid,secretId:{in:e.secretId?[].concat(e.secretId):void 0}}),t.abrupt("return",n.values());case 2:case"end":return t.stop()}},t,this)}))}},{key:"upsertPadInfo",value:function(e){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function t(){return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.collection.upsert(e);case 2:case"end":return t.stop()}},t,this)}))}},{key:"updateField",value:function(e,t,n){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function r(){var i;return c().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.collection.where({uid:e,secretId:t}).first();case 2:if(i=r.sent){r.next=5;break}return r.abrupt("return");case 5:return Object.assign(i,n),r.next=8,this.collection.upsert(i);case 8:case"end":return r.stop()}},r,this)}))}},{key:"deletePadInfo",value:function(e,t){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function n(){return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.collection.where({uid:e,secretId:t}).clear();case 2:case"end":return n.stop()}},n,this)}))}}])}(),Z=function(){function e(t){o()(this,e),this.collection=t}return s()(e,[{key:"getUserInfoByTinyId",value:function(e){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function t(){var n;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.collection.where({tinyId:e}).last();case 2:if(!(n=t.sent)){t.next=5;break}return t.abrupt("return",n);case 5:return t.abrupt("return",null);case 6:case"end":return t.stop()}},t,this)}))}},{key:"getUserInfoByNowUserIndex",value:function(e){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function t(){var n;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.collection.where({nowUserIndex:e}).last();case 2:if(!(n=t.sent)){t.next=5;break}return t.abrupt("return",n);case 5:return t.abrupt("return",this.getUserInfoLastByAll());case 6:case"end":return t.stop()}},t,this)}))}},{key:"getUserInfoByDocInfo",value:function(e,t){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function n(){var r;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.collection.where({pageType:e,docId:t}).last();case 2:if(!(r=n.sent)){n.next=5;break}return n.abrupt("return",r);case 5:return n.abrupt("return",this.getUserInfoLastByAll());case 6:case"end":return n.stop()}},n,this)}))}},{key:"addUserInfo",value:function(e){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function t(){var n;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.collection.get(e.key);case 3:return n=t.sent,this.collection.upsert(Object.assign(Object.assign({},n),e)),t.abrupt("return",!0);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this,[[0,8]])}))}},{key:"updateUserInfo",value:function(e,t){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function n(){var r,i;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.collection.where(e).values();case 3:if(0!==(r=n.sent).length){n.next=6;break}return n.abrupt("return",!1);case 6:return i=r.map(function(e){return Object.assign(Object.assign({},e),t)}),n.next=9,this.collection.bulkUpsert(i);case 9:return n.abrupt("return",!0);case 12:return n.prev=12,n.t0=n.catch(0),n.abrupt("return",!1);case 15:case"end":return n.stop()}},n,this,[[0,12]])}))}},{key:"getUserInfoLastByAll",value:function(){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collection.last();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}))}}])}(),V=function(){function e(t){o()(this,e),this.collection=t}return s()(e,[{key:"getDriveData",value:function(e){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function t(){return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.collection.where(Object.assign({},e)).first());case 1:case"end":return t.stop()}},t,this)}))}},{key:"getDriveDatas",value:function(e){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function t(){return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.collection.where(Object.assign({},e)).values());case 1:case"end":return t.stop()}},t,this)}))}},{key:"insertDriveDatas",value:function(e){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function t(){return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.collection.bulkUpsert(e);case 2:case"end":return t.stop()}},t,this)}))}},{key:"deleteDriveDatas",value:function(e){return(0,l.__awaiter)(this,void 0,void 0,c().mark(function t(){return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.collection.where(Object.assign({},e)).clear();case 2:case"end":return t.stop()}},t,this)}))}}])}()},591028:function(e,t,n){"use strict";var r={};function i(){return"undefined"!=typeof window}function o(){return void 0!==n.g}function a(){return!i&&"undefined"!=typeof self}function s(){return o()&&"function"==typeof n.g.describe}t.Z=function(){return i()?window:o()?n.g:a()?self:(s(),r)}()},107995:function(e,t,n){"use strict";n.r(t),n.d(t,{Emitter:function(){return s}});var r=n(209787),i=n(696030),o=function(){function e(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}return e.Undefined=new e(void 0),e}(),a=function(){function e(){this.first=o.Undefined,this.last=o.Undefined,this.mSize=0}return Object.defineProperty(e.prototype,"size",{get:function(){return this.mSize},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return this.first===o.Undefined},e.prototype.clear=function(){this.first=o.Undefined,this.last=o.Undefined,this.mSize=0},e.prototype.unshift=function(e){return this.insert(e,!1)},e.prototype.push=function(e){return this.insert(e,!0)},e.prototype.shift=function(){if(this.first!==o.Undefined){var e=this.first.element;return this.remove(this.first),e}},e.prototype.pop=function(){if(this.last!==o.Undefined){var e=this.last.element;return this.remove(this.last),e}},e.prototype[Symbol.iterator]=function(){var e;return(0,r.__generator)(this,function(t){switch(t.label){case 0:e=this.first,t.label=1;case 1:if(e===o.Undefined)return[3,3];return[4,e.element];case 2:return t.sent(),e=e.next,[3,1];case 3:return[2]}})},e.prototype.insert=function(e,t){var n=this,r=new o(e);if(this.first===o.Undefined)this.first=r,this.last=r;else if(t){var i=this.last;this.last=r,r.prev=i,i.next=r}else{var a=this.first;this.first=r,r.next=a,a.prev=r}this.mSize+=1;var s=!1;return function(){s||(s=!0,n.remove(r))}},e.prototype.remove=function(e){if(e.prev!==o.Undefined&&e.next!==o.Undefined){var t=e.prev;t.next=e.next,e.next.prev=t,e.next=o.Undefined,e.prev=o.Undefined}else e.prev===o.Undefined&&e.next===o.Undefined?(this.first=o.Undefined,this.last=o.Undefined):e.next===o.Undefined?(this.last=this.last.prev,this.last.next=o.Undefined,e.prev=o.Undefined):e.prev===o.Undefined&&(this.first=this.first.next,this.first.prev=o.Undefined,e.next=o.Undefined);this.mSize-=1},e}(),s=function(){function e(e){this.disposed=!1,this.options=e}return Object.defineProperty(e.prototype,"event",{get:function(){var e=this;return this.mEvent||(this.mEvent=function(t,n,r){e.listeners||(e.listeners=new a);var o,s,u,c=e.listeners.isEmpty();c&&(null==(o=e.options)?void 0:o.onFirstListenerAdd)&&e.options.onFirstListenerAdd(e);var l=e.listeners.push(n?[t,n]:t);c&&(null==(s=e.options)?void 0:s.onFirstListenerDidAdd)&&e.options.onFirstListenerDidAdd(e),(null==(u=e.options)?void 0:u.onListenerDidAdd)&&e.options.onListenerDidAdd(e,t,n);var d={dispose:function(){var t;!e.disposed&&(l(),(null==(t=e.options)?void 0:t.onLastListenerRemove)&&(e.listeners&&!e.listeners.isEmpty()||e.options.onLastListenerRemove(e))),(0,i.markTracked)(d)},disposableId:"event"};return Array.isArray(r)&&r.push(d),(0,i.trackDisposable)(d),d}),this.mEvent},enumerable:!1,configurable:!0}),e.prototype.fire=function(e){var t,n;if(this.listeners){this.deliveryQueue||(this.deliveryQueue=new a);try{for(var i=(0,r.__values)(this.listeners),o=i.next();!o.done;o=i.next()){var s=o.value;this.deliveryQueue.push([s,e])}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}for(;this.deliveryQueue.size>0;){var u=(0,r.__read)(this.deliveryQueue.shift(),2),s=u[0],c=u[1];try{"function"==typeof s?s.call(void 0,c):s[0].call(s[1],c)}catch(e){console.error(e)}}}},e.prototype.dispose=function(){this.listeners&&this.listeners.clear(),this.deliveryQueue&&this.deliveryQueue.clear(),this.disposed=!0},e}()},687129:function(e,t,n){"use strict";n.r(t),n.d(t,{getHash:function(){return s},getHost:function(){return u},getHostname:function(){return c},getHref:function(){return g},getOrigin:function(){return d},getPathname:function(){return l},getPort:function(){return h},getProtocol:function(){return f},getQuery:function(){return m},getSearch:function(){return p},getU:function(){return v}});var r=n(591028),i=n(979113),o="location",a="u";function s(){return(0,i.has)(r.Z,o)?location.hash:""}function u(){return(0,i.has)(r.Z,o)?location.host:""}function c(){return(0,i.has)(r.Z,o)?location.hostname:""}function l(){return(0,i.has)(r.Z,o)?location.pathname:""}function d(){return(0,i.has)(r.Z,o)?location.origin:""}function f(){return(0,i.has)(r.Z,o)?location.protocol:""}function p(){return(0,i.has)(r.Z,o)?location.search:""}function h(){return(0,i.has)(r.Z,o)?location.port:""}function g(){return(0,i.has)(r.Z,o)?location.href:""}function m(e,t){if(void 0===t&&(t={shouldDecodeURI:!1}),!(0,i.has)(r.Z,o))return"";var n=new RegExp("(\\?|&)".concat(e,"=([^&]*)(#|&|$)")),a=((null==t?void 0:t.shouldDecodeURI)?decodeURIComponent(p()):p()).match(n);return a?decodeURIComponent(a[2]):""}function v(){return m(a)}},979113:function(e,t,n){"use strict";n.r(t),n.d(t,{has:function(){return a},mergeAggregate:function(){return c},camelKeys:function(){return u},prepotyUnderScore2Camel:function(){return l},prepotyCamel2UnderScore:function(){return d},snakeKeys:function(){return s}});var r=n(43534);function i(e){return e.length<1?e:(e[0].toLowerCase()+e.substr(1)).replace(/([A-Z])/g,function(e){return"_".concat(e.toLowerCase())})}function o(e){for(var t=e.split("_"),n="",r=0;r<t.length;r++){var i=t[r];i.length>0&&(0===r?n+=i:n+=i="".concat(i[0].toUpperCase()).concat(i.substring(1)))}return n}function a(e,t){return null!==e&&Object.prototype.hasOwnProperty.call(e,t)}function s(e){if(!e||!(0,r.isObject)(e))return e;var t={};return Object.keys(e).forEach(function(n){var r=i(n);if(Object.prototype.hasOwnProperty.call(e,n))if(Array.isArray(e[n])){var o=e[n],a=[];o.forEach(function(e){var t=s(e);a.push(t)}),t[r]=a}else e[n]instanceof Object?t[r]=s(e[n]):t[r]=e[n]}),t}function u(e){if(!e||!(0,r.isObject)(e))return e;var t={};return Object.keys(e).forEach(function(n){var r=o(n);if(Object.prototype.hasOwnProperty.call(e,n))if(Array.isArray(e[n])){var i=e[n],a=[];i.forEach(function(e){var t=u(e);a.push(t)}),t[r]=a}else e[n]instanceof Object?t[r]=u(e[n]):t[r]=e[n]}),t}function c(e,t,n){Object.getOwnPropertyNames(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);r&&"constructor"!==n&&Object.defineProperty(e,n,r)}),Object.getOwnPropertyNames(n.prototype).forEach(function(t){"constructor"!==t&&(e[t]=n.prototype[t])})}var l=u,d=s},52111:function(e,t,n){"use strict";n.r(t),n.d(t,{Result:function(){return r}});var r=function(){return function(e,t){void 0!==e&&(this.error=e),void 0!==t&&(this.data=t)}}()},43534:function(e,t,n){"use strict";function r(e,t){return Object.prototype.toString.call(t)==="[object ".concat(e,"]")}function i(e){return r("Boolean",e)}function o(e){return r("Number",e)}function a(e){return r("String",e)}function s(e){return r("Function",e)}function u(e){return r("Array",e)}function c(e){return r("Date",e)}function l(e){return r("RegExp",e)}function d(e){return r("Object",e)}function f(e){return r("Error",e)}n.r(t),n.d(t,{isArray:function(){return u},isBoolean:function(){return i},isDate:function(){return c},isError:function(){return f},isFunction:function(){return s},isNumber:function(){return o},isObject:function(){return d},isRegExp:function(){return l},isString:function(){return a},isType:function(){return r}})},68705:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCancellationToken=t.CancellationTokenState=void 0;var n=function(){function e(){}return e.None=Object.freeze({isCancellationRequested:!1}),e.Cancelled=Object.freeze({isCancellationRequested:!0}),e}();t.CancellationTokenState=n,t.isCancellationToken=function(e){return e===n.None||e===n.Cancelled||!!e&&"object"==typeof e&&"boolean"==typeof e.isCancellationRequested}},756449:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=void 0;var r=n(68705),i=function(){function e(){this.isCancelled=!1}return e.prototype.cancel=function(){this.isCancelled||(this.isCancelled=!0)},Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return this.isCancelled},enumerable:!1,configurable:!0}),e}();t.CancellationTokenSource=function(){function e(){this.innertoken=void 0}return Object.defineProperty(e.prototype,"token",{get:function(){return this.innertoken||(this.innertoken=new i),this.innertoken},enumerable:!1,configurable:!0}),e.prototype.cancel=function(){this.innertoken?this.innertoken instanceof i&&this.innertoken.cancel():this.innertoken=r.CancellationTokenState.Cancelled},e.prototype.dispose=function(){this.cancel()},e}()},612889:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mixinRootDisposable=t.mixinDisposable=t.Disposable=t.RootDisposable=void 0;var a=n(930983),s=n(356119),u=n(60579),c=function(){function e(){this.disposedStore=new u.DisposableStore}return e.prototype.dispose=function(e){this.disposedStore.dispose(e)},e.prototype._register=function(e){if(e===this)throw Error("Cannot register a disposable on itself!");return this.disposedStore.add(e)},e}();t.RootDisposable=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.dispose=function(t){var n=t,r=!1;if(!n){var i=this.constructor.name;n=a.DisposeTrace.traceRoot(i),r=!0}e.prototype.dispose.call(this,n),r&&n.stop()},t.prototype._register=function(t){return e.prototype._register.call(this,t)},t}(c),t.Disposable=function(e){function t(){var t=e.call(this)||this;return s.trackDisposable(t),t}return r(t,e),t.prototype.dispose=function(t){s.markTracked(this),e.prototype.dispose.call(this,t)},t}(c),t.mixinDisposable=function(e){return function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(this,o(t))||this;return r.disposedStore=new u.DisposableStore,s.trackDisposable(r),r}return r(t,e),t.prototype.dispose=function(e){s.markTracked(this),this.disposedStore.dispose(e)},t.prototype._register=function(e){return this.disposedStore.add(e)},t}(e)},t.mixinRootDisposable=function(e){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.disposedStore=new u.DisposableStore,t}return r(t,e),t.prototype.dispose=function(e){s.markTracked(this);var t=e,n=!1;if(!t){var r=this.constructor.name;t=a.DisposeTrace.traceRoot(r),n=!0}this.disposedStore.dispose(t),n&&t.stop()},t.prototype._register=function(e){return this.disposedStore.add(e)},t}(e)}},60579:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisposableStore=void 0;var r=n(930983),i=n(356119);t.DisposableStore=function(){function e(){this.toDisposeSet=new Set,this.isDisposeState=!1}return e.prototype.dispose=function(e){if(!this.isDisposeState)if(i.markTracked(this),this.isDisposeState=!0,e)this.clear(e);else{var t=r.DisposeTrace.traceRoot(this.constructor.name);this.clear(t),t.stop()}},e.prototype.clear=function(e){this.toDisposeSet.forEach(function(t){var n=t.disposableId||t.constructor.name;t.dispose(null==e?void 0:e.branch(n))}),this.toDisposeSet.clear()},e.prototype.add=function(t){if(!t)return t;if(t===this)throw Error("Cannot register a disposable on itself!");return i.markTracked(t),this.isDisposeState?e.DISABLE_DISPOSED_WARNING||console.warn(Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this.toDisposeSet.add(t),t},e.DISABLE_DISPOSED_WARNING=!1,e}()},356119:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackDisposable=t.markTracked=t.resetDisposableTracker=t.setDisposableTracker=t.DefaultDisposableTracker=t.disableDisposablesTrack=t.enableDisposablesTrack=void 0;var r=n(224145),i=!1,o="__is_disposable_tracked__";t.enableDisposablesTrack=function(){i=!0},t.disableDisposablesTrack=function(){i=!1};var a=function(){function e(){}return e.prototype.markTracked=function(e){if(i&&e&&e!==r.DisposableNone)try{e[o]=!0}catch(e){}},e.prototype.trackDisposable=function(e){return i&&(e[o]||(e[o]=!1),Error("Potentially leaked disposable").stack,setTimeout(function(){e[o]},3e3)),e},e}();t.DefaultDisposableTracker=a;var s=new a;t.setDisposableTracker=function(e){s=e},t.resetDisposableTracker=function(){s=new a},t.markTracked=function(e){s.markTracked(e)},t.trackDisposable=function(e){return s.trackDisposable(e)}},930983:function(e,t){"use strict";var n=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.DisposeTrace=t.disableDisposeTrace=t.enableDisposeTrace=void 0;var o=!1;t.enableDisposeTrace=function(){o=!0},t.disableDisposeTrace=function(){o=!1},t.DisposeTrace=function(){function e(e){this.name=e,this._dep=[]}return e.traceRoot=function(t){return o?new e(t):e._None},e.prototype.branch=function(t){var n=new e(t);return this._dep.push([t,n]),n},e.prototype.stop=function(){function e(t,n){var o,a,s=[],u=Array(t+1).join("	");try{for(var c=r(n._dep),l=c.next();!l.done;l=c.next()){var d=i(l.value,2),f=d[0],p=d[1];if(p){s.push(u+"dispose -> "+f);var h=e(t+1,p);h&&s.push(h)}else s.push(u+"dispose -> "+f)}}catch(e){o={error:e}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}return s.join("\n")}["dispose "+this.name,""+e(1,this)].join("\n")},e._None=new(function(e){function t(){return e.call(this,null)||this}return n(t,e),t.prototype.stop=function(){},t.prototype.branch=function(){return this},t}(e)),e}()},224145:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisposableNone=void 0,t.DisposableNone=Object.freeze({dispose:function(){}})},352051:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryToMarkDispose=t.tryToDispose=t.toDisposable=t.combinedDisposable=t.dispose=t.isDisposable=void 0;var r=n(930983),i=n(356119);function o(e){return"function"==typeof e.dispose&&(0===e.dispose.length||1===e.dispose.length)}function a(e,t){if(Array.isArray(e)){var n=t||r.DisposeTrace.traceRoot("disposables");return e.forEach(function(e){e&&(i.markTracked(e),e.dispose(n))}),n.stop(),[]}if(e){var o=t||r.DisposeTrace.traceRoot("disposables");return i.markTracked(e),e.dispose(o),o.stop(),e}}t.isDisposable=o,t.dispose=a,t.combinedDisposable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.forEach(i.markTracked),i.trackDisposable({dispose:function(t){return a(e,t)}})},t.toDisposable=function(e,t){void 0===t&&(t="");var n=i.trackDisposable({dispose:function(t){i.markTracked(n),e(t)},disposableId:t});return n},t.tryToDispose=function(e,t){e&&o(e)&&e.dispose(t)},t.tryToMarkDispose=function(e){o(e)&&i.markTracked(e)}},696030:function(e,t,n){"use strict";var r={value:!0},i=n(612889);Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return i.Disposable}}),Object.defineProperty(t,"RootDisposable",{enumerable:!0,get:function(){return i.RootDisposable}}),Object.defineProperty(t,"mixinDisposable",{enumerable:!0,get:function(){return i.mixinDisposable}}),r={enumerable:!0,get:function(){return i.mixinRootDisposable}};var o=n(224145);r={enumerable:!0,get:function(){return o.DisposableNone}};var a=n(356119);Object.defineProperty(t,"markTracked",{enumerable:!0,get:function(){return a.markTracked}}),Object.defineProperty(t,"trackDisposable",{enumerable:!0,get:function(){return a.trackDisposable}}),r={enumerable:!0,get:function(){return a.enableDisposablesTrack}},r={enumerable:!0,get:function(){return a.disableDisposablesTrack}},Object.defineProperty(t,"setDisposableTracker",{enumerable:!0,get:function(){return a.setDisposableTracker}}),Object.defineProperty(t,"resetDisposableTracker",{enumerable:!0,get:function(){return a.resetDisposableTracker}});var s=n(930983);Object.defineProperty(t,"DisposeTrace",{enumerable:!0,get:function(){return s.DisposeTrace}}),r={enumerable:!0,get:function(){return s.enableDisposeTrace}},r={enumerable:!0,get:function(){return s.disableDisposeTrace}};var u=n(352051);Object.defineProperty(t,"toDisposable",{enumerable:!0,get:function(){return u.toDisposable}}),Object.defineProperty(t,"isDisposable",{enumerable:!0,get:function(){return u.isDisposable}}),r={enumerable:!0,get:function(){return u.dispose}},r={enumerable:!0,get:function(){return u.combinedDisposable}},Object.defineProperty(t,"tryToDispose",{enumerable:!0,get:function(){return u.tryToDispose}}),Object.defineProperty(t,"tryToMarkDispose",{enumerable:!0,get:function(){return u.tryToMarkDispose}});var c=n(60579);Object.defineProperty(t,"DisposableStore",{enumerable:!0,get:function(){return c.DisposableStore}});var l=n(756449);Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return l.CancellationTokenSource}})},448167:function(e,t,n){!function(t,n){e.exports=n()}(n.g,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}({3:function(e,t,n){"use strict";n.r(t);var r,i=function(){function e(e){this.taskId=this.getRandomId(),this.taskFunction=e}return e.prototype.exec=function(){this.taskFunction()},e.prototype.getRandomId=function(){return Date.now().toString(32)+Math.random().toString(32).substring(2)},e}();void 0!==document.hidden?r="visibilitychange":void 0!==document.msHidden?r="msvisibilitychange":void 0!==document.webkitHidden&&(r="webkitvisibilitychange");var o,a,s,u=new(function(){function e(){var e=this;this.visibleTasks=[],this.hiddenTasks=[],this.destroyTasks=[],document.addEventListener(r,function(){"hidden"===document.visibilityState&&e.hiddenTasks.forEach(function(e){return e.exec()}),"visible"===document.visibilityState&&e.visibleTasks.forEach(function(e){return e.exec()})})}return e.prototype.registerOnVisible=function(e){var t=new i(e);return this.visibleTasks.push(t),t.taskId},e.prototype.registerOnHidden=function(e){var t=new i(e);return this.hiddenTasks.push(t),t.taskId},e.prototype.registerOnDestory=function(e){var t=new i(e);return this.destroyTasks.push(t),t.taskId},e.prototype.destroy=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach(function(t){e.destroyTasks.find(function(e){return e.taskId===t}).exec()})},e.prototype.clear=function(){this.visibleTasks.length=0,this.hiddenTasks.length=0,this.destroyTasks.length=0},e}());!function(e){e.TabCountChange="TabCountChange",e.SuspendTab="SuspendTab"}(o||(o={})),function(e){e.Active="active",e.Inactive="inactive"}(a||(a={})),function(e){e.ReactivateTab="reactivate_tab",e.SuspendTab="suspend_tab",e.ReportOnly="report_only"}(s||(s={}));var c=/^tabStatus/,l=function(){function e(e){var t=this;this.suspendTimer=0,this.updateTimer=0,this.tabCount=1,this.disabledTime=36e4,this.tabCountLimit=0,this.handleStorageChange=function(){var e=t.getTabCount();e!==t.tabCount&&(t.listener.get(o.TabCountChange).forEach(function(e){return e()}),t.updateTabCount(e))},this.handleUnload=function(){localStorage.removeItem("tabStatus_"+t.id),t.destroy()},this.handleVisibilityChange=function(){if("visible"===document.visibilityState){clearTimeout(t.suspendTimer);var e=Date.now();t.report(s.ReactivateTab,e),t.updateCurTabStatus({activeTime:e,leaveTime:e,suspended:!1}),t.checkStatus()}else e=Date.now(),t.updateCurTabStatus({leaveTime:e}),clearTimeout(t.beatTimer)},this.options=e,this.count=this.getTabCount()||0,this.beatTimer=0,this.tabCountLimit=e.tabCountLimit||50,this.suspendTabTimeLimit=e.suspendTabTimeLimit||216e5,this.id=e.docId+"_"+this.getUniqId(),this.listener=new Map,this.log=e.log,this.handleLoad(),this.initEvent()}return Object.defineProperty(e.prototype,"defaultReportOptions",{get:function(){return{tab_count:this.getTabCount(),tab_limit:this.tabCountLimit,time_limit:this.suspendTabTimeLimit}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reportReactivateTimeLimit",{get:function(){return Math.floor(.8*this.suspendTabTimeLimit)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"beatTime",{get:function(){return Math.min(3e5,Math.max(this.suspendTabTimeLimit/10,1e4))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logOptions",{get:function(){return{tab_count:this.getTabCount()}},enumerable:!1,configurable:!0}),e.prototype.getTabStatus=function(e){var t=localStorage.getItem("tabStatus_"+e);if(t)return JSON.parse(t)},e.prototype.setTabStatus=function(e,t){localStorage.setItem("tabStatus_"+e,JSON.stringify(t))},e.prototype.setTabCountLimit=function(e){this.tabCountLimit=e},e.prototype.checkStatus=function(){var e=this;clearInterval(this.beatTimer),this.beatTimer=setInterval(function(){var t=e.getAllTabStatus(),n=Object.keys(t),r=Date.now();n.forEach(function(n){var i=t[n];(!i||r-i>e.disabledTime)&&localStorage.removeItem(n)})},this.beatTime)},e.prototype.getCurTabStatus=function(){return this.getTabStatus(this.id)},e.prototype.getAllTabStatus=function(){var e={};return Object.keys(localStorage).forEach(function(t){c.test(t)&&(e[t]=t)}),e},e.prototype.getTabCount=function(){var e=0;return Object.keys(localStorage).forEach(function(t){c.test(t)&&(e+=1)}),e},e.prototype.addListener=function(e,t){var n=this.listener.get(e);n||(n=[],this.listener.set(e,n)),n.push(t)},e.prototype.removeListener=function(e,t){if(this.listener.has(e)){var n=this.listener.get(e),r=n.indexOf(t);-1!==r&&n.splice(r,1)}},e.prototype.destroy=function(){this.listener.clear(),clearTimeout(this.beatTimer),clearTimeout(this.updateTimer),document.removeEventListener("visibilitychange",this.handleVisibilityChange),window.removeEventListener("beforeunload",this.handleUnload),window.removeEventListener("storage",this.handleStorageChange)},e.prototype.initEvent=function(){document.addEventListener("visibilitychange",this.handleVisibilityChange),window.addEventListener("beforeunload",this.handleUnload)},e.prototype.handleLoad=function(){var e=Date.now();this.updateCurTabStatus({activeTime:e,leaveTime:e}),this.heartbeat(),"visible"===document.visibilityState&&this.checkStatus(),this.report(s.ReportOnly,Date.now())},e.prototype.getUniqId=function(){return""+~~(1e9*Math.random())},e.prototype.getLogData=function(e,t){return Object.assign({action:e,status:"visible"===document.visibilityState?a.Active:a.Inactive,inactive_duration:Math.floor(t/1e3),tabinfo:this.getCurTabStatus()},this.defaultReportOptions)},e.prototype.updateTabCount=function(e){this.tabCount=e},e.prototype.suspend=function(){var e=this.listener.get(o.SuspendTab),t=this.options.canLeavePage;t?(t(),this.report(s.ReportOnly,Date.now()),this.handleUnload()):this.report(s.SuspendTab,Date.now()),e&&e.forEach(function(e){return e()}),this.updateCurTabStatus({suspended:!0})},e.prototype.updateCurTabStatus=function(e){var t=this.getTabStatus(this.id)||{};e.activeTime&&(t.activeTime=e.activeTime),e.leaveTime&&(t.leaveTime=e.leaveTime),e.suspended?e.suspended&&(t.suspended=!0):delete t.suspended,(t.activeTime||t.leaveTime)&&this.setTabStatus(this.id,t)},e.prototype.suspendTab=function(){var e,t=this;if("visible"!==document.visibilityState){var n=this.getAllTabStatus(),r=Object.keys(n);if(!(r.length-this.tabCountLimit<=0)){var i=null==(e=n[this.id])?void 0:e.leaveTime;if(!(Date.now()-i<this.suspendTabTimeLimit)){var o=!0;r.forEach(function(e){var r;if(e!==t.id){var a=n[e].leaveTime;if(a){var s=null==(r=n[e])?void 0:r.suspended;a<i&&s&&(o=!1)}}}),o&&(this.suspendTimer=setTimeout(function(){t.suspend()}))}}}},e.prototype.report=function(e,t){var n=this.getTabStatus(this.id);if(n){var r=n.leaveTime;if(r){var i=t-r;if(e===s.ReactivateTab&&r<this.reportReactivateTimeLimit)return;var o=this.getLogData(e,i);this.log(e,o)}}},e.prototype.heartbeat=function(){var e=this;this.updateTimer=setInterval(function(){e.updateCurTabStatus({activeTime:Date.now()}),e.getTabCount()>e.tabCountLimit&&e.suspendTab()},this.beatTime)},e}();t.default={visibilitychange:u,tabManager:new(function(){function e(e){var t=this;this.option=e,this.strategies=[],this.onMaxTab=function(){t.strategies.forEach(function(e){return e.release()})}}return e.prototype.addStrategy=function(e){this.strategies.push(e)},e.prototype.start=function(e){this.init(e),this.tabStatusManager.addListener(o.SuspendTab,this.onMaxTab)},e.prototype.stop=function(){this.tabStatusManager&&this.tabStatusManager.removeListener(o.SuspendTab,this.onMaxTab)},e.prototype.init=function(e){var t=e.log||function(){};this.tabStatusManager||(this.tabStatusManager=new l(Object.assign({tabCountLimit:10,suspendTabTimeLimit:3e5,docId:e.docId,log:t},this.option)))},e}())}}}).default})},918842:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(71864),i=n(111914),o=n(705670),a=n(405591);class s{constructor(e,t){let{taskPriority:n}=t;this.versionManager=new i.Z(e),this.taskQueueManager=new r.Z(n),o.Z.debug("baseMessageCenter created")}pause(e=a.Q.ALL){o.Z.debug(`baseMessageCenter pause type:${e}`),this.taskQueueManager.pause()}resume(e=a.Q.ALL){o.Z.debug(`baseMessageCenter resume type:${e}`),this.taskQueueManager.resume()}forceResume(e=a.Q.ALL){o.Z.debug(`baseMessageCenter forceResume type:${e}`),this.taskQueueManager.forceResume()}dispose(){o.Z.debug("baseMessageCenter dispose"),this.taskQueueManager.dispose(),this.versionManager.dispose()}}},18031:function(){},313993:function(){},514438:function(e,t,n){"use strict";n.d(t,{k:function(){return f}});var r=n(189249),i=n(705670),o=n(459787);class a{constructor(e){this.collabCenter=e}handleCommitError(e){let{errorCode:t,result:n}=e,a=`${(null==n?void 0:n.errMsg)||t}`;if([r.RoomErrorCode.EXIST,r.RoomErrorCode.ROOM_CLOSE,r.RoomErrorCode.ROOM_SHUTDOWN,o.K.DOC_ENGINE_RESTRICT_EDIT_PASSWORD_ERROR].includes(t))return void i.Z.info(`handle commit error, code: ${t} reason: ${a}`);if([40021,40027].includes(t)){this.collabCenter.messageCenter.sendMessageManager.commitAfterUpdateVersionToLatest(void 0,0),i.Z.error(`handle commit error, fetch miss change, code: ${t} reason: ${a}`);return}[1e4,10001,4e4,40002,40003,40007,40022,40023,41001,41002].includes(t)?a=`COMMIT_ERROR code=${t}`:[40001,40020].includes(t)?a=`TSSD_ERROR code=${t}`:[60007,60015].includes(t)&&(a=`COMMIT_UNAUTH code=${t}`),this.collabCenter.disconnect(a,t);let{commitingQueue:s}=e,[u]=s,c=`
            taskId: ${u.taskId},
            subId: ${u.subId},
            baseRev: ${u.baseRev},
            commands: ${u.commands}
            changeset: ${u.changeset}
        `;i.Z.error(`userchange commit error, code: ${t} reason: ${a} message: ${c}`),this.collabCenter.messageCenter.sendMessageManager.onCommitFailEmitter.fire(e)}handleCommitBlock(e){let t={errorCode:o.K.SEND_BLOCK,commitingQueue:e,type:"ON_SEND_ACCEPT"};i.Z.error(`handleCommitBlock userchange commit block, code: ${t.errorCode}`),this.collabCenter.messageCenter.sendMessageManager.onCommitFailEmitter.fire(t)}}var s=n(423438),u=n(615301),c=n(405591),l=n(172163),d=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};class f{constructor(e){this.options=e,this.init()}get version(){return this.messageCenter.versionManager.getCurrentVersion()}get connectionController(){return this.messageCenter.connectionController}get isConnected(){return this.messageCenter.isConnected()}connect(e){this.messageCenter.openRoom(e)}disconnect(e,t){this.messageCenter.shutDown(e,t)}reconnect(e,t){this.messageCenter.reconnect(e,t)}pause(e=c.Q.ALL){this.messageCenter.pause(e)}resume(e=c.Q.ALL){this.messageCenter.resume(e)}forceResume(e=c.Q.ALL){this.messageCenter.forceResume(e)}onTaskDestroy(e,t,n){var r,i;return null==(i=(r=this.messageCenter.taskQueueManager).onTaskDestroy)?void 0:i.call(r,e,t,n)}sendUserChange(e){let{localUserChangeManager:t}=this.messageCenter,n=e.filter(e=>!t.has(e));n.length>0&&this.messageCenter.addUserChange(n)}sendMessage(e){e.map(e=>this.messageCenter.sendMessage(e))}handleServerUserChanges(e){return d(this,void 0,void 0,function*(){let t=e.map(e=>this.messageCenter.receiveMessageManager.handleServerUserChange(e));return(0,l.A)(t)})}startGetMissChanges(e,t){this.messageCenter.startGetMissChanges(e,t)}getMissChanges(e,t){return d(this,void 0,void 0,function*(){let{getMissChangesUrl:n}=this.options.collabCenterDelegate;if(!n)throw Error("getMissChangesUrl is not implements!");let{globalPadId:r}=this.options.connectionOptions.serverVars;return(0,u.getMissChange)({from:e,to:t,globalPadId:r},n)})}on(e,t){let n=Object.getOwnPropertyDescriptor(this.messageCenter.eventManager,e);return n?(0,n.value)(t):{dispose:()=>{}}}dispose(){this.messageCenter.dispose()}init(){var e,t,n,r,i,o,c,l,d,f,p,h,g,m,v,y,b,_,C;let{documentInfo:I}=null!=(e=this.options.config)?e:{},E=null!=(t=null==I?void 0:I.isCreator)?t:s.h.isCreator,w=null!=(n=null==I?void 0:I.isEditable)?n:s.h.isEditable,S=null!=(i=null==(r=this.options.config)?void 0:r.fullMemberInfo)?i:s.h.fullMemberInfo,D=null!=(c=null==(o=this.options.config)?void 0:o.hotDocsInfo)?c:s.h.hotDocsInfo,M=null!=(d=null==(l=this.options.config)?void 0:l.isSplitMissTask)?d:s.h.isSplitMissTask,T=null!=(p=null==(f=this.options.config)?void 0:f.taskPriority)?p:s.h.taskPriority,A=null!=(g=null==(h=this.options.config)?void 0:h.lastReversionAutomaticAggregation)?g:s.h.lastReversionAutomaticAggregation,x=null!=(v=null==(m=this.options.config)?void 0:m.behindBackendVersionCheck)?v:s.h.behindBackendVersionCheck,N=null!=(b=null==(y=this.options.config)?void 0:y.singleRequestProcessableVersion)?b:s.h.singleRequestProcessableVersion,O=null!=(C=null==(_=this.options.config)?void 0:_.supportBatchAsyncCommit)?C:s.h.supportBatchAsyncCommit;this.messageCenter=new u.MessageCenter(this.options.baseVersion,{isCreator:E,isEditable:w,hotDocsInfo:D,fullMemberInfo:S,isSplitMissTask:M,taskPriority:T,singleRequestProcessableVersion:N,lastReversionAutomaticAggregation:A,behindBackendVersionCheck:x,supportBatchAsyncCommit:O}),this.sendMessageHandler=new a(this),this.messageCenter.setGlobalVars(this.options.connectionOptions),this.messageCenter.setOptionalFunction(Object.assign(Object.assign({},this.options.collabCenterDelegate),{checkIfNeedFollow:this.options.collabCenterDelegate.shouldFollowUserChange})),this.messageCenter.eventManager.onCommitError(e=>this.sendMessageHandler.handleCommitError(e)),this.messageCenter.eventManager.onCommitBlock(e=>this.sendMessageHandler.handleCommitBlock(e)),this.messageCenter.start()}getLocalUserChanges(){return this.messageCenter.getLocalUserChanges()}}},596933:function(e,t,n){"use strict";n.r(t),n.d(t,{CONNECTION_STATE_EVENT:function(){return u.qP},CollabCenter:function(){return r.k},LOCAL_USER_CHANGE_EVENT:function(){return u.uR},RECEIVE_MESSAGE_EVENT:function(){return u.uC},REPORT_EVENT:function(){return u.op},SEND_MESSAGE_EVENT:function(){return u.no},VERSION_EVENT:function(){return u.n7}});var r=n(514438),i=n(313993),o={};for(var a in i)["CONNECTION_STATE_EVENT","VERSION_EVENT","REPORT_EVENT","default","CollabCenter","LOCAL_USER_CHANGE_EVENT","SEND_MESSAGE_EVENT","RECEIVE_MESSAGE_EVENT"].indexOf(a)<0&&(o[a]=(function(e){return i[e]}).bind(0,a));n.d(t,o);var s=n(18031),o={};for(var a in s)["CONNECTION_STATE_EVENT","VERSION_EVENT","REPORT_EVENT","default","CollabCenter","LOCAL_USER_CHANGE_EVENT","SEND_MESSAGE_EVENT","RECEIVE_MESSAGE_EVENT"].indexOf(a)<0&&(o[a]=(function(e){return s[e]}).bind(0,a));n.d(t,o);var u=n(487975)},405591:function(e,t,n){"use strict";var r;n.d(t,{Q:function(){return r}}),function(e){e.SEND="SEND",e.RECEIVE="RECEIVE",e.ALL="ALL"}(r||(r={}))},175952:function(e,t,n){"use strict";var r,i;n.d(t,{l:function(){return r},v:function(){return i}}),function(e){e.WORKING="WORKING",e.PAUSE="PAUSE",e.IDLE="IDLE",e.SHUTDOWN="SHUTDOWN"}(r||(r={})),function(e){e.IMMEDIATELY="IMMEDIATELY",e.IDLE="IDLE",e.SLICE="SLICE"}(i||(i={}))},830893:function(e,t,n){"use strict";var r;n.d(t,{U:function(){return r}}),function(e){e.ACCEPT_TASK="ACCEPT_TASK",e.COLLAB_TASK="COLLAB_TASK",e.MISS_CHANGE_TASK="MISS_CHANGE_TASK",e.BIG_CHANGE_TASK="BIG_CHANGE_TASK"}(r||(r={}))},507070:function(e,t,n){"use strict";var r=n(587421),i=n(705670);let o=0xa00000;class a{constructor(e){this._onQueueChange=new r.Q,this.onQueueChange=this._onQueueChange.event,this._onUserChangeAdd=new r.Q,this.onUserChangeAdd=this._onUserChangeAdd.event,this.waitingQueue=[],this.commitingQueue=[],this.isDuplicateTaskId=e=>!!this.findTask(e),this.findTask=e=>[...this.getCommitingQueue(),...this.getWaitingQueue()].find(t=>this.isEqual(e,t.getTaskId())),this.dependency=e,i.Z.debug("LocalUserChangeManager created")}has(e){return[...this.commitingQueue,...this.waitingQueue].some(t=>this.isEqual(t.getTaskId(),e.taskId))}pushToWaitingQueue(e){this.waitingQueue.push(...e),this.notifyQueueChange(),this._onUserChangeAdd.fire({userChanges:e})}isCommittingEmpty(){return 0===this.commitingQueue.length}isWaitingEmpty(){return 0===this.waitingQueue.length}moveWaitingToCommiting(){if(this.isWaitingEmpty())return;i.Z.debug(`moveWaitingToCommiting: waitingQueue length: ${this.waitingQueue.length}`);let e=this.waitingQueue[0];if(this.dependency.messageCenterOption.supportBatchAsyncCommit&&this.waitingQueue.length>5&&!e.isBatchCommitFail){let e=this.waitingQueue.shift(),t=e.getChangeset().length;for(this.commitingQueue.push(e);this.waitingQueue.length&&!(t>o);){let e=this.waitingQueue.shift();e&&(t+=e.getChangeset().length,this.commitingQueue.push(e))}}else this.commitingQueue.push(this.waitingQueue.shift());this.notifyQueueChange()}moveCommitingToWaiting(e=!1){this.isCommittingEmpty()||(i.Z.debug(`moveCommitingToWaiting: commitingQueue length: ${this.commitingQueue.length}`),e&&this.commitingQueue.forEach(e=>{e.setIsBatchCommitFail(!0)}),this.waitingQueue=this.commitingQueue.concat(this.waitingQueue),this.commitingQueue=[])}clearUserChangeByTaskIdInQueue(e,t){this.clearUserChangeByTaskId(e),this.updateVersion(t)}clearUserChangeByTaskId(e){this.commitingQueue=this.commitingQueue.filter(t=>!this.isEqual(t.getTaskId(),e)),this.waitingQueue=this.waitingQueue.filter(t=>!this.isEqual(t.getTaskId(),e))}clearAllUserChangeQueue(){this.commitingQueue=[],this.waitingQueue=[],this.notifyQueueChange()}getWaitingQueue(){return this.waitingQueue}getCommitingQueue(){return this.commitingQueue}updateVersion(e){[...this.commitingQueue,...this.waitingQueue].forEach(t=>{t.updateBaseVersion(e)}),this.notifyQueueChange()}notifyQueueChange(){this._onQueueChange.fire({waitingQueue:this.waitingQueue.map(e=>e.getOriginData()),commitingQueue:this.commitingQueue.map(e=>e.getOriginData())})}getLocalUserChanges(){return[...this.commitingQueue.map(e=>e.getOriginData()),...this.waitingQueue.map(e=>e.getOriginData())]}dispose(){i.Z.debug("LocalUserChangeManager dispose"),this.waitingQueue=[],this.commitingQueue=[],this._onQueueChange.dispose()}isEqual(e,t){return void 0!==e&&void 0!==t&&`${e}`===`${t}`}}t.Z=a},90525:function(e,t,n){"use strict";var r=n(4020),i=n(587421),o=n(705670),a=n(44488);class s{constructor(){this.roomStatus=r.RoomState.INIT,this.errCode=null,this._onRoomOpen=new i.Q,this.onRoomOpen=this._onRoomOpen.event,this._onConnectionStatusChange=new i.Q,this.onConnectionStatusChange=this._onConnectionStatusChange.event,this._onShutdown=new i.Q,this.onShutdown=this._onShutdown.event,this._onClosed=new i.Q,this.onClosed=this._onClosed.event,this._onSwitchConnectMode=new i.Q,this.onSwitchConnectMode=this._onSwitchConnectMode.event,this._onEnterOnline=new i.Q,this.onEnterOnline=this._onEnterOnline.event,this._onEnterOffline=new i.Q,this.onEnterOffline=this._onEnterOffline.event,this._onNetReconnectedFail=new i.Q,this.onNetReconnectedFail=this._onNetReconnectedFail.event,o.Z.debug("NetworkStatusManager created")}handleOnRoomOpen(){o.Z.info("NetworkStatusManager handleOnRoomOpen"),this.roomStatus=r.RoomState.OPENED,this.errCode=null,this._onRoomOpen.fire()}handleOnRoomStateChange(e,t){o.Z.info(`NetworkStatusManager handleOnRoomStateChange, roomState=${e}, description=`,t),this.roomStatus=e,this._onConnectionStatusChange.fire({status:this.roomStatus,moreInfo:t})}handleNetReconnectedFail(){o.Z.info(`NetworkStatusManager handleNetReconnectedFail roomStatus=${this.roomStatus}`),this._onNetReconnectedFail.fire()}handleOnRoomShutDown(e){if(o.Z.info("NetworkStatusManager handleOnRoomShutDown, reason=",e),this.errCode=e.errCode,e.errCode===a.RoomWebsocketErrorCode.SOCKET_SWITCH_BIG_COLLAB){this.roomStatus=r.RoomState.INIT,this._onSwitchConnectMode.fire(a.ConnectMode.BIG_COLLAB);return}if(e.errCode===a.RoomErrorCode.BIG_COLLAB_CONNECT_TIMEOUT){this.roomStatus=r.RoomState.INIT,this._onSwitchConnectMode.fire(a.ConnectMode.WEBSOCKET_FORCED);return}this.roomStatus=r.RoomState.SHUTDOWN,this._onShutdown.fire({reason:e,status:this.roomStatus})}handleOnRoomClose(e){return(o.Z.info("NetworkStatusManager handleOnRoomClose, reason=",e),this.roomStatus=r.RoomState.RECONNECTING_IN_CLOSED,this.errCode=e.errCode,e.errCode===a.RoomWebsocketErrorCode.SOCKET_SWITCH_BIG_COLLAB)?void this._onSwitchConnectMode.fire(a.ConnectMode.BIG_COLLAB):e.errCode===a.RoomErrorCode.BIG_COLLAB_CONNECT_TIMEOUT?void this._onSwitchConnectMode.fire(a.ConnectMode.WEBSOCKET_FORCED):void(e.shutDown?(this.roomStatus=r.RoomState.SHUTDOWN,this._onShutdown.fire({reason:e,status:this.roomStatus})):this._onClosed.fire({reason:e,status:this.roomStatus}))}getRoomStatus(){return this.roomStatus}getErrCode(){return this.errCode}handleOnEnterOnline(){this._onEnterOnline.fire()}handleOnEnterOffline(){this._onEnterOffline.fire()}dispose(){o.Z.debug("NetworkStatusManager dispose"),this.roomStatus=r.RoomState.INIT,this._onConnectionStatusChange.dispose(),this._onRoomOpen.dispose(),this._onShutdown.dispose(),this._onClosed.dispose()}}t.Z=s},71864:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(587421),i=n(920593),o=n(705670),a=n(172163),s=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};function u(e={}){let{minRemaining:t=-1}=e,{timeout:n}=e;return new Promise(e=>{let r=performance.now(),i=o=>{let{didTimeout:a}=o;if(o.timeRemaining()>t||a)return e(void 0);if(void 0!==n){let t=performance.now();if(n-=t-r,r=t,n<=0)return e(void 0)}c(i,{timeout:n})};c(i,{timeout:n})})}function c(e,t){if((0,a.t)(window.requestIdleCallback)){let n=window.requestIdleCallback(e,t);return()=>window.cancelIdleCallback(n)}{let n=l(e,t);return()=>window.clearTimeout(n())}}function l(e,t){let n,r=performance.now(),i=r,o=()=>{let a=performance.now(),s=50-(a-i),u=(null==t?void 0:t.timeout)!==void 0&&a-r>=t.timeout;if(s<=0&&!u){i=a,n=setTimeout(o,1);return}e({didTimeout:u,timeRemaining:()=>s})};return n=setTimeout(o,1),()=>n}class d{constructor(e=30,t=0){this.initState=()=>{window.clearTimeout(this.timer),this.timer=void 0,this.lastStartTime=void 0,this.duration=0},this.maxDuration=e,this.delay=t,this.initState()}slice(){return s(this,void 0,void 0,function*(){this.lastStartTime&&(this.duration+=Date.now()-this.lastStartTime),this.duration>=this.maxDuration&&(yield f(this.delay),this.initState()),this.timer||(this.timer=setTimeout(this.initState,this.delay)),this.lastStartTime=Date.now()})}}function f(e){return s(this,void 0,void 0,function*(){return new Promise(t=>{setTimeout(t,e)})})}var p=n(141795),h=n(175952),g=n(830893),m=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};let v=6e4,y=30;class b{constructor(e=h.v.IMMEDIATELY){this.priority=e,this.taskDeadloopMap=new Map,this.taskList=[],this.status=h.l.IDLE,this.checkTaskQueueTimer=0,this._onTaskError=new r.Q,this.onTaskError=this._onTaskError.event,this._onTaskDestroy=new r.Q,this.onTaskDestroy=this._onTaskDestroy.event,this._onTaskShutDown=new r.Q,this.onTaskShutDown=this._onTaskShutDown.event,o.Z.info("TaskQueueManager created")}get length(){return this.taskList.length}getStatus(){return this.status}isEmpty(){return 0===this.taskList.length}isQueueWorking(){return this.status===h.l.WORKING}get hasMissChangeTask(){var e;return(null==(e=this.currentTask)?void 0:e.type)===g.U.MISS_CHANGE_TASK||this.taskList.some(e=>e.type===g.U.MISS_CHANGE_TASK)}pause(){if(o.Z.info(`TaskQueueManager pause, task length = ${this.taskList.length}, current task = `,this.currentTask),this.switchStatus(h.l.PAUSE),this.currentTask){let e=this.currentTask.reset();this.currentTask=void 0,this.pushTask([e],0)}this.clearCheckTaskQueueTimer(),this.checkTaskQueueTimer=setTimeout(()=>{i.Z.report(p.Yo.TASK_QUEUE_NOT_RESUME_AFTER_60_SECOND)},v)}resume(){o.Z.info(`TaskQueueManager resume, task length: ${this.taskList.length}, status:${this.status}`),this.clearCheckTaskQueueTimer(),this.status!==h.l.SHUTDOWN&&this.switchStatus(h.l.WORKING)}forceResume(){o.Z.info(`TaskQueueManager forceResume, task length: ${this.taskList.length}, status:${this.status}`),this.switchStatus(h.l.WORKING,!0),this.clearCheckTaskQueueTimer()}shutDown(e){o.Z.warn("TaskQueueManager shutDown, error = ",null==e?void 0:e.stack,null==e?void 0:e.message),this.switchStatus(h.l.SHUTDOWN),this._onTaskShutDown.fire(),this.clearCheckTaskQueueTimer()}pushTask(e,t){void 0===t&&(t=this.length);let n="";if(Array.isArray(e)){if(this.taskList.splice(t,0,...e),e.length){let[t]=e;n=t.type}}else this.taskList.splice(t,0,e),n=e.type;o.Z.info(`TaskQueueManager pushTask, taskQueue length: ${this.taskList.length}, index: ${t}, status:${this.status} type:${n}`),this.status===h.l.IDLE&&this.switchStatus(h.l.WORKING)}dispose(){o.Z.info("TaskQueueManager dispose"),this.status=h.l.SHUTDOWN,this.currentTask=void 0,this.taskList=[],this._onTaskDestroy.dispose(),this._onTaskError.dispose()}handleOnRoomOpen(){this.taskDeadloopMap=new Map}hasNext(){return!this.isEmpty()}work(){o.Z.debug("TaskQueueManager work"),this.hasNext()?this.runNext():this.switchToIdle()}popTask(){if(o.Z.debug("TaskQueueManager popTask"),0!==this.length)return this.taskList.shift()}runNext(){return m(this,void 0,void 0,function*(){o.Z.debug("TaskQueueManager runNext");let e=this.popTask();if(e){let t=e.taskIdentify(),n=this.taskDeadloopMap.get(t)||0;if(n>y)return void this._onTaskError.fire({error:Error(`DEADLOOP_DETECTED (${e.taskId}|${e.type})`),currentTask:e});this.taskDeadloopMap.set(t,n+1),this.currentTask=e,o.Z.info("TaskQueueManager runNext: run task, task=",{type:e.type,taskId:e.taskId,status:e.getCurrentStatus()}),yield this.awaitRunByPriority();let r=yield e.run().catch(t=>{o.Z.error("TaskQueueManager runNext: run error",null==t?void 0:t.message),this.pause(),this._onTaskError.fire({error:t,currentTask:e})});r&&(o.Z.debug("TaskQueueManager runNext: run task result, resultTask=",r.map(e=>({type:e.type,taskId:e.taskId,status:e.getCurrentStatus()}))),this.pushTask(r,0)),this.destroyTaskAndCheckQueueStatus(e)}})}awaitRunByPriority(){return m(this,void 0,void 0,function*(){switch(this.priority){case h.v.IDLE:return void(yield u({timeout:100,minRemaining:10}));case h.v.SLICE:this.timeSlicer||(this.timeSlicer=new d),yield this.timeSlicer.slice();return;case h.v.IMMEDIATELY:return}})}destroyTaskAndCheckQueueStatus(e){o.Z.debug("TaskQueueManager destroyTaskAndCheckQueueStatus"),e===this.currentTask?(this.currentTask=void 0,this._onTaskDestroy.fire(e),this.isQueueWorking()?this.work():this.switchToIdle()):this._onTaskDestroy.fire(e)}switchStatus(e,t=!1){if(o.Z.info(`TaskQueueManager switchStatus this.status:${this.status}, newStatus:${e}, taskQueue length: ${this.taskList.length}`),this.status===h.l.SHUTDOWN&&!t)return;let n=!1;this.status!==h.l.WORKING&&e===h.l.WORKING&&(n=!0),this.status=e,n&&this.work()}clearCheckTaskQueueTimer(){this.checkTaskQueueTimer&&clearTimeout(this.checkTaskQueueTimer),this.checkTaskQueueTimer=0}switchToIdle(){this.status!==h.l.PAUSE&&this.switchStatus(h.l.IDLE)}}},111914:function(e,t,n){"use strict";var r=n(141795),i=n(587421),o=n(705670),a=n(920593);class s{constructor(e){this._onVersionChange=new i.Q,this.onVersionChange=this._onVersionChange.event,this.currentVersion=e,o.Z.debug(`VersionManager created, baseVersion=${e}`)}getCurrentVersion(){return this.currentVersion}updateVersion(e){o.Z.info(`VersionManager updateVersion, currentVersion=${this.currentVersion}, newVersion=${e}`);let{currentVersion:t}=this;if(t>e)return void a.Z.report(r.Yo.UPDATE_VERSION_ERROR,{currentVersion:t,newVersion:e});this.currentVersion=e,this._onVersionChange.fire({newVersion:e,currentVersion:t})}dispose(){o.Z.debug("VersionManager dispose"),this.currentVersion=0,this._onVersionChange.dispose()}}t.Z=s},615301:function(e,t,n){"use strict";n.r(t),n.d(t,{AcceptTask:function(){return d.Z},BaseMessageCenter:function(){return a.Z},BaseTask:function(){return l.Z},BigChangeTask:function(){return p.Z},COMMIT_ERROR_TYPE:function(){return E.T},CollabErrorCode:function(){return T.K},CollabTask:function(){return f.Z},ConnectionRecoverHelper:function(){return D.c},LOG_TYPE:function(){return w.k},LocalUserChange:function(){return c.Z},LocalUserChangeManager:function(){return s.Z},MISS_CHANGE_ERROR_TYPE:function(){return M.iv},MessageCenter:function(){return b.p},MissChangeTask:function(){return h.Z},NetworkStatusManager:function(){return o.Z},PauseOrResumeType:function(){return C.Q},QUEUE_STATUS:function(){return I.l},REPORT_MONITOR_REMARK:function(){return M.FI},REPORT_MONITOR_TYPE:function(){return M.Yo},SERVER_MESSAGE_TYPE:function(){return M.nn},ServerUserChange:function(){return u.Z},TASK_PRIORITY:function(){return I.v},TaskQueueManager:function(){return i.Z},VersionManager:function(){return r.Z},defaultMessageCenterOption:function(){return _.h},getMissChange:function(){return S.Tn},sendRequestWithRetry:function(){return S.Ix}});var r=n(111914),i=n(71864),o=n(90525),a=n(918842),s=n(507070),u=n(440659),c=n(619450),l=n(44482),d=n(259567),f=n(639689),p=n(955320),h=n(206130),g=n(44488),m={};for(var v in g)["getMissChange","BaseTask","CollabTask","ServerUserChange","SERVER_MESSAGE_TYPE","LocalUserChangeManager","BigChangeTask","ConnectionRecoverHelper","REPORT_MONITOR_REMARK","CollabErrorCode","default","MessageCenter","BaseMessageCenter","MISS_CHANGE_ERROR_TYPE","defaultMessageCenterOption","LocalUserChange","sendRequestWithRetry","PauseOrResumeType","LOG_TYPE","MissChangeTask","AcceptTask","REPORT_MONITOR_TYPE","VersionManager","TaskQueueManager","TASK_PRIORITY","QUEUE_STATUS","NetworkStatusManager"].indexOf(v)<0&&(m[v]=(function(e){return g[e]}).bind(0,v));n.d(t,m);var y=n(596933),m={};for(var v in y)["getMissChange","BaseTask","CollabTask","ServerUserChange","QUEUE_STATUS","LocalUserChangeManager","BigChangeTask","ConnectionRecoverHelper","NetworkStatusManager","CollabErrorCode","default","MessageCenter","BaseMessageCenter","MISS_CHANGE_ERROR_TYPE","defaultMessageCenterOption","LocalUserChange","sendRequestWithRetry","PauseOrResumeType","LOG_TYPE","MissChangeTask","AcceptTask","REPORT_MONITOR_TYPE","VersionManager","TaskQueueManager","TASK_PRIORITY","SERVER_MESSAGE_TYPE","REPORT_MONITOR_REMARK"].indexOf(v)<0&&(m[v]=(function(e){return y[e]}).bind(0,v));n.d(t,m);var b=n(287447),_=n(423438),C=n(405591),I=n(175952),E=n(487650),w=n(705670),S=n(889540),D=n(725468),M=n(141795),T=n(459787)},423438:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});let r={isCreator:!1,isEditable:!1,hotDocsInfo:{enable:!1,isHotDocs:!1,isQueryData:!1},fullMemberInfo:{enable:!1,isFullMember:!1},isSplitMissTask:!1,taskPriority:n(175952).v.IMMEDIATELY,lastReversionAutomaticAggregation:!1,singleRequestProcessableVersion:50,behindBackendVersionCheck:()=>!1,supportBatchAsyncCommit:!1}},287447:function(e,t,n){"use strict";n.d(t,{p:function(){return el}});var r,i,o=n(44488),a=n(705670),s=n(920593),u=n(587421),c=n(141795),l=n(259567),d=n(206130);function f(e){let{result:t}=e,n=0;return 0===t.errCode&&t.response||(n=p(e)),n}function p(e){var t,n,r,i;let{result:o}=e,a=null==(n=null==(t=o.response)?void 0:t.onpost)?void 0:n.result,s=(null==(i=null==(r=o.response)?void 0:r.body)?void 0:i.data.reason)||o.errCode;return a||s}var h=n(615301),g=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};let m=1e3,v=5e3,y=3,b=[o.RoomErrorCode.TIMEOUT,o.RoomErrorCode.ROOM_DISCONNECT,o.RoomErrorCode.ROOM_CLOSE,o.RoomErrorCode.ROOM_STATE_ERR,o.RoomWebsocketErrorCode.SOCKET_SWITCH_BIG_COLLAB],_=[o.RoomWebsocketErrorCode.SOCKET_DATA_SAVE_FAIL,o.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MIDDLE_SERVER_ERROR,o.RoomWebsocketErrorCode.SOCKET_HACKPAD_TIMEOUT,o.RoomWebsocketErrorCode.SOCKET_SERVER_WAITTING_TOO_LONG,o.RoomWebsocketErrorCode.SOCKET_SERVER_WAITTING_TIMEOUT,o.DataEngineCodes.ERR_GetDataEngineLockErr],C=[o.RoomWebsocketErrorCode.SOCKET_CLIENT_NOT_READY_ERROR,o.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_TIMEOUT,o.RoomWebsocketErrorCode.SOCKET_COLLAB_SERVER_TIMEOUT,o.RoomWebsocketErrorCode.SOCKET_SERVER_STORAGE_TIMEOUT,o.RoomWebsocketErrorCode.SOCKET_SERVER_CGI_TIMEOUT,o.RoomWebsocketErrorCode.SOCKET_FREQUENCY_LIMIT,o.RoomWebsocketErrorCode.SOCKET_AUTH_TIMEOUT,o.RoomWebsocketErrorCode.SOCKET_GET_PRIVILEGE_TIMEOUT];!function(e){e.INIT="INIT",e.NEED_RETRY="NEED_RETRY",e.RETRY_ING="RETRY_ING",e.BLOCK="BLOCK"}(r||(r={}));let I=3*o.DEFAULT_SEND_MESSAGE_TIMEOUT;class E{constructor(e){this.retryCommitCount=0,this.retryPostCount=0,this.isPause=!1,this._onAcceptCommit=new u.Q,this.onAcceptCommit=this._onAcceptCommit.event,this._onCommitError=new u.Q,this.onCommitError=this._onCommitError.event,this._onRetryCommit=new u.Q,this.onRetryCommit=this._onRetryCommit.event,this.commitingStatus="INIT",this._onCommitBlock=new u.Q,this.onCommitBlock=this._onCommitBlock.event,this.onCommitFailEmitter=new u.Q,this.onCommitFail=this.onCommitFailEmitter.event,this._onSwitchConnectMode=new u.Q,this.onSwitchConnectMode=this._onSwitchConnectMode.event,this.lastRequestTime=0,this.dependency=e,this.loop(),a.Z.debug("SendMessageManager created")}resetRetryCount(){this.retryCommitCount=0,this.retryPostCount=0}getIsPause(){return this.isPause}pause(){this.isPause=!0}resume(){this.isPause=!1,this.checkAndSend()}addUserChange(e){a.Z.debug("SendMessageManager addUserChange, userChanges taskId",e.map(e=>e.getTaskId())),this.dependency.localUserChangeManager.pushToWaitingQueue(e),this.checkAndSend()}sendMessage(e){if(!this.isReadyToSendMessage())return void e.onError(e.taskId,e.cmd,e.data,{errCode:h.CollabErrorCode.UNSENT,errMsg:"connect is false or pause."});"USER_CHANGES"===e.cmd&&a.Z.info(`SendMessageManager sendMessage,cmd: USER_CHANGES, taskId:${e.taskId}`),this.dependency.connectionController.sendMessage({cmd:e.cmd,taskId:e.taskId||(0,o.generateMessageTaskId)(),data:e.data,customParam:e.customParam,onsend:e.onsend,onsendAccept:e.onsendAccept,onError:e.onError})}acceptCommit(e,t,n){var r;a.Z.info(`SendMessageManager acceptCommit, newVersion=${e}, taskId:${t}`);let i=this.dependency.localUserChangeManager.findTask(t);if(this.dependency.localUserChangeManager.clearUserChangeByTaskIdInQueue(t,e),e>this.dependency.versionManager.getCurrentVersion()&&this.dependency.versionManager.updateVersion(e),!i)return;let o=i.getOriginData();o.otherOptions||(o.otherOptions={}),o.otherOptions.result=n,this._onAcceptCommit.fire({newVersion:e,data:o}),null==(r=null==i?void 0:i.onSuccess)||r.call(i,e,o),this.lastRequestTime=0,this.checkAndSend()}commitAfterUpdateVersionToLatest(e,t){this.updateVersionToLatest({toVersion:e,index:t,onDestroy:()=>{this.lastRequestTime=0,this.loop(0)}})}dispose(){a.Z.debug("SendMessageManager dispose"),this.commitingStatus="INIT",this.lastRequestTime=0,this.dependency=null,this._onAcceptCommit.dispose(),this._onCommitError.dispose(),this._onRetryCommit.dispose(),this.clearLoopTimer()}updateVersionToLatest(e){let{toVersion:t,index:n,onDestroy:r}=e,i=this.dependency.versionManager.getCurrentVersion();if(a.Z.debug(`SendMessageManager updateVersionToLatest, currentVersion=${i}, toVersion=${t}`),t&&i>=t)return;let o=new d.Z({from:i+1,to:t},{missChangeDependency:this.missChangeDependency,versionManager:this.dependency.versionManager,acceptCommitDependency:this.dependency,onDestroy:r});this.dependency.taskQueueManager.pushTask(o,n)}checkAndSend(){if(this.isReadyToSendMessage()){if(this.dependency.localUserChangeManager.isCommittingEmpty()&&!this.dependency.localUserChangeManager.isWaitingEmpty()){this.dependency.localUserChangeManager.moveWaitingToCommiting(),this.sendUserChange();return}if(!this.dependency.localUserChangeManager.isCommittingEmpty()&&this.checkNeedRetry())return void this.retryCommit()}}sendUserChange(){if(!this.isReadyToSendMessage())return;let e=this.dependency.localUserChangeManager.getCommitingQueue();if(0!==e.length){if(this.lastRequestTime=new Date().getTime(),1===e.length){let[t]=e;this.sendMessage({cmd:"USER_CHANGES",taskId:t.getTaskId(),data:t.getPreparedData(),customParam:{timeout:o.DEFAULT_SEND_MESSAGE_TIMEOUT,maxRetryCount:3,waitAcceptCmd:["ACCEPT_COMMIT","COMMIT_ERROR","TASK_DUPLICATE"]},onsend:this.onSend.bind(this),onsendAccept:this.onSendAccept.bind(this),onError:this.handleError.bind(this)}),s.Z.report(c.Yo.SEND_USERCHANGE,{userChange:t.getOriginData(),isFirstCommit:"NEED_RETRY"!==this.commitingStatus});return}this.batchSendMessage(e)}}batchSendMessage(e){var t,n;return g(this,void 0,void 0,function*(){a.Z.debug("SendMessageManager sendUserChange: commit batch userChanges, userChanges taskId=",e.map(e=>e.getTaskId()));let r=e.map(e=>e.getData()),i=this.dependency.versionManager.getCurrentVersion(),o={supportAsyncCommit:this.dependency.messageCenterOption.supportBatchAsyncCommit,loopBatchCommitStatusCallBack:()=>{this.lastRequestTime=new Date().getTime()}};try{let{success:n,retCode:s,type:u,data:c}=yield this.dependency.connectionController.batchCommitMessages(r,i,o);if(!n){a.Z.info(`batchSendMessage fail, retCode=${s} errotType:${u}`);let n=this.dependency.localUserChangeManager.getCommitingQueue()[0];(null==n?void 0:n.getTaskId())===(null==(t=e[0])?void 0:t.getTaskId())&&this.dependency.localUserChangeManager.moveCommitingToWaiting(!0);return}null==c||c.forEach(e=>{let t={errCode:s,response:{new_rev:e.new_rev,body:{data:{changeset:e.changeset,author:e.author,changesetType:e.changesetType,commitId:e.commitId,subid:e.subId,applyTime:e.applyTime}}}};this.handleAcceptCommit(e.newRev,e.commitId,t)})}catch(r){let t=this.dependency.localUserChangeManager.getCommitingQueue()[0];(null==t?void 0:t.getTaskId())===(null==(n=e[0])?void 0:n.getTaskId())&&this.dependency.localUserChangeManager.moveCommitingToWaiting(!0),a.Z.error("batchSendMessage error",r.toString())}})}checkNeedRetry(){return"NEED_RETRY"===this.commitingStatus||"BLOCK"!==this.commitingStatus&&(0===this.lastRequestTime?(this.lastRequestTime=Date.now(),!1):!this.isCommittingBlocked()&&this.isCommittingTimeout())}retryCommit(){var e;this.commitingStatus="RETRY_ING",this.sendUserChange();let t=this.dependency.localUserChangeManager.getCommitingQueue();this._onRetryCommit.fire(t.map(e=>e.getOriginData())),s.Z.report(c.Yo.RETRY_COMMIT,{commitingQueue:null==(e=this.dependency)?void 0:e.localUserChangeManager.getCommitingQueue().map(e=>e.getData()),lastRequestTime:this.lastRequestTime,currentTime:new Date().getTime()})}isCommittingTimeout(){return Date.now()-this.lastRequestTime>I&&(a.Z.info("SendMessageManager handleRetryCommit: timeout, need retry"),this.commitingStatus="NEED_RETRY",!0)}isCommittingBlocked(){var e,t;if(Date.now()-this.lastRequestTime>I&&"RETRY_ING"===this.commitingStatus){let n=this.dependency.localUserChangeManager.getCommitingQueue();return this._onCommitBlock.fire(n.map(e=>e.getOriginData())),a.Z.error("SendMessageManager handleRetryCommit: commit block\uFF0C timeout multiple times"),s.Z.report(c.Yo.COMMITING_BLOCK_ERROR,{commitingQueue:null==(e=this.dependency)?void 0:e.localUserChangeManager.getCommitingQueue().map(e=>e.getOriginData()),waitingQueue:null==(t=this.dependency)?void 0:t.localUserChangeManager.getWaitingQueue().map(e=>e.getOriginData()),lastRequestTime:this.lastRequestTime,currentTime:new Date().getTime()}),this.commitingStatus="BLOCK",!0}return!1}onSend(e,t,n,r){var i,o;a.Z.info(`SendMessageManager onSend, taskId:${e}, cmd:${t}`),this.handleError(e,t,n,r);let u=f({taskId:e,cmd:t,data:n,result:r});0!==u&&s.Z.report(c.Yo.COMMIT_REQUEST_FAIL,{errorCode:u,errorMessage:null==(o=null==(i=null==r?void 0:r.response)?void 0:i.onpost)?void 0:o.result})}handleError(e,t,n,r){let i=f({taskId:e,cmd:t,data:n,result:r});0!==i&&(a.Z.info(`SendMessageManager handleError, errorCode=${i}, taskId=${e}, cmd=${t}, result=`,r),this.handleErrorCode(i,{cmd:t,result:r,type:"ON_ERROR",taskId:e}))}onSendAccept(e,t,n,r,i){var u;let l={taskId:e,cmd:t,data:n,waitCmd:r,result:i};if(a.Z.info(`SendMessageManager onSendAccept, taskId=${e}, cmd=${t}, waitCmd=${r}`),r===o.MessageWaitAcceptCmd.ACCEPT_COMMIT)this.handleAcceptCommit(null==(u=l.result.response)?void 0:u.new_rev,e,i),s.Z.report(c.Yo.COMMIT_REQUEST_SUCCESS);else if(r===o.MessageWaitAcceptCmd.COMMIT_ERROR){let n=p(l);a.Z.error(`SendMessageManager onSendAccept, commit error, code=${n}, message:${i.errMsg}`),this.handleErrorCode(n,{cmd:t,result:i,type:"ON_SEND_ACCEPT",taskId:e}),s.Z.report(c.Yo.COMMIT_REQUEST_FAIL,{errorCode:n,errorMessage:i.errMsg})}else r===o.MessageWaitAcceptCmd.TASK_DUPLICATE&&(a.Z.error("SendMessageManager onSendAccept: task duplicate"),s.Z.report(c.Yo.ACCEPT_TASK_DUPLICATE,l),this.handleDuplicateTask(l))}handleErrorCode(e,t){if(0===e)return;a.Z.info(`SendMessageManager handleErrorCode, errorCode:${e}`);let{cmd:n,result:r,type:i="ON_ERROR"}=t||{};e===o.RoomWebsocketErrorCode.SOCKET_SWITCH_BIG_COLLAB&&this._onSwitchConnectMode.fire(o.ConnectMode.BIG_COLLAB);let s=this.dependency.localUserChangeManager.getCommitingQueue(),u=this.checkErrorCodeIfNeedRetry(e,r);if(u.needRetry)return this.commitingStatus="NEED_RETRY",this.loop(u.retryInterval);this._onCommitError.fire({errorCode:e,cmd:n,result:r,type:i,commitingQueue:s.map(e=>e.getOriginData())}),e===h.CollabErrorCode.DOC_ENGINE_RESTRICT_EDIT_PASSWORD_ERROR&&(null==t?void 0:t.taskId)&&this.dependency.localUserChangeManager.clearUserChangeByTaskId(t.taskId),s.forEach(t=>{var n;null==(n=t.onFailed)||n.call(t,e,t.getOriginData())}),this.resetCommitingStatus(),this.resetRetryCount()}handleAcceptCommit(e,t,n){a.Z.debug(`SendMessageManager handleAcceptCommit, taskId:${t}, newVersion:${e}`);let r=new l.Z({to:e,acceptCommitDependency:this.dependency,versionManager:this.dependency.versionManager,taskId:t,missChangeDependency:this.missChangeDependency,otherOptions:n});this.dependency.taskQueueManager.pushTask(r),this.resetCommitingStatus(),this.resetRetryCount()}loop(e){this.loopTimer&&clearTimeout(this.loopTimer),this.loopTimer=setTimeout(()=>{this.checkAndSend(),this.loop()},void 0!==e?e:m)}handleDuplicateTask(e){var t;let n=e.result.response.body.data.lastRev,{taskId:r}=e,i=this.dependency.versionManager.getCurrentVersion();if(a.Z.info(`SendMessageManager handleDuplicateTask, latestVersion=${n}, currentVersion=${i}, taskId=${r}`),this.resetCommitingStatus(),n<=i+1){if(!this.dependency.localUserChangeManager.findTask(r))return void a.Z.warn("SendMessageManager handleDuplicateTask, task has been handled");if(n===i+1){a.Z.warn("SendMessageManager handleDuplicateTask, task covert to accept commit");let t=new l.Z({to:n,acceptCommitDependency:this.dependency,versionManager:this.dependency.versionManager,taskId:r,missChangeDependency:this.missChangeDependency,otherOptions:e.result});this.dependency.taskQueueManager.pushTask(t);return}null==(t=this.dependency)||t.shutDown(c.Yo.HANDLE_TASK_DUPLICATE_VERSION_ERROR),a.Z.error("SendMessageManager handleDuplicateTask, need to clean offline data"),s.Z.report(c.Yo.HANDLE_TASK_DUPLICATE_VERSION_ERROR,{latestVersion:n,currentVersion:i,packet:e})}else{let e=new d.Z({from:i+1,to:n},{missChangeDependency:this.missChangeDependency,versionManager:this.dependency.versionManager,acceptCommitDependency:this.dependency});this.dependency.taskQueueManager.pushTask(e,0)}}resetCommitingStatus(){this.commitingStatus="INIT"}isReadyToSendMessage(){let e=this.dependency.connectionController.isConnected();return this.updateConnectedStatus(e),e&&!this.isPause}updateConnectedStatus(e){e!==this.isConnected&&a.Z.info(`SendMessageManager updateConnectedStatus, isConnected = ${e}`),this.isConnected=e}clearLoopTimer(){this.loopTimer&&(clearTimeout(this.loopTimer),this.loopTimer=void 0)}checkErrorCodeIfNeedRetry(e,t){var n,r,i,o,a,s,u;let c=!1,l=0,d=null!=(u=null!=(o=null==(i=null==(r=null==(n=null==t?void 0:t.response)?void 0:n.body)?void 0:r.data)?void 0:i.retry_interval)?o:null==(s=null==(a=null==t?void 0:t.response)?void 0:a.onpost)?void 0:s.retry_interval)?u:v;return b.includes(e)?(c=!0,l=v):_.includes(e)&&this.retryCommitCount<y?(c=!0,l=d,this.retryCommitCount=this.retryCommitCount+1):C.includes(e)&&this.retryPostCount<y?(c=!0,l=d,this.retryPostCount=this.retryPostCount+1):[h.CollabErrorCode.DATA_INITING].includes(e)&&this.retryCommitCount<2*y&&(c=!0,this.retryCommitCount=this.retryCommitCount+1,l=d*this.retryCommitCount),{needRetry:c,retryInterval:l}}get missChangeDependency(){var e,t,n;return{globalPadId:null==(t=(e=this.dependency).getGlobalVars)?void 0:t.call(e).serverVars.globalPadId,getMissChangesUrl:this.dependency.getMissChangesUrl,sendMissChangeRequest:this.dependency.sendMissChangeRequest,isDuplicateTaskId:null==(n=this.dependency)?void 0:n.localUserChangeManager.isDuplicateTaskId,isSplitMissTask:this.dependency.messageCenterOption.isSplitMissTask}}}var w=E,S=n(43534),D=n(639689),M=n(440659),T=n(955320),A=n(830893);let x=e=>e.type===A.U.MISS_CHANGE_TASK,N=50;class O{constructor(e){this.acceptReversion=0,this.loadedMissChangeVersion=0,this._onReceiveOtherMessage=new u.Q,this._onReceiveBaseCalcRevMessage=new u.Q,this.onReceiveBaseCalcRevMessage=this._onReceiveBaseCalcRevMessage.event,this.onReceiveOtherMessage=this._onReceiveOtherMessage.event,this._onReceiveMessage=new u.Q,this.onReceiveMessage=this._onReceiveMessage.event,this.createMissChangesTask=(e,t)=>{let n=new d.Z({from:e,to:t},{missChangeDependency:this.missChangeDependency,versionManager:this.dependency.versionManager,acceptCommitDependency:this.dependency,onBaseCalcRev:e=>this._onReceiveBaseCalcRevMessage.fire(e)});this.dependency.taskQueueManager.pushTask(n)},this.handleReversion=()=>{var e,t;if(!(null==(e=this.dependency)?void 0:e.isConnected()))return;let n=(null==(t=this.dependency)?void 0:t.messageCenterOption.singleRequestProcessableVersion)||N,r=this.dependency.versionManager.getCurrentVersion();if(r>=this.acceptReversion||this.loadedMissChangeVersion>=this.acceptReversion)return;let i=Math.max(this.loadedMissChangeVersion,r)+1,o=Math.min(this.acceptReversion,i+n-1);this.createMissChangesTask(i,o),this.acceptReversion-r>200&&s.Z.report(c.Yo.LATEST_VERSION_BACKLOG,{currentVersion:r,acceptReversion:this.acceptReversion,loadedMissChangeVersion:this.loadedMissChangeVersion})},this.initTaskDestroyListener=()=>{var e;null==(e=this.dependency)||e.taskQueueManager.onTaskDestroy(e=>{x(e)&&(this.loadedMissChangeVersion=e.getLoadedLatestVersion,this.handleReversionWhenIdel())})},this.handleReversionWhenIdel=()=>{var e;(null==(e=this.dependency)?void 0:e.taskQueueManager.hasMissChangeTask)||this.handleReversion()},this.getIsVersionGapExceed=(e,t)=>{var n,r;let i=null==(n=this.dependency)?void 0:n.messageCenterOption.behindBackendVersionCheck;if(null==i?void 0:i(e,t))return null==(r=this.dependency)||r.shutDown(`\u5F53\u524D\u7248\u672C:${e} \u6700\u65B0\u7248\u672C:${t} \u7248\u672C\u5DEE\u8D85\u8FC7\u6700\u5927\u9650\u5236`,h.CollabErrorCode.VERSION_BEHIND_BACKEND_TOO_FAR),!0},this.dependency=e,a.Z.debug("ReceiveMessageManager created"),this.initTaskDestroyListener()}handleReceiveMessageFromServer(e){if(!(null==e?void 0:e.type)||!(0,S.isArray)(e.data))return;let{type:t,data:n}=e;if(t!==c.nn.CURSOR_MESSAGE&&a.Z.debug(`ReceiveMessageManager handleReceiveMessageFromServer, type=${t}, data=`,n),this._onReceiveMessage.fire({type:t,data:n}),t===c.nn.NEW_CHANGES)this.handleNewChange(n);else if(t===c.nn.LAST_REVERSION){let[e]=n;this.handleLastRervesion(e)}else t===c.nn.BIG_CHANGES?this.handleBigChange(n):this._onReceiveOtherMessage.fire({type:t,data:n})}handleNewChange(e){a.Z.debug("ReceiveMessageManager handleNewChange"),e.forEach(e=>{let{body:t,newRev:n,ts:r}=e,{commitId:i}=t.data,o=new M.Z(Object.assign(Object.assign({userChangesOrigin:M.P.COLLAB_CHANGE,taskId:i,time:r},t.data),{newRev:n}));s.Z.report(c.Yo.HANDLE_NEW_CHANGES,e),this.handleServerUserChange(o)})}handleServerUserChange(e){let t=new D.Z(e.getTaskId(),e,{missChangeDependency:this.missChangeDependency,versionManager:this.dependency.versionManager,acceptCommitDependency:this.dependency});return this.dependency.taskQueueManager.pushTask(t),t}handleLastRervesion(e){var t,n;let r=this.dependency.versionManager.getCurrentVersion(),i=null==(n=null==(t=null==e?void 0:e.body)?void 0:t.notice)?void 0:n.lastRev,{acceptReversion:o,loadedMissChangeVersion:s}=this;a.Z.info(`ReceiveMessageManager handleLastRervesion, lastReversion: ${i}, currentVersion: ${r}, acceptReversion: ${o}, loadedMissChangeVersion: ${s}`),!(r>=i)&&(this.acceptReversion=i,this.getIsVersionGapExceed(r,i)||this.handleReversionWhenIdel())}applyServerUserChanges(e){var t,n;let r=new M.Z(e);return this.dependency.localUserChangeManager.isDuplicateTaskId(r.getTaskId())?(this.dependency.acceptCommit(r.getVersion(),r.getTaskId()),null==(n=(t=this.dependency).cancelSendMessageByTaskId)||n.call(t,r.getTaskId()),!0):this.handleApplyServerUserChange(r)}dispose(){a.Z.debug("ReceiveMessageManager dispose"),this.dependency=null,this._onReceiveMessage.dispose(),this._onReceiveOtherMessage.dispose()}handleBigChange(e){e.forEach(e=>{a.Z.info(`ReceiveMessageManager handleBigChange, newVersion:${e.newRev}`);let{newRev:t}=e,n=new T.Z({version:t,taskId:e.body.data.commitId,missChangeDependency:this.missChangeDependency,versionManager:this.dependency.versionManager,localUserChangeManager:this.dependency.localUserChangeManager,acceptCommitDependency:this.dependency});this.dependency.taskQueueManager.pushTask(n,0)})}handleApplyServerUserChange(e){var t,n,r;let i,o=this.dependency.versionManager.getCurrentVersion(),u=e.getVersion();if(u<=o)return a.Z.warn(`ReceiveMessageManager handleApplyServerUserChange version error, currentVersion = ${o}, newVersion = ${u}`),!1;try{i=this.handleFollow(e)}catch(t){return a.Z.error("ReceiveMessageManager handleApplyServerUserChange handleFollow error, error = ",null==t?void 0:t.stack,null==t?void 0:t.message),s.Z.report(c.Yo.HANDLE_FOLLOW_ERROR,e.getData()),!1}try{null==(n=(t=this.dependency.collabDependency).applyServerUserChanges)||n.call(t,i.getData());let o=e.getVersion();o>this.dependency.versionManager.getCurrentVersion()&&(this.dependency.versionManager.updateVersion(o),null==(r=this.dependency)||r.localUserChangeManager.notifyQueueChange())}catch(t){return a.Z.error("ReceiveMessageManager handleApplyServerUserChange onApplyServerUserChanges error, error = ",null==t?void 0:t.stack,null==t?void 0:t.message),s.Z.report(c.Yo.APPLY_SERVER_USER_CHANGE_ERROR,e.getData()),!1}return!0}handleFollow(e){var t,n,r;let i;if(a.Z.debug("ReceiveMessageManager handleFollow"),!1===(null==(n=(t=this.dependency.collabDependency).checkIfNeedFollow)?void 0:n.call(t,e.getData())))return e;let o=[...this.dependency.localUserChangeManager.getCommitingQueue(),...this.dependency.localUserChangeManager.getWaitingQueue()],s=e.getChangeset();i=e.getBase64Commands();let u=e.changesetType;for(let t of o){let n,o,a,c=t.getChangeset(),l=t.getBase64Commands(),d=t.changesetType;if(null==(r=this.dependency)?void 0:r.collabDependency.multiTypeFollow){let e=this.handleMultiTypeFollow({changesetType:d,changeset:c,base64Commands:l},{changesetType:u,changeset:s,base64Commands:i});({changeset:n,base64Commands:o,changesetType:a}=e.localChangeString),{changeset:s,base64Commands:i,changesetType:u}=e.serverChangeString}else{let e=this.handleSingleTypeFollow(c,s);({localChangeset:n,serverChangeset:s}=e)}t.setChangeset({changeset:n,base64Commands:o,changesetType:a}),t.updateBaseVersion(e.getVersion())}return e.setChangeset({changeset:s,base64Commands:i,changesetType:u}),e}handleMultiTypeFollow(e,t){var n,r,i,o,a,s;return{localChangeString:null==(i=null==(n=this.dependency)?void 0:(r=n.collabDependency).multiTypeFollow)?void 0:i.call(r,t,e,!1),serverChangeString:null==(s=null==(o=this.dependency)?void 0:(a=o.collabDependency).multiTypeFollow)?void 0:s.call(a,e,t,!0)}}handleSingleTypeFollow(e,t){var n,r,i,o,a,s;return{localChangeset:null==(i=null==(n=this.dependency)?void 0:(r=n.collabDependency).follow)?void 0:i.call(r,t,e,!1),serverChangeset:null==(s=null==(o=this.dependency)?void 0:(a=o.collabDependency).follow)?void 0:s.call(a,e,t,!0)}}get missChangeDependency(){var e,t,n;return{globalPadId:null==(t=(e=this.dependency).getGlobalVars)?void 0:t.call(e).serverVars.globalPadId,getMissChangesUrl:this.dependency.getMissChangesUrl,sendMissChangeRequest:this.dependency.sendMissChangeRequest,isDuplicateTaskId:null==(n=this.dependency)?void 0:n.localUserChangeManager.isDuplicateTaskId,isSplitMissTask:this.dependency.messageCenterOption.isSplitMissTask}}}var k=O,R=n(619450),L=n(90525),j=n(507070),P=n(918842);class B{constructor(){this._onRoomOpen=new u.Q,this.onRoomOpen=this._onRoomOpen.event,this._onConnectionStatusChange=new u.Q,this.onConnectionStatusChange=this._onConnectionStatusChange.event,this._onShutdown=new u.Q,this.onShutdown=this._onShutdown.event,this._onClosed=new u.Q,this.onClosed=this._onClosed.event,this._onEnterOnline=new u.Q,this.onEnterOnline=this._onEnterOnline.event,this._onEnterOffline=new u.Q,this.onEnterOffline=this._onEnterOffline.event,this._onNetReconnectedFail=new u.Q,this.onNetReconnectedFail=this._onNetReconnectedFail.event,this._onSwitchConnectMode=new u.Q,this.onSwitchConnectMode=this._onSwitchConnectMode.event,this._onQueueChange=new u.Q,this.onQueueChange=this._onQueueChange.event,this._onAcceptCommit=new u.Q,this.onAcceptCommit=this._onAcceptCommit.event,this._onCommitError=new u.Q,this.onCommitError=this._onCommitError.event,this._onRetryCommit=new u.Q,this.onRetryCommit=this._onRetryCommit.event,this._onCommitBlock=new u.Q,this.onCommitBlock=this._onCommitBlock.event,this.onCommitFailEmitter=new u.Q,this.onCommitFail=this.onCommitFailEmitter.event,this.onCommitSuccessEmitter=new u.Q,this.onCommitSuccess=this.onCommitSuccessEmitter.event,this._onReceiveOtherMessage=new u.Q,this.onReceiveOtherMessage=this._onReceiveOtherMessage.event,this._onReceiveBaseCalcRevMessage=new u.Q,this.onReceiveBaseCalcRevMessage=this._onReceiveBaseCalcRevMessage.event,this._onReceiveMessage=new u.Q,this.onReceiveMessage=this._onReceiveMessage.event,this._onTaskError=new u.Q,this.onTaskError=this._onTaskError.event,this._onTaskDestroy=new u.Q,this.onTaskDestroy=this._onTaskDestroy.event,this._onTaskShutDown=new u.Q,this.onTaskShutDown=this._onTaskShutDown.event,this._onVersionChange=new u.Q,this.onVersionChange=this._onVersionChange.event,this.onLogEmitter=new u.Q,this.onLog=this.onLogEmitter.event,this._onTdw=new u.Q,this.onTdw=this._onTdw.event,this.onReportEmitter=new u.Q,this.onReport=this.onReportEmitter.event}injectDependency(e){let{networkStatusManager:t,localUserChangeManager:n,sendMessageManager:r,receiveMessageManager:i,taskQueueManager:o,versionManager:a}=e;this.networkStatusManager=t,this.localUserChangeManager=n,this.sendMessageManager=r,this.receiveMessageManager=i,this.taskQueueManager=o,this.versionManager=a,this.initEventEmitter()}dispose(){this._onRoomOpen.dispose(),this._onConnectionStatusChange.dispose(),this._onShutdown.dispose(),this._onClosed.dispose(),this._onEnterOnline.dispose(),this._onEnterOffline.dispose(),this._onNetReconnectedFail.dispose(),this._onQueueChange.dispose(),this._onAcceptCommit.dispose(),this._onCommitError.dispose(),this._onReceiveMessage.dispose(),this._onReceiveOtherMessage.dispose(),this._onReceiveBaseCalcRevMessage.dispose(),this._onTaskError.dispose(),this._onTaskDestroy.dispose(),this._onTaskShutDown.dispose(),this._onVersionChange.dispose(),this.onLogEmitter.dispose(),this._onTdw.dispose(),this.onReportEmitter.dispose(),this._onRetryCommit.dispose(),this._onCommitBlock.dispose()}initEventEmitter(){this.networkStatusManager.onRoomOpen((...e)=>this._onRoomOpen.fire(...e)),this.networkStatusManager.onConnectionStatusChange((...e)=>this._onConnectionStatusChange.fire(...e)),this.networkStatusManager.onShutdown((...e)=>this._onShutdown.fire(...e)),this.networkStatusManager.onClosed((...e)=>this._onClosed.fire(...e)),this.networkStatusManager.onEnterOnline((...e)=>this._onEnterOnline.fire(...e)),this.networkStatusManager.onEnterOffline((...e)=>this._onEnterOffline.fire(...e)),this.networkStatusManager.onNetReconnectedFail((...e)=>this._onNetReconnectedFail.fire(...e)),this.networkStatusManager.onSwitchConnectMode((...e)=>this._onSwitchConnectMode.fire(...e)),this.localUserChangeManager.onQueueChange((...e)=>this._onQueueChange.fire(...e)),this.sendMessageManager.onAcceptCommit((...e)=>{this._onAcceptCommit.fire(...e),this.onCommitSuccessEmitter.fire(...e)}),this.sendMessageManager.onCommitError((...e)=>this._onCommitError.fire(...e)),this.sendMessageManager.onCommitFail((...e)=>this.onCommitFailEmitter.fire(...e)),this.sendMessageManager.onRetryCommit((...e)=>this._onRetryCommit.fire(...e)),this.sendMessageManager.onCommitBlock((...e)=>this._onCommitBlock.fire(...e)),this.sendMessageManager.onSwitchConnectMode((...e)=>this._onSwitchConnectMode.fire(...e)),this.receiveMessageManager.onReceiveMessage((...e)=>this._onReceiveMessage.fire(...e)),this.receiveMessageManager.onReceiveOtherMessage((...e)=>this._onReceiveOtherMessage.fire(...e)),this.receiveMessageManager.onReceiveBaseCalcRevMessage((...e)=>{this._onReceiveBaseCalcRevMessage.fire(...e)}),this.taskQueueManager.onTaskError((...e)=>this._onTaskError.fire(...e)),this.taskQueueManager.onTaskDestroy((...e)=>this._onTaskDestroy.fire(...e)),this.taskQueueManager.onTaskShutDown((...e)=>this._onTaskShutDown.fire(...e)),this.versionManager.onVersionChange((...e)=>this._onVersionChange.fire(...e)),a.Z.onLog((...e)=>this.onLogEmitter.fire(...e)),s.Z.onReport((...e)=>this.onReportEmitter.fire(...e))}}var F=B,U=n(423438),G=n(189249);let W="\u670D\u52A1\u5668\u5F02\u5E38\uFF0C\u8BF7\u5237\u65B0\u91CD\u8BD5\u3002",Z="\u53EF\u7F16\u8F91\u7684\u4EBA\u6570\u5DF2\u8FBE\u4E0A\u9650\uFF0C\u5F53\u524D\u4EC5\u53EF\u67E5\u770B\u3002",V="\u7F16\u8F91\u4EBA\u6570\u8F83\u591A\uFF0C\u8F6C\u4E3A\u53EA\u80FD\u67E5\u770B\u3002";var H=n(869243);let z=10003,Y="N0009",K="FullMemberErrorTips",Q="ServerErrorTips";!function(e){e[e.normal=1]="normal",e[e.inactive=2]="inactive"}(i||(i={}));class q{static hide(){var e;null==(e=this.snackbar)||e.close(),this.snackbar=null}static showFullMemberTips(e,t){t===i.inactive?this.snackbar=H.default.show({id:K,message:e,style:{zIndex:z},autoClose:!1,action:[{text:"\u5F00\u59CB\u7F16\u8F91",onClick:this.onClickRefresh}]}):this.snackbar=H.default.show({message:e,id:K,style:{zIndex:z},autoClose:!1,closable:!0,onClose:()=>this.snackbar=null})}static showServerErrorTips(e){this.snackbar=H.default.show({message:e,type:"info",id:Q,style:{zIndex:z},autoClose:!1,onClose:()=>!0,action:[{text:"\u5237\u65B0",onClick:this.onClickRefresh},{text:"\u8054\u7CFB\u6211\u4EEC",onClick:()=>(this.onClickFeedback(),!1)}]})}}q.onClickRefresh=()=>{window.location.reload()},q.onClickFeedback=()=>{window.open(`https://support.qq.com/products/28096?customInfo=${Y}`,"_blank")};var X=n(444553),J=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};function $(e){return J(this,void 0,void 0,function*(){return X.networkRequest.get(e)})}var ee=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};let et=15e3;class en{constructor(e,t,n,r=et){this.getQueryDataUrl=e,this.onSuccess=t,this.onError=n,this.interval=r,this.timer=0}start(){clearInterval(this.timer),this.timer=setInterval(()=>this.queryData(),this.interval),a.Z.info("query data timer start")}stop(){clearInterval(this.timer),this.timer=0,a.Z.info("query data timer stop")}queryData(){var e,t,n;return ee(this,void 0,void 0,function*(){try{let n=this.getQueryDataUrl(),{data:r}=yield $(n);0!==r.retcode?null==(e=this.onError)||e.call(this,r):null==(t=this.onSuccess)||t.call(this,r)}catch(e){null==(n=this.onError)||n.call(this)}})}}class er{constructor(e){this.context=e,this.isFullMember=!1,this.onQueryDataSuccess=e=>{var t,n;if(!e.isOverConNum){let{hotDocsManager:t}=this.context,n=t.enableHotDocsMode&&t.isInitHotDocs;this.existFullMemberMode(!n),n&&t.enterHotDocsMode(),a.Z.info(`full member query data success, exist full member mode, reason: isOverConNum = ${e.isOverConNum}.`);return}a.Z.info(`full member query data success, notify update data to rev: ${e.rev}.`),null==(n=(t=this.context.dependency).onReceiveQueryData)||n.call(t,e)},this.onQueryDataError=()=>{var e;q.showServerErrorTips(W),null==(e=this.queryDataTimer)||e.stop()},a.Z.info(`init full member mode, enable: ${this.enableFullMemberMode}.`,e.option);let{fullMemberInfo:t}=e.option;if(!this.enableFullMemberMode)return;this.queryDataTimer=new en(e.dependency.getQueryDataUrl,this.onQueryDataSuccess,this.onQueryDataError),t.isFullMember&&this.enterFullMemberMode(Z,i.normal)}handleShutDown(e){var t,n,r;let o;if(!this.enableFullMemberMode)return;let s=null!=(r=null==(n=null==(t=null==e?void 0:e.data)?void 0:t.closeReason)?void 0:n.errCode)?r:0,u=i.normal;G.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_MEMBER_FULL===s||G.RoomWebsocketErrorCode.SOCKET_COLLABROOM_NOT_VIP_FULL===s?(u=i.normal,o=Z):G.RoomWebsocketErrorCode.INACTIVE===s&&(u=i.inactive,o=V),o&&(a.Z.info(`handle room close, enter full member mode, errorCode: ${s}.`),this.enterFullMemberMode(o,u))}get enableFullMemberMode(){let{option:e}=this.context;return!!e.fullMemberInfo.enable&&!e.isCreator}enterFullMemberMode(e,t){var n;let{option:r,dependency:i}=this.context;this.enableFullMemberMode&&(this.isFullMember||(this.isFullMember=!0,this.queryDataTimer.start(),r.isEditable&&(null==(n=i.onEditableChange)||n.call(i,!1),q.showFullMemberTips(e,t)),a.Z.info(`enter full member mode, isEditable: ${r.isEditable}.`)))}existFullMemberMode(e=!0){var t,n,r;let{option:i,dependency:o}=this.context;this.enableFullMemberMode&&this.isFullMember&&(q.hide(),this.isFullMember=!1,this.queryDataTimer.stop(),e&&(null==(n=(t=this.context.dependency).reconnect)||n.call(t)),i.isEditable&&(null==(r=o.onEditableChange)||r.call(o,!0)),a.Z.info(`exist full member mode, isEditable: ${i.isEditable}.`))}}let ei="\u6587\u6863\u5F00\u5C0F\u5DEE\u4E86\uFF0C\u5237\u65B0\u540E\u66F4\u65B0\u6700\u65B0\u5185\u5BB9\u3002";class eo{constructor(e){this.context=e,this.isHotDocs=!1,a.Z.info(`init disable hot docs mode, enable: ${this.enableHotDocsMode}.`,e.option);let{hotDocsInfo:t,isInitFullMember:n}=e.option;if(!this.enableHotDocsMode)return;t.isQueryData&&(this.queryDataTimer=new en(e.dependency.getQueryDataUrl,this.onQueryDataSuccess.bind(this),this.onQueryDataError.bind(this))),this.isInitHotDocs&&!n&&this.enterHotDocsMode()}handleOnRoomOpen(){this.enableHotDocsMode&&this.isHotDocs&&(this.existHotDocsMode(),a.Z.info("handle room open, exist hot docs mode."))}get isInitHotDocs(){let{option:e}=this.context;return!!e.hotDocsInfo.isHotDocs}get enableHotDocsMode(){let{option:e}=this.context;return!!e.hotDocsInfo.enable&&!e.isCreator}enterHotDocsMode(){var e;this.enableHotDocsMode&&(this.isHotDocs||(this.isHotDocs=!0,null==(e=this.queryDataTimer)||e.start(),a.Z.info(`enter hot docs mode, isQueryData: ${this.context.option.hotDocsInfo.isQueryData}.`)))}existHotDocsMode(){var e;this.enableHotDocsMode&&this.isHotDocs&&(this.isHotDocs=!1,null==(e=this.queryDataTimer)||e.stop(),q.hide(),a.Z.info(`exist hot docs mode, isQueryData: ${this.context.option.hotDocsInfo.isQueryData}.`))}onQueryDataSuccess(e){var t,n;a.Z.info(`hot docs query data success, notify update data to rev: ${e.rev}.`),null==(n=(t=this.context.dependency).onReceiveQueryData)||n.call(t,e)}onQueryDataError(){var e;q.showServerErrorTips(ei),null==(e=this.queryDataTimer)||e.stop()}}var ea=n(459787),es=n(405591),eu=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},ec=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class el extends P.Z{constructor(e,t=U.h){super(e,t),this.messageCenterOption=t,this.globalVars={},this.isConnected=()=>{var e,t;return null!=(t=null==(e=this.connectionController)?void 0:e.isConnected())&&t},this.eventManager=new F,a.Z.info(`MessageCenter created, baseVersion = ${e}, option=`,t)}pause(e=es.Q.ALL){var t;let n={SEND:()=>this.sendMessageManager.pause(),RECEIVE:()=>this.taskQueueManager.pause(),ALL:()=>{this.sendMessageManager.pause(),this.taskQueueManager.pause()}};null==(t=n[e])||t.call(n)}resume(e=es.Q.ALL){var t;let n={SEND:()=>this.sendMessageManager.resume(),RECEIVE:()=>this.taskQueueManager.resume(),ALL:()=>{this.sendMessageManager.resume(),this.taskQueueManager.resume()}};null==(t=n[e])||t.call(n)}forceResume(e=es.Q.ALL){var t;let n={SEND:()=>this.sendMessageManager.resume(),RECEIVE:()=>this.taskQueueManager.resume(),ALL:()=>{this.sendMessageManager.resume(),this.taskQueueManager.forceResume()}};null==(t=n[e])||t.call(n)}setGlobalVars(e){a.Z.info(`MessageCenter setGlobalVars, options = ${e}`),this.globalVars=Object.assign({},e)}setOptionalFunction(e){this.initDependency(e)}start(){a.Z.info("MessageCenter start"),void 0===this.dependency&&this.initDependency(),this.localUserChangeManager=new j.Z({messageCenterOption:this.messageCenterOption}),this.versionManager.onVersionChange(({newVersion:e})=>{var t;this.localUserChangeManager.updateVersion(e),null==(t=this.connectionController)||t.setVersion(e)}),this.taskQueueManager.onTaskError(({error:e})=>{this.onTaskError(e)}),this.networkStatusManager=new L.Z,this.receiveMessageManager=new k({collabDependency:this.dependency.collabDependency,versionManager:this.versionManager,taskQueueManager:this.taskQueueManager,localUserChangeManager:this.localUserChangeManager,acceptCommit:this.acceptCommit.bind(this),cancelSendMessageByTaskId:this.cancelSendMessageByTaskId.bind(this),applyServerUserChanges:this.applyServerUserChanges.bind(this),composeNewChanges:this.composeNewChanges.bind(this),getGlobalVars:this.getGlobalVars.bind(this),getMissChangesUrl:this.dependency.baseConfigDependency.getMissChangesUrl,sendMissChangeRequest:this.dependency.baseConfigDependency.sendMissChangeRequest,messageCenterOption:this.messageCenterOption,isConnected:this.isConnected,shutDown:this.shutDown.bind(this)}),this.initConnectionController(),this.sendMessageManager=new w({collabDependency:this.dependency.collabDependency,versionManager:this.versionManager,taskQueueManager:this.taskQueueManager,localUserChangeManager:this.localUserChangeManager,connectionController:this.connectionController,acceptCommit:this.acceptCommit.bind(this),applyServerUserChanges:this.applyServerUserChanges.bind(this),composeNewChanges:this.composeNewChanges.bind(this),getGlobalVars:this.getGlobalVars.bind(this),getMissChangesUrl:this.dependency.baseConfigDependency.getMissChangesUrl,sendMissChangeRequest:this.dependency.baseConfigDependency.sendMissChangeRequest,shutDown:this.shutDown.bind(this),messageCenterOption:this.messageCenterOption}),this.eventManager.injectDependency({networkStatusManager:this.networkStatusManager,localUserChangeManager:this.localUserChangeManager,sendMessageManager:this.sendMessageManager,receiveMessageManager:this.receiveMessageManager,versionManager:this.versionManager,taskQueueManager:this.taskQueueManager});let{fullMemberInfo:e}=this.messageCenterOption;this.hotDocsManager=new eo({option:Object.assign(Object.assign({},this.messageCenterOption),{isInitFullMember:!!e.enable&&!!e.isFullMember}),dependency:Object.assign({setVersion:e=>this.versionManager.updateVersion(e)},this.dependency.queryDataDependency)}),this.fullMemberManager=new er({option:this.messageCenterOption,hotDocsManager:this.hotDocsManager,dependency:Object.assign({reconnect:()=>{var e;return null==(e=this.connectionController)?void 0:e.reconnect()},setVersion:e=>this.versionManager.updateVersion(e)},this.dependency.queryDataDependency)}),this.networkStatusManager.onSwitchConnectMode(e=>{var t;null==(t=this.connectionController)||t.reconnect(void 0,e)}),this.sendMessageManager.onSwitchConnectMode(e=>{var t;null==(t=this.connectionController)||t.reconnect(void 0,e)})}addUserChange(e){var t,n;let r,i=this.hotDocsManager.enableHotDocsMode&&this.hotDocsManager.isHotDocs;!i||(null==(t=this.connectionController)?void 0:t.isConnected())||(a.Z.warn(`start connect when isHotDocs: ${i}`),null==(n=this.connectionController)||n.connect()),r=Array.isArray(e)?e.map(e=>new R.Z(e)):[new R.Z(e)],this.sendMessageManager.addUserChange(r)}openRoom(e){var t;let n=this.hotDocsManager.enableHotDocsMode&&this.hotDocsManager.isHotDocs,r=this.fullMemberManager.enableFullMemberMode&&this.fullMemberManager.isFullMember;if(n||r)return void a.Z.warn(`skip open room, isFullMember: ${r}, isHotDocs: ${n}`);null==(t=this.connectionController)||t.connect(e)}sendMessage(e){this.sendMessageManager.sendMessage(e)}shutDown(e="",t,n){var r;a.Z.info(`MessageCenter shutDown, info=${e}, errCode=${t}, description=${n}`),this.taskQueueManager.shutDown(),null==(r=this.connectionController)||r.disconnect({errCode:t,reason:JSON.stringify({info:e,description:n,errCode:t}),shutDown:!0}),this.sendMessageManager.resetRetryCount()}getIsOnline(){var e;return null==(e=this.connectionController)?void 0:e.isOnline()}clearAllUserChangeQueue(){this.localUserChangeManager.clearAllUserChangeQueue()}startGetMissChanges(e,t){let{globalPadId:n}=this.globalVars.serverVars,{getMissChangesUrl:r,sendMissChangeRequest:i}=this.dependency.baseConfigDependency,{isSplitMissTask:o}=this.messageCenterOption,a=new d.Z({from:e,to:t},{missChangeDependency:{globalPadId:n,getMissChangesUrl:r,sendMissChangeRequest:i,isSplitMissTask:o,isDuplicateTaskId:this.localUserChangeManager.isDuplicateTaskId},versionManager:this.versionManager,acceptCommitDependency:this.acceptCommitDependency});this.taskQueueManager.pushTask(a)}dispose(){var e;super.dispose(),a.Z.debug("MessageCenter dispose"),this.taskQueueManager.dispose(),this.localUserChangeManager.dispose(),this.sendMessageManager.dispose(),this.receiveMessageManager.dispose(),this.versionManager.dispose(),null==(e=this.connectionController)||e.dispose(),this.networkStatusManager.dispose(),this.eventManager.dispose(),a.Z.dispose()}reconnect(e,t){var n;null==(n=this.connectionController)||n.reconnect(e,t)}reConnect(e){this.reconnect(e)}get connectionController(){return this.connectionControllerInstance}getLocalUserChanges(){return this.localUserChangeManager.getLocalUserChanges()}get acceptCommitDependency(){let{getMissChangesUrl:e}=this.dependency.baseConfigDependency;return{getMissChangesUrl:e,acceptCommit:this.acceptCommit.bind(this),applyServerUserChanges:this.applyServerUserChanges.bind(this),composeNewChanges:this.composeNewChanges.bind(this),getGlobalVars:this.getGlobalVars.bind(this)}}initDependency(e={}){a.Z.debug("MessageCenter initDependency"),this.dependency||(this.dependency={});let{follow:t,multiTypeFollow:n,applyServerUserChanges:r,composeNewChanges:i,getMissChangesUrl:o,sendMissChangeRequest:s,checkIfNeedFollow:u}=e,c=ec(e,["follow","multiTypeFollow","applyServerUserChanges","composeNewChanges","getMissChangesUrl","sendMissChangeRequest","checkIfNeedFollow"]);this.setSendMissChangeRequest(s),this.setGetMissChangesUrl(o),this.setApplyServerUserChanges(r),this.setComposeNewChanges(i),this.setFollow(t),this.setMultiTypeFollow(n),this.setCheckIfNeedFollow(u),this.setFullMemberDependency(c)}getGlobalVars(){return this.globalVars}setFullMemberDependency(e){this.dependency.queryDataDependency||(this.dependency.queryDataDependency={onEditableChange:()=>{},getQueryDataUrl:()=>"",onReceiveQueryData:()=>!1}),this.dependency.queryDataDependency=Object.assign({},e)}setCheckIfNeedFollow(e){this.dependency.collabDependency||(this.dependency.collabDependency={}),this.dependency.collabDependency.checkIfNeedFollow=e||(()=>!0)}setGetMissChangesUrl(e){this.dependency.baseConfigDependency||(this.dependency.baseConfigDependency={}),this.dependency.baseConfigDependency.getMissChangesUrl=e||(()=>eu(this,void 0,void 0,function*(){return""}))}setSendMissChangeRequest(e){this.dependency.baseConfigDependency||(this.dependency.baseConfigDependency={}),this.dependency.baseConfigDependency.sendMissChangeRequest=e}setMultiTypeFollow(e){this.dependency.collabDependency||(this.dependency.collabDependency={}),this.dependency.collabDependency.multiTypeFollow=e}setFollow(e){this.dependency.collabDependency||(this.dependency.collabDependency={}),this.dependency.collabDependency.follow=e||((e,t)=>t)}setApplyServerUserChanges(e){this.dependency.collabDependency||(this.dependency.collabDependency={}),this.dependency.collabDependency.applyServerUserChanges=e||(()=>{})}setComposeNewChanges(e){this.dependency.collabDependency||(this.dependency.collabDependency={}),this.dependency.collabDependency.composeNewChanges=e}onTaskError(e){a.Z.debug("MessageCenter onTaskError"),this.shutDown("TASK_ERROR",ea.K.TASK_ERROR,null==e?void 0:e.message)}initConnectionController(){(0,o.initLogAndManager)({debug:(...e)=>{a.Z.debug(...e)},info:(...e)=>{a.Z.info(...e)},warn:(...e)=>{a.Z.warn(...e)},error:(...e)=>{a.Z.error(...e)}}),this.connectionControllerInstance=new o.ConnectionController(this.getGlobalVars()),this.connectionController.setVersion(this.versionManager.getCurrentVersion()),this.connectionController.onConnectionEvent(e=>{var t,n,r;let i=null!=(n=null==(t=e.data)?void 0:t.closeReason)?n:{shutDown:!0};null==(r=new Map([["OnRoomStateChange",()=>{var t,n,r,i,o,a;return this.networkStatusManager.handleOnRoomStateChange(null!=(r=null==(n=null==(t=e.data)?void 0:t.roomState)?void 0:n.roomState)?r:"",null!=(a=null==(o=null==(i=e.data)?void 0:i.roomState)?void 0:o.description)?a:"")}],["OnRoomOpen",()=>{this.networkStatusManager.handleOnRoomOpen(),this.hotDocsManager.handleOnRoomOpen(),this.taskQueueManager.handleOnRoomOpen()}],["OnRoomClose",()=>{this.networkStatusManager.handleOnRoomClose(i)}],["OnRoomShutDown",()=>{this.networkStatusManager.handleOnRoomShutDown(i),this.fullMemberManager.handleShutDown(e)}],["OnReceiveMsgFromServer",()=>{var t;return this.receiveMessageManager.handleReceiveMessageFromServer(null==(t=e.data)?void 0:t.serverMsg)}],["OnNetReconnectedFail",()=>this.networkStatusManager.handleNetReconnectedFail()],["OnEnterOnline",()=>this.networkStatusManager.handleOnEnterOnline()],["OnEnterOffline",()=>this.networkStatusManager.handleOnEnterOffline()]]).get(e.event))||r()}),a.Z.info("MessageCenter new ConnectionController() done")}acceptCommit(e,t,n){this.sendMessageManager.acceptCommit(e,t,n)}cancelSendMessageByTaskId(e){var t;null==(t=this.connectionController)||t.cancelSendMessageByTaskId(e)}applyServerUserChanges(e){return this.receiveMessageManager.applyServerUserChanges(e)}composeNewChanges(e){var t,n;return null==(n=(t=this.dependency.collabDependency).composeNewChanges)?void 0:n.call(t,e)}}},523798:function(e,t,n){"use strict";var r=n(823815);class i{constructor(e){let{subId:t,changesetType:n,taskId:i,time:o,changeset:a,commands:s,base64Commands:u}=e;this.subId=t,this.taskId=i||(0,r.generateMessageTaskId)(),this.time=o||new Date().getTime(),this.changeset=a,this.commands=s,this.base64Commands=u,n&&(this.changesetType=n)}getTaskId(){return this.taskId}getTime(){return this.time}getChangeset(){return this.changeset||this.commands||""}getBase64Commands(){return this.base64Commands||""}setChangeset(e){e.base64Commands&&(this.base64Commands=e.base64Commands),this.commands?this.commands=e.changeset:this.changeset=e.changeset,e.changesetType&&(this.changesetType=e.changesetType)}}t.Z=i},619450:function(e,t,n){"use strict";var r=n(523798);class i extends r.Z{constructor(e){super(e),this.head=!1,this.offlineMsg=!1,this.isBatchCommitFailed=!1,this.msgInfo={};let{changeSetCount:t,apool:n,keydata:r,oSubId:i,head:o,isWorkbook:a,offlineMsg:s,msgInfo:u,baseRev:c,firstCommitRev:l,applied:d,otherOptions:f,wordCount:p,notCrossSheet:h,onFailed:g,onSuccess:m}=e;this.baseRev=c,this.offlineMsg=s||!1,this.msgInfo=null!=u?u:{},this.apool=n||"",this.head=o||!1,this.keydata=r,this.oSubId=i||void 0,this.isWorkbook=a,this.firstCommitRev=l,this.changeSetCount=t||1,this.applied=d,this.wordCount=p,this.notCrossSheet=h,this.otherOptions=f,this.onFailed=g,this.onSuccess=m}setIsBatchCommitFail(e){this.isBatchCommitFailed=e}get isBatchCommitFail(){return this.isBatchCommitFailed}getBaseVersion(){return this.baseRev}getOtherOptions(){return this.otherOptions}getPreparedData(){return this.prepareCommitMessage()}getData(){let{baseRev:e,changeset:t,changeSetCount:n,subId:r,changesetType:i,apool:o,keydata:a,oSubId:s,taskId:u,head:c,firstCommitRev:l,applied:d,isWorkbook:f,offlineMsg:p,msgInfo:h,wordCount:g,commands:m,base64Commands:v}=this;return{baseRev:e,changeset:t,changeSetCount:n,changesetType:i,apool:o,keydata:a,subId:r,oSubId:s,head:c,taskId:u,firstCommitRev:l,applied:d,isWorkbook:f,offlineMsg:p,msgInfo:h,wordCount:g,commands:m,base64Commands:v}}getOriginData(){let{baseRev:e,changeset:t,changeSetCount:n,subId:r,changesetType:i,apool:o,keydata:a,oSubId:s,taskId:u,head:c,time:l,firstCommitRev:d,applied:f,isWorkbook:p,offlineMsg:h,msgInfo:g,otherOptions:m,wordCount:v,commands:y,base64Commands:b}=this;return{baseRev:e,changeset:t,changeSetCount:n,subId:r,changesetType:i,apool:o,keydata:a,oSubId:s,taskId:u,head:c,time:l,firstCommitRev:d,applied:f,isWorkbook:p,offlineMsg:h,msgInfo:g,otherOptions:m,wordCount:v,commands:y,base64Commands:b}}updateBaseVersion(e){e>this.baseRev&&(this.baseRev=e)}prepareCommitMessage(){let e={commands:this.commands,base64Commands:this.base64Commands,wordCount:this.wordCount,baseRev:this.baseRev,changeSetCount:this.changeSetCount,changeset:this.changeset,apool:this.apool,keydata:this.keydata||!1,head:this.head,subId:this.subId,oSubId:this.oSubId||!1,taskId:this.taskId,firstCommitRev:this.firstCommitRev,offlineMsg:this.offlineMsg,msgInfo:this.msgInfo,applied:this.applied,isWorkbook:this.isWorkbook,notCrossSheet:this.notCrossSheet};return this.changesetType&&(e.changesetType=this.changesetType),e}}t.Z=i},440659:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});var r,i=n(523798);!function(e){e.COLLAB_CHANGE="COLLAB_CHANGE",e.MISS_CHANG="MISS_CHANG",e.BIG_CHANG="BIG_CHANG"}(r||(r={}));class o extends i.Z{constructor(e){super(e);let{apool:t,author:n,head:r,need:i,revert:o,type:a,uuId:s,uuid:u,subId:c,subid:l,newRev:d,isWorkbook:f,userChangesOrigin:p}=e;this.apool=t,this.author=n,this.head=r,this.need=i,this.revert=o,this.type=a,this.subId=null!=c?c:l,this.uuId=null!=s?s:u,this.newRev=d,this.isWorkbook=f,this.userChangesOrigin=p}getVersion(){return this.newRev}getData(){let{newRev:e,subId:t,taskId:n,type:r,uuId:i,changesetType:o,apool:a,author:s,head:u,need:c,revert:l,isWorkbook:d,userChangesOrigin:f}=this;return{changeset:this.getChangeset(),base64Commands:this.base64Commands,newRev:e,new_rev:e,subId:t,changesetType:o,commitId:n,apool:a,author:s,head:u,need:c,revert:l,isWorkbook:d,taskId:n,type:r,uuId:i,userChangesOrigin:f}}}t.Z=o},259567:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(44482),i=n(206130),o=n(705670),a=n(889540),s=n(830893),u=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};class c extends r.Z{constructor(e){super(e.taskId),this.type=s.U.ACCEPT_TASK;let{to:t,missChangeDependency:n,versionManager:r,acceptCommitDependency:i,otherOptions:o}=e;this.to=t,this.missChangeDependency=n,this.versionManager=r,this.acceptCommitDependency=i,this.otherOptions=o}reset(){this.destory(!1);let{versionManager:e,to:t,missChangeDependency:n,acceptCommitDependency:r,taskId:i,otherOptions:o}=this;return new c({to:t,missChangeDependency:n,versionManager:e,acceptCommitDependency:r,taskId:i,otherOptions:o})}checkNeedGetChanges(){var e,t,n,r;return u(this,void 0,void 0,function*(){if(null==(r=null==(n=null==(t=null==(e=this.otherOptions)?void 0:e.response)?void 0:t.body)?void 0:n.data)?void 0:r.getChangesetFromCgi)try{let e=yield this.fetchMissChangeFromServer(this.versionManager.getCurrentVersion(),this.to),t=null==e?void 0:e.find(e=>(null==e?void 0:e.newRev)===this.to);if(t)return this.otherOptions.response.body.data=t,!0;return!1}catch(e){return o.Z.error("checkNeedGetChanges fetchMissChangeFromServer error, message=",e),!1}return!0})}fetchMissChangeFromServer(e,t){return u(this,void 0,void 0,function*(){let n=yield(0,a.Tn)({from:e,to:t,globalPadId:this.missChangeDependency.globalPadId,customReferUrl:this.missChangeDependency.customReferUrl},this.missChangeDependency.getMissChangesUrl,this.missChangeDependency.sendMissChangeRequest).catch(e=>{var t;return o.Z.error("checkNeedGetChanges getMissChange error, message=",null==(t=null==e?void 0:e.error)?void 0:t.message,e),Promise.reject(null==e?void 0:e.error)}),r=this.versionManager.getCurrentVersion(),i=n.filter(t=>t.data.newRev>=e).filter(e=>e.data.newRev>=r+1);for(let e of i){let t=e.data.newRev;if(t!==r+1)throw o.Z.error(`checkNeedGetChanges getMissChange error, version not consequent, newRev = ${t}, preNewVersion = ${r}`),Error("checkNeedGetChanges version error");r=t}return o.Z.info(`fetchMissChange success from=${e}, to=${t}, newRev=${r}, changes length:${i.length} `),i.map(e=>e.data)})}onInit(){return u(this,void 0,void 0,function*(){return!(this.to<=this.versionManager.getCurrentVersion())&&(yield this.checkNeedGetChanges())})}onStart(){let{to:e,acceptCommitDependency:t,taskId:n,otherOptions:r}=this,i=this.handleMissChange();if(i)return i;t.acceptCommit(e,n,r)}handleMissChange(){let{to:e}=this,t=this.versionManager.getCurrentVersion();if(this.to>t+1)return o.Z.info(`AcceptTask handleMissChange: need to fetch miss changes. currentVersion = ${t}, to = ${this.to}`),this.generateMissChangeTask(t+1,e-1)}generateMissChangeTask(e,t){let{versionManager:n,missChangeDependency:r,to:o,acceptCommitDependency:a,taskId:s,otherOptions:u}=this,l=new c({to:o,missChangeDependency:r,versionManager:n,acceptCommitDependency:a,taskId:s,otherOptions:u});return[new i.Z({from:e,to:t},{missChangeDependency:r,versionManager:n,acceptCommitDependency:a}),l]}}},44482:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r,i=n(705670),o=n(81505),a=n(172163),s=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};!function(e){e.INIT="INIT",e.START="START",e.DESTORY="DESTORY"}(r||(r={}));class u{constructor(e){this.status=new o.X(r.INIT),this.onDestroy=()=>{},this.taskId=e||this.getRandomId()}get currentStatus(){return this.status.getValue()}set currentStatus(e){i.Z.info(`Task: ${this.getDebuggerInfo()}, prev: ${this.currentStatus}, current: ${e}`),this.status.next(e)}isDestroyed(){return this.currentStatus===r.DESTORY}destory(e,t){this.isSuccess=e,this.currentStatus=r.DESTORY,this.onDestroy(e,t)}run(){return s(this,void 0,void 0,function*(){if(i.Z.info(`task run: ${this.getDebuggerInfo()}`),!(yield this.init()))return void this.destory(!1);let e=this.start();if(e)return i.Z.info("split to new task"),(0,a.A)(e).then(()=>{this.destory(!0)}).catch(()=>{this.destory(!1)}),e;this.destory(!0)})}break(e){this.destory(!1,e)}getCurrentStatus(){return this.currentStatus}onInit(){return s(this,void 0,void 0,function*(){return!0})}onStart(){}init(){return s(this,void 0,void 0,function*(){if(this.currentStatus!==r.DESTORY)return this.currentStatus=r.INIT,yield this.onInit()})}start(){if(this.currentStatus!==r.DESTORY)return this.currentStatus=r.START,this.onStart()}getRandomId(){return Number(Date.now().toString()+(100*Math.random()).toFixed(0))}getDebuggerInfo(){let{taskId:e,type:t,currentStatus:n}=this;return JSON.stringify({taskId:e,type:t,currentStatus:n})}taskIdentify(){return String(this.taskId)}}},955320:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(44482),i=n(889540),o=n(440659),a=n(141795),s=n(639689),u=n(259567),c=n(705670),l=n(920593),d=n(830893),f=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};class p extends r.Z{constructor(e){super(e.taskId),this.type=d.U.BIG_CHANGE_TASK;let{version:t,missChangeDependency:n,versionManager:r,localUserChangeManager:i,acceptCommitDependency:o,otherOptions:a}=e;this.version=t,this.missChangeDependency=n,this.versionManager=r,this.localUserChangeManager=i,this.acceptCommitDependency=o,this.otherOptions=a,c.Z.info(`new BigChangeTask: version = ${t}`)}reset(){this.destory(!1);let{version:e,taskId:t,missChangeDependency:n,acceptCommitDependency:r,versionManager:i,localUserChangeManager:o,otherOptions:a}=this;return new p({version:e,taskId:t,missChangeDependency:n,localUserChangeManager:o,versionManager:i,acceptCommitDependency:r,otherOptions:a})}onInit(){return f(this,void 0,void 0,function*(){let{version:e,taskId:t}=this;if(e<=this.versionManager.getCurrentVersion())return!1;if(this.isTaskDuplicate(t))return!0;try{this.userChange=yield this.fetchBigChangeFromServer(this.version)}catch(e){return c.Z.error("BigChangeTask onInit error, error=",null==e?void 0:e.stack,null==e?void 0:e.message),!1}return!0})}onStart(){c.Z.info(`BigChangeTask onStart, taskId:${this.taskId}, version:${this.version}`);let{taskId:e,version:t,missChangeDependency:n,userChange:r,versionManager:i,acceptCommitDependency:a}=this;if(this.isTaskDuplicate(e))return[new u.Z({to:t,taskId:e,missChangeDependency:n,versionManager:i,acceptCommitDependency:a})];let{commitId:l}=r,d=new o.Z(Object.assign({userChangesOrigin:o.P.BIG_CHANG,taskId:l},r));return[new s.Z(d.getTaskId(),d,{missChangeDependency:n,versionManager:i,acceptCommitDependency:a})]}isTaskDuplicate(e){return this.localUserChangeManager.isDuplicateTaskId(e)}fetchBigChangeFromServer(e){return f(this,void 0,void 0,function*(){let t=yield(0,i.Tn)({from:e,to:e,globalPadId:this.missChangeDependency.globalPadId},this.missChangeDependency.getMissChangesUrl).catch(t=>(c.Z.error("BigChangeTask getBigChange error, error=",t),l.Z.report(a.Yo.GET_BIG_CHANGE_ERROR,{version:e}),Promise.reject(t))),n=t.filter(t=>t.data.newRev===e).map(e=>e.data),r=n[0].newRev,o=this.versionManager.getCurrentVersion();if(1!==n.length||r!==o+1)throw c.Z.error(`BigChangeTask getBigChange error, version not consequent, newRev = ${r}, preNewVersion = ${o}`),l.Z.report(a.Yo.BIG_CHANGE_VERSION_ERROR,{version:e,changeList:t}),Error("MissChangeTask version error");return n[0]})}}},639689:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(44482),i=n(206130),o=n(705670),a=n(920593),s=n(141795),u=n(830893),c=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};class l extends r.Z{constructor(e,t,n){super(e),this.type=u.U.COLLAB_TASK;let{missChangeDependency:r,versionManager:i,acceptCommitDependency:o,otherOptions:a}=n;this.missChangeDependency=r,this.versionManager=i,this.newChange=t,this.acceptCommitDependency=o,this.otherOptions=a}reset(){this.destory(!1);let{taskId:e,missChangeDependency:t,newChange:n,versionManager:r,acceptCommitDependency:i,otherOptions:o}=this;return new l(e,n,{missChangeDependency:t,versionManager:r,acceptCommitDependency:i,otherOptions:o})}onInit(){return c(this,void 0,void 0,function*(){return!(this.newChange.getVersion()<=this.versionManager.getCurrentVersion())})}onStart(){let{taskId:e,missChangeDependency:t,newChange:n,versionManager:r,acceptCommitDependency:u,otherOptions:c}=this,d=n.getVersion(),f=this.versionManager.getCurrentVersion();if(d===f+1)this.acceptCommitDependency.applyServerUserChanges(n.getData());else{if(d>f+1)return o.Z.info(`CollabTask apply new changes, need MissChange: applyChangeVersion = ${d}, currentVersion = ${f}`),a.Z.report(s.Yo.APPLY_COLLAB_CHANGE_VERSION_BREAK,{currentVersion:f,newVersion:d}),[new i.Z({from:f+1,to:d-1},{missChangeDependency:t,versionManager:r,acceptCommitDependency:u}),new l(e,n,{missChangeDependency:t,versionManager:r,acceptCommitDependency:u,otherOptions:c})];d===f?(a.Z.report(s.Yo.APPLY_COLLAB_CHANGE_VERSION_REPEAT,{currentVersion:f,newVersion:d}),o.Z.info("CollabTask apply new changes, version not change.")):(a.Z.report(s.Yo.APPLY_COLLAB_CHANGE_VERSION_BELOW,{currentVersion:f,newVersion:d}),o.Z.info("CollabTask apply new changes, new version is lower than current version."))}}}},206130:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(44482),i=n(889540),o=n(440659),a=n(141795),s=n(705670),u=n(920593),c=n(639689),l=n(830893),d=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};class f extends r.Z{constructor(e,t){super(t.taskId),this.type=l.U.MISS_CHANGE_TASK;let{from:n,to:r}=e,{missChangeDependency:i,versionManager:o,acceptCommitDependency:a,onDestroy:u,otherOptions:c,onBaseCalcRev:d}=t;this.from=n,this.to=r,this.missChangeDependency=i,this.versionManager=o,this.acceptCommitDependency=a,this.otherOptions=c,this.loadedLatestVersion=o.getCurrentVersion(),this.onBaseCalcRev=d,u&&(this.onDestroy=u),s.Z.info(`new MissChangeTask: from = ${n}, to = ${r}`)}get getLoadedLatestVersion(){return this.loadedLatestVersion}reset(){this.destory(!1);let{taskId:e,from:t,to:n,missChangeDependency:r,acceptCommitDependency:i,versionManager:o,onDestroy:a,otherOptions:s}=this;return new f({from:t,to:n},{taskId:e,missChangeDependency:r,versionManager:o,acceptCommitDependency:i,onDestroy:a,otherOptions:s})}taskIdentify(){return`MissChangeTask_From${this.from}_To${this.to}`}onInit(){return d(this,void 0,void 0,function*(){if(void 0!==this.to&&this.to<=this.versionManager.getCurrentVersion())return!1;this.from<=this.versionManager.getCurrentVersion()&&(this.from=this.versionManager.getCurrentVersion()+1);try{this.initTime=Date.now(),this.missChangeList=yield this.fetchMissChangeFromServer(this.from,this.to)}catch(e){if(s.Z.error("MissChangeTask onInit error, error=",null==e?void 0:e.stack,null==e?void 0:e.message),a.N1.includes(null==e?void 0:e.message))return this.missChangeList=[],!1;return Promise.reject(e)}return!0})}onStart(){var e;let t=null==(e=this.missChangeList)?void 0:e.length;if(s.Z.info(`MissChangeTask onStart, length=${t}`),this.missChangeList){if(this.missChangeDependency.isSplitMissTask)return this.generateCollabTasks();let e=Date.now();for(let e of(this.acceptCommitDependency.composeNewChanges&&(this.missChangeList.find(e=>{var t,n;return null==(n=(t=this.missChangeDependency).isDuplicateTaskId)?void 0:n.call(t,e.commitId)})?(s.Z.info("MissChangeTask onStart, exist duplicate taskId, not allow composeNewChanges"),u.Z.report(a.Yo.NO_COMPOSE_DUPLICATE_TASK,{length:t})):this.missChangeList=this.acceptCommitDependency.composeNewChanges(this.missChangeList)||this.missChangeList),this.missChangeList)){let t=Number(e.commitId);if(s.Z.info(`MissChangeTask applyServerUserChanges start, taskId=${t}`),!this.acceptCommitDependency.applyServerUserChanges(Object.assign({userChangesOrigin:o.P.MISS_CHANG,taskId:t},e)))throw s.Z.error(`MissChangeTask applyServerUserChanges error, taskId=${t}, change=`,e),Error("MissChangeTask applyServerUserChanges error")}let n=Date.now()-e,r=this.initTime?Date.now()-this.initTime:0;s.Z.info(`MissChangeTask cost, originLength=${t}, composedLength=${this.missChangeList.length}, cost=${n}, fullTimeCost=${r}`),u.Z.report(a.Yo.APPLY_SERVER_USER_CHANGE_COST,{length:t,timeCost:n,fullTimeCost:r})}}generateCollabTasks(){let{missChangeDependency:e,versionManager:t,acceptCommitDependency:n,missChangeList:r}=this,i=[];return r.forEach(r=>{let a=new o.Z(Object.assign({userChangesOrigin:o.P.MISS_CHANG,taskId:Number(r.commitId)},r));i.push(new c.Z(a.getTaskId(),a,{missChangeDependency:e,versionManager:t,acceptCommitDependency:n}))}),i}fetchMissChangeFromServer(e,t){var n;return d(this,void 0,void 0,function*(){let{misschanges:r,baseCalcRev:o,docRev:c}=yield(0,i.g2)({from:e,to:t,globalPadId:this.missChangeDependency.globalPadId,customReferUrl:this.missChangeDependency.customReferUrl},this.missChangeDependency.getMissChangesUrl,this.missChangeDependency.sendMissChangeRequest).catch(e=>{var t;return s.Z.error("MissChangeTask getMissChange error, message=",null==(t=null==e?void 0:e.error)?void 0:t.message,e),Promise.reject(null==e?void 0:e.error)}),l=this.versionManager.getCurrentVersion(),d=r.filter(t=>t.data.newRev>=e).filter(e=>e.data.newRev>=l+1);for(let n of d){let r=n.data.newRev;if(r!==l+1)throw s.Z.error(`MissChangeTask getMissChange error, version not consequent, newRev = ${r}, preNewVersion = ${l}`),u.Z.report(a.Yo.MISS_CHANGE_VERSION_ERROR,{from:e,to:t,preNewVersion:l,userChange:n}),Error("MissChangeTask version error");l=r}return o&&(null==(n=this.onBaseCalcRev)||n.call(this,{baseCalcRev:o,docRev:c})),s.Z.info(`fetchMissChange success from=${e}, to=${t}, newRev=${l}, changes length:${d.length} `),this.loadedLatestVersion=l,d.map(e=>e.data)})}}},459787:function(e,t,n){"use strict";var r;n.d(t,{K:function(){return r}}),function(e){e[e.TASK_ERROR=51001]="TASK_ERROR",e[e.SEND_BLOCK=51002]="SEND_BLOCK",e[e.UNSENT=51003]="UNSENT",e[e.VERSION_BEHIND_BACKEND_TOO_FAR=51004]="VERSION_BEHIND_BACKEND_TOO_FAR",e[e.DATA_INITING=543337]="DATA_INITING",e[e.DOC_ENGINE_RESTRICT_EDIT_PASSWORD_ERROR=601913]="DOC_ENGINE_RESTRICT_EDIT_PASSWORD_ERROR"}(r||(r={}))},725468:function(e,t,n){"use strict";n.d(t,{c:function(){return l}});var r=n(705670),i=n(278080),o=n(81505),a=n(955412),s=n(164392),u=n(824113);let c=1024;class l{constructor(e){this.options=e,this.tag="ConnectionRecoverHelper",this.maxRetryMap=new Map;let t=new i.y(t=>{var n,r;let i=()=>"visible"===document.visibilityState;window.addEventListener("visibilitychange",()=>{t.next(i())}),null==(n=e.listenVisibleChange)||n.call(e,e=>{t.next(e)}),document.addEventListener("click",()=>{t.next(!0)}),window.addEventListener("pagehide",()=>{t.next(!1)}),window.addEventListener("pageshow",()=>{t.next(!0)}),null==(r=e.listenVisibleChange)||r.call(e,e=>{t.next(e)}),t.next(i())}).pipe((0,s.x)());this.visibleSubject=new o.X(!0),t.subscribe(e=>{this.visibleSubject.next(e)})}get isRecovering(){return!!this.observable}tryRecover(e,t,n,i=0){var o;for(let a of(this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=void 0,this.options.actions)){let s=()=>{var o;null==t||t(),n&&(i>(null!=(o=null==a?void 0:a.maxRetry)?o:c)||(r.Z.info(this.tag,`retry ${e} until success, timeout: ${a.retryInterval}, retryCount: ${i}`),this.timeoutId=setTimeout(()=>this.tryRecover(e,void 0,n,i+1),a.retryInterval)))};if(a.codes.indexOf(e)>=0){let t;if(this.observable){r.Z.info(this.tag,`retry conflict code: ${e}`),this.clean(),s();return}if(a.skipFirstRecover&&0===i){r.Z.info(this.tag,`skip first try, code: ${e}`),this.clean(),s();return}this.observable=(null!=(o=null==a?void 0:a.customObservable)?o:this.visibleSubject).subscribe(i=>{var o,u;let c=void 0===t;if(t=i,i){let t=!c||a.retryImmeOnFirstVisible;r.Z.info(this.tag,"document visible, startRetry"),null==(o=this.cleanupRetry)||o.call(this),this.cleanupRetry=this.startRetry(e,Object.assign(Object.assign({},a),{retryImme:t}),s,n)}else r.Z.info(this.tag,"document invisible, cleanupRetry"),null==(u=this.cleanupRetry)||u.call(this)});return}}null==t||t()}startRetry(e,t,n,i){let{retry:o,retryLimit:s,retryInterval:c,retryImme:l,maxRetry:d}=t,f=(0,a.H)(l?0:c,c).pipe((0,u.q)(s)).subscribe(t=>{if(this.increaseRetry(e),this.reachMaxRetry(e,d||Number.MAX_SAFE_INTEGER)){r.Z.info(this.tag,`reach max retry, ${JSON.stringify(this.maxRetryMap)}, maxRetry: ${d}`),this.clean(),n();return}r.Z.info(this.tag,`startRetry, count${t}, retryLimit: ${s}`),o(e).then(()=>{r.Z.info(this.tag,`retry success, count: ${t}`),this.clean(),null==i||i()}).catch(()=>{r.Z.info(this.tag,`retry failed, count: ${t}`),t===s-1&&(r.Z.info(this.tag,"retry failed and fallback"),this.clean(),n())})});return()=>{f.unsubscribe()}}reachMaxRetry(e,t){return(this.maxRetryMap.get(e)||0)>t}increaseRetry(e){let t=this.maxRetryMap.get(e)||0;this.maxRetryMap.set(e,t+1)}clean(){var e,t;r.Z.info(this.tag,"clean recovery"),null==(e=this.observable)||e.unsubscribe(),this.observable=void 0,null==(t=this.cleanupRetry)||t.call(this)}}},141795:function(e,t,n){"use strict";n.d(t,{Dq:function(){return d},FI:function(){return l},Mo:function(){return a},N1:function(){return p},Yo:function(){return i},_v:function(){return h},bI:function(){return s},iO:function(){return u},iv:function(){return o},nn:function(){return r},sb:function(){return f}});var r,i,o,a,s,u,c=n(44488);!function(e){e.NEW_CHANGES="NEW_CHANGES",e.BIG_CHANGES="BIG_CHANGES",e.USER_NEWINFO="USER_NEWINFO",e.USER_NEWINFOS="USER_NEWINFOS",e.USER_LEAVE="USER_LEAVE",e.RIGHT_MESSAGE="RIGHT_MESSAGE",e.REVERT_MESSAGE="REVERT_MESSAGE",e.LAST_REVERSION="LAST_REVERSION",e.CURSOR_MESSAGE="CURSOR_MESSAGE",e.CURSOR_MESSAGES="CURSOR_MESSAGES",e.CODEREV_NEW="CODEREV_NEW",e.TITLE_MESSAGE="TITLE_MESSAGE",e.HANDLE_DELETE="HANDLE_DELETE",e.COMM_NOTICE="COMM_NOTICE",e.MARK_MESSAGE="MARK_MESSAGE",e.LIVE_MESSAGE="LIVE_MESSAGE",e.PRESENT_INFO="PRESENT_INFO"}(r||(r={})),function(e){e.BATCH_COMMIT_ERROR="BATCH_COMMIT_ERROR",e.RETRY_COMMIT="RETRY_COMMIT",e.SEND_USERCHANGE="SEND_USERCHANGE",e.ACCEPT_TASK_DUPLICATE="ACCEPT_TASK_DUPLICATE",e.HANDLE_NEW_CHANGES="HANDLE_NEW_CHANGES",e.HANDLE_TASK_DUPLICATE_VERSION_ERROR="HANDLE_TASK_DUPLICATE_VERSION_ERROR",e.HANDLE_FOLLOW_ERROR="HANDLE_FOLLOW_ERROR",e.APPLY_SERVER_USER_CHANGE_ERROR="APPLY_SERVER_USER_CHANGE_ERROR",e.APPLY_COLLAB_CHANGE_VERSION_BREAK="APPLY_COLLAB_CHANGE_VERSION_BREAK",e.APPLY_COLLAB_CHANGE_VERSION_REPEAT="APPLY_COLLAB_CHANGE_VERSION_REPEAT",e.APPLY_COLLAB_CHANGE_VERSION_BELOW="APPLY_COLLAB_CHANGE_VERSION_BELOW",e.GET_MISS_CHANGE_ERROR="GET_MISS_CHANGE_ERROR",e.MISS_CHANGE_VERSION_ERROR="MISS_CHANGE_VERSION_ERROR",e.GET_BIG_CHANGE_ERROR="GET_BIG_CHANGE_ERROR",e.BIG_CHANGE_VERSION_ERROR="BIG_CHANGE_VERSION_ERROR",e.COMMITING_BLOCK_ERROR="COMMITING_BLOCK_ERROR",e.UPDATE_VERSION_ERROR="UPDATE_VERSION_ERROR",e.COMMIT_REQUEST_SUCCESS="COMMIT_REQUEST_SUCCESS",e.COMMIT_REQUEST_FAIL="COMMIT_REQUEST_FAIL",e.TASK_QUEUE_NOT_RESUME_AFTER_60_SECOND="TASK_QUEUE_NOT_RESUME_AFTER_60_SECOND",e.APPLY_SERVER_USER_CHANGE_COST="APPLY_SERVER_USER_CHANGE_COST",e.NO_COMPOSE_DUPLICATE_TASK="NO_COMPOSE_DUPLICATE_TASK",e.LATEST_VERSION_ABNORMAL="LATEST_VERSION_ABNORMAL",e.RATE_LIMIT_STATUS="RATE_LIMIT_STATUS",e.LATEST_VERSION_BACKLOG="LATEST_VERSION_BACKLOG"}(i||(i={}));let l={[i.BATCH_COMMIT_ERROR]:"\u6279\u91CF\u63D0\u4EA4\u6D88\u606F\u5931\u8D25",[i.RETRY_COMMIT]:"\u91CD\u8BD5\u63D0\u4EA4\u6D88\u606F",[i.SEND_USERCHANGE]:"\u63D0\u4EA4\u5355\u4E2A\u6D88\u606F\u5230 Socket \u4FA7",[i.ACCEPT_TASK_DUPLICATE]:"\u5355\u4E2A\u6D88\u606F\u63D0\u4EA4\uFF0C\u540E\u53F0\u8FD4\u56DE TASK_DUPLICATE \u91CD\u590D\u6D88\u606F",[i.HANDLE_NEW_CHANGES]:"\u63A5\u6536\u5230\u65B0\u534F\u540C\u6D88\u606F",[i.HANDLE_TASK_DUPLICATE_VERSION_ERROR]:"\u91CD\u590D\u6D88\u606F\u5904\u7406\u65F6\uFF0C\u6700\u65B0\u7248\u672C\u53F7\u5C0F\u4E8E\u6216\u8005\u7B49\u4E8E\u5F53\u524D\u7248\u672C\u53F7\uFF0C\u7248\u672C\u5F02\u5E38",[i.HANDLE_FOLLOW_ERROR]:"\u51B2\u7A81\u5904\u7406\u5F02\u5E38",[i.APPLY_SERVER_USER_CHANGE_ERROR]:"\u56DE\u8C03\u7F51\u7EDC\u5C42\u4F9D\u8D56 ApplyServerUserChanges \u65F6\u5F02\u5E38",[i.APPLY_COLLAB_CHANGE_VERSION_BREAK]:"\u5E94\u7528\u534F\u540C\u6D88\u606F\u65F6\uFF0C\u5E94\u7528\u7248\u672C\u51FA\u73B0\u65AD\u5C42",[i.APPLY_COLLAB_CHANGE_VERSION_REPEAT]:"\u5E94\u7528\u534F\u540C\u6D88\u606F\u65F6\uFF0C\u5E94\u7528\u7248\u672C\u91CD\u590D",[i.APPLY_COLLAB_CHANGE_VERSION_BELOW]:"\u5E94\u7528\u534F\u540C\u6D88\u606F\u65F6\uFF0C\u5E94\u7528\u7248\u672C\u4F4E\u4E8E\u73B0\u5728\u7248\u672C",[i.GET_MISS_CHANGE_ERROR]:"\u8865\u62C9\u7248\u672C\u4EFB\u52A1 CGI \u8BF7\u6C42\u5F02\u5E38",[i.MISS_CHANGE_VERSION_ERROR]:"\u8865\u62C9\u7248\u672C\u4EFB\u52A1\u56DE\u5305\u6570\u636E\u7248\u672C\u4E0D\u8FDE\u7EED",[i.COMMITING_BLOCK_ERROR]:"\u63D0\u4EA4\u4EFB\u52A1\u961F\u5217\u963B\u585E\uFF08\u91CD\u8BD5\u540E\u4F9D\u7136\u5931\u8D25\uFF09",[i.GET_BIG_CHANGE_ERROR]:"\u5927\u6570\u636E\u7248\u672C\u4EFB\u52A1 CGI \u8BF7\u6C42\u5F02\u5E38",[i.BIG_CHANGE_VERSION_ERROR]:"\u5927\u6570\u636E\u62C9\u53D6\u7248\u672C\u4EFB\u52A1\u56DE\u5305\u7248\u672C\u5F02\u5E38",[i.UPDATE_VERSION_ERROR]:"\u7248\u672C\u5347\u7EA7\u5F02\u5E38\uFF0C\u5F53\u524D\u7248\u672C\u5927\u4E8E\u8981\u5347\u7684\u7248\u672C",[i.COMMIT_REQUEST_SUCCESS]:"\u7528\u6237\u6570\u636E\u63D0\u4EA4\u6210\u529F",[i.COMMIT_REQUEST_FAIL]:"\u7528\u6237\u6570\u636E\u63D0\u4EA4\u5931\u8D25",[i.TASK_QUEUE_NOT_RESUME_AFTER_60_SECOND]:"\u4EFB\u52A1\u961F\u5217\u88AB\u6682\u505C\uFF0C\u8D85\u8FC7 1 \u5206\u949F\u6CA1\u6709\u88AB\u6062\u590D\u8C03\u5EA6",[i.APPLY_SERVER_USER_CHANGE_COST]:"ApplyServerUserChanges\u8017\u65F6",[i.NO_COMPOSE_DUPLICATE_TASK]:"Changes\u5B58\u5728\u91CD\u590D\u4EFB\u52A1\uFF0C\u4E0D\u8FDB\u884Ccompose\u5904\u7406",[i.LATEST_VERSION_ABNORMAL]:"handleReverion\u7248\u672C\u5F02\u5E38",[i.RATE_LIMIT_STATUS]:"Changes\u9650\u9891\u72B6\u6001",[i.LATEST_VERSION_BACKLOG]:"handleReverion\u7248\u672C\u79EF\u538B"};!function(e){e.AJAX_ERROR="AJAX_ERROR",e.RESULT_DATA_UNDEFINED="RESULT_DATA_UNDEFINED",e.RETCODE_ERROR="RETCODE_ERROR",e.RESULT_CHANGES_EMPTY="RESULT_CHANGES_EMPTY",e.FROM_BELOW_TO_ERROR="FROM_BELOW_TO_ERROR",e.FETCH_CGI_ERROR="FETCH_CGI_ERROR",e.REQUEST_LIMITED="REQUEST_LIMITED"}(o||(o={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.SPREADSVR_LIMIT=23]="SPREADSVR_LIMIT",e[e.ERR_NOOP_FETCH_REVISION_BUSY=538018]="ERR_NOOP_FETCH_REVISION_BUSY"}(a||(a={})),function(e){e.LIMIT="LIMIT",e.NOT_LIMIT="NOT_LIMIT",e.SVR_ERROR="SVR_ERROR",e.NETWORK_ERROR="NETWORK_ERROR"}(s||(s={})),function(e){e.TIPS="TIPS",e.START="START",e.END="END",e.FAILED="FAILED"}(u||(u={}));let d=c.DEFAULT_SEND_MESSAGE_TIMEOUT,f=`timeout of ${d}ms exceeded`,p=[f,"Network Error","Request aborted"],h=e=>new Promise(t=>setTimeout(t,e))},487975:function(e,t,n){"use strict";var r,i,o,a,s,u;n.d(t,{n7:function(){return a},no:function(){return i},op:function(){return u},qP:function(){return s},uC:function(){return o},uR:function(){return r}}),function(e){e.ON_QUEUE_CHANGE="onQueueChange"}(r||(r={})),function(e){e.ON_COMMIT_FAIL="onCommitFail",e.ON_COMMIT_SUCCESS="onCommitSuccess"}(i||(i={})),function(e){e.ON_RECEIVE_MESSAGE="onReceiveOtherMessage"}(o||(o={})),function(e){e.ON_VERSION_CHANGE="onVersionChange"}(a||(a={})),function(e){e.ON_ROOM_OPEN="onRoomOpen",e.ON_ROOM_CLOSE="onClosed",e.ON_ROOM_SHUTDOWN="onShutdown",e.ON_RECONNECT_FAIL="onNetReconnectedFail",e.ON_ROOM_STATE_CHANGE="onConnectionStatusChange",e.ON_ENTER_ONLINE="onEnterOnline",e.ON_ENTER_OFFLINE="onEnterOffline"}(s||(s={})),function(e){e.ON_LOG="onLog",e.ON_REPORT="onReport"}(u||(u={}))},487650:function(e,t,n){"use strict";var r;n.d(t,{T:function(){return r}}),function(e){e.ON_ERROR="ON_ERROR",e.ON_SEND_ACCEPT="ON_SEND_ACCEPT"}(r||(r={}))},587421:function(e,t,n){"use strict";var r;n.d(t,{Q:function(){return a}});class i{constructor(e){this.element=e,this.next=i.Undefined,this.prev=i.Undefined}}i.Undefined=new i(void 0);class o{constructor(){this._first=i.Undefined,this._last=i.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===i.Undefined}clear(){this._first=i.Undefined,this._last=i.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}shift(){if(this._first!==i.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==i.Undefined){let e=this._last.element;return this._remove(this._last),e}}*[Symbol.iterator](){let e=this._first;for(;e!==i.Undefined;)yield e.element,e=e.next}toArray(){let e=[];for(let t=this._first;t!==i.Undefined;t=t.next)e.push(t.element);return e}_insert(e,t){let n=new i(e);if(this._first===i.Undefined)this._first=n,this._last=n;else if(t){let e=this._last;this._last=n,n.prev=e,e.next=n}else{let e=this._first;this._first=n,n.next=e,e.prev=n}this._size+=1;let r=!1;return()=>{r||(r=!0,this._remove(n))}}_remove(e){if(e.prev!==i.Undefined&&e.next!==i.Undefined){let t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===i.Undefined&&e.next===i.Undefined?(this._first=i.Undefined,this._last=i.Undefined):e.next===i.Undefined?(this._last=this._last.prev,this._last.next=i.Undefined):e.prev===i.Undefined&&(this._first=this._first.next,this._first.prev=i.Undefined);this._size-=1}}class a{constructor(e){this._disposed=!1,this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{var r,i,a;this._listeners||(this._listeners=new o);let s=this._listeners.isEmpty();s&&(null==(r=this._options)?void 0:r.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this);let u=this._listeners.push(t?[e,t]:e);s&&(null==(i=this._options)?void 0:i.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),(null==(a=this._options)?void 0:a.onListenerDidAdd)&&this._options.onListenerDidAdd(this,e,t);let c={dispose:()=>{var e;!this._disposed&&(u(),(null==(e=this._options)?void 0:e.onLastListenerRemove)&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))}};return Array.isArray(n)&&n.push(c),c}),this._event}fire(e){if(this._listeners){for(let t of(this._deliveryQueue||(this._deliveryQueue=new o),this._listeners))this._deliveryQueue.push([t,e]);for(;this._deliveryQueue.size>0;){let[e,t]=this._deliveryQueue.shift();try{"function"==typeof e?e.call(void 0,t):e[0].call(e[1],t)}catch(e){console.error(e)}}}}dispose(){this._listeners&&this._listeners.clear(),this._deliveryQueue&&this._deliveryQueue.clear(),this._disposed=!0}}!function(e){function t(e){return(t,n=null,r)=>{let i=!1,o=e(e=>i?void 0:(o?o.dispose():i=!0,t.call(n,e)),null,r);return i&&o.dispose(),o}}e.once=t,e.signal=function(e){return e},e.buffer=function(e,t=!1,n=[]){let r=n.slice(),i=e(e=>{r?r.push(e):s.fire(e)}),o=()=>{r&&r.forEach(e=>s.fire(e)),r=null},s=new a({onFirstListenerAdd(){i||(i=e(e=>s.fire(e)))},onFirstListenerDidAdd(){r&&(t?setTimeout(o):o())},onLastListenerRemove(){i&&i.dispose(),i=null}});return s.event},e.fromPromise=function(e){let t=new a,n=!1;return e.then(void 0,()=>null).then(()=>{n?t.fire(void 0):setTimeout(()=>t.fire(void 0),0)}),n=!0,t.event},e.toPromise=function(e){return new Promise(n=>t(e)(n))}}(r||(r={}))},172163:function(e,t,n){"use strict";n.d(t,{A:function(){return a},t:function(){return o}});var r=n(705670),i=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};function o(e){return"function"==typeof e&&e.toString().includes("[native code]")}function a(e){return i(this,void 0,void 0,function*(){return new Promise(t=>{if(0===e.length)return t();let n=e.map(i=>i.status.subscribe(()=>{let i=!0;for(let t of e)i=i&&t.isDestroyed();i&&(r.Z.info("task all done"),n.forEach(e=>e.unsubscribe()),t())}))})})}},889540:function(e,t,n){"use strict";n.d(t,{Tn:function(){return A},g2:function(){return T},Ix:function(){return E}});var r=n(430327),i=n.n(r),o=n(141795),a=n(705670),s=n(920593),u=n(869243),c=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};function l(e){return c(this,void 0,void 0,function*(){try{let t=yield i()({method:"get",url:e,responseType:"json",timeout:o.Dq});if(!(null==t?void 0:t.data))return a.Z.error("requestLimitResult: response data is empty"),o.bI.SVR_ERROR;let{data:n}=t;if((null==n?void 0:n.retcode)===o.Mo.SUCCESS)return a.Z.info("requestLimitResult: not limit",n),o.bI.NOT_LIMIT;if((null==n?void 0:n.retcode)===o.Mo.ERR_NOOP_FETCH_REVISION_BUSY)return a.Z.info("requestLimitResult: limit",n),o.bI.LIMIT;throw Error(JSON.stringify(n))}catch(e){if(o.N1.includes(null==e?void 0:e.message))return a.Z.error("requestLimitResult: network error",e),o.bI.NETWORK_ERROR;return a.Z.error("requestLimitResult: svr error",e),o.bI.SVR_ERROR}})}let d=300,f=3,p=10,h=2e3,g=2e3,m=2e3,v=6e4;function y(e){var t;return c(this,void 0,void 0,function*(){let n=Date.now(),r=null,i=setTimeout(()=>{s.Z.report(o.Yo.RATE_LIMIT_STATUS,{channel1:o.iO.TIPS,value:Date.now()-n}),r=u.default.show({id:"RateLimit",message:"\u6B63\u5728\u540C\u6B65\u6700\u65B0\u6570\u636E",type:"loading",autoClose:!1,action:"\u5237\u65B0",onClickAction:()=>{window.location.reload()},zIndex:9999}),a.Z.info("waitForRateLimit: showLoading")},v);try{let t=new URL(e),r=t.searchParams.get("padId");if(!r)return a.Z.error("waitForRateLimit: padId is empty",e),!1;t.search=`?padId=${r}&noop=true`;let i=t.toString();a.Z.info("waitForRateLimit: start",i),s.Z.report(o.Yo.RATE_LIMIT_STATUS,{channel1:o.iO.START,value:Date.now()-n});let u=yield l(i),c=0,v=0,y=0;for(;u!==o.bI.NOT_LIMIT;){if((c+=1)>d)throw Error("looping count limit");if(u===o.bI.SVR_ERROR){if((v+=1)>f)throw Error("svr error count limit");yield(0,o._v)(g)}if(u===o.bI.NETWORK_ERROR){if((y+=1)>p)throw Error("network error count limit");yield(0,o._v)(m)}yield(0,o._v)(h),u=yield l(i)}return s.Z.report(o.Yo.RATE_LIMIT_STATUS,{channel1:o.iO.END,value:Date.now()-n}),!0}catch(e){return a.Z.error("waitForRateLimit: failed",e),s.Z.report(o.Yo.RATE_LIMIT_STATUS,{channel1:o.iO.FAILED,value:Date.now()-n,message:(null==e?void 0:e.message)||"unknown"}),!1}finally{clearTimeout(i),r&&(null==(t=null==r?void 0:r.close)||t.call(r),a.Z.info("waitForRateLimit: closeLoading"))}})}var b=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};function _(e,t){return b(this,void 0,void 0,function*(){let n,r=new Promise((e,t)=>{n=setTimeout(()=>t(Error(o.sb)),o.Dq)});try{let n;return n=t?yield Promise.race([C(e,t),r]):yield Promise.race([I(e),r])}catch(e){return a.Z.error("sendRequest error",e),{isSuccess:!1,error:e,data:void 0,errorDescription:o.iv.AJAX_ERROR}}finally{n&&clearTimeout(n)}})}function C(e,t){return b(this,void 0,void 0,function*(){let n=yield fetch(e,{method:"GET",headers:{"Content-Type":"application/json"},referrer:t}),r=yield n.json();return{isSuccess:!0,data:Object.assign({data:r},r)}})}function I(e){return b(this,void 0,void 0,function*(){return{isSuccess:!0,data:yield i()({method:"get",url:e,responseType:"json",timeout:o.Dq})}})}function E({url:e,maxRetryCount:t=2,customReferUrl:n,retryInterval:r}){return b(this,void 0,void 0,function*(){let i={isSuccess:!1,data:void 0},s=0;for(;s<=t;){if((i=yield _(e,n)).isSuccess)if(null==i?void 0:i.data){let t=w(i.data);if(t.isSuccess)return i;t.errorDescription===o.iv.REQUEST_LIMITED&&(yield y(e)),a.Z.error("sendRequestWithRetry error: double check failed",t)}else{a.Z.error("sendRequestWithRetry error: no data",i);break}if(a.Z.error(`sendRequestWithRetry error: not success, ${s} / ${t}`,i),(s+=1)<=t){let e=null!=r?r:10*s*1e3;yield new Promise(t=>setTimeout(t,e))}}return i})}function w(e){var t;let n,r,{data:i}=e,a=!0;return(null==i?void 0:i.retcode)===o.Mo.SPREADSVR_LIMIT?(a=!1,n=o.iv.REQUEST_LIMITED):void 0===i?(a=!1,n=o.iv.RESULT_DATA_UNDEFINED):(null==i?void 0:i.retcode)!==0?(a=!1,n=o.iv.RETCODE_ERROR,r=null==i?void 0:i.retcode):Array.isArray(null==(t=null==i?void 0:i.result)?void 0:t.changes)||(a=!1,n=o.iv.RESULT_CHANGES_EMPTY),{isSuccess:a,errorDescription:n,retcode:r}}function S(e){return void 0===e.to||!(e.to<e.from)}function D(e,t,n){return b(this,void 0,void 0,function*(){if(!S(e))return{isSuccess:!1,data:void 0,errorDescription:o.iv.FROM_BELOW_TO_ERROR};let r=yield t(e),i=yield(n||E)({url:r,customReferUrl:e.customReferUrl,retryInterval:e.retryInterval}),{data:s}=i;if(!i.isSuccess)return{isSuccess:!1,data:void 0,error:i.error,errorDescription:o.iv.FETCH_CGI_ERROR};let{isSuccess:u,errorDescription:c,retcode:l}=w(s);return a.Z.info(`getMissChangeUrl, isSuccess: ${u} retcode: ${l}, errorDescription: ${c}`),{data:null==s?void 0:s.data.result,isSuccess:u,errorDescription:c,retcode:l,error:Error(JSON.stringify({retcode:l,errorDescription:c}))}})}function M(e,t,n){return 0===t?{isFinish:!0}:void 0===e&&n>t?{isFinish:!1,from:t+1,to:n}:void 0!==e&&e>t&&e<=n?{isFinish:!1,from:t+1,to:e}:{isFinish:!0}}function T(e,t,n){var r;return b(this,void 0,void 0,function*(){let i=[],a=Object.assign({},e);for(;;){let u=yield D(a,t,n);if(!u.isSuccess)return s.Z.report(o.Yo.GET_MISS_CHANGE_ERROR,{options:e,result:u}),Promise.reject(u);(null==(r=u.data)?void 0:r.changes)&&i.push(...u.data.changes);let c=M(e.to,u.data.to,u.data.rev);if(c.isFinish)return{misschanges:i,baseCalcRev:u.data.baseCalcRev,docRev:u.data.rev};a=Object.assign(e,{from:c.from,to:c.to})}})}function A(e,t,n){return b(this,void 0,void 0,function*(){return(yield T(e,t,n)).misschanges})}},705670:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});var r,i=n(587421);!function(e){e.INFO="INFO",e.ERROR="ERROR",e.WARN="WARN",e.DEBUG="DEBUG"}(r||(r={}));class o{constructor(){this.onLogEmitter=new i.Q,this.onLog=this.onLogEmitter.event,this.initLogger()}dispose(){this.onLogEmitter.dispose()}initLogger(){this.info=(...e)=>{this.onLogEmitter.fire({type:"INFO",data:e})},this.debug=(...e)=>{this.onLogEmitter.fire({type:"DEBUG",data:e})},this.warn=(...e)=>{this.onLogEmitter.fire({type:"WARN",data:e})},this.error=(...e)=>{this.onLogEmitter.fire({type:"ERROR",data:e})}}}t.Z=new o},920593:function(e,t,n){"use strict";var r=n(587421),i=n(141795);class o{constructor(){this.onReportEmitter=new r.Q,this.onReport=this.onReportEmitter.event,this.initReporter()}dispose(){this.onReportEmitter.dispose()}initReporter(){this.report=(e,t)=>{this.onReportEmitter.fire({type:e,remark:i.FI[e],data:t})}}}t.Z=new o},963327:function(e,t,n){"use strict";n.r(t),n.d(t,{ConfigItem:function(){return g},default:function(){return m}});var r=n(174165),i=n(551450),o=n(732482),a=n(653458),s=n(792763),u=n(794904),c=n(346471),l=n(192323),d=n.n(l);function f(e,t){var r,i=null,o=(t?"?".concat(t.split("?")[1]||""):null==(r=n.g.location)?void 0:r.search)||"";return o&&(i=o.match(new RegExp("(\\?|&)".concat(e,"=([^&]*)(&|$)")))),i?decodeURIComponent(i[2]):""}var p=function(){function e(){(0,i.Z)(this,e),(0,a.Z)(this,"cache",void 0),this.cache={}}return(0,o.Z)(e,[{key:"bind",value:function(e){(0,s.Z)(this.cache,e)}},{key:"get",value:function(e){return(0,u.Z)(this.cache,e)}},{key:"clear",value:function(){this.cache={}}},{key:"getAll",value:function(){return this.cache}}]),e}(),h=function(){function e(){(0,i.Z)(this,e),(0,a.Z)(this,"cache",void 0),this.cache=new p,this.init()}return(0,o.Z)(e,[{key:"bind",value:function(e){(0,c.Z)(e)||this.cache.bind(e),this.saveToSessionStorage()}},{key:"clear",value:function(){this.cache.clear()}},{key:"getConfig",value:function(e){var t=this.cache.get(e);return"object"===(0,r.Z)(t)?d()(t):t}},{key:"getAllConfig",value:function(){var e,t=null!=(e=this.cache.getAll())?e:{};return d()(t)}},{key:"saveToSessionStorage",value:function(e){try{if("undefined"!=typeof self&&self.sessionStorage){var t,n=null!=(t=null!=e?e:this.cache.getAll())?t:{};return self.sessionStorage.setItem("configCache",JSON.stringify(n)),!0}}catch(e){console.error(e)}return!1}},{key:"loadFromSessionStorage",value:function(){try{if("undefined"!=typeof self&&self.sessionStorage){var e=self.sessionStorage.getItem("configCache");if(e)return this.bind(JSON.parse(e)),!0}else throw Error("browser is not support sessionStorage")}catch(e){console.error(e)}return!1}},{key:"init",value:function(){if("undefined"!=typeof self){var e=self.AppConfig;if("object"!==(0,r.Z)(e))return void console.error("\u52A0\u8F7D AppConfig \u914D\u7F6E\u51FA\u9519");var t=f("mode"),n=e[t]||e.normal;this.bind(n)}}}],[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}]),e}();(0,a.Z)(h,"instance",void 0);var g=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"getKey",value:function(e){if(""===this.configName)throw Error("\u5B50\u7C7B\u672A\u91CD\u547D\u540DconfigName!");return"".concat(this.configName,".").concat(e)}}]),e}();(0,a.Z)(g,"configName","");var m=h},924901:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Command=void 0,function(e){e.UNKNOWN="UNKNOWN",e.HEART_BEAT="HEART_BEAT",e.CLIENT_READY="CLIENT_READY",e.CURSOR_MESSAGE="CURSOR_MESSAGE",e.USER_NEWINFO="USER_NEWINFO",e.USER_NEWINFOS="USER_NEWINFOS",e.USER_LEAVE="USER_LEAVE",e.USER_LEAVES="USER_LEAVES",e.QUIT_NOTICE="QUIT_NOTICE",e.USER_CHANGES="USER_CHANGES",e.NEW_CHANGES="NEW_CHANGES",e.ACCEPT_COMMIT="ACCEPT_COMMIT",e.GET_PRIVILEGE="GET_PRIVILEGE",e.BIG_COLLAB_SWITCH="BIG_COLLAB_SWITCH",e.COMMON_REQUEST="COMMON_REQUEST",e.BIND_POST="BIND_POST",e.CLIENT_DISCONNECT="CLIENT_DISCONNECT",e.LIVE_MESSAGE="LIVE_MESSAGE",e.UPDATE_WEBOFFICE_TOKEN="UPDATE_WEBOFFICE_TOKEN"}(n||(n={})),t.Command=n},722295:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},987288:function(e,t){"use strict";var n=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.HttpError=void 0,t.HttpError=function(e){function t(t,n){var r=e.call(this,t+", statusCode:"+n+" ")||this;return r.name="HttpError",r.statusCode=n,r}return n(t,e),t}(Error)},854205:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(722295),t),i(n(924901),t),i(n(153266),t),i(n(987288),t),i(n(243523),t),i(n(883037),t)},243523:function(e,t){"use strict";var n,r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.ContentTypeValue=t.ContentTypeValueMap=t.HttpStatus=t.Method=t.ContentType=void 0,function(e){e.JSON="JSON",e.FORM="FORM"}(n||(n={})),t.ContentType=n,function(e){e.JSON="application/json",e.FORM="application/x-www-form-urlencoded"}(r||(r={})),t.ContentTypeValue=r,t.ContentTypeValueMap=new Map([[n.JSON,r.JSON],[n.FORM,r.FORM]]),function(e){e.POST="POST",e.GET="GET"}(i||(i={})),t.Method=i,function(e){e[e.SUCCESS=200]="SUCCESS",e[e.NOT_FOUND=404]="NOT_FOUND"}(o||(o={})),t.HttpStatus=o},153266:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Result=void 0,t.Result=function(){return function(e,t){e&&(this.error=e),void 0!==t&&(this.data=t)}}()},883037:function(e,t){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.ServerMessageNoticeEventType=t.QUIT_TYPE=void 0,function(e){e.INACTIVE="INACTIVE",e.LOGIN_INVALIDATE="LOGIN_INVALIDATE",e.LOGIN_FORBIDDEN="LOGIN_FORBIDDEN"}(n=t.QUIT_TYPE||(t.QUIT_TYPE={})),function(e){e.COLLAB_COUNT_CHANGE="COLLAB_COUNT_CHANGE",e.EXPIRED_TIME_CHANGE="EXPIRED_TIME_CHANGE"}(r=t.ServerMessageNoticeEventType||(t.ServerMessageNoticeEventType={}))},463255:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RetCode=t.HttpStatus=t.Method=void 0;var r,i=n(854205);Object.defineProperty(t,"Method",{enumerable:!0,get:function(){return i.Method}}),Object.defineProperty(t,"HttpStatus",{enumerable:!0,get:function(){return i.HttpStatus}}),function(e){e[e.SUCCESS=0]="SUCCESS"}(r||(r={})),t.RetCode=r},169554:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseChannel=void 0;var o=n(956359),a=n(689971);t.BaseChannel=function(){function e(e,t){this.options=e,this.defaultConfig=t}return e.prototype.dispose=function(){this.paramsPacker=void 0,this.responseHandler=void 0},e.prototype.sendMessage=function(e){return r(this,void 0,void 0,function(){var t,n,r,s,u,c;return i(this,function(i){switch(i.label){case 0:if(!this.paramsPacker||!this.responseHandler)return t="Channel Error, sendMessage failed paramsPacker:"+this.paramsPacker+", responseHandler:"+this.responseHandler+" ",a.ConnectionLog.error(t),[2,{error:t}];return n=this.paramsPacker.pack(e,this.options),r=e.requestUrl,s=e.method,u=e.contentType,[4,new o.Request().sendRequest(null!=r?r:this.defaultConfig.requestUrl,null!=s?s:this.defaultConfig.method,null!=u?u:this.defaultConfig.contentType,n)];case 1:return c=i.sent(),[2,this.responseHandler.handle(c)]}})})},e}()},956359:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var o=n(444553),a=n(689971),s=n(463255),u=n(854205);t.Request=function(){function e(){}return e.prototype.sendRequest=function(e,t,n,c){var l,d,f;return void 0===t&&(t=s.Method.POST),void 0===n&&(n=u.ContentType.FORM),r(this,void 0,void 0,function(){var r,p;return i(this,function(i){switch(i.label){case 0:if(i.trys.push([0,5,,6]),r=void 0,t!==s.Method.GET)return[3,2];return[4,o.networkRequest.get(e)];case 1:return r=i.sent(),[3,4];case 2:return[4,o.networkRequest.post(e,c,{contentType:u.ContentTypeValueMap.get(n)})];case 3:r=i.sent(),i.label=4;case 4:return[2,new u.Result(void 0,r)];case 5:return p=i.sent(),a.ConnectionLog.error("Request Failed, requestUrl:"+e+", status:"+(null==(l=null==p?void 0:p.request)?void 0:l.status)+", response:"+(null==(d=null==p?void 0:p.request)?void 0:d.response)+", responseText:"+(null==(f=null==p?void 0:p.request)?void 0:f.responseText)+", error stack:"+(null==p?void 0:p.stack)+", error message:"+(null==p?void 0:p.message)),[2,new u.Result(p)];case 6:return[2]}})})},e}()},180149:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},342818:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuildBigCollabChannel=t.BigCollabChannel=void 0;var r=n(689971),i=n(224012),o=n(183975),a=n(868252),s=function(){function e(e,t){this.tag="BigCollabChannel",this.connectStatusManager=new o.ConnectStatusManager(e,t),this.messageCenter=new a.MessageCenter(e,t,this.connectStatusManager)}return e.prototype.dispose=function(){this.connectStatusManager.dispose(),this.messageCenter.dispose()},e.prototype.connect=function(){r.ConnectionLog.info(this.tag+" connect"),this.connectStatusManager.connect()},e.prototype.isConnected=function(){return this.connectStatusManager.isConnected()},e.prototype.isDisconnected=function(){return this.connectStatusManager.isDisconnected()},e.prototype.disconnect=function(e){r.ConnectionLog.error(this.tag+" disconnect, shutdown:"+e.shutDown+", errCode:"+e.errCode+" reason:"+e.reason),this.connectStatusManager.disconnect(e)},e.prototype.sendMessage=function(e){var t,n=e.taskId,r=e.cmd,o=e.data;if(!this.connectStatusManager.isConnected()){null==(t=e.onError)||t.call(e,n,r,o,{errCode:this.connectStatusManager.isDisconnected()?i.RoomErrorCode.ROOM_SHUTDOWN:i.RoomErrorCode.ROOM_STATE_ERR,errMsg:"can not send message in this room state."});return}this.messageCenter.sendMessage(e)},e.prototype.cancelSendMessageByTaskId=function(e){var t,n;null==(n=(t=this.messageCenter).cancelSendMessageByTaskId)||n.call(t,e)},e}();t.BigCollabChannel=s,t.BuildBigCollabChannel=function(e,t){return new s(e,t)}},502124:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectStatus=void 0,function(e){e.INIT="INIT",e.LOGIN="LOGIN",e.LOGIN_FAIL="LOGIN_FAIL",e.LOGINED="LOGINED",e.CONNECTED="CONNECTED",e.DISCONNECT="DISCONNECT",e.WAIT_RECONNECTING="WAIT_RECONNECTING"}(n||(n={})),t.ConnectStatus=n},183975:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectStatusManager=void 0;var o=n(107995),a=n(692199),s=n(502124),u=n(689971),c=i(n(335310)),l=n(224012),d=i(n(989013));t.ConnectStatusManager=function(){function e(e,t){this.options=e,this.dependency=t,this.onConnectEventEmitter=new o.Emitter,this.tag="ConnectStatusManager",this.connectStatus=s.ConnectStatus.INIT,this.onConnectEvent=this.onConnectEventEmitter.event,this.bigCollabLogin=new a.BigCollabLogin(this.options,r(r({},this.dependency),{connectStatusChange:this.connectStatusChange.bind(this)})),new d.default({disconnect:this.disconnect.bind(this)})}return e.prototype.dispose=function(){this.bigCollabLogin.dispose(),this.onConnectEventEmitter.dispose()},e.prototype.connect=function(){if(this.needLogin())return void this.bigCollabLogin.login();u.ConnectionLog.warn(this.tag+" not connect. connectStatus:"+this.connectStatus)},e.prototype.isConnected=function(){return this.connectStatus===s.ConnectStatus.CONNECTED},e.prototype.reconnect=function(e){if(this.isDisconnected())return void u.ConnectionLog.info(this.tag+" can not reconnect. connectStatus: disconnected");this.setConnnectStatus(s.ConnectStatus.WAIT_RECONNECTING),this.bigCollabLogin.relogin(e)},e.prototype.isDisconnected=function(){return this.connectStatus===s.ConnectStatus.DISCONNECT},e.prototype.disconnect=function(e){var t,n,r,i;if(u.ConnectionLog.info(this.tag+" disconnect errorCode:"+e.errCode+", reason:"+e.reason+" shutdown:"+e.shutDown),this.bigCollabLogin.unlogin(),e.shutDown){this.bigCollabLogin.dispose(),this.setConnnectStatus(s.ConnectStatus.DISCONNECT),this.dependency.disconnect(e),c.default.shutDownReport({module:this.options.module,attrName:String(null!=(t=e.errCode)?t:0),status:1,errorMessage:null!=(n=e.reason)?n:l.RoomUtil.getWebsocketChannelErrorMessage(null!=(r=e.errCode)?r:0)});return}this.bigCollabLogin.reset(),this.dependency.disconnect(e),c.default.reconnectReport({module:this.options.module,attrName:String(null!=(i=e.errCode)?i:0),errorMessage:e.reason,status:1}),this.reconnect(e.reconnectTime)},e.prototype.onConnectSuccess=function(){this.isConnected()||(this.setConnnectStatus(s.ConnectStatus.CONNECTED),this.dependency.connected())},e.prototype.connectStatusChange=function(e,t,n){this.setConnnectStatus(e,t),e===s.ConnectStatus.LOGIN_FAIL&&this.disconnect(null!=n?n:{shutDown:!1})},e.prototype.needLogin=function(){return[s.ConnectStatus.INIT,s.ConnectStatus.WAIT_RECONNECTING].includes(this.connectStatus)},e.prototype.setConnnectStatus=function(e,t){u.ConnectionLog.info(this.tag+" setConnnectStatus: oldState:"+this.connectStatus+", newStatus = "+e),e!==this.connectStatus&&(this.connectStatus=e,this.onConnectEventEmitter.fire({status:e,serverRequestParams:t}))},e}()},692337:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PAGE_UNLOAD_TIME=t.DEFAULT_MIN_TRY_COUNT=t.MAX_DELAY_TIME=t.DEFAULT_DELAY_TIME=void 0,t.DEFAULT_MIN_TRY_COUNT=1,t.DEFAULT_DELAY_TIME=0,t.PAGE_UNLOAD_TIME=3e3,t.MAX_DELAY_TIME=3e4},692199:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BigCollabLogin=void 0;var s=n(386087),u=n(854205),c=n(14450),l=n(463255),d=n(692337),f=n(224012),p=n(689971),h=a(n(335310)),g=n(502124),m=n(359777),v=Number.MIN_VALUE;t.BigCollabLogin=function(){function e(e,t){this.options=e,this.dependency=t,this.retryCount=0,this.delayConnectTime=d.DEFAULT_DELAY_TIME,this.delayConnectTimer=0,this.setRouteKey()}return e.prototype.dispose=function(){clearTimeout(this.delayConnectTimer),this.delayConnectTimer=v},e.prototype.reset=function(){clearTimeout(this.delayConnectTimer),this.delayConnectTimer=0},e.prototype.login=function(){0!==this.retryCount?this.relogin():this.sendLoginRequest()},e.prototype.unlogin=function(){if(!this.sid||!this.token)return!1;var e=new c.Request().sendBeacon(this.getUnbindPath(),r(r({},this.createBindPostMessage("CLIENT_DISCONNECT")),{sid:this.sid,token:this.token}));return this.sid=void 0,this.token=void 0,e},e.prototype.relogin=function(e,t){var n=this;if(!this.delayConnectTimer){var r=this.getDelayConnectTime(e);this.delayConnectTimer=setTimeout(function(){t||n.retryCount!==s.DEFAULT_RETRY_COUNTS||n.dependency.disconnect({shutDown:!1,reason:"big collab login timeout."}),n.retryCount=n.retryCount+1,n.reset(),n.sendLoginRequest()},r)}},e.prototype.getDelayConnectTime=function(e){return void 0===e?(this.retryCount>s.DEFAULT_RETRY_COUNTS&&this.delayConnectTime===d.DEFAULT_DELAY_TIME&&(this.delayConnectTime=d.MAX_DELAY_TIME),this.delayConnectTime):e},e.prototype.sendLoginRequest=function(){var e,t;return i(this,void 0,void 0,function(){var n,r;return o(this,function(i){switch(i.label){case 0:return n=this.createBindPostMessage("BIND_POST"),this.dependency.connectStatusChange(g.ConnectStatus.LOGIN),p.ConnectionLog.info("routeKey: "+this.routeKey+", Message: "+p.JsonUtil.jsonStringify(n)),[4,new c.Request().sendRequest(this.getBindPath(),l.Method.POST,n,{contentType:u.ContentTypeValue.JSON})];case 1:return r=i.sent(),this.handleLoginResult(r),p.ConnectionLog.info("handleLoginResult result: "+p.JsonUtil.jsonStringify(null!=(t=null==(e=r.data)?void 0:e.data)?t:{})),[2]}})})},e.prototype.createBindPostMessage=function(e){return{head:p.createMessageHead(this.options,{command:e,baseRev:this.dependency.getVersion(),getHeaderGeneralPacket:this.dependency.getHeaderGeneralPacket(),taskId:p.generateMessageTaskId()}),body:this.createPostBody()}},e.prototype.createPostBody=function(){var e={};return p.JsonUtil.jsonStringify(e)},e.prototype.handleLoginResult=function(e){if(e.error)return void this.relogin();var t=e.data.data;this.isLoginSuccess(t.retcode)?this.handleLoginSuccess(t):this.handleLoginFailed(t)},e.prototype.isLoginSuccess=function(e){return f.SERVER_SUCCESS_CODES.includes(e)},e.prototype.handleLoginSuccess=function(e){this.reset(),this.retryCount=0,this.delayConnectTime=d.DEFAULT_DELAY_TIME,this.sid=e.data.sid,this.token=e.data.token;var t={sid:e.data.sid,token:e.data.token,routeKey:this.routeKey};this.dependency.connectStatusChange(g.ConnectStatus.LOGINED,t)},e.prototype.handleLoginFailed=function(e){var t=e.retcode,n=e.msg,r=e.data;if(this.setRouteKey(r.routeKey),p.ConnectionLog.info("connect failed, serverErrCode: "+t+", errorMessage:"+n),this.shouldReconnect(e))h.default.retryRequestReport({name:String(t),message:"login error, retcode: "+t+", msg: "+n},this.options.module),this.relogin(this.getDelayConnectTime(),t===f.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_MEMBER_FULL&&!!r.routeKey);else{var i={errCode:t,reason:f.RoomUtil.getWebsocketChannelErrorMessage(t,"connect failed."),shutDown:!f.NEED_RETRY_ERRCODES.includes(t)};this.dependency.connectStatusChange(g.ConnectStatus.LOGIN_FAIL,void 0,i)}},e.prototype.setRouteKey=function(e){this.routeKey=null!=e?e:this.options.serverVars.globalPadId},e.prototype.shouldReconnect=function(e){var t=e.retcode,n=e.data;return t===f.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_MEMBER_FULL?!!n.routeKey:f.NEED_RETRY_ERRCODES.includes(t)&&this.retryCount<3},e.prototype.getBindPath=function(){return this.routeKey||this.setRouteKey(),m.PATH+"?routeKey="+this.routeKey},e.prototype.getUnbindPath=function(){return this.routeKey||this.setRouteKey(),"/websocket/save?routeKey="+this.routeKey},e}()},989013:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(189249),i=n(692337);t.default=function(){function e(e){var t=this;this.dependency=e,this.disconnect=function(){t.dependency.disconnect({reason:"close by client, beforeunload",shutDown:!1,errCode:r.RoomErrorCode.ROOM_CLOSE,reconnectTime:i.PAGE_UNLOAD_TIME})},this.addBeforeunloadListener(this.disconnect)}return e.prototype.addBeforeunloadListener=function(e){window.addEventListener("beforeunload",e)},e}()},766090:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(180149),t),i(n(342818),t)},868252:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageCenter=void 0;var u=n(689971),c=n(224012),l=n(502124),d=n(418989),f=n(955094),p=n(680222),h=n(404649),g=n(339001),m=n(883037),v=n(316278),y=n(178742),b=s(n(335310));t.MessageCenter=function(){function e(e,t,n){var r,i,o=this;this.options=e,this.dependency=t,this.connectManager=n,this.tag="MessageCenter",this.limitFrequencyManager=new p.LimitFrequencyManager(this.dependency),null==(i=null==(r=this.options.config)?void 0:r.messagePriority)||i.forEach(function(e,t){o.limitFrequencyManager.setPriority(t,e)});var a={getServerParams:function(){return o.serverRequestParams},reconnect:function(e){return o.reconnect(e)},disconnect:function(e){return o.connectManager.disconnect(e)},isDisconnected:function(){return o.connectManager.isDisconnected()},handleServerMessage:function(e){return o.handleServerMessage(e)},onConnectSuccess:function(){return o.connectManager.onConnectSuccess()}};this.sender=new f.Sender({getServerParams:function(){return o.serverRequestParams},isConnected:function(){return o.connectManager.isConnected()},onMessageSending:function(e){return o.onMessageSending(e)},onMessageWaiting:function(e){return o.onMessageWaiting(e)}}),this.receiver=new d.Receiver(a);var s=new g.MessageClassification([["CURSOR_MESSAGE",g.MessageSendType.PARALLEL]]);this.messageSendQueue=new h.MessageSendQueue(s),this.timeoutChecker=new v.TimeoutChecker(this.messageSendQueue,{trySendMessage:function(){return o.trySendMessage()}}),this.initOnConnectEvent()}return e.prototype.dispose=function(){this.receiver.dispose(),this.sender.dispose(),this.timeoutChecker.dispose()},e.prototype.sendMessage=function(e){if(u.ConnectionLog.info(this.tag+" sendMessage cmd:"+e.cmd+" taskId:"+e.taskId),this.messageSendQueue.has(e.taskId)){u.ConnectionLog.warn(this.tag+" sendMessage taskId:"+e.taskId+" is sending."),e.onError(e.taskId,e.cmd,e.data,{errCode:c.RoomErrorCode.EXIST,errMsg:"msg already exist."});return}var t=y.MessageCreater.createMessage(e,this.options,this.dependency);this.messageSendQueue.add(t),this.trySendMessage()},e.prototype.cancelSendMessageByTaskId=function(e){u.ConnectionLog.info("cancelSendMessageByTaskId taskId:"+e),this.messageSendQueue.remove(e)},e.prototype.initOnConnectEvent=function(){var e=this;this.connectManager.onConnectEvent(function(t){var n,r=t.status,i=t.serverRequestParams;u.ConnectionLog.debug("onConnectEvent: "+r);var o=new Map([[""+l.ConnectStatus.LOGINED,function(){return e.handleLogined(i)}],[""+l.ConnectStatus.CONNECTED,function(){return e.trySendMessage()}],[""+l.ConnectStatus.DISCONNECT,function(){return e.handleDisconnect()}],[""+l.ConnectStatus.WAIT_RECONNECTING,function(){return e.handleWaitReconnecting()}]]);o.has(t.status)&&(null==(n=o.get(t.status))||n())})},e.prototype.trySendMessage=function(){if(this.connectManager.isDisconnected())return void this.triggerAllMessagesShutdown();this.trySendParallelMessage(),this.trySendSerialMessage()},e.prototype.trySendSerialMessage=function(){if(!this.messageSendQueue.isCommittingSerialMessage()){if(this.connectManager.isDisconnected())return void this.triggerAllMessagesShutdown();var e=this.messageSendQueue.nextSerialMessage();e&&this.sendBigCollabMessage(e)}},e.prototype.trySendParallelMessage=function(){var e=this;this.messageSendQueue.nextParallelMessages().forEach(function(t){return e.sendBigCollabMessage(t)})},e.prototype.sendBigCollabMessage=function(e){return i(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return this.onMessageSending(e),this.timeoutChecker.startCheckSendTimeout(),[4,this.sender.sendMessage(e)];case 1:return t=n.sent(),this.handleMessageResult(e,t),[2]}})})},e.prototype.onMessageSending=function(e){e.state=c.MessageState.SENDING,e.lastSendTime=Date.now(),e.retryCount+=1},e.prototype.onMessageWaiting=function(e){e.state=c.MessageState.WAITING},e.prototype.handleMessageResult=function(e,t){return i(this,void 0,void 0,function(){var n;return o(this,function(r){return t&&(e.syncCommit?this.handleSyncMessage(e,t):(n={errCode:t.retcode,errMsg:t.msg,response:t.data.syncResult?u.JsonUtil.parseJson(t.data.syncResult):t},this.handleMessageResultSend(e,n))),[2]})})},e.prototype.handleSyncMessage=function(e,t){var n=this;if(0!==t.retcode){var i={task_id:e.taskId,type:c.MessageWaitAcceptCmd.COMMIT_ERROR},o={data:r(r({},t),{reason:t.retcode})};this.handleMessageResultSendAccept(i,o);return}this.parseSyncMessageResult(e,t).forEach(function(e){n.handleServerMessage(e)})},e.prototype.parseSyncMessageResult=function(e,t){if(!t.data.syncResult)throw Error("Save Response Error, syncResult is undefined, taskId: "+e.taskId);return t.data.syncResult.split("\r\n").map(function(e){return e.split("\n")})},e.prototype.hasWaitAcceptCommand=function(e,t){var n;return!!(null==(n=e.waitAcceptCmd)?void 0:n.includes(t))},e.prototype.handleMessageResultSend=function(e,t){var n,r;return i(this,void 0,void 0,function(){var i,a,s;return o(this,function(o){return(i=e.taskId,a=e.cmd,s=e.data,e.onpostTime=c.RoomUtil.getCurrentTime(),this.shouldReconnect(t.errCode))?(this.reconnect({attrName:String(t.errCode),reason:"save Error, retcode: "+t.errCode+", msg: "+t.errMsg}),this.messageSendQueue.remove(e.taskId)):0!==t.errCode?this.handleSendMessageError(e,t):(null==(n=e.onsend)||n.call(e,i,a,s,t),e.onsendAccept?(null==(r=e.waitAcceptCmd)?void 0:r.length)&&(e.state=c.MessageState.WAIT_ACCEPT):(this.messageSendQueue.remove(i),this.trySendMessage())),[2]})})},e.prototype.shouldReconnect=function(e){return c.NEED_RECONNECT_ERRCODES.includes(e)},e.prototype.handleSendMessageError=function(e,t){var n,r=e.taskId,i=e.cmd,o=e.data;null==(n=e.onError)||n.call(e,r,i,o,t),this.reportCommitError(e,t.errCode,"save Error, retcode: "+t.errCode+", msg: "+t.errMsg),this.messageSendQueue.remove(r),this.trySendMessage()},e.prototype.handleMessageResultSendAccept=function(e,t){if(e.task_id){var n,r,i,o,a,s,u=this.messageSendQueue.remove(e.task_id);if(u&&this.hasWaitAcceptCommand(u,e.type)){this.reportCommitError(u,null!=(r=null==(n=t.data)?void 0:n.reason)?r:0);var c=u.taskId,l=u.cmd,d=u.data,f=u.onsendAccept,p=e.type,h=e.new_rev;null==f||f(c,l,d,p,{errCode:null!=(o=null==(i=null==t?void 0:t.data)?void 0:i.reason)?o:0,errMsg:null!=(s=null==(a=null==t?void 0:t.data)?void 0:a.msg)?s:"",response:{body:t,new_rev:h}}),this.trySendSerialMessage()}}},e.prototype.handleServerMessage=function(e){var t,n,r=a(e.map(function(e){return u.JsonUtil.parseJson(e)}),2),i=r[0],o=r[1];if(this.messageSendQueue.get(i.task_id))return void this.handleMessageResultSendAccept(i,o);if((null==i?void 0:i.type)==="QUIT_NOTICE"&&Object.values(m.QUIT_TYPE).includes(null==o?void 0:o.notice.quit_type)){var s=new Map([[m.QUIT_TYPE.INACTIVE,{code:c.RoomWebsocketErrorCode.INACTIVE,reason:m.QUIT_TYPE.INACTIVE}],[m.QUIT_TYPE.LOGIN_INVALIDATE,{code:c.RoomWebsocketErrorCode.LOGIN_INVALIDATE,reason:m.QUIT_TYPE.LOGIN_INVALIDATE}],[m.QUIT_TYPE.LOGIN_FORBIDDEN,{code:c.RoomWebsocketErrorCode.LOGIN_FORBIDDEN,reason:m.QUIT_TYPE.LOGIN_FORBIDDEN}]]);this.connectManager.disconnect({reason:null==(t=s.get(null==o?void 0:o.notice.quit_type))?void 0:t.reason,errCode:null==(n=s.get(null==o?void 0:o.notice.quit_type))?void 0:n.code,shutDown:!0});return}var l={head:i,body:o,newRev:i.new_rev,ts:i.ts,needDeal:!0};this.limitFrequencyManager.handleMessage(l),l.needDeal&&this.dependency.receiveMessageFromServer(i.type,[l])},e.prototype.handleWaitReconnecting=function(){this.handleDisconnect("WaitReconnecting"),this.messageSendQueue.updateMessageState(c.MessageState.WAITING)},e.prototype.handleDisconnect=function(e){u.ConnectionLog.info(this.tag+" handleDisconnect reason:"+e),this.receiver.stopToReceive(),this.sender.clearAllRetryTimer(),this.timeoutChecker.clearTimer(),this.triggerAllMessagesClose()},e.prototype.reconnect=function(e){var t,n;b.default.reconnectReport({module:this.options.module,attrName:e.attrName,status:1,errorMessage:null!=(t=e.reason)?t:c.RoomUtil.getWebsocketChannelErrorMessage(null!=(n=Number(e.attrName))?n:0)}),this.connectManager.reconnect()},e.prototype.handleLogined=function(e){this.serverRequestParams=e,this.serverRequestParams.routeKey||(this.serverRequestParams.routeKey=this.options.serverVars.globalPadId),this.receiver.receive()},e.prototype.triggerAllMessagesClose=function(){this.triggerAllMessagesError({errCode:c.RoomErrorCode.ROOM_CLOSE,errMsg:"room close"})},e.prototype.triggerAllMessagesShutdown=function(){this.triggerAllMessagesError({errCode:c.RoomErrorCode.ROOM_SHUTDOWN,errMsg:"room shutdown"})},e.prototype.triggerAllMessagesError=function(e){this.messageSendQueue.filter(function(e){return!!e}).forEach(function(t){var n,r=t.taskId,i=t.cmd,o=t.data;null==(n=t.onError)||n.call(t,r,i,o,e)})},e.prototype.reportCommitError=function(e,t,n){b.default.commitError({attrName:String(t),status:1,cmd:e.cmd,module:this.options.module,errorMessage:null!=n?n:c.RoomUtil.getWebsocketChannelErrorMessage(null!=t?t:0),transports:"big-collab"})},e}()},178742:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageCreater=void 0;var i=n(386087),o=n(689971),a=n(224012);t.MessageCreater=function(){function e(){}return e.createMessage=function(e,t,n){var s,u,c,l,d,f,p,h=this.createPostData(e,t,n),g=a.RoomUtil.createNewMessage(e.taskId||o.generateMessageTaskId(),h,null!=(u=null==(s=e.customParam)?void 0:s.timeout)?u:i.DEFAULT_SEND_MESSAGE_TIMEOUT,null!=(l=null==(c=e.customParam)?void 0:c.maxRetryCount)?l:i.DEFAULT_RETRY_COUNTS,e.cmd,e.data,null==(d=e.customParam)?void 0:d.waitAcceptCmd,e.onError,e.onsend,e.onsendAccept),m=!!(null==(p=null==(f=t.config)?void 0:f.bigCollabCommitConfig)?void 0:p.syncCommit)&&"USER_CHANGES"===e.cmd;return r({syncCommit:m},g)},e.createPostData=function(e,t,n){var r=i.prepareCommitMessage(e.data,t.userid,t.serverVars.pver);return{head:this.createSendHead(e,t,n),body:r}},e.createSendHead=function(e,t,n){var r=e.data;return o.createMessageHead(t,{getHeaderGeneralPacket:n.getHeaderGeneralPacket(),command:e.cmd,baseRev:"object"==typeof r&&"number"==typeof r.baseRev?r.baseRev:n.getVersion(),taskId:e.taskId||o.generateMessageTaskId(),additionalFieldsToHead:e.additionalFieldsToHead})},e}()},316278:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeoutChecker=void 0;var r=n(689971),i=n(224012);t.TimeoutChecker=function(){function e(e,t){this.messageSendQueue=e,this.dependency=t,this.sendTimeoutTimer=0}return e.prototype.dispose=function(){this.clearTimer()},e.prototype.clearTimer=function(){clearTimeout(this.sendTimeoutTimer),this.sendTimeoutTimer=0},e.prototype.startCheckSendTimeout=function(){var e=this;this.sendTimeoutTimer&&(clearTimeout(this.sendTimeoutTimer),this.sendTimeoutTimer=0),this.sendTimeoutTimer=setTimeout(function(){e.checkSendTimeout()},1e3)},e.prototype.checkSendTimeout=function(){var e=this.messageSendQueue.filter(this.timeoutMessage);e.forEach(function(e){e.state=i.MessageState.WAITING,e.retryCount>=e.maxRetryCount&&(r.ConnectionLog.warn("timeout-checker: send message timeout, taskId = "+e.taskId+", cmd = "+e.cmd+"."),e.retryCount=0)}),e.length>0&&this.dependency.trySendMessage(),0!==this.messageSendQueue.filter(function(e){return!!e}).length&&this.startCheckSendTimeout()},e.prototype.timeoutMessage=function(e){var t=i.RoomUtil.getCurrentTime();return(e.state===i.MessageState.SENDING||e.state===i.MessageState.WAIT_ACCEPT)&&t-e.lastSendTime>e.timeout},e}()},339001:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageClassification=t.MessageSendType=void 0,function(e){e.SERIAL="SERIAL",e.PARALLEL="PARALLEL"}(n=t.MessageSendType||(t.MessageSendType={})),t.MessageClassification=function(){function e(e){void 0===e&&(e=[]),this.messageClassfyMap=new Map(e)}return e.prototype.setMessageSendType=function(e,t){this.messageClassfyMap.set(e,t)},e.prototype.getMessageSendType=function(e){var t;return null!=(t=this.messageClassfyMap.get(e))?t:n.SERIAL},e}()},404649:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageSendQueue=t.Queue=void 0;var o=n(339001),a=n(4020),s=function(){function e(){this.queue=[]}return e.prototype.get=function(e){var t=this.queue.filter(function(t){return t.taskId===e});return 0===t.length?null:t[0]},e.prototype.has=function(e){return this.queue.some(function(t){return t.taskId===e})},e.prototype.add=function(e){this.has(e.taskId)||this.queue.push(e)},e.prototype.remove=function(e){for(var t=0;t<this.queue.length&&this.queue[t].taskId!==e;t++);return t===this.queue.length?null:this.queue.splice(t,1)[0]},e.prototype.filter=function(e){return this.queue.filter(e)},e.prototype.some=function(e){return this.queue.some(e)},e}();t.Queue=s,t.MessageSendQueue=function(){function e(e){this.messageClassification=e,this.parallelQueue=new s,this.serialQueue=new s}return e.prototype.isCommittingSerialMessage=function(){return this.serialQueue.some(function(e){return e.state===a.MessageState.SENDING})},e.prototype.nextSerialMessage=function(){var e=this.serialQueue.filter(function(e){return e.state===a.MessageState.WAITING});return 0===e.length?null:e[0]},e.prototype.nextParallelMessages=function(){return this.parallelQueue.filter(function(e){return e.state===a.MessageState.WAITING})},e.prototype.add=function(e){this.messageClassification.getMessageSendType(e.cmd)===o.MessageSendType.PARALLEL?this.parallelQueue.add(e):this.serialQueue.add(e)},e.prototype.remove=function(e){return this.parallelQueue.has(e)?this.parallelQueue.remove(e):this.serialQueue.remove(e)},e.prototype.get=function(e){return this.parallelQueue.has(e)?this.parallelQueue.get(e):this.serialQueue.get(e)},e.prototype.has=function(e){return this.serialQueue.has(e)||this.parallelQueue.has(e)},e.prototype.filter=function(e){return i(this.parallelQueue.filter(e),this.serialQueue.filter(e))},e.prototype.updateMessageState=function(e){var t,n=this.serialQueue.filter(function(e){return e.state!==a.MessageState.WAITING}).concat(this.parallelQueue.filter(function(e){return e.state!==a.MessageState.WAITING}));null==(t=n.forEach)||t.call(n,function(t){t.state=e})},e}()},3486:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageVisibilityChecker=void 0;var r=n(689971),i=3e4;t.PageVisibilityChecker=function(){function e(e){var t=this;this.dependency=e,this.timer=0,this.isTimeout=!1,this.needGetReceiverClient=!1,this.onVisibilitychange=function(){"hidden"===document.visibilityState?t.onPageHide():t.onPageShow()},this.onPageHide=function(){r.ConnectionLog.info("pageVisibility: pagehide"),t.clearTimeout(),t.timer=setTimeout(function(){t.isTimeout=!0},i)},this.onPageShow=function(){var e,n;r.ConnectionLog.info("pageVisibility: pageshow"),t.clearTimeout(),t.isTimeout&&t.needGetReceiverClient&&(null==(n=(e=t.dependency).resumeCallback)||n.call(e)),t.isTimeout=!1,t.needGetReceiverClient=!1},this.addListener()}return e.prototype.dispose=function(){this.clearTimeout(),document.removeEventListener("visibilitychange",this.onVisibilitychange),window.removeEventListener("pagehide",this.onPageHide),window.removeEventListener("pageshow",this.onPageShow)},Object.defineProperty(e.prototype,"isHidden",{get:function(){return document.hidden&&this.isTimeout},enumerable:!1,configurable:!0}),e.prototype.resumeAfterVisibility=function(){this.needGetReceiverClient=!0},e.prototype.addListener=function(){document.addEventListener("visibilitychange",this.onVisibilitychange),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&(window.addEventListener("pagehide",this.onPageHide),window.addEventListener("pageshow",this.onPageShow))},e.prototype.clearTimeout=function(){this.timer&&(clearTimeout(this.timer),this.timer=0)},e}()},650025:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReceiverClient=void 0;var r=n(689971),i=n(359777),o=n(189249),a=12e3;t.ReceiverClient=function(){function e(e){this.dependency=e,this.position=0,this.onceOpen=!1}return e.prototype.establishConnection=function(e){var t=this;try{this.onceOpen||this.checkConnectTimeoutTimer(),this.xmlHttpRequest=new XMLHttpRequest,this.position=0,this.xmlHttpRequest.onreadystatechange=function(){t.xmlHttpRequest.readyState===XMLHttpRequest.LOADING?(t.clearConnectTimoutTimer(!0),t.chunkParse(t.xmlHttpRequest.responseText)):t.xmlHttpRequest.readyState===XMLHttpRequest.DONE&&(t.clearConnectTimoutTimer(!0),t.closeConnection())},this.xmlHttpRequest.open("get",e),this.xmlHttpRequest.setRequestHeader("content-type","application/json"),this.xmlHttpRequest.send(),this.xmlHttpRequest.onerror=function(){r.ConnectionLog.info("bind/get onerror"),t.dependency.receive()}}catch(e){r.ConnectionLog.error("ReceiverClient XMLHttpRequest Error, error.message:"+(null==e?void 0:e.message)+",error.stack:"+(null==e?void 0:e.stack)),this.dependency.receive()}},e.prototype.abortConnection=function(){var e;null==(e=this.xmlHttpRequest)||e.abort()},e.prototype.chunkParse=function(e){for(var t=this.position,n=e.indexOf(i.DELIMITER,t);n>-1;){var r=e.substring(t,n);if(r&&(this.dependency.handleResponse(r),r.indexOf("connection closed")>-1)){this.position=0;return}t=n+i.DELIMITER.length,n=e.indexOf(i.DELIMITER,t)}this.position=t},e.prototype.closeConnection=function(){this.xmlHttpRequest.status!==XMLHttpRequest.UNSENT&&(this.xmlHttpRequest.status<200||this.xmlHttpRequest.status>=400?(r.ConnectionLog.info("closeConnection: "+this.xmlHttpRequest),this.dependency.receive()):this.chunkParse(this.xmlHttpRequest.responseText))},e.prototype.checkConnectTimeoutTimer=function(){var e=this;this.clearConnectTimoutTimer(!1),this.connectTimeoutTimer=setTimeout(function(){r.ConnectionLog.error("bind/get 12s \u4ECD\u672A\u6536\u5230\u56DE\u5305"),e.dependency.disconnect({errCode:o.RoomErrorCode.BIG_COLLAB_CONNECT_TIMEOUT,shutDown:!0})},a)},e.prototype.clearConnectTimoutTimer=function(e){e&&!this.onceOpen&&(this.onceOpen=!0),this.connectTimeoutTimer&&(window.clearTimeout(this.connectTimeoutTimer),this.connectTimeoutTimer=void 0)},e}()},359777:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECT_DELAY_TIME=t.DELIMITER=t.ERROR_MESSAGE_INDEX=t.MAX_SERVER_REACHABLE_TIME=t.NOOP=t.PATH=void 0,t.PATH="/websocket/bind",t.NOOP="noop",t.DELIMITER="\r\n",t.MAX_SERVER_REACHABLE_TIME=45e3,t.CONNECT_DELAY_TIME=3e3,t.ERROR_MESSAGE_INDEX=[0,-1]},418989:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.Receiver=void 0;var i=n(650025),o=n(689971),a=n(359777),s=n(224012),u=n(3486);t.Receiver=function(){function e(e){var t=this;this.dependency=e,this.tag="Receiver",this.isConnectSuccess=!1,this.delayConnectTimer=0,this.connectionCheckTimer=0,this.retryTimes=0,this.pageVisibilityChecker=new u.PageVisibilityChecker({resumeCallback:function(){return t.receive()}})}return e.prototype.dispose=function(){this.stopToReceive(),this.receiverClientInstance=void 0},e.prototype.stopToReceive=function(){this.receiverClient.abortConnection(),this.clearTimer()},e.prototype.receive=function(){return(o.ConnectionLog.info("\u5927\u534F\u540Cbind get receive isHidden:"+this.pageVisibilityChecker.isHidden+", retryTimes:"+this.retryTimes),this.pageVisibilityChecker.isHidden)?void this.pageVisibilityChecker.resumeAfterVisibility():this.retryTimes?void this.delayConnect():void(this.retryTimes=this.retryTimes+1,this.isConnectSuccess=!1,this.receiverClient.establishConnection(this.getUrl()))},e.prototype.delayConnect=function(){var e=this;if(this.retryTimes>=3){o.ConnectionLog.info("\u5927\u534F\u540Cbind get\u8BF7\u6C42\uFF0C\u91CD\u8BD5\u4E09\u6B21\u5931\u8D25\uFF0C\u91CD\u65B0\u53D1\u8D77post\u9274\u6743"),this.retryTimes=0,this.dependency.reconnect({attrName:"bind get \u8FDE\u7EED\u91CD\u8BD5\u4E09\u6B21\u8FDE\u63A5\u5931\u8D25",reason:"\u8D85\u65F6\u3001\u8BF7\u6C42\u72B6\u6001\u5F02\u5E38\u7B49\u9519\u8BEF"});return}this.isConnectSuccess=!1,this.delayConnectTimer&&(clearTimeout(this.delayConnectTimer),this.delayConnectTimer=0),this.delayConnectTimer=setTimeout(function(){e.retryTimes=e.retryTimes+1,e.receiverClient.establishConnection(e.getUrl())},a.CONNECT_DELAY_TIME)},e.prototype.getUrl=function(){var e=this.dependency.getServerParams(),t=e.token,n=e.sid,r=e.routeKey;return a.PATH+"?sid="+n+"&token="+t+"&routeKey="+r+"&taskId="+o.generateMessageTaskId()},e.prototype.handleResponse=function(e){var t=this;if(!Number.parseInt(e,16)&&0!==Number.parseInt(e,16)){var n=o.JsonUtil.parseJson(e);Array.isArray(n)&&(this.connectionIsStable(),n.forEach(function(e){var n=r(e,2),i=n[0],o=n[1];if(a.ERROR_MESSAGE_INDEX.includes(i))return void t.handleResponseEnd(o);o.includes(a.NOOP)||t.dependency.handleServerMessage(o)}))}},e.prototype.connectionIsStable=function(){var e=this;if(clearTimeout(this.connectionCheckTimer),this.connectionCheckTimer=0,this.retryTimes=0,this.dependency.isDisconnected())return void o.ConnectionLog.info(this.tag+" connectStatus is disconnected.");this.isConnectSuccess||(this.isConnectSuccess=!0,this.dependency.onConnectSuccess()),this.connectionCheckTimer=setTimeout(function(){e.isConnectSuccess=!1,e.receive()},a.MAX_SERVER_REACHABLE_TIME)},e.prototype.handleResponseEnd=function(e){var t=r(e,2),n=t[0],i=t[1];if(!this.notNeedToHandle(n))if(n===s.RoomWebsocketErrorCode.SOCKET_SERVER_SUCCESS)this.receive();else{o.ConnectionLog.info("Bind Get Error, retcode: "+n+", msg: "+i),this.dependency.reconnect({attrName:String(null!=n?n:0),reason:"Bind Get Error, retcode: "+n+", msg: "+i});return}},e.prototype.notNeedToHandle=function(e){return s.NOT_NEED_TO_HANDLE_ERRCODES.includes(e)},Object.defineProperty(e.prototype,"receiverClient",{get:function(){var e=this;return this.receiverClientInstance||(this.receiverClientInstance=new i.ReceiverClient({handleResponse:function(t){return e.handleResponse(t)},receive:function(){return e.receive()},disconnect:function(t){return e.dependency.disconnect(t)}})),this.receiverClientInstance},enumerable:!1,configurable:!0}),e.prototype.clearTimer=function(){this.delayConnectTimer&&(clearTimeout(this.delayConnectTimer),this.delayConnectTimer=0),this.connectionCheckTimer&&(clearTimeout(this.connectionCheckTimer),this.connectionCheckTimer=0)},e}()},955094:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Sender=void 0;var a=n(14450),s=n(463255),u=n(854205),c=n(386087);t.Sender=function(){function e(e){this.dependency=e,this.requestId=0,this.retryTimerMap=new Map}return e.prototype.dispose=function(){this.clearAllRetryTimer()},e.prototype.sendMessage=function(e){return r(this,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return t=this.createRequestConfig(e),[4,this.commitMessage(e,t)];case 1:return n=r.sent(),[4,this.handleCommitResult(e,n)];case 2:return[2,r.sent()]}})})},e.prototype.clearAllRetryTimer=function(){var e,t;try{for(var n=o(this.retryTimerMap.values()),r=n.next();!r.done;r=n.next()){var i=r.value;clearTimeout(i)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.retryTimerMap.clear()},e.prototype.createRequestConfig=function(e){return{timeout:e.timeout,maxRetry:c.DEFAULT_RETRY_COUNTS,contentType:u.ContentTypeValue.JSON}},e.prototype.commitMessage=function(e,t){return r(this,void 0,void 0,function(){var n,r,o,u,c,l;return i(this,function(i){switch(i.label){case 0:return r=(n=this.dependency.getServerParams()).token,o=n.sid,c="/websocket/save?routeKey="+(u=n.routeKey),l={routeKey:u,token:r,sid:o,syncCommit:e.syncCommit,requestId:this.requestId,head:e.postData.head,body:e.postData.body},this.requestId+=1,[4,new a.Request().sendRequest(c,s.Method.POST,l,t)];case 1:return[2,i.sent()]}})})},e.prototype.handleCommitResult=function(e,t){var n;return r(this,void 0,void 0,function(){var r;return i(this,function(i){switch(i.label){case 0:if(r=null==(n=t.data)?void 0:n.data,!(t.error||!r))return[3,2];return[4,this.retrySendMessage(e)];case 1:return[2,i.sent()];case 2:return[2,r]}})})},e.prototype.clearMessageRetryTimer=function(e){this.retryTimerMap.has(e.taskId)&&(clearTimeout(this.retryTimerMap.get(e.taskId)),this.retryTimerMap.delete(e.taskId))},e.prototype.retrySendMessage=function(e){return r(this,void 0,void 0,function(){var t,n=this;return i(this,function(o){return(this.clearMessageRetryTimer(e),this.dependency.isConnected())?(t=this.getDelayDuration(e.retryCount),[2,new Promise(function(o){var a=setTimeout(function(){return r(n,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return this.dependency.onMessageSending(e),[4,this.sendMessage(e)];case 1:return o(t.sent()),[2]}})})},t);n.retryTimerMap.set(e.taskId,a)})]):(this.dependency.onMessageWaiting(e),e.retryCount=0,[2])})})},e.prototype.getDelayDuration=function(e){return 1e3*Math.min(2*e,30)},e}()},791057:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},496328:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},580935:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BigDataChannel=t.BuildBigDataChannel=void 0;var a=n(854205),s=n(689971),u=n(883620),c=n(386087),l=n(203502),d=0,f="/dop-api/commitchanges",p="/api/offline/commit/async",h="/api/offline/commit/async_result",g=0x1400000,m=[40021,608639],v=function(e){return e.result},y=function(e){return e.result.data},b=function(){function e(e,t){this.options=e,this.dependency=t}return e.prototype.dispose=function(){s.ConnectionLog.warn("BigDataChannel dispose.")},e.prototype.sendMessage=function(e){var t,n;return i(this,void 0,void 0,function(){var r,i,a,u=this;return o(this,function(o){switch(o.label){case 0:if(0!==(r=this.preCheck(e)).errCode||"object"!=typeof e.data)return[3,2];return i=[e.data],[4,this.bigChangesCommit(i)];case 1:return a=o.sent(),s.ConnectionLog.info("bigChangesCommitResult : "+a.success+" retcode:"+a.retCode+" bodyLength:"+a.bodyLength),a.success?null==(t=a.data)||t.forEach(function(t){var n;if(t.commitId===e.taskId){var r={errCode:0,response:{new_rev:t.new_rev,body:{data:{changeset:t.changeset,author:t.author,changesetType:t.changesetType,commitId:t.commitId,subid:t.subId,applyTime:t.applyTime}}}};null==(n=e.onsendAccept)||n.call(e,t.commitId,"USER_CHANGES",e.data,"ACCEPT_COMMIT",r)}else{var i=u.createServerMessage(t);u.dependency.receiveMessageFromServer("NEW_CHANGES",[i])}}):e.onError(e.taskId,e.cmd,e.data,{errCode:null!=(n=a.retCode)?n:52e3,errMsg:a.reason}),[3,3];case 2:e.onError(e.taskId,e.cmd,e.data,r),o.label=3;case 3:return[2]}})})},e.prototype.batchCommitMessages=function(e,t,n){return i(this,void 0,void 0,function(){var i,a,s,u,c,l,d,f,p;return o(this,function(o){switch(o.label){case 0:return i=this.options.serverVars.globalPadId,a=this.packUserChanges(e,t,n),[4,this.batchChangesRequest(i,a,n)];case 1:if(s=o.sent(),u=this.getCommitStatus(s),(c=this.getBatchCommitResult(u,t)).success||!(null==n?void 0:n.supportAsyncCommit)||!m.includes(c.retCode))return[2,c];return[4,this.batchChangesRequestAsyncStart(i,a,n)];case 2:if(l=o.sent(),!(d=this.getCommitStatus(l,v)).success||!d.data)return[2,r(r({},d),{data:void 0})];return[4,this.loopBatchAsyncCommitResult(i,d,n)];case 3:return f=o.sent(),p=this.getCommitStatus(f,y),[2,this.getBatchCommitResult(p,t)]}})})},e.prototype.batchChangesRequest=function(e,t,n){return i(this,void 0,void 0,function(){var r,i,a;return o(this,function(o){return r=f+"?padId="+e+"&xsrf="+s.Cookie.getXsrf()+"&"+((null==n?void 0:n.urlParameter)?null==n?void 0:n.urlParameter:""),i=encodeURIComponent(i=s.JsonUtil.jsonStringify(t)),a={url:r,method:u.Method.POST,body:"data="+i,contentType:u.ContentType.FORM},[2,new u.Request().sendCommonRequest(a)]})})},e.prototype.batchChangesRequestAsyncStart=function(e,t,n){return i(this,void 0,void 0,function(){var r,i,a;return o(this,function(o){switch(o.label){case 0:return r=p+"?xsrf="+s.Cookie.getXsrf()+"&"+((null==n?void 0:n.urlParameter)?null==n?void 0:n.urlParameter:""),i=s.JsonUtil.jsonStringify({base_rev:t.common.base_rev,pad_id:e,data:t}),a={url:r,method:u.Method.POST,body:i,contentType:u.ContentType.JSON,contentEncoding:void 0},[4,new u.Request().sendCommonRequest(a)];case 1:return[2,o.sent()]}})})},e.prototype.loopBatchAsyncCommitResult=function(e,t,n){var r;return i(this,void 0,void 0,function(){var i,l,d,f,p,g,m;return o(this,function(o){switch(o.label){case 0:i={url:h+"?pad_id="+e+"&operation_id="+t.data.operation_id+"&xsrf="+s.Cookie.getXsrf(),method:u.Method.GET,contentType:u.ContentType.JSON,contentEncoding:void 0},l=0,o.label=1;case 1:if(!(l<600))return[3,5];return[4,new u.Request().sendCommonRequest(i)];case 2:if(0!==(f=JSON.parse((d=o.sent()).data)).retcode||f.result.status===c.BatchAsyncCommitLoopStatus.OPERATION_STATUS_SUCCESS||f.result.status===c.BatchAsyncCommitLoopStatus.OPERATION_STATUS_FAILED)return[2,d];if("object"==typeof(p=null==(r=null==n?void 0:n.loopBatchCommitStatusCallBack)?void 0:r.call(n,f.result))&&(null==p?void 0:p.cancelCommit))return g=Error("user cancel async batch commit"),[2,new a.Result(g,{errorType:"UserCancelAsyncBatchCommit"})];return[4,s.sleep(3e3)];case 3:o.sent(),o.label=4;case 4:return l++,[3,1];case 5:return m=Error("loopBatchAsyncCommitResult timeout"),[2,new a.Result(m,{errorType:"BatchCommitAsyncTimeout"})]}})})},e.prototype.bigChangesCommit=function(e){var t,n;return i(this,void 0,void 0,function(){var r,i,a,s;return o(this,function(o){switch(o.label){case 0:if(r=this.packUserChanges(e),(i=this.bigChangesRequestBody(this.options.serverVars.globalPadId,r)).length>=((null==(n=null==(t=this.options.config)?void 0:t.bigDataCommitConfig)?void 0:n.maxContentLength)||g))return[2,{success:!1,retCode:52003,bodyLength:i.length,data:[]}];return[4,this.bigChangesRequest(i)];case 1:return a=o.sent(),s=this.getCommitStatus(a),[2,this.getBatchCommitResult(s)]}})})},e.prototype.bigChangesRequest=function(e){var t,n;return i(this,void 0,void 0,function(){var r;return o(this,function(i){return r={url:f,method:u.Method.POST,body:e,contentType:u.ContentType.JSON,timeout:null==(n=null==(t=this.options.config)?void 0:t.bigDataCommitConfig)?void 0:n.timeout},[2,new u.Request().sendCommonRequest(r)]})})},e.prototype.bigChangesRequestBody=function(e,t){var n=s.Cookie.getXsrf();return s.JsonUtil.jsonStringify({padId:e,xsrf:n,commitData:t})},e.prototype.getCommitStatus=function(e,t){var n,r,i,o={success:!1,retCode:0};if(e.error){o.type=null!=(n=e.data.errorType)?n:"NetworkException";var a=null==(r=e.error)?void 0:r.statusCode;return 413===a&&(o.retCode=52003),s.ConnectionLog.info("batchCommitMessages: "+(null==(i=e.error)?void 0:i.message)+", statusCode:"+a),o}try{var u=JSON.parse(e.data);if((null==u?void 0:u.retcode)===0){var c=t?t(u):u.Data;o.data=c,o.type="Success",o.success=!0,o.common=null==c?void 0:c.common}else o.retCode=u.retcode,o.type="ServerVerityException",o.reason=u.retmsg,s.ConnectionLog.info("batchCommitMessages retcode:"+(null==u?void 0:u.retcode)+" retmsg:"+(null==u?void 0:u.retmsg))}catch(t){s.ConnectionLog.warn("getBatchCommitResult parseJson error, data: "+e.data+"."),o.type="NetworkException"}return o},e.prototype.getBatchCommitResult=function(e,t){var n=r(r({},e),{data:[]});return n.success&&0===n.retCode&&e.data.respective.forEach(function(e){var r;s.ConnectionLog.info("batchCommitMessages rev:"+t+", newRev:"+e.newRev+", taskId:"+e.commitId),null==(r=n.data)||r.push(e)}),n},e.prototype.preCheck=function(e){var t={errCode:0};return e.data&&"string"!=typeof e.data||(t.errMsg="send data type is conrect.",t.errCode=52001),t},e.prototype.packUserChanges=function(e,t,n){var i,o=this,a=e[0];return{common:r(r({},null==n?void 0:n.additionalFieldsToCommon),{type:"USER_CHANGES",curRev:t,offlineMsg:!0,docid:this.options.serverVars.globalPadId,uid:this.options.uid,dver:this.options.serverVars.dver,base_rev:a.baseRev,code_ver:0,session_type:d,gray:this.options.serverVars.gray||0,generalpacket:null==(i=this.options.config)?void 0:i.headerGeneralPacket,pver:this.options.serverVars.pver,uuId:this.options.uuId}),respective:e.map(function(e){return o.getRespectiveItem(e)})}},e.prototype.getRespectiveItem=function(e){var t={task_id:e.taskId,subId:e.subId,oSubId:e.oSubId||!1,head:e.head||!1,keydata:e.keydata||!1,changeSetCount:e.changeSetCount||1,changeset:e.changeset,changesetType:e.changesetType,apool:e.apool,isWorkbook:e.isWorkbook,not_cross_sheet:e.notCrossSheet};return this.options.module===l.DOCUMENT_TYPE.DOC?(t.commands=e.base64Commands||e.changeset,t.changeset=""):t.changeset=e.changeset,t},e.prototype.createServerMessageHead=function(e){return{base_rev:e.new_rev-1,docid:this.options.serverVars.globalPadId,dver:this.options.serverVars.dver,new_rev:e.new_rev,session_type:d,type:"USER_CHANGES",uid:this.options.uid,uuid:this.options.uuId}},e.prototype.createServerMessageBody=function(e){var t;return{data:{apool:e.apool,author:e.author,changeset:e.changeset,commitId:e.commitId,head:e.head,isWorkbook:e.isWorkbook||!1,need:e.need,revert:e.revert,subId:null!=(t=e.subId)?t:e.subid,newRev:e.newRev,new_rev:e.newRev,type:e.type,uuId:this.options.uuId}}},e.prototype.createServerMessage=function(e){return{head:this.createServerMessageHead(e),body:this.createServerMessageBody(e),newRev:e.newRev,socketId:""}},e}();t.BigDataChannel=b,t.BuildBigDataChannel=function(e,t){return new b(e,t)}},888225:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(791057),t),i(n(580935),t),i(n(496328),t)},883620:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContentType=t.Request=t.Method=void 0;var o=n(689971),a=n(854205);Object.defineProperty(t,"Method",{enumerable:!0,get:function(){return a.Method}}),Object.defineProperty(t,"ContentType",{enumerable:!0,get:function(){return a.ContentType}});var s=3e4;t.Request=function(){function e(){}return e.prototype.sendCommonRequest=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){return[2,new Promise(function(t){var n;try{var r,i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){var e="";200===i.status?e=i.responseText:r=new a.HttpError("StatusError",i.status),t(new a.Result(r,e))}};try{i.timeout=null!=(n=e.timeout)?n:s}catch(e){o.ConnectionLog.error("request error message: "+(null==e?void 0:e.message))}i.ontimeout=function(){r=Error("TimeOutError"),t(new a.Result(r))},i.open(e.method,e.url),e.contentType===a.ContentType.JSON?(i.setRequestHeader("content-type",a.ContentTypeValue.JSON),"contentEncoding"in e?e.contentEncoding&&i.setRequestHeader("content-encoding",e.contentEncoding):i.setRequestHeader("content-encoding","gzip")):i.setRequestHeader("content-type",a.ContentTypeValue.FORM),i.send(e.body)}catch(e){t(new a.Result(e))}})]})})},e}()},695815:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},328822:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.buildCommonRequestChannel=void 0;var i=n(169554),o=n(532049),a=n(790972),s=n(463255),u=n(854205),c="/dop-api/commitchanges",l=function(e){function t(t){var n=e.call(this,t,{requestUrl:c,method:s.Method.POST,contentType:u.ContentType.JSON})||this;return n.options=t,n.init(),n}return r(t,e),t.prototype.init=function(){this.paramsPacker=new o.CommonRequestParamsPacker,this.responseHandler=new a.CommonResponseHandler},t}(i.BaseChannel);t.buildCommonRequestChannel=function(e){return new l(e)}},532049:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommonRequestParamsPacker=void 0;var r=n(689971);t.CommonRequestParamsPacker=function(){function e(){}return e.prototype.pack=function(e,t){var n,i={common:{type:e.data.type,docid:t.serverVars.globalPadId,uid:t.uid,session_type:0,uuId:t.uuId,padType:null!=(n=t.module)?n:"",padSubType:e.data.padSubType},respective:e.data.changeset},o=t.serverVars.globalPadId,a=r.Cookie.getXsrf();return r.JsonUtil.jsonStringify({padId:o,xsrf:a,data:r.JsonUtil.jsonStringify(i)})},e}()},790972:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommonResponseHandler=void 0,t.CommonResponseHandler=function(){function e(){}return e.prototype.handle=function(e){if(e.error)return{error:e.error};var t=e.data,n=t.status,r=t.data;return{status:n,retcode:null==r?void 0:r.retcode,message:null==r?void 0:r.retmsg,data:null==r?void 0:r.Data}},e}()},98519:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(695815),t),i(n(328822),t)},299082:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(98519),t)},433455:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},120938:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DOCUMENT_TYPE=void 0,function(e){e.DOC="doc",e.SHEET="sheet",e.FORM="form",e.SLIDE="slide",e.SMARTSHEET="smartSheet",e.SMARTCANVAS="smartCanvas",e.FLOWCHART="flowchart",e.MIND="mind",e.PDF="pdf"}(n||(n={})),t.DOCUMENT_TYPE=n},785667:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectMode=t.CONNECTION_RECONNECT_EVENT=void 0,t.CONNECTION_RECONNECT_EVENT="ConnectionReconnectEvent",function(e){e.WEBSOCKET="WEBSOCKET",e.BIG_COLLAB="BIG_COLLAB",e.WEBSOCKET_FORCED="WEBSOCKET_FORCED"}(n||(n={})),t.ConnectMode=n},748390:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionController=void 0;var o=n(470396),a=n(43534),s=n(107995),u=n(888225),c=n(689971),l=n(386087),d=n(785667),f=n(224012),p=n(98519),h=n(766090),g=n(680222),m=5242880;t.ConnectionController=function(){function e(e){var t,n=this;this.onConnectionEventEmitter=new s.Emitter,this.middleWareCenter=new g.MiddleWareCenter,this.connectionFireEvent=function(e,t){n.onConnectionEventEmitter.fire({event:e,data:t})},this.handleReconnectEvent=function(){c.ConnectionLog.warn("handleReconnectEvent Event:"+d.CONNECTION_RECONNECT_EVENT),n.reconnect()},this.options=e,this.setConnectMode((null==(t=this.options.config)?void 0:t.connectMode)||d.ConnectMode.WEBSOCKET),this.onConnectionEvent=this.onConnectionEventEmitter.event,this.initDependencyEvent()}return e.prototype.dispose=function(){this.onConnectionEventEmitter.dispose(),window.removeEventListener(d.CONNECTION_RECONNECT_EVENT,this.handleReconnectEvent),this.destoryChannel()},e.prototype.useMiddleWare=function(e,t){this.middleWareCenter.useMiddleWare(e,t)},e.prototype.connect=function(e){void 0===e&&(e=d.ConnectMode.WEBSOCKET),c.ConnectionLog.info("connect mode:"+e),this.setConnectMode(e),this.connectChannel(e)},e.prototype.reConnect=function(e,t){void 0===t&&(t=d.ConnectMode.WEBSOCKET),this.reconnect(e,t)},e.prototype.reconnect=function(e,t){void 0===t&&(t=d.ConnectMode.WEBSOCKET),c.ConnectionLog.warn("reconnect mode:"+t),e&&(this.options=e),this.destoryChannel(),this.setConnectMode(t),this.connectChannel(t)},e.prototype.isConnecting=function(){return this.isConnected()},e.prototype.isConnected=function(){return this.isWebsocketRoomState(f.RoomState.OPENED)||this.isUseBigCollabChannel()&&this.bigCollabChannel.isConnected()},e.prototype.isDisconnect=function(){return this.isDisconnected()},e.prototype.isDisconnected=function(){return this.isWebsocketRoomState(f.RoomState.SHUTDOWN)||this.isUseBigCollabChannel()&&this.bigCollabChannel.isDisconnected()},e.prototype.disconnect=function(e){var t,n;if(this.isDisconnected())return void c.ConnectionLog.warn("was disconnect, please do not disconnect. new errCode:"+e.errCode);this.isUseBigCollabChannel()?null==(t=this.bigCollabChannelInstance)||t.disconnect(e):null==(n=this.websocketChannelInstance)||n.disconnect(e)},e.prototype.isOnline=function(){return o.network.isOnline},e.prototype.setVersion=function(e){if(a.isNumber(e)){this.version=e;return}c.ConnectionLog.error("setVersion version is not number")},e.prototype.sendMessage=function(e){if(c.isInvalidMessage(e)){c.ConnectionLog.warn("sendMessage fail: params invalid!"),e.onError(e.taskId,e.cmd,e.data,{errCode:f.RoomErrorCode.PARA_ERROR,errMsg:"msg param invalid."});return}this.configMessageParam(e),this.isUseBigDataChannel(e)?this.bigDataChannel.sendMessage(e):this.isUseBigCollabChannel()?this.bigCollabChannel.sendMessage(e):this.websocketChannel.sendMessage(e)},e.prototype.sendCommonRequest=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.commonRequestChannel.sendMessage(e)];case 1:return[2,t.sent()]}})})},e.prototype.batchCommitMessages=function(e,t,n){return r(this,void 0,void 0,function(){return i(this,function(r){return(null==e?void 0:e.length)?[2,this.bigDataChannel.batchCommitMessages(e,t,n)]:[2,this.handleMessagesError()]})})},e.prototype.cancelMessageBySeq=function(e){this.cancelSendMessageByTaskId(e)},e.prototype.cancelSendMessageByTaskId=function(e){var t,n,r,i;null==(n=null==(t=this.websocketChannelInstance)?void 0:t.cancelSendMessageByTaskId)||n.call(t,e),null==(i=null==(r=this.bigCollabChannelInstance)?void 0:r.cancelSendMessageByTaskId)||i.call(r,e)},e.prototype.handleMessagesError=function(){var e="batchCommitMessages message is null!";return c.ConnectionLog.warn(e),{success:!1,retCode:52001,reason:e}},Object.defineProperty(e.prototype,"bigDataChannel",{get:function(){return this.bigDataChannelInstance||(this.bigDataChannelInstance=u.BuildBigDataChannel(this.options,this.dependency)),this.bigDataChannelInstance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bigCollabChannel",{get:function(){return this.bigCollabChannelInstance||(this.bigCollabChannelInstance=h.BuildBigCollabChannel(this.options,this.dependency)),this.bigCollabChannelInstance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"websocketChannel",{get:function(){return this.websocketChannelInstance||(this.websocketChannelInstance=f.BuildRoomWebsocketChannel(this.options,this.dependency,this.middleWareCenter)),this.websocketChannelInstance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"commonRequestChannel",{get:function(){return this.commonRequestChannelInstance||(this.commonRequestChannelInstance=p.buildCommonRequestChannel(this.options)),this.commonRequestChannelInstance},enumerable:!1,configurable:!0}),e.prototype.isUseBigCollabChannel=function(){var e;return(null==(e=this.options.config)?void 0:e.connectMode)===d.ConnectMode.BIG_COLLAB},e.prototype.isUseBigDataChannel=function(e){var t,n=null==(t=this.options.config)?void 0:t.bigDataCommitConfig;if("USER_CHANGES"===e.cmd&&(null==n?void 0:n.isSupportBigDataCommit)===!0){var r=l.getMessageDataLength(e.data);if(r>((null==n?void 0:n.minContentLength)||m))return c.ConnectionLog.info("sendMessage BigData, length:"+r),!0}return!1},e.prototype.initDependencyEvent=function(){var e=this;this.dependency={connected:function(){e.connectionFireEvent("OnRoomOpen"),e.connectionFireEvent("OnEnterOnline")},connectedStateChange:function(t,n){e.connectionFireEvent("OnRoomStateChange",{roomState:{roomState:t,description:n}})},receiveMessageFromServer:function(t,n){e.connectionFireEvent("OnReceiveMsgFromServer",{serverMsg:{type:t,data:n}})},networkReconnectedFail:function(){e.connectionFireEvent("OnNetReconnectedFail")},getHeaderGeneralPacket:function(){var t,n;return null!=(n=null==(t=e.options.config)?void 0:t.headerGeneralPacket)?n:{}},getVersion:function(){return e.version},disconnect:function(t){t.shutDown?e.connectionFireEvent("OnRoomShutDown",{closeReason:t}):(e.connectionFireEvent("OnRoomClose",{closeReason:t}),e.connectionFireEvent("OnEnterOffline"))},heartBeatCommon:function(t){e.connectionFireEvent("onHeartBeatCommon",{heartBeatCommon:t})}},window.addEventListener(d.CONNECTION_RECONNECT_EVENT,this.handleReconnectEvent)},e.prototype.isWebsocketRoomState=function(e){return!!this.websocketChannelInstance&&this.websocketChannel.getRoomState()===e},e.prototype.connectChannel=function(e){if(e===d.ConnectMode.BIG_COLLAB)return void this.bigCollabChannel.connect();this.websocketChannel.connect()},e.prototype.destoryChannel=function(){var e,t,n,r;null==(e=this.websocketChannelInstance)||e.dispose(),this.websocketChannelInstance=void 0,null==(t=this.bigDataChannelInstance)||t.dispose(),this.bigDataChannelInstance=void 0,null==(n=this.commonRequestChannelInstance)||n.dispose(),this.commonRequestChannelInstance=void 0,null==(r=this.bigCollabChannelInstance)||r.dispose(),this.bigCollabChannelInstance=void 0},e.prototype.setConnectMode=function(e){this.options.config?this.options.config.connectMode=e:this.options.config={connectMode:e}},e.prototype.configMessageParam=function(e){var t,n;e.customParam?((null==(t=e.customParam)?void 0:t.timeout)&&(e.customParam.timeout=Math.min(e.customParam.timeout,3e4)),(null==(n=e.customParam)?void 0:n.maxRetryCount)&&(e.customParam.maxRetryCount=Math.min(e.customParam.maxRetryCount,l.DEFAULT_RETRY_COUNTS))):e.customParam={timeout:l.DEFAULT_SEND_MESSAGE_TIMEOUT,maxRetryCount:l.DEFAULT_RETRY_COUNTS}},e}()},540030:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionCallBackEvent=void 0,function(e){e.onEnterOnline="OnEnterOnline",e.onEnterOffline="OnEnterOffline",e.onRoomOpen="OnRoomOpen",e.onRoomClose="OnRoomClose",e.onRoomShutDown="OnRoomShutDown",e.onRoomStateChange="OnRoomStateChange",e.onReceiveMsgFromServer="OnReceiveMsgFromServer",e.onNetReconnectedFail="OnNetReconnectedFail",e.onHeartBeatCommon="onHeartBeatCommon"}(n=t.ConnectionCallBackEvent||(t.ConnectionCallBackEvent={}))},203502:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(120938),t),i(n(433455),t),i(n(748390),t),i(n(785667),t),i(n(540030),t)},762324:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureMessageCenter=void 0;var i=n(107995),o=n(620143),a=n(689971),s=n(989740),u=r(n(335310)),c=20,l=2;t.FeatureMessageCenter=function(){function e(){this.onFeatureMessageEventEmitter=new i.Emitter,this.sendMessages=new Map,this.uid=e.configs.uid||o.getUid();var t=e.configs.userId||"p."+this.uid;this.userId=""+t,this.gtag="main_page_"+this.userId,this.onFeatureMessageEvent=this.onFeatureMessageEventEmitter.event,u.default.reportUserChannel()}return e.config=function(t){e.configs=Object.assign(e.configs,t)},e.getInstance=function(){if(!n.g.featureMessageCenterInstance){var t=new e;n.g.featureMessageCenterInstance=t,t.connect()}return e.instance||(e.instance=n.g.featureMessageCenterInstance),e.instance},e.prototype.isConnecting=function(){return!!this.socketManager},e.prototype.connect=function(){this.isDisableAutoConnect()||this.isConnecting()||this.websocketConnect()},e.prototype.disConnect=function(e){var t;null==(t=this.socketManager)||t.disConnect(null!=e?e:"")},e.prototype.dispose=function(){var e;this.onFeatureMessageEventEmitter.dispose(),null==(e=this.socketManager)||e.dispose()},e.prototype.onConnect=function(){this.sendClientReady()},e.prototype.sendMessage=function(e){var t,n,r=this;if(!e.type){null==(t=e.onError)||t.call(e,Error("type is undefined"));return}var i=a.generateMessageTaskId(),o={uid:this.userId,type:e.type,task_id:i};o=Object.assign(o,e);var s=setTimeout(function(){clearTimeout(s);var e,t=""+i;if(r.sendMessages.has(t)){var n=r.sendMessages.get(t);null==(e=null==n?void 0:n.onError)||e.call(n,Error("sending timeout.")),r.sendMessages.delete(t)}},e.timeout||3e4);this.sendMessages.set(""+i,e),null==(n=this.socketManager)||n.sendMessage(i+"="+a.JsonUtil.jsonStringify(o))},e.prototype.onConnectFail=function(){var e=this;if(!this.websocketDelayConnectTimer){this.socketManager=void 0;var t=1e3*Math.max(Math.floor(Math.random()*c),l);this.websocketDelayConnectTimer=setTimeout(function(){e.websocketConnect()},t)}},e.prototype.onGetMessageFromServerPush=function(e){var t,n=a.JsonUtil.parseJson(e),r=void 0,i=void 0;(null==n?void 0:n.task_id)&&(r=""+n.task_id,i=this.sendMessages.get(r)),this.onFeatureMessageEventEmitter.fire({data:e,type:null==i?void 0:i.type}),e&&r&&i&&(null==(t=i.onSuccess)||t.call(i,n),this.sendMessages.delete(r))},e.prototype.websocketConnect=function(){this.uid&&(this.resetWebsocketDelayConnectTimer(),this.socketManager=new s.WebsocketManager({userId:this.userId,gtag:this.gtag,host:window.location.host,featureMessageCenterReceiver:this}),this.socketManager.connect())},e.prototype.sendClientReady=function(){var e,t={type:"CLIENT_READY",uid:this.userId,gtag:this.gtag,cookie:a.getCookieForMessage()},n=a.generateMessageTaskId()+"="+a.JsonUtil.jsonStringify(t);null==(e=this.socketManager)||e.sendMessage(n)},e.prototype.resetWebsocketDelayConnectTimer=function(){this.websocketDelayConnectTimer&&(clearTimeout(this.websocketDelayConnectTimer),this.websocketDelayConnectTimer=0)},e.prototype.isDisableAutoConnect=function(){return!0===e.configs.isDisableAutoConnect},e.configs={},e}()},686373:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(762324);Object.defineProperty(t,"FeatureMessageCenter",{enumerable:!0,get:function(){return r.FeatureMessageCenter}})},989740:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketManager=void 0;var a=o(n(519660)),s=n(689971),u=n(340443),c=10;t.WebsocketManager=function(){function e(e){var t=this;this.options=e,this.socket=null,this.socketStatus=0,this.handleConnect=function(){u.ConnectionLog.info("socket io connect readyState: "+t.socket.io.readyState+", id:"+t.socket.id),t.options.featureMessageCenterReceiver.onConnect()},this.handleError=function(e){u.ConnectionLog.info("socket io error, type:"+(null==e?void 0:e.type)+", message:"+(null==e?void 0:e.message)+", description:"+(null==e?void 0:e.description)),t.disConnect(s.JsonUtil.jsonStringify(e)+" socket io error Closed by client.")},this.handleReconnectFailed=function(e){u.ConnectionLog.info("socket io reconnect_failed"),t.disConnect(s.JsonUtil.jsonStringify(e)+" reconnect_failed Closed by client.")},this.handleConnectFailed=function(e){u.ConnectionLog.info("socket io connect_failed"),t.disConnect(s.JsonUtil.jsonStringify(e)+"  connect_failed Closed by client.")},this.handleMessageFromServerPush=function(e){t.options.featureMessageCenterReceiver.onGetMessageFromServerPush(e)},this.handlePost=function(e){var n,r;null==(r=(n=t.options.featureMessageCenterReceiver).onPostFromServer)||r.call(n,e)}}return e.prototype.dispose=function(){this.disConnectSocket()},e.prototype.connect=function(){var e=a.default("wss://"+this.options.host,{query:{gtag:this.options.gtag},transports:a.DEFAULT_TRANSPORT_MODE,reconnection:!0,reconnectionAttempts:c,reconnectionDelay:a.WEBSOCKET_CONFIG.reconnectionDelay,reconnectionDelayMax:a.WEBSOCKET_CONFIG.reconnectionDelayMax,randomizationFactor:a.WEBSOCKET_CONFIG.randomizationFactor,timeout:a.WEBSOCKET_CONFIG.connectTimeout,path:"/socket.io"});if(this.socket=e,!this.socket)return void u.ConnectionLog.warn("socket is null");this.socket.on("get",this.handleMessageFromServerPush),this.socket.on("post",this.handlePost),this.socket.on("connect",this.handleConnect),this.socket.on("connect_failed",this.handleConnectFailed),this.socket.on("error",this.handleError),this.socket.on("reconnect_failed",this.handleReconnectFailed)},e.prototype.disConnect=function(e){u.ConnectionLog.info("socket io disconnect reason: "+e),this.disConnectSocket(),this.options.featureMessageCenterReceiver.onConnectFail()},e.prototype.sendMessage=function(e){e&&this.socket&&this.socket.emit("post",e)},e.prototype.disConnectSocket=function(){this.socket&&(this.socket.disconnect(),this.socket=null)},e}()},680222:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(86185),t),i(n(308546),t)},308546:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(103425),t),i(n(764516),t),i(n(117480),t),i(n(470426),t)},470426:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},117480:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LimitFrequencyManager=void 0;var r=n(689971),i=n(103425),o=n(764516),a=n(437054);t.LimitFrequencyManager=function(){function e(e){this.dependency=e,this.limitFrequencyMessageMap=new Map,this.limitFrequencyMessageMap.set(a.USER_INOUT_TYPE,new a.UserInoutMessage(a.USER_INOUT_TYPE,o.MessagePriority.MIDDLE,this.dependency))}return e.prototype.dispose=function(){this.limitFrequencyMessageMap.clear(),this.reset()},e.prototype.reset=function(){this.memberCount=0},e.prototype.setPriority=function(e,t){this.limitFrequencyMessageMap.get(e)&&r.ConnectionLog.warn("LimitFrequencyManager type:"+e+" is exit."),this.limitFrequencyMessageMap.set(e,new i.LimitFrequencyMessage(e,t,this.dependency))},e.prototype.handleMessage=function(e){var t=this;this.updateMemberCount(e),this.limitFrequencyMessageMap.forEach(function(n){var r=e.head.type;n.shouldLimit(r)&&(null==n||n.handleMessage(e,t.getLimitFrequencyLevel(),t.memberCount))})},e.prototype.updateMemberCount=function(e){var t,n,r,i,o;if(["USER_NEWINFO","USER_NEWINFOS","USER_LEAVE","USER_LEAVES"].includes(e.head.type)){var a=null!=(o=null!=(r=null==(n=null==(t=e.body)?void 0:t.notice)?void 0:n.mem_count)?r:null==(i=e.body)?void 0:i.mem_count)?o:0;this.memberCount=a}},e.prototype.getLimitFrequencyLevel=function(){return this.memberCount<=o.MIN_THRESHOLD?o.LimitFrequencyLevel.LOW:this.memberCount<=o.MIDDLE_THRESHOLD?o.LimitFrequencyLevel.MIDDLE:this.memberCount<=o.MAX_THRESHOLD?o.LimitFrequencyLevel.HIGH:o.LimitFrequencyLevel.HIGHEST},e}()},103425:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LimitFrequencyMessage=void 0;var r=n(689971),i=n(764516);t.LimitFrequencyMessage=function(){function e(e,t,n){this.type=e,this.priority=t,this.dependency=n,this.duration=i.NOT_LIMIT_FREQUENCY,this.messages=[]}return e.prototype.shouldLimit=function(e){return this.type===e},e.prototype.handleMessage=function(e,t,n){var r=this;this.memberCount=n;var o=this.calculateLimitDuration(t);if(o===i.NOT_LIMIT_FREQUENCY){o!==this.duration&&(this.transfer(),this.reset());return}if(e.needDeal=!1,o===i.FOREVER_LIMIT_FREQUENCY){this.duration=o;return}this.pushMessage(e),o!==this.duration&&(this.reset(),this.duration=o,this.transferTimer=setInterval(function(){r.transfer()},this.duration))},e.prototype.pushMessage=function(e){this.messages.push(e)},e.prototype.transfer=function(){this.messages.length&&(r.ConnectionLog.info("transfer memberCount:"+this.memberCount+", type:"+this.type+", duration:"+this.duration),this.transferToBusiness(this.type,this.messages),this.messages.splice(0,this.messages.length))},e.prototype.transferToBusiness=function(e,t){this.dependency.receiveMessageFromServer(e,t)},e.prototype.reset=function(){clearInterval(this.transferTimer),this.transferTimer=0,this.duration=i.NOT_LIMIT_FREQUENCY},e.prototype.calculateLimitDuration=function(e){try{if(this.priority===i.MessagePriority.HIGH)return i.NOT_LIMIT_FREQUENCY;return i.LIMIT_FREQUENCY_STRAGEGY[this.priority][e]}catch(e){return i.NOT_LIMIT_FREQUENCY}},e}()},764516:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FOREVER_LIMIT_FREQUENCY=t.NOT_LIMIT_FREQUENCY=t.LIMIT_FREQUENCY_STRAGEGY=t.MAX_THRESHOLD=t.MIDDLE_THRESHOLD=t.MIN_THRESHOLD=t.LimitFrequencyLevel=t.MessagePriority=void 0,function(e){e[e.HIGH=0]="HIGH",e[e.MIDDLE=1]="MIDDLE",e[e.LOW=2]="LOW"}(n||(n={})),t.MessagePriority=n,function(e){e[e.LOW=0]="LOW",e[e.MIDDLE=1]="MIDDLE",e[e.HIGH=2]="HIGH",e[e.HIGHEST=3]="HIGHEST"}(r||(r={})),t.LimitFrequencyLevel=r,t.MIN_THRESHOLD=20,t.MIDDLE_THRESHOLD=50,t.MAX_THRESHOLD=100,t.NOT_LIMIT_FREQUENCY=0;var n,r,i=Number.MAX_SAFE_INTEGER;t.FOREVER_LIMIT_FREQUENCY=i,t.LIMIT_FREQUENCY_STRAGEGY=[[0,0,0,0],[0,5e3,1e4,2e4],[0,1e4,2e4,i]]},437054:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.USER_INOUT_TYPE=t.UserInoutMessage=void 0;var i=n(689971),o=n(103425),a="USER_INOUT_TYPE";t.USER_INOUT_TYPE=a,t.UserInoutMessage=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userNewInfos=new Map,t.userLeaves=new Map,t}return r(t,e),t.prototype.shouldLimit=function(e){return["USER_NEWINFO","USER_LEAVE"].includes(e)},t.prototype.pushMessage=function(e){var t=e.body.notice;"USER_NEWINFO"===e.head.type&&this.pushUserNewInfo(t),"USER_LEAVE"===e.head.type&&this.pushUserLeave(t)},t.prototype.transfer=function(){var e;(this.userNewInfos.size||(null==(e=this.userLeaves)?void 0:e.size))&&(i.ConnectionLog.info("transfer memberCount:"+this.memberCount+", type:"+a+", duration:"+this.duration),this.transferUserNewInfo(),this.transferUserLeave(),this.userNewInfos.clear(),this.userLeaves.clear())},t.prototype.transferUserNewInfo=function(){if(this.userNewInfos.size){var e=Array.from(this.userNewInfos.values());this.userNewInfos.clear();var t={head:{type:"USER_NEWINFOS"},body:{mem_count:this.memberCount,notices:e}};this.transferToBusiness("USER_NEWINFOS",[t])}},t.prototype.transferUserLeave=function(){if(null==(e=this.userLeaves)?void 0:e.size){var e,t=Array.from(this.userLeaves.values());this.userLeaves.clear();var n={head:{type:"USER_LEAVES"},body:{mem_count:this.memberCount,notices:t}};this.transferToBusiness("USER_LEAVES",[n])}},t.prototype.pushUserNewInfo=function(e){e&&e.uuId&&(this.userLeaves.has(e.uuId)?this.userLeaves.delete(e.uuId):this.userNewInfos.set(e.uuId,e))},t.prototype.pushUserLeave=function(e){e&&e.uuId&&(this.userNewInfos.has(e.uuId)?this.userNewInfos.delete(e.uuId):this.userLeaves.set(e.uuId,e))},t}(o.LimitFrequencyMessage)},86185:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(283),t)},283:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MiddleWareCenter=t.MiddleWareType=void 0,function(e){e.RECEIVE_MESSAGE_FROM_SERVER="RECEIVE_MESSAGE_FROM_SERVER"}(n||(n={})),t.MiddleWareType=n,t.MiddleWareCenter=function(){function e(){this.middleWares=new Map}return e.prototype.useMiddleWare=function(e,t){if(e&&t){var n=this.getMiddleWares(e);n.push(t),this.middleWares.set(e,n)}},e.prototype.run=function(e,t){var n=this.getMiddleWares(e);this.compose(n,t)},e.prototype.getMiddleWares=function(e){var t;return null!=(t=this.middleWares.get(e))?t:[]},e.prototype.compose=function(e,t){var n=-1;function r(i){if(i<=n)throw Error("next only called once");if(n=i,i===e.length)return t;var o=e[i];return null==o?void 0:o(t,r.bind(null,i+1))}return r(0)},e}()},44488:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(854205),t),i(n(689971),t),i(n(680222),t),i(n(686373),t);var o=n(224012);Object.defineProperty(t,"RoomState",{enumerable:!0,get:function(){return o.RoomState}}),Object.defineProperty(t,"MessageWaitAcceptCmd",{enumerable:!0,get:function(){return o.MessageWaitAcceptCmd}}),Object.defineProperty(t,"RoomErrorCode",{enumerable:!0,get:function(){return o.RoomErrorCode}}),Object.defineProperty(t,"RoomWebsocketErrorCode",{enumerable:!0,get:function(){return o.RoomWebsocketErrorCode}}),i(n(203502),t),i(n(299082),t);var a=n(386087);Object.defineProperty(t,"NewChangeCommandsType",{enumerable:!0,get:function(){return a.NewChangeCommandsType}}),Object.defineProperty(t,"BatchCommitFailReason",{enumerable:!0,get:function(){return a.BatchCommitFailReason}}),Object.defineProperty(t,"CHANGESET_TYPE",{enumerable:!0,get:function(){return a.CHANGESET_TYPE}}),Object.defineProperty(t,"IBatchCommitChangesResultRetcode",{enumerable:!0,get:function(){return a.IBatchCommitChangesResultRetcode}}),Object.defineProperty(t,"DEFAULT_SEND_MESSAGE_TIMEOUT",{enumerable:!0,get:function(){return a.DEFAULT_SEND_MESSAGE_TIMEOUT}}),Object.defineProperty(t,"DEFAULT_RETRY_COUNTS",{enumerable:!0,get:function(){return a.DEFAULT_RETRY_COUNTS}}),Object.defineProperty(t,"DataEngineCodes",{enumerable:!0,get:function(){return a.DataEngineCodes}}),Object.defineProperty(t,"DocEditorError",{enumerable:!0,get:function(){return a.DocEditorError}})},640084:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},162385:function(e,t){"use strict";var n,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.BatchAsyncCommitLoopStatus=t.IBatchCommitChangesResultRetcode=t.BatchCommitFailReason=void 0,function(e){e.UNKNOW="Unknow",e.SUCCESS="Success",e.NETWORK_EXCEPTION="NetworkException",e.SERVER_VERITY_EXCEPTION="ServerVerityException",e.BATCH_COMMIT_ASYNC_TIMEOUT="BatchCommitAsyncTimeout",e.USER_CANCEL_ASYNC_BATCH_COMMIT="UserCancelAsyncBatchCommit"}(n||(n={})),t.BatchCommitFailReason=n,function(e){e[e.SUCCESS=0]="SUCCESS",e[e.ServerTimeout=101]="ServerTimeout",e[e.ServerInvalidParam=10001]="ServerInvalidParam",e[e.CommitBaseVerMaxDiff=40021]="CommitBaseVerMaxDiff",e[e.SheetCommitBaseVerMaxDiff=608639]="SheetCommitBaseVerMaxDiff",e[e.UNKNOWN_ERROR=52e3]="UNKNOWN_ERROR",e[e.USER_PRIVILEGE_FAILED=200111]="USER_PRIVILEGE_FAILED",e[e.PARAMETER_WRONG=52001]="PARAMETER_WRONG",e[e.WEBSOCKET_UNSUPPORT_BATCH_COMMIT=52002]="WEBSOCKET_UNSUPPORT_BATCH_COMMIT",e[e.CONTENT_LENGTH_EXCEED_LIMIT=52003]="CONTENT_LENGTH_EXCEED_LIMIT"}(r||(r={})),t.IBatchCommitChangesResultRetcode=r,function(e){e[e.OPERATION_STATUS_UNSPECIFIED=0]="OPERATION_STATUS_UNSPECIFIED",e[e.OPERATION_STATUS_PROCESSING=1]="OPERATION_STATUS_PROCESSING",e[e.OPERATION_STATUS_SUCCESS=2]="OPERATION_STATUS_SUCCESS",e[e.OPERATION_STATUS_FAILED=3]="OPERATION_STATUS_FAILED"}(i||(i={})),t.BatchAsyncCommitLoopStatus=i},826002:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},259370:function(e,t){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.DocEditorError=t.DataEngineCodes=void 0,function(e){e[e.ERR_OK=0]="ERR_OK",e[e.ERR_UNSPECIFIED=601900]="ERR_UNSPECIFIED",e[e.ERR_TABLEKV_FAILED=601901]="ERR_TABLEKV_FAILED",e[e.ERR_DUPLICATED_KEY=601902]="ERR_DUPLICATED_KEY",e[e.ERR_OIDB=601903]="ERR_OIDB",e[e.ERR_CollabRevisionStoreErr=50001]="ERR_CollabRevisionStoreErr",e[e.ERR_GetRevisionFromSQLErr=50002]="ERR_GetRevisionFromSQLErr",e[e.ERR_BatchGetRevisionFromSQLErr=50003]="ERR_BatchGetRevisionFromSQLErr",e[e.ERR_COSPutObjectErr=50004]="ERR_COSPutObjectErr",e[e.ERR_COSGetObjectErr=50005]="ERR_COSGetObjectErr",e[e.ERR_CollabRevisionRecordStoreErr=50006]="ERR_CollabRevisionRecordStoreErr",e[e.ERR_DataEngineMetaStoreErr=50007]="ERR_DataEngineMetaStoreErr",e[e.ERR_GetMetaFromSQLErr=50008]="ERR_GetMetaFromSQLErr",e[e.ERR_GetRevisionRecordFromSQLErr=50009]="ERR_GetRevisionRecordFromSQLErr",e[e.ERR_DataEngineServerStopExpired=50010]="ERR_DataEngineServerStopExpired",e[e.ERR_RangeRevisionFromSQLErr=50011]="ERR_RangeRevisionFromSQLErr",e[e.ERR_GetDataEngineLockErr=50012]="ERR_GetDataEngineLockErr",e[e.ERR_EditBaseVersionWrongErr=50013]="ERR_EditBaseVersionWrongErr",e[e.ERR_DataEngineGetFileWrongVersion=50014]="ERR_DataEngineGetFileWrongVersion",e[e.ERR_GetRevisionRecordCountFromSQLErr=50015]="ERR_GetRevisionRecordCountFromSQLErr",e[e.ERR_SaveWatermarkToSQLErr=50016]="ERR_SaveWatermarkToSQLErr",e[e.ERR_GetWatermarkFromSQLErr=50017]="ERR_GetWatermarkFromSQLErr",e[e.ERR_RevisionRangeInvalidAttrs=50018]="ERR_RevisionRangeInvalidAttrs",e[e.ERR_GetRevisionsInvalidAttrs=50019]="ERR_GetRevisionsInvalidAttrs",e[e.ERR_DeduplicateRevisionsFail=50020]="ERR_DeduplicateRevisionsFail",e[e.ERR_CollabChangeRptMsgHpReqBodyEmpty=50021]="ERR_CollabChangeRptMsgHpReqBodyEmpty",e[e.ERR_DeduplicateCommitErr=50022]="ERR_DeduplicateCommitErr",e[e.ERR_DataEngineBrokenData=50023]="ERR_DataEngineBrokenData",e[e.ERR_GetMaxRevisionVersionFromSQLErr=50024]="ERR_GetMaxRevisionVersionFromSQLErr",e[e.ERR_SaveRevisionToSQLDuplicateErr=50025]="ERR_SaveRevisionToSQLDuplicateErr",e[e.ERR_NoCollabChangePrivilege=50026]="ERR_NoCollabChangePrivilege",e[e.ERR_NoAnnotatePrivilege=50027]="ERR_NoAnnotatePrivilege",e[e.ERR_COSGetPreSignedURLErr=50028]="ERR_COSGetPreSignedURLErr",e[e.ERR_DataEngineWrongTextType=50029]="ERR_DataEngineWrongTextType",e[e.ERR_DataEngineEmptyData=50030]="ERR_DataEngineEmptyData",e[e.ERR_ExecuteTimeOutErr=50031]="ERR_ExecuteTimeOutErr",e[e.ERR_DataEngineCgoCacheMiss=50032]="ERR_DataEngineCgoCacheMiss",e[e.ERR_CgoProtoToJSONErr=50033]="ERR_CgoProtoToJSONErr",e[e.ERR_CgoJSONToProtoErr=50034]="ERR_CgoJSONToProtoErr",e[e.ERR_CgoTransformErr=50035]="ERR_CgoTransformErr",e[e.ERR_MarshalPbLenZeroErr=50036]="ERR_MarshalPbLenZeroErr",e[e.ERR_CgoSetMaxCacheSizeErr=50037]="ERR_CgoSetMaxCacheSizeErr",e[e.ERR_CgoApplyRevisionsErr=50038]="ERR_CgoApplyRevisionsErr",e[e.ERR_CgoApplyRevisionsToSpecificKFErr=50039]="ERR_CgoApplyRevisionsToSpecificKFErr",e[e.ERR_CgoGetKeyframeErr=50040]="ERR_CgoGetKeyframeErr",e[e.ERR_CgoGetSpecificKeyframeErr=50041]="ERR_CgoGetSpecificKeyframeErr",e[e.ERR_MarshalPbErr=50042]="ERR_MarshalPbErr",e[e.ERR_CallCgoErr=50043]="ERR_CallCgoErr",e[e.ERR_DataEngineCtxCanceledErr=50044]="ERR_DataEngineCtxCanceledErr",e[e.ERR_UnmarshalPbErr=50045]="ERR_UnmarshalPbErr",e[e.ERR_CreateEmptyKeyframe=50046]="ERR_CreateEmptyKeyframe",e[e.ERR_CgoGetCacheSizeErr=50047]="ERR_CgoGetCacheSizeErr",e[e.ERR_TableKVGetWatermarkErr=50048]="ERR_TableKVGetWatermarkErr",e[e.ERR_TableKVSaveWatermarkErr=50049]="ERR_TableKVSaveWatermarkErr",e[e.ERR_TableKVSaveRevisionRecordErr=50050]="ERR_TableKVSaveRevisionRecordErr",e[e.ERR_TableKVGetRevisionRecordErr=50051]="ERR_TableKVGetRevisionRecordErr",e[e.ERR_TableKVBatchGetRevisionRecordErr=50052]="ERR_TableKVBatchGetRevisionRecordErr",e[e.ERR_TableKVCountRevisionRecordErr=50053]="ERR_TableKVCountRevisionRecordErr",e[e.ERR_TableKVSaveMetaErr=50054]="ERR_TableKVSaveMetaErr",e[e.ERR_TableKVGetMetaErr=50055]="ERR_TableKVGetMetaErr",e[e.ERR_TableKVMetaUpdateVersionInfoErr=50056]="ERR_TableKVMetaUpdateVersionInfoErr",e[e.ERR_TableKVMetaAddKeyFrameErr=50057]="ERR_TableKVMetaAddKeyFrameErr",e[e.ERR_TableKVBatchGetMetaErr=50058]="ERR_TableKVBatchGetMetaErr",e[e.ERR_TableKVSaveRevisionErr=50059]="ERR_TableKVSaveRevisionErr",e[e.ERR_TableKVGetRevisionErr=50060]="ERR_TableKVGetRevisionErr",e[e.ERR_TableKVGetRevisionRangeErr=50061]="ERR_TableKVGetRevisionRangeErr",e[e.ERR_TableKVBatchGetRevisionErr=50062]="ERR_TableKVBatchGetRevisionErr",e[e.ERR_TableKVGetRevisionMaxVerErr=50063]="ERR_TableKVGetRevisionMaxVerErr",e[e.ERR_TableKVBatchSaveRevisionErr=50064]="ERR_TableKVBatchSaveRevisionErr",e[e.ERR_CgoBuildCommandErr=50065]="ERR_CgoBuildCommandErr",e[e.ERR_CgoGetJSONFullTextErr=50066]="ERR_CgoGetJSONFullTextErr",e[e.ERR_DocVersionErr=50067]="ERR_DocVersionErr",e[e.ERR_CgoClearAllSensitiveDataErr=50068]="ERR_CgoClearAllSensitiveDataErr",e[e.ERR_TableKVGetSliceCountErr=50069]="ERR_TableKVGetSliceCountErr",e[e.ERR_FileHasAlreadyEdited=50070]="ERR_FileHasAlreadyEdited",e[e.ERR_SaveRevisionToTableKVDuplicateErr=50071]="ERR_SaveRevisionToTableKVDuplicateErr",e[e.ERR_CgoReplaceMentionErr=50072]="ERR_CgoReplaceMentionErr",e[e.ERR_CgoReplaceDocLinkErr=50073]="ERR_CgoReplaceDocLinkErr",e[e.ERR_CgoReplaceHyperlinkErr=50074]="ERR_CgoReplaceHyperlinkErr",e[e.ERR_CgoInsertCommentErr=50075]="ERR_CgoInsertCommentErr",e[e.ERR_CgoReplaceImageURLErr=50076]="ERR_CgoReplaceImageURLErr",e[e.ERR_CgoGetReplaceContentErr=50077]="ERR_CgoGetReplaceContentErr",e[e.ERR_OverSizeDoc=50078]="ERR_OverSizeDoc",e[e.ERR_RollbackToMeloDocErr=50079]="ERR_RollbackToMeloDocErr",e[e.ERR_EmptyMetaVersionInfo=50080]="ERR_EmptyMetaVersionInfo",e[e.ERR_InvalidGetHistoryRsp=50081]="ERR_InvalidGetHistoryRsp",e[e.ERR_OOXMLDocNoNeedToUpgrade=50082]="ERR_OOXMLDocNoNeedToUpgrade",e[e.ERR_ParaQuoteDoc=50083]="ERR_ParaQuoteDoc",e[e.ERR_IllegalCopy=50084]="ERR_IllegalCopy",e[e.ERR_UIDToTinyIDErr=50085]="ERR_UIDToTinyIDErr",e[e.ERR_InvalidUpgradeTinyID=50086]="ERR_InvalidUpgradeTinyID",e[e.ERR_COSDeleteObjectErr=50087]="ERR_COSDeleteObjectErr",e[e.ERR_UpgradeFileError=50088]="ERR_UpgradeFileError",e[e.ERR_TableKVGetMetaEmpty=50089]="ERR_TableKVGetMetaEmpty",e[e.ERR_DocDataCannotClone=50090]="ERR_DocDataCannotClone",e[e.ERR_DataEngineRangeStoreErr=50091]="ERR_DataEngineRangeStoreErr",e[e.ERR_CheckUserRangePrivilegeRspNil=50092]="ERR_CheckUserRangePrivilegeRspNil",e[e.ERR_CloneMetaFailedError=50093]="ERR_CloneMetaFailedError",e[e.ERR_CannotEditRangeError=50094]="ERR_CannotEditRangeError",e[e.ERR_CommitMissChangesContainRevert=50095]="ERR_CommitMissChangesContainRevert",e[e.ERR_PermissionRangeLengthZeroError=50096]="ERR_PermissionRangeLengthZeroError",e[e.ERR_GetRangePrivilegeRspNil=50097]="ERR_GetRangePrivilegeRspNil",e[e.ERR_TableKVNonLoginUserTicketErr=50098]="ERR_TableKVNonLoginUserTicketErr",e[e.ERR_InvalidVersion=50099]="ERR_InvalidVersion",e[e.ERR_EditValidateErr=50100]="ERR_EditValidateErr",e[e.ERR_TableKVSaveUpgradeVersionErr=50101]="ERR_TableKVSaveUpgradeVersionErr",e[e.ERR_TableKVGetUpgradeVersionErr=50102]="ERR_TableKVGetUpgradeVersionErr",e[e.ERR_TableKVGetUpgradeVersionEmpty=50103]="ERR_TableKVGetUpgradeVersionEmpty",e[e.ERR_TableKVDeleteMetaErr=50104]="ERR_TableKVDeleteMetaErr",e[e.ERR_TableKVDeleteRevisionErr=50105]="ERR_TableKVDeleteRevisionErr",e[e.ERR_TableKVDeleteRevisionRecordErr=50106]="ERR_TableKVDeleteRevisionRecordErr",e[e.ERR_TableKVDeleteWatermarkErr=50107]="ERR_TableKVDeleteWatermarkErr",e[e.ERR_TableKVDeleteUpgradeVersionErr=50108]="ERR_TableKVDeleteUpgradeVersionErr",e[e.ERR_GetRevisionRecordNotFound=502001]="ERR_GetRevisionRecordNotFound",e[e.ERR_GetRevisionRecordCountNotFound=502002]="ERR_GetRevisionRecordCountNotFound",e[e.ERR_GetWatermarkNotFound=502003]="ERR_GetWatermarkNotFound",e[e.ERR_GetChunkMetaNotFound=502004]="ERR_GetChunkMetaNotFound",e[e.ERR_GetChunksNotFound=502005]="ERR_GetChunksNotFound",e[e.ERR_GetTextAndLinksNotFound=502006]="ERR_GetTextAndLinksNotFound",e[e.ERR_InvalidRevertVersion=502007]="ERR_InvalidRevertVersion"}(n||(n={})),t.DataEngineCodes=n,function(e){e[e.DocEditorErrorPlaceholder=0]="DocEditorErrorPlaceholder",e[e.DocEditorErrorServerError=1e4]="DocEditorErrorServerError",e[e.DocEditorErrorMissParam=10001]="DocEditorErrorMissParam",e[e.DocEditorErrordVerNotSupport=10002]="DocEditorErrordVerNotSupport",e[e.BodyTooLargeError=60100]="BodyTooLargeError"}(r||(r={})),t.DocEditorError=r},76118:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},386087:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(826002),t),i(n(429372),t),i(n(640084),t),i(n(162385),t),i(n(930202),t),i(n(342097),t),i(n(143797),t),i(n(76118),t),i(n(904212),t),i(n(623217),t),i(n(317415),t),i(n(182094),t),i(n(401695),t),i(n(259370),t)},401695:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},143797:function(e,t,n){"use strict";var r,i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.prepareCommitMessage=t.getMessageDataLength=t.CHANGESET_TYPE=void 0;var o=n(689971);!function(e){e.SMARTSHEET="smartsheet",e.SMARTCANVAS="smartcanvas"}(r||(r={})),t.CHANGESET_TYPE=r,t.getMessageDataLength=function(e){var t;return e?e instanceof Object?(null==(t=e.changeset)?void 0:t.length)||0:e.length||0:0},t.prepareCommitMessage=function(e,t,n){if("string"==typeof e)return e;var r=i(i({},e),{type:"USER_CHANGES",baseRev:e.baseRev,changeSetCount:e.changeSetCount,changeset:e.changeset,apool:e.apool,isWorkbook:e.isWorkbook,keydata:e.keydata||!1,head:e.head,subId:e.subId,changesetType:e.changesetType,oSubId:e.oSubId||!1,uuId:t,offlineMsg:e.offlineMsg,not_cross_sheet:e.notCrossSheet,pver:n});return o.JsonUtil.jsonStringify(r)}},904212:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.NewChangeCommandsType=void 0,function(e){e.JSON="JSON",e.BASE64="BASE64"}(n||(n={})),t.NewChangeCommandsType=n},930202:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_RETRY_COUNTS=t.DEFAULT_SEND_MESSAGE_TIMEOUT=void 0,t.DEFAULT_SEND_MESSAGE_TIMEOUT=25e3,t.DEFAULT_RETRY_COUNTS=3},342097:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},182094:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},317415:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},623217:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},429372:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},335310:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(689971),o="0",a="big-collab",s="collab";t.default=new(function(){function e(){try{if(!window.Aegis)return;this.aegis=new window.Aegis({id:"SDK-9818a6f1a4d99eacc267",hostUrl:{url:"https://galileotelemetry.tencent.com/collect"},version:window.__globalReleaseVersion,useAid:!0,speedSample:!1,reportApiSpeed:!1,reportAssetSpeed:!1,pagePerformance:!1,plugin:{pv:!1,aid:!0,error:!1,device:!1,close:!1,pagePerformance:!1,webVitals:!1,fId:!1,ie:!0,spa:!1,api:!1,apiSpeed:!1,assetSpeed:!1}})}catch(e){i.ConnectionLog.warn("CollabRoomReporter init error:"+(null==e?void 0:e.message))}}return e.prototype.loginRoomError=function(e){if(this.needToResetLastErrorCode(e))return void this.resetLastErrorCode();this.lastAttrName=e.attrName,this.reportToServer(r(r({},e),{source:"loginRoom"}))},e.prototype.commitError=function(e){if(this.needToResetLastErrorCode(e))return void this.resetLastErrorCode();this.lastAttrName=e.attrName,this.reportToServer(r(r({},e),{source:"commitError"}))},e.prototype.serverNotice=function(e){if(this.needToResetLastErrorCode(e))return void this.resetLastErrorCode();this.lastAttrName=e.attrName,this.reportToServer(r(r({},e),{source:"serverNotice"}))},e.prototype.shutDownReport=function(e){if(this.needToResetLastErrorCode(e)||e.attrName===this.lastAttrName)return void this.resetLastErrorCode();this.reportToServer(r(r({},e),{source:"shutDown"}))},e.prototype.reconnectReport=function(e){this.reportToServer(r(r({},e),{source:"reconnect",transports:a}))},e.prototype.retryRequestReport=function(e,t){this.reportToServer({attrName:e.name,module:t,errorMessage:e.message,status:1,source:"retryRequest",transports:a})},e.prototype.receiverParseError=function(e,t){this.reportToServer({attrName:"receiver-parse-error",module:t,errorMessage:e,status:1,source:"receiver-parse-error",transports:a})},e.prototype.reportSocketConnect=function(e){this.reportToServer(r(r({},e),{source:"socketConnect"}))},e.prototype.reportUserChannel=function(){this.reportToServer({attrName:"\u975E\u7F16\u8F91\u901A\u9053\u8BF7\u6C42",status:0})},e.prototype.reportToServer=function(e){var t,n,r=e.module,i=void 0===r?"unknown":r,o=e.source,a=void 0===o?"":o,u=e.transports,c=void 0===u?"":u;null==(n=null==(t=this.aegis)?void 0:t.reportEvent)||n.call(t,{name:s,eventName:e.attrName,status:e.status,errorMessage:e.errorMessage,documentType:i,source:a,transports:c})},e.prototype.resetLastErrorCode=function(){this.lastAttrName=""},e.prototype.needToResetLastErrorCode=function(e){return null==e||!e.attrName||(null==e?void 0:e.attrName)===o},e}())},383588:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_WMODE=t.TRANSPORT_MODE_MAP=t.DEFAULT_ATTEMPT_TRANSPORT_MODE=t.DEFAULT_TRANSPORT_MODE=t.WEBSOCKET_CONFIG=void 0,t.WEBSOCKET_CONFIG={reconnectMaxTimes:3,connectTimeout:5e3,reconnectionDelay:3e3,reconnectionDelayMax:5e3,randomizationFactor:1,pollingReopenCount:0,pollingAttemptCount:3};var n=["websocket"];t.DEFAULT_TRANSPORT_MODE=n;var r=["polling","websocket"];t.DEFAULT_ATTEMPT_TRANSPORT_MODE=r,t.TRANSPORT_MODE_MAP=new Map([["w",n],["l",["polling"]],["b",r]]),t.DEFAULT_WMODE="ww"},519660:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(797333));i(n(383588),t),i(n(802538),t),t.default=a.default},802538:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},797333:function(e,t,n){var r=n(755872).Buffer;!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e,t){"object"===(void 0===e?"undefined":i(e))&&(t=e,e=void 0),t=t||{};var n,r=o(e),a=r.source,l=r.id,d=r.path,f=c[l]&&d in c[l].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||f?(u("ignoring socket cache for %s",a),n=s(a,t)):(c[l]||(u("new io instance for %s",a),c[l]=s(a,t)),n=c[l]),r.query&&!t.query&&(t.query=r.query),n.socket(r.path,t)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(1),a=n(7),s=n(12),u=n(3)("socket.io-client");e.exports=t=r;var c=t.managers={};t.protocol=a.protocol,t.connect=r,t.Manager=n(12),t.Socket=n(36)},function(e,t,n){"use strict";function r(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),o("parse %s",e),n=i(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var r=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port,n.href=n.protocol+"://"+r+(t&&t.port===n.port?"":":"+n.port),n}var i=n(2),o=n(3)("socket.io-client:url");e.exports=r},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var a=n.exec(e||""),s={},u=14;u--;)s[r[u]]=a[u]||"";return -1!=i&&-1!=o&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e,t,n){(function(r){function i(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r)}}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function u(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}function c(){try{return window.localStorage}catch(e){}}(t=e.exports=n(5)).log=a,t.formatArgs=o,t.save=s,t.load=u,t.useColors=i,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(u())}).call(t,n(4))},function(e,t){function n(){throw Error("setTimeout has not been defined")}function r(){throw Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){g&&p&&(g=!1,p.length?h=p.concat(h):m=-1,h.length&&s())}function s(){if(!g){var e=i(a);g=!0;for(var t=h.length;t;){for(p=h,h=[];++m<t;)p&&p[m].run();m=-1,t=h.length}p=null,g=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,d,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var p,h=[],g=!1,m=-1;f.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||g||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(e){return[]},f.binding=function(e){throw Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){function r(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n)|0;return t.colors[Math.abs(r)%t.colors.length]}function i(e){var n;function i(){if(i.enabled){var e=i,r=+new Date;e.diff=r-(n||r),e.prev=n,e.curr=r,n=r;for(var o=Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var s=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;s++;var i=t.formatters[r];if("function"==typeof i){var a=o[s];n=i.call(e,a),o.splice(s,1),s--}return n}),t.formatArgs.call(e,o),(i.log||t.log||console.log.bind(console)).apply(e,o)}}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=r(e),i.destroy=o,"function"==typeof t.init&&t.init(i),t.instances.push(i),i}function o(){var e=t.instances.indexOf(this);return -1!==e&&(t.instances.splice(e,1),!0)}function a(e){t.save(e),t.names=[],t.skips=[];var n,r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(RegExp("^"+e.substr(1)+"$")):t.names.push(RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}}function s(){t.enable("")}function u(e){var n,r;if("*"===e[e.length-1])return!0;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}(t=e.exports=i.debug=i.default=i).coerce=c,t.disable=s,t.enable=a,t.enabled=u,t.humanize=n(6),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){function n(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=c?Math.round(e/c)+"d":e>=u?Math.round(e/u)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function i(e){return o(e,c,"day")||o(e,u,"hour")||o(e,s,"minute")||o(e,a,"second")||e+" ms"}function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=6e4,u=36e5,c=864e5,l=315576e5;e.exports=function(e,t){t=t||{};var o=typeof e;if("string"===o&&e.length>0)return n(e);if("number"===o&&!1===isNaN(e))return t.long?i(e):r(e);throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){function r(){}function i(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var r=o(e.data);if(!1===r)return v;n+=r}return f("encoded %j as %s",e,n),n}function o(e){try{return JSON.stringify(e)}catch(e){return!1}}function a(e,t){function n(e){var n=h.deconstructPacket(e),r=i(n.packet),o=n.buffers;o.unshift(r),t(o)}h.removeBlobs(e,n)}function s(){this.reconstructor=null}function u(e){var n=0,r={type:Number(e.charAt(0))};if(null==t.types[r.type])return d("unknown packet type "+r.type);if(t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type){for(var i="";"-"!==e.charAt(++n)&&(i+=e.charAt(n),n!=e.length););if(i!=Number(i)||"-"!==e.charAt(n))throw Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(n+1))for(r.nsp="";++n;){var o=e.charAt(n);if(","===o||(r.nsp+=o,n===e.length))break}else r.nsp="/";var a=e.charAt(n+1);if(""!==a&&Number(a)==a){for(r.id="";++n;){var o=e.charAt(n);if(null==o||Number(o)!=o){--n;break}if(r.id+=e.charAt(n),n===e.length)break}r.id=Number(r.id)}if(e.charAt(++n)){var s=c(e.substr(n));if(!(!1!==s&&(r.type===t.ERROR||g(s))))return d("invalid payload");r.data=s}return f("decoded %s as %j",e,r),r}function c(e){try{return JSON.parse(e)}catch(e){return!1}}function l(e){this.reconPack=e,this.buffers=[]}function d(e){return{type:t.ERROR,data:"parser error: "+e}}var f=n(3)("socket.io-parser"),p=n(8),h=n(9),g=n(10),m=n(11);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=r,t.Decoder=s;var v=t.ERROR+'"encode error"';r.prototype.encode=function(e,n){(f("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?a(e,n):n([i(e)])},p(s.prototype),s.prototype.add=function(e){var n;if("string"==typeof e)n=u(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new l(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!m(e)&&!e.base64)throw Error("Unknown type: "+e);if(!this.reconstructor)throw Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){function r(e){if(e)return i(e)}function i(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){function r(e,t){if(!e)return e;if(a(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(o(e)){for(var i=Array(e.length),s=0;s<e.length;s++)i[s]=r(e[s],t);return i}if("object"==typeof e&&!(e instanceof Date)){var i={};for(var u in e)i[u]=r(e[u],t);return i}return e}function i(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(o(e))for(var n=0;n<e.length;n++)e[n]=i(e[n],t);else if("object"==typeof e)for(var r in e)e[r]=i(e[r],t);return e}var o=n(10),a=n(11),s=Object.prototype.toString,u="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===s.call(Blob),c="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===s.call(File);t.deconstructPacket=function(e){var t=[],n=e.data,i=e;return i.data=r(n,t),i.attachments=t.length,{packet:i,buffers:t}},t.reconstructPacket=function(e,t){return e.data=i(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){function n(e,s,l){if(!e)return e;if(u&&e instanceof Blob||c&&e instanceof File){r++;var d=new FileReader;d.onload=function(){l?l[s]=this.result:i=this.result,--r||t(i)},d.readAsArrayBuffer(e)}else if(o(e))for(var f=0;f<e.length;f++)n(e[f],f,e);else if("object"==typeof e&&!a(e))for(var p in e)n(e[p],p,e)}var r=0,i=e;n(i),r||t(i)}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports=function(e){return n&&r.isBuffer(e)||i&&(e instanceof ArrayBuffer||o(e))};var n="function"==typeof r&&"function"==typeof r.isBuffer,i="function"==typeof ArrayBuffer,o=function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}},function(e,t,n){"use strict";function r(e,t){if(!(this instanceof r))return new r(e,t);e&&"object"===(void 0===e?"undefined":i(e))&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||u;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(13),a=n(36),s=n(8),u=n(7),c=n(38),l=n(39),d=n(3)("socket.io-client:manager"),f=n(35),p=n(40),h=Object.prototype.hasOwnProperty;e.exports=r,r.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},r.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},s(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e,t){if(d("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;d("opening %s",this.uri),this.engine=o(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=c(n,"open",function(){r.onopen(),e&&e()}),a=c(n,"error",function(t){if(d("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=Error("Connection error");n.data=t,e(n)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;d("connect attempt will timeout after %d",s);var u=setTimeout(function(){d("connect attempt timed out after %d",s),i.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(i),this.subs.push(a),this},r.prototype.onopen=function(){d("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(c(e,"data",l(this,"ondata"))),this.subs.push(c(e,"ping",l(this,"onping"))),this.subs.push(c(e,"pong",l(this,"onpong"))),this.subs.push(c(e,"error",l(this,"onerror"))),this.subs.push(c(e,"close",l(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",l(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){d("error",e),this.emitAll("error",e)},r.prototype.socket=function(e,t){function n(){~f(i.connecting,r)||i.connecting.push(r)}var r=this.nsps[e];if(!r){r=new a(this,e,t),this.nsps[e]=r;var i=this;r.on("connecting",n),r.on("connect",function(){r.id=i.generateId(e)}),this.autoConnect&&n()}return r},r.prototype.destroy=function(e){var t=f(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},r.prototype.packet=function(e){d("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){d("cleanup");for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){d("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){d("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)d("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();d("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(d("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(d("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(d("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){e.exports=n(14),e.exports.parser=n(21)},function(e,t,n){function r(e,t){return this instanceof r?(t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=l(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=l(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=d.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,void this.open()):new r(e,t)}function i(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o=n(15),a=n(8),s=n(3)("engine.io-client:socket"),u=n(35),c=n(21),l=n(2),d=n(29);e.exports=r,r.priorWebsocketSuccess=!1,a(r.prototype),r.protocol=c.protocol,r.Socket=r,r.Transport=n(20),r.transports=n(15),r.parser=n(21),r.prototype.createTransport=function(e){s('creating transport "%s"',e);var t=i(this.query);t.EIO=c.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new o[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){s("setting transport %s",e.name);var t=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},r.prototype.probe=function(e){function t(){if(f.onlyBinaryUpgrades){var t=!this.supportsBinary&&f.transport.supportsBinary;d=d||t}d||(s('probe transport "%s" opened',e),l.send([{type:"ping",data:"probe"}]),l.once("packet",function(t){if(!d)if("pong"===t.type&&"probe"===t.data){if(s('probe transport "%s" pong',e),f.upgrading=!0,f.emit("upgrading",l),!l)return;r.priorWebsocketSuccess="websocket"===l.name,s('pausing current transport "%s"',f.transport.name),f.transport.pause(function(){d||"closed"!==f.readyState&&(s("changing transport and sending upgrade packet"),c(),f.setTransport(l),l.send([{type:"upgrade"}]),f.emit("upgrade",l),l=null,f.upgrading=!1,f.flush())})}else{s('probe transport "%s" failed',e);var n=Error("probe error");n.transport=l.name,f.emit("upgradeError",n)}}))}function n(){d||(d=!0,c(),l.close(),l=null)}function i(t){var r=Error("probe error: "+t);r.transport=l.name,n(),s('probe transport "%s" failed because of error: %s',e,t),f.emit("upgradeError",r)}function o(){i("transport closed")}function a(){i("socket closed")}function u(e){l&&e.name!==l.name&&(s('"%s" works - aborting "%s"',e.name,l.name),n())}function c(){l.removeListener("open",t),l.removeListener("error",i),l.removeListener("close",o),f.removeListener("close",a),f.removeListener("upgrading",u)}s('probing transport "%s"',e);var l=this.createTransport(e,{probe:1}),d=!1,f=this;r.priorWebsocketSuccess=!1,l.once("open",t),l.once("error",i),l.once("close",o),this.once("close",a),this.once("upgrading",u),l.open()},r.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},r.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(s('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else s('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},r.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},r.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function e(){r.onClose("forced close"),s("socket closing - telling transport to close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},r.prototype.onError=function(e){s("socket error %j",e),r.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},r.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){s('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~u(this.transports,e[n])&&t.push(e[n]);return t}},function(e,t,n){function r(e){var t=!1,n=!1,r=!1!==e.jsonp;if("undefined"!=typeof location){var s="https:"===location.protocol,u=location.port;u||(u=s?443:80),t=e.hostname!==location.hostname||u!==e.port,n=e.secure!==s}if(e.xdomain=t,e.xscheme=n,"open"in new i(e)&&!e.forceJSONP)return new o(e);if(!r)throw Error("JSONP disabled");return new a(e)}var i=n(16),o=n(18),a=n(32),s=n(33);t.polling=r,t.websocket=s},function(e,t,n){var r=n(17);e.exports=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(e){}if(!t)try{return new self[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(e){}}},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){function r(){}function i(e){if(u.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function a(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var s=n(16),u=n(19),c=n(8),l=n(30),d=n(3)("engine.io-client:polling-xhr");e.exports=i,e.exports.Request=o,l(i,u),i.prototype.supportsBinary=!0,i.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new o(e)},i.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=r},i.prototype.doPoll=function(){d("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},c(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new s(e),n=this;try{d("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.extraHeaders[r])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===e&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout(function(){n.onError(t.status)},0))},d("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(function(){n.onError(e)},0)}"undefined"!=typeof document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e,t;try{try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},o.requestsCount=0,o.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",a):"function"==typeof addEventListener&&addEventListener("onpagehide"in self?"pagehide":"unload",a,!1))},function(e,t,n){function r(e){var t=e&&e.forceBase64;l&&!t||(this.supportsBinary=!1),i.call(this,e)}var i=n(20),o=n(29),a=n(21),s=n(30),u=n(31),c=n(3)("engine.io-client:polling");e.exports=r;var l=function(){return null!=new(n(16))({xdomain:!1}).responseType}();s(r,i),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(e){function t(){c("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){c("pre-pause polling complete"),--r||t()})),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",function(){c("pre-pause writing complete"),--r||t()}))}else t()},r.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(e){var t=this;c("polling got data %s",e);var n=function(e,n,r){return"opening"===t.readyState&&t.onOpen(),"close"===e.type?(t.onClose(),!1):void t.onPacket(e)};a.decodePayload(e,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function e(){c("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},r.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};a.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var i=n(21),o=n(8);e.exports=r,o(r.prototype),r.prototype.onError=function(e,t){var n=Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},r.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!==this.readyState)throw Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){function r(e,n){return n("b"+t.packets[e.type]+e.data.data)}function i(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength);a[0]=y[e.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return r(a.buffer)}function o(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){t.encodePacket({type:e.type,data:i.result},n,!0,r)},i.readAsArrayBuffer(e.data)}function a(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(v)return o(e,n,r);var i=new Uint8Array(1);return i[0]=y[e.type],r(new C([i.buffer,e.data]))}function s(e){try{e=h.decode(e,{strict:!1})}catch(e){return!1}return e}function u(e,t,n){for(var r=Array(e.length),i=p(e.length,n),o=function(e,n,i){t(n,function(t,n){r[e]=n,i(t,r)})},a=0;a<e.length;a++)o(a,e[a],i)}var c,l=n(22),d=n(23),f=n(24),p=n(25),h=n(26);"undefined"!=typeof ArrayBuffer&&(c=n(27));var g="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),m="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),v=g||m;t.protocol=3;var y=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=l(y),_={type:"error",data:"parser error"},C=n(28);t.encodePacket=function(e,t,n,o){"function"==typeof t&&(o=t,t=!1),"function"==typeof n&&(o=n,n=null);var s=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&s instanceof ArrayBuffer)return i(e,t,o);if(void 0!==C&&s instanceof C)return a(e,t,o);if(s&&s.base64)return r(e,o);var u=y[e.type];return void 0!==e.data&&(u+=n?h.encode(String(e.data),{strict:!1}):String(e.data)),o(""+u)},t.encodeBase64Packet=function(e,n){var r,i="b"+t.packets[e.type];if(void 0!==C&&e.data instanceof C){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];n(i+e)},o.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var a=new Uint8Array(e.data),s=Array(a.length),u=0;u<a.length;u++)s[u]=a[u];r=String.fromCharCode.apply(null,s)}return n(i+=btoa(r))},t.decodePacket=function(e,n,r){if(void 0===e)return _;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=s(e)))return _;var i=e.charAt(0);return Number(i)==i&&b[i]?e.length>1?{type:b[i],data:e.substring(1)}:{type:b[i]}:_}var i=new Uint8Array(e)[0],o=f(e,1);return C&&"blob"===n&&(o=new C([o])),{type:b[i],data:o}},t.decodeBase64Packet=function(e,t){var n=b[e.charAt(0)];if(!c)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=c.decode(e.substr(1));return"blob"===t&&C&&(r=new C([r])),{type:n,data:r}},t.encodePayload=function(e,n,r){function i(e){return e.length+":"+e}function o(e,r){t.encodePacket(e,!!a&&n,!1,function(e){r(null,i(e))})}"function"==typeof n&&(r=n,n=null);var a=d(e);return n&&a?C&&!v?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r):e.length?void u(e,o,function(e,t){return r(t.join(""))}):r("0:")},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);if("function"==typeof n&&(r=n,n=null),""===e)return r(_,0,1);for(var i,o,a,s="",u=0,c=e.length;u<c;u++){var l=e.charAt(u);if(":"===l){if(""===s||s!=(o=Number(s))||s!=(a=e.substr(u+1,o)).length)return r(_,0,1);if(a.length){if(i=t.decodePacket(a,n,!1),_.type===i.type&&_.data===i.data)return r(_,0,1);if(!1===r(i,u+o,c))return}u+=o,s=""}else s+=l}return""!==s?r(_,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){function r(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})}return e.length?void u(e,r,function(e,t){var r=new Uint8Array(t.reduce(function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2},0)),i=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var o=new Uint8Array(e.length),a=0;a<e.length;a++)o[a]=e.charCodeAt(a);n=o.buffer}t?r[i++]=0:r[i++]=1;for(var s=n.byteLength.toString(),a=0;a<s.length;a++)r[i++]=parseInt(s[a]);r[i++]=255;for(var o=new Uint8Array(n),a=0;a<o.length;a++)r[i++]=o[a]}),n(r.buffer)}):n(new ArrayBuffer(0))},t.encodePayloadAsBlob=function(e,n){u(e,function(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}for(var o=e instanceof ArrayBuffer?e.byteLength:e.size,a=o.toString(),s=new Uint8Array(a.length+1),i=0;i<a.length;i++)s[i]=parseInt(a[i]);s[a.length]=255,C&&n(null,new C([t.buffer,s.buffer,e]))})},function(e,t){return n(new C(t))})},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var i=e,o=[];i.byteLength>0;){for(var a=new Uint8Array(i),s=0===a[0],u="",c=1;255!==a[c];c++){if(u.length>310)return r(_,0,1);u+=a[c]}i=f(i,2+u.length);var l=f(i,0,u=parseInt(u));if(s)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(e){var d=new Uint8Array(l);l="";for(var c=0;c<d.length;c++)l+=String.fromCharCode(d[c])}o.push(l),i=f(i,u)}var p=o.length;o.forEach(function(e,i){r(t.decodePacket(e,n,!0),i,p)})}},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t,n){function i(e){if(!e||"object"!=typeof e)return!1;if(o(e)){for(var t=0,n=e.length;t<n;t++)if(i(e[t]))return!0;return!1}if("function"==typeof r&&r.isBuffer&&r.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||s&&e instanceof Blob||u&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return i(e.toJSON(),!0);for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&i(e[a]))return!0;return!1}var o=n(10),a=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===a.call(Blob),u="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===a.call(File);e.exports=i},function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)o[s]=i[a];return o.buffer}},function(e,t){function n(){}e.exports=function(e,t,r){function i(e,n){if(i.count<=0)throw Error("after called too many times");--i.count,e?(o=!0,t(e),t=r):0!==i.count||o||t(null,n)}var o=!1;return r=r||n,i.count=e,0===e?t():i}},function(e,t){function n(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function r(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(t-=65536,i+=f(t>>>10&1023|55296),t=56320|1023&t),i+=f(t);return i}function i(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function o(e,t){return f(e>>t&63|128)}function a(e,t){if(0==(0xffffff80&e))return f(e);var n="";return 0==(0xfffff800&e)?n=f(e>>6&31|192):0==(0xffff0000&e)?(i(e,t)||(e=65533),n=f(e>>12&15|224)+o(e,6)):0==(0xffe00000&e)&&(n=f(e>>18&7|240)+o(e,12)+o(e,6)),n+=f(63&e|128)}function s(){if(d>=l)throw Error("Invalid byte index");var e=255&c[d];if(d++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function u(e){var t,n,r,o;if(d>l)throw Error("Invalid byte index");if(d==l)return!1;if(t=255&c[d],d++,0==(128&t))return t;if(192==(224&t)){if((o=(31&t)<<6|(n=s()))>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if((o=(15&t)<<12|(n=s())<<6|(r=s()))>=2048)return i(o,e)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=s(),(o=(7&t)<<18|n<<12|(r=s())<<6|s())>=65536&&o<=1114111))return o;throw Error("Invalid UTF-8 detected")}var c,l,d,f=String.fromCharCode;e.exports={version:"2.1.2",encode:function(e,t){t=t||{};for(var r=!1!==t.strict,i=n(e),o=i.length,s=-1,u="";++s<o;)u+=a(i[s],r);return u},decode:function(e,t){var i=!1!==(t=t||{}).strict;l=(c=n(e)).length,d=0;for(var o,a=[];!1!==(o=u(i));)a.push(o);return r(a)}}},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,r,i,o,a,s=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),d=new Uint8Array(l);for(t=0;t<u;t+=4)r=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],a=n[e.charCodeAt(t+3)],d[c++]=r<<2|i>>4,d[c++]=(15&i)<<4|o>>2,d[c++]=(3&o)<<6|63&a;return l}}()},function(e,t){function n(e){return e.map(function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e})}function r(e,t){t=t||{};var r=new o;return n(e).forEach(function(e){r.append(e)}),t.type?r.getBlob(t.type):r.getBlob()}function i(e,t){return new Blob(n(e),t||{})}var o=void 0!==o?o:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,a=function(){try{var e=new Blob(["hi"]);return 2===e.size}catch(e){return!1}}(),s=a&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(e){return!1}}(),u=o&&o.prototype.append&&o.prototype.getBlob;"undefined"!=typeof Blob&&(r.prototype=Blob.prototype,i.prototype=Blob.prototype),e.exports=function(){return a?s?Blob:i:u?r:void 0}()},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){"use strict";function n(e){var t="";do t=a[e%s]+t,e=Math.floor(e/s);while(e>0);return t}function r(e){var t=0;for(l=0;l<e.length;l++)t=t*s+u[e.charAt(l)];return t}function i(){var e=n(+new Date);return e!==o?(c=0,o=e):e+"."+n(c++)}for(var o,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s=64,u={},c=0,l=0;l<s;l++)u[a[l]]=l;i.encode=n,i.decode=r,e.exports=i},function(e,t,n){(function(t){function r(){}function i(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{}}function o(e){if(a.call(this,e),this.query=this.query||{},!u){var t=i();u=t.___eio=t.___eio||[]}this.index=u.length;var n=this;u.push(function(e){n.onData(e)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){n.script&&(n.script.onerror=r)},!1)}var a=n(19),s=n(30);e.exports=o;var u,c=/\n/g,l=/\\n/g;s(o,a),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),a.prototype.doClose.call(this)},o.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},o.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(e){i.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+i.iframeId+'">';o=document.createElement(e)}catch(e){(o=document.createElement("iframe")).name=i.iframeId,o.src="javascript:0"}o.id=i.iframeId,i.form.appendChild(o),i.iframe=o}var i=this;if(!this.form){var o,a=document.createElement("form"),s=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=u,a.method="POST",a.setAttribute("accept-charset","utf-8"),s.name="d",a.appendChild(s),document.body.appendChild(a),this.form=a,this.area=s}this.form.action=this.uri(),r(),e=e.replace(l,"\\\n"),this.area.value=e.replace(c,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===i.iframe.readyState&&n()}:this.iframe.onload=n}}).call(t,function(){return this}())},function(e,t,n){function i(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=o&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(p=a),s.call(this,e)}var o,a,s=n(20),u=n(21),c=n(29),l=n(30),d=n(31),f=n(3)("engine.io-client:websocket");if("undefined"==typeof self)try{a=n(34)}catch(e){}else o=self.WebSocket||self.MozWebSocket;var p=o||a;e.exports=i,l(i,s),i.prototype.name="websocket",i.prototype.supportsBinary=!0,i.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new p(e,t):new p(e):new p(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},i.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(t){t&&window.log&&window.log.info&&window.log.info("ConnectionLog socket.io onclose code:"+t.code+", reason:"+t.reason+",wasClean:"+t.wasClean),e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},i.prototype.write=function(e){function t(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}var n=this;this.writable=!1;for(var i=e.length,o=0,a=i;o<a;o++)!function(e){u.encodePacket(e,n.supportsBinary,function(o){if(!n.usingBrowserWebSocket){var a={};e.options&&(a.compress=e.options.compress),n.perMessageDeflate&&("string"==typeof o?r.byteLength(o):o.length)<n.perMessageDeflate.threshold&&(a.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(o):n.ws.send(o,a)}catch(e){f("websocket closed before onclose event")}--i||t()})}(e[o])},i.prototype.onClose=function(){s.prototype.onClose.call(this)},i.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},i.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=d()),this.supportsBinary||(e.b64=1),(e=c.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},i.prototype.check=function(){return!(!p||"__initialize"in p&&this.name===i.prototype.name)}},function(e,t){},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return -1}},function(e,t,n){"use strict";function r(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(7),a=n(8),s=n(37),u=n(38),c=n(39),l=n(3)("socket.io-client:socket"),d=n(29),f=n(23);e.exports=t=r;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=a.prototype.emit;a(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[u(e,"open",c(this,"onopen")),u(e,"packet",c(this,"onpacket")),u(e,"close",c(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},r.prototype.send=function(){var e=s(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(p.hasOwnProperty(e))return h.apply(this,arguments),this;var t=s(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:f(t))?o.BINARY_EVENT:o.EVENT,data:t};return n.options={},n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){if(l("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===i(this.query)?d.encode(this.query):this.query;l("sending connect packet with query %s",e),this.packet({type:o.CONNECT,query:e})}else this.packet({type:o.CONNECT})},r.prototype.onclose=function(e){l("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===o.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case o.CONNECT:this.onconnect();break;case o.EVENT:case o.BINARY_EVENT:this.onevent(e);break;case o.ACK:case o.BINARY_ACK:this.onack(e);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];l("emitting event %j",t),null!=e.id&&(l("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?h.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=s(arguments);l("sending ack %j",r),t.packet({type:f(r)?o.BINARY_ACK:o.ACK,id:e,data:r})}}},r.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(l("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):l("bad ack %s",e.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)h.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags.compress=e,this},r.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){e.exports=function(e,t){var n=[];t=t||0;for(var r=t||0;r<e.length;r++)n[r-t]=e[r];return n}},function(e,t){"use strict";e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}}])})},878669:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isWebOffice=t.appConfigInstance=void 0,t.appConfigInstance=r(n(963327)).default.getInstance(),t.isWebOffice=["weboffice","paas-weboffice"].includes(t.appConfigInstance.getConfig("domain"))},81751:function(e,t){"use strict";var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.getDecodeURIComponentValue=t.getCookieForMessage=t.Cookie=void 0;var r=function(e){try{return decodeURIComponent(e)}catch(t){return e}};t.getDecodeURIComponentValue=r;var i={get:function(e){var t=document.cookie.match(RegExp("(^| )"+e+"=([^;]*)(;|$)"));return t?r(t[2]):""},getXsrf:function(){return i.get("TOK")||""}};t.Cookie=i,t.getCookieForMessage=function(){return document.cookie.split(";").map(function(e){var t=n(/(\w+)=(.*)/.exec(e.trim())||[],3),i=t[0],o=t[1],a=t[2];return o?o+"="+r(a):i}).join(";")}},613457:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageHead=void 0;var r=n(81751),i=n(464897);t.createMessageHead=function(e,t){var n,o,a=t.baseRev,s=t.taskId,u=t.command,c=t.additionalFieldsToHead,l=t.getHeaderGeneralPacket,d=e.serverVars,f=e.nowUserIndex,p=Number(e.userid.startsWith("g")),h={type:u,uid:e.uid||e.userid.replace("p.","").replace("g.",""),task_id:s,session_type:p,u:null!=f?f:window.nowUserIndex,base_rev:a,generalpacket:l,apid:d.apid,docid:d.globalPadId,code_ver:null!=(n=d.pver)?n:0,gray:null!=(o=d.gray)?o:0,dver:d.dver,docs_type:d.padType,wl:r.Cookie.get("wl"),cookie:r.getCookieForMessage()};return h=Object.assign(null!=c?c:{},h),i.JsonUtil.jsonStringify(h)}},689971:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(81751),t),i(n(340443),t),i(n(823815),t),i(n(464897),t),i(n(613457),t),i(n(14450),t),i(n(865021),t),i(n(43333),t),i(n(57497),t)},865021:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInvalidWaitAcceptCmd=t.isInvalidMessage=void 0;var n=function(e){return"USER_CHANGES"===e.cmd&&!e.onsendAccept},r=function(e){var t;return!!e.onsendAccept&&(null==(t=e.customParam)||!t.waitAcceptCmd||"[object Array]"!==Object.prototype.toString.call(e.customParam.waitAcceptCmd)||0===e.customParam.waitAcceptCmd.length)};t.isInvalidWaitAcceptCmd=r,t.isInvalidMessage=function(e){return n(e)||r(e)}},464897:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonUtil=void 0;var r=n(340443);t.JsonUtil=function(){function e(){}return e.parseJson=function(e){var t;try{t=JSON.parse(e)}catch(e){r.ConnectionLog.error("parseJson: error = "+e+".")}return t},e.jsonStringify=function(e){var t="";try{t=JSON.stringify(e)}catch(e){r.ConnectionLog.error("jsonStringify: error = "+e+".")}return t},e}()},340443:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initLogAndManager=t.ConnectionLog=void 0;var n={ConnectionLogModule:"ConnectionLog",liteReconnects:0,needSaveLog:function(){return n.liteReconnects<5},debug:function(){},info:function(){},warn:function(){},error:function(){}};t.ConnectionLog=n,t.initLogAndManager=function(e){e&&(n.debug=function(t){var r;n.needSaveLog()&&(null==(r=e.debug)||r.call(e,n.ConnectionLogModule,t))},n.info=function(t){var r;n.needSaveLog()&&(null==(r=e.info)||r.call(e,n.ConnectionLogModule,t))},n.warn=function(t){var r;n.needSaveLog()&&(null==(r=e.warn)||r.call(e,n.ConnectionLogModule,t))},n.error=function(t){var r;n.needSaveLog()&&(null==(r=e.error)||r.call(e,n.ConnectionLogModule,t))})}},368342:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.RequestBackOff=void 0;var i=n(444553);t.RequestBackOff=function(e){function t(){return e.call(this,0)||this}return r(t,e),t.prototype.next=function(e){var t=e.result,n=e.attempt;if(t&&"error"in t){var r=t.error;return r.code===i.REQUEST_ERROR_CODE.timeout?this.duration=0:this.duration=1e3*Math.min(2*n,30),this}},t}(i.BaseBackoff)},14450:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var a=n(444553),s=n(689971),u=n(463255),c=n(854205),l=n(368342),d=a.createNetworkRequestInstance(),f=function(e){var t,n,r=null!=(t=e.code)?t:"";return!![a.REQUEST_ERROR_CODE.network,a.REQUEST_ERROR_CODE.timeout].includes(r)||(null==(n=e.response)?void 0:n.status)!==200};t.Request=function(){function e(){}return e.prototype.sendRequest=function(e,t,n,a){return i(this,void 0,void 0,function(){var i,p,h,g;return o(this,function(o){switch(o.label){case 0:if(o.trys.push([0,5,,6]),i=void 0,p=new l.RequestBackOff,h=r(r({},a),{errorFilter:f,backoffFactory:p}),t!==u.Method.GET)return[3,2];return[4,d.get(e,h)];case 1:return i=o.sent(),[3,4];case 2:return[4,d.post(e,n,h)];case 3:i=o.sent(),o.label=4;case 4:return[2,new c.Result(void 0,i)];case 5:return g=o.sent(),s.ConnectionLog.error("Request Failed, url:"+e+", stack: "+(null==g?void 0:g.stack)+", message: "+(null==g?void 0:g.message)+", code: "+(null==g?void 0:g.code)),[2,new c.Result(g)];case 6:return[2]}})})},e.prototype.sendBeacon=function(e,t,n){try{var r=null!=n?n:c.ContentTypeValue.JSON,i=new Blob([s.JsonUtil.jsonStringify(t)],{type:r});return navigator.sendBeacon(e,i)}catch(t){return s.ConnectionLog.error("sendBeacon Failed, url:"+e+", stack: "+(null==t?void 0:t.stack)+", message: "+(null==t?void 0:t.message)+", code: "+(null==t?void 0:t.code)),!1}},e}()},823815:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateMessageTaskId=t.generateUuid=void 0,t.generateUuid=function(e,t){return t?e+t.slice(0,5):e},t.generateMessageTaskId=function(){return Math.ceil(0x4189374bc6a7f0*Math.random())}},43333:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getURLParam=t.getHashValue=t.getQuery=void 0;var r=function(e){return"string"==typeof e?e:e.search};t.getQuery=function(e,t){var i=r(t||n.g.location||"").match(RegExp("(\\?|&)"+e+"=([^&]*)(#|&|$)"));return i?decodeURIComponent(i[2]):""};var i=function(e){return e.hash||""};t.getHashValue=function(e){var t=i(n.g.location||"").match(RegExp("(#|&)"+e+"=([^&]*)(#|&|$)"));return t?decodeURIComponent(t[2]):""},t.getURLParam=function(e){return t.getHashValue(e)||t.getQuery(e)}},57497:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=void 0,t.sleep=function(e){return new Promise(function(t){return setTimeout(t,e)})}},224012:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(4020),t),i(n(839374),t),i(n(874877),t),i(n(38083),t),i(n(189249),t),i(n(967145),t),i(n(383588),t),i(n(428741),t)},4020:function(e,t){"use strict";var n,r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageState=t.MessageWaitAcceptCmd=t.MessageResultEvent=t.RoomState=void 0,function(e){e.INIT="INIT",e.CONNECTING="CONNECTING",e.OPENED="OPENED",e.RECONNECTING_IN_CLOSED="RECONNECTING_In_CLOSED",e.SHUTDOWN="SHUTDOWN"}(n||(n={})),t.RoomState=n,function(e){e.ON_POST="onpost",e.NET_STATUS_CHANGE="netStatusChange",e.ON_SEND_ACCEPT="onsendAccept"}(r||(r={})),t.MessageResultEvent=r,function(e){e.ACCEPT_COMMIT="ACCEPT_COMMIT",e.COMMIT_ERROR="COMMIT_ERROR",e.TASK_DUPLICATE="TASK_DUPLICATE"}(i||(i={})),t.MessageWaitAcceptCmd=i,function(e){e.UNKNOWN="unknown",e.SENDING="sending",e.WAITING="waiting",e.WAIT_ACCEPT="waitAccept"}(o||(o={})),t.MessageState=o},189249:function(e,t){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.NEED_RECONNECT_ERRCODES=t.NOT_NEED_TO_HANDLE_ERRCODES=t.SERVER_SUCCESS_CODES=t.NEED_RETRY_ERRCODES=t.RoomWebsocketErrorCode=t.RoomErrorCode=void 0,function(e){e[e.SUCCESS=0]="SUCCESS",e[e.TIMEOUT=101]="TIMEOUT",e[e.PARA_ERROR=102]="PARA_ERROR",e[e.EXIST=103]="EXIST",e[e.ROOM_DISCONNECT=104]="ROOM_DISCONNECT",e[e.ROOM_CLOSE=105]="ROOM_CLOSE",e[e.ROOM_STATE_ERR=106]="ROOM_STATE_ERR",e[e.ROOM_SHUTDOWN=107]="ROOM_SHUTDOWN",e[e.STATUS_ERR=108]="STATUS_ERR",e[e.BIG_COLLAB_CONNECT_TIMEOUT=109]="BIG_COLLAB_CONNECT_TIMEOUT"}(n||(n={})),t.RoomErrorCode=n,function(e){e[e.SOCKET_SERVER_SUCCESS=0]="SOCKET_SERVER_SUCCESS",e[e.SOCKET_DATA_SERVER_UNKNOWN_ERROR=1e4]="SOCKET_DATA_SERVER_UNKNOWN_ERROR",e[e.SOCKET_DATA_PROTOCOL_FIELD_LACK=10001]="SOCKET_DATA_PROTOCOL_FIELD_LACK",e[e.SOCKET_DATA_SERVER_ERROR=4e4]="SOCKET_DATA_SERVER_ERROR",e[e.SOCKET_DATA_DOC_NOT_EXIST=40001]="SOCKET_DATA_DOC_NOT_EXIST",e[e.SOCKET_DATA_SUBID_ERROR=40002]="SOCKET_DATA_SUBID_ERROR",e[e.SOCKET_DATA_ACTION_LENGTH=40003]="SOCKET_DATA_ACTION_LENGTH",e[e.SOCKET_DATA_CHANGESET_EASYSYNC=40005]="SOCKET_DATA_CHANGESET_EASYSYNC",e[e.SOCKET_DATA_SAVE_FAIL=40006]="SOCKET_DATA_SAVE_FAIL",e[e.SOCKET_DATA_READ_FAIL=40020]="SOCKET_DATA_READ_FAIL",e[e.SOCKET_DATA_BASEREV_ERROR=40021]="SOCKET_DATA_BASEREV_ERROR",e[e.SOCKET_DATA_NOT_SUPPORTED_TYPE=40022]="SOCKET_DATA_NOT_SUPPORTED_TYPE",e[e.SOCKET_DATA_NOT_SUPPORTED_PROTO=40023]="SOCKET_DATA_NOT_SUPPORTED_PROTO",e[e.SOCKET_GRAY_VERSION_INCONFORMITY=40024]="SOCKET_GRAY_VERSION_INCONFORMITY",e[e.SOCKET_DOCUMENT_EDIT_COLLAB_LIMIT=40025]="SOCKET_DOCUMENT_EDIT_COLLAB_LIMIT",e[e.SOCKET_DATA_CONTENT_LIMIT=40026]="SOCKET_DATA_CONTENT_LIMIT",e[e.SOCKET_DATA_REV_DIFF_UPPER_TEN=40027]="SOCKET_DATA_REV_DIFF_UPPER_TEN",e[e.SOCKET_DATA_EASYSYNC_TIMEOUT=40028]="SOCKET_DATA_EASYSYNC_TIMEOUT",e[e.SOCKET_CLIENT_VERSION_TOO_OLD=40029]="SOCKET_CLIENT_VERSION_TOO_OLD",e[e.SOCKET_JS_TOO_OLD=40030]="SOCKET_JS_TOO_OLD",e[e.SOCKET_NOT_CONFILCT_TO_COMMIT=40031]="SOCKET_NOT_CONFILCT_TO_COMMIT",e[e.SOCKET_COMMIT_QUEUE_NORMAL_LOCK=40032]="SOCKET_COMMIT_QUEUE_NORMAL_LOCK",e[e.SOCKET_COMMIT_QUEUE_OFFLINE_LOCK=40033]="SOCKET_COMMIT_QUEUE_OFFLINE_LOCK",e[e.SOCKET_COMMIT_DVER_INCONFORMITY=40034]="SOCKET_COMMIT_DVER_INCONFORMITY",e[e.SOCKET_SHEET_COMMIT_MIDDLE_SERVER_ERROR=40035]="SOCKET_SHEET_COMMIT_MIDDLE_SERVER_ERROR",e[e.SOCKET_SHEET_COMMIT_MUTATION_FORMAT_ERROR=40036]="SOCKET_SHEET_COMMIT_MUTATION_FORMAT_ERROR",e[e.SOCKET_SHEET_COMMIT_MUTATION_APPLY_ERROR=40037]="SOCKET_SHEET_COMMIT_MUTATION_APPLY_ERROR",e[e.SOCKET_WEB_VERSION_GREATER_SERVER_VERSION=40038]="SOCKET_WEB_VERSION_GREATER_SERVER_VERSION",e[e.SOCKET_SHEET_ROW_COL_NUMBER_LIIMT=40039]="SOCKET_SHEET_ROW_COL_NUMBER_LIIMT",e[e.SOCKET_DATA_DOCID_ERROR=41001]="SOCKET_DATA_DOCID_ERROR",e[e.SOCKET_DATA_PROTOCOL_TYPE_ERROR=41002]="SOCKET_DATA_PROTOCOL_TYPE_ERROR",e[e.COMMIT_CHANGES_CONTAIN_REVERT=50095]="COMMIT_CHANGES_CONTAIN_REVERT",e[e.SOCKET_SERVER_ERROR=6e4]="SOCKET_SERVER_ERROR",e[e.SOCKET_LAYER_ERROR=60001]="SOCKET_LAYER_ERROR",e[e.SOCKET_CLIENT_NOT_READY_ERROR=60002]="SOCKET_CLIENT_NOT_READY_ERROR",e[e.SOCKET_CLIENT_DATA_ERROR=60003]="SOCKET_CLIENT_DATA_ERROR",e[e.SOCKET_COLLAB_ROOM_TIMEOUT=60004]="SOCKET_COLLAB_ROOM_TIMEOUT",e[e.SOCKET_COLLAB_SERVER_TIMEOUT=60005]="SOCKET_COLLAB_SERVER_TIMEOUT",e[e.SOCKET_USER_AUTH_FAILED=60006]="SOCKET_USER_AUTH_FAILED",e[e.SOCKET_DOC_PRIVILEGE_FAILED=60007]="SOCKET_DOC_PRIVILEGE_FAILED",e[e.SOCKET_PACKAGE_SIZE_TOO_LARGE=60008]="SOCKET_PACKAGE_SIZE_TOO_LARGE",e[e.SOCKET_COLLAB_ROOM_ALREADY_EXIST=60009]="SOCKET_COLLAB_ROOM_ALREADY_EXIST",e[e.SOCKET_COLLAB_ROOM_MEMBER_FULL=60010]="SOCKET_COLLAB_ROOM_MEMBER_FULL",e[e.SOCKET_SERVER_STORAGE_TIMEOUT=60011]="SOCKET_SERVER_STORAGE_TIMEOUT",e[e.SOCKET_SERVER_CGI_TIMEOUT=60013]="SOCKET_SERVER_CGI_TIMEOUT",e[e.SOCKET_FREQUENCY_LIMIT=60014]="SOCKET_FREQUENCY_LIMIT",e[e.SOCKET_USER_DOC_NOPRIVILEGE=60015]="SOCKET_USER_DOC_NOPRIVILEGE",e[e.SOCKET_USER_CHANGE_PARAM_ERROR=60016]="SOCKET_USER_CHANGE_PARAM_ERROR",e[e.SOCKET_COMMAND_NOT_SUPPORTED=60017]="SOCKET_COMMAND_NOT_SUPPORTED",e[e.SOCKET_HACKPAD_TIMEOUT=60018]="SOCKET_HACKPAD_TIMEOUT",e[e.SOCKET_SERVER_WAITTING_TOO_LONG=60019]="SOCKET_SERVER_WAITTING_TOO_LONG",e[e.SOCKET_SERVER_WAITTING_TIMEOUT=60020]="SOCKET_SERVER_WAITTING_TIMEOUT",e[e.SOCKET_AUTH_TIMEOUT=60021]="SOCKET_AUTH_TIMEOUT",e[e.SOCKET_GET_PRIVILEGE_TIMEOUT=60022]="SOCKET_GET_PRIVILEGE_TIMEOUT",e[e.SOCKET_IP_BLACK_LIST=60030]="SOCKET_IP_BLACK_LIST",e[e.SOCKET_USER_BLACK_LIST=60031]="SOCKET_USER_BLACK_LIST",e[e.SOCKET_DOCMENT_BLACK_LIST=60032]="SOCKET_DOCMENT_BLACK_LIST",e[e.SOCKET_USERAGENT_BLACK_LIST=60033]="SOCKET_USERAGENT_BLACK_LIST",e[e.SOCKET_SWITCH_BIG_COLLAB=60034]="SOCKET_SWITCH_BIG_COLLAB",e[e.EXIT_BIG_COLLAB=60035]="EXIT_BIG_COLLAB",e[e.CLIENT_NOT_EXIST=62e3]="CLIENT_NOT_EXIST",e[e.WRITER_IS_EXIST=62001]="WRITER_IS_EXIST",e[e.SOCKET_UNKNOWN_ERROR=-1]="SOCKET_UNKNOWN_ERROR",e[e.SOCKET_COLLABROOM_GET_VIP_FAIL=7e4]="SOCKET_COLLABROOM_GET_VIP_FAIL",e[e.SOCKET_COLLABROOM_NOT_VIP_FULL=70001]="SOCKET_COLLABROOM_NOT_VIP_FULL",e[e.SOCKET_COLLABROOM_DOC_DELETED=70002]="SOCKET_COLLABROOM_DOC_DELETED",e[e.ROOM_WEBSOCKET_DISPOSE_SHUTDOWN=1000001]="ROOM_WEBSOCKET_DISPOSE_SHUTDOWN",e[e.INACTIVE=1000002]="INACTIVE",e[e.CODEREV_NEW=1000003]="CODEREV_NEW",e[e.SOCKET_SEND_MESSAGE_TIMEOUT=1000004]="SOCKET_SEND_MESSAGE_TIMEOUT",e[e.LOGIN_INVALIDATE=1000005]="LOGIN_INVALIDATE",e[e.LOGIN_FORBIDDEN=1000006]="LOGIN_FORBIDDEN"}(r||(r={})),t.RoomWebsocketErrorCode=r,t.NEED_RETRY_ERRCODES=[r.SOCKET_COLLAB_ROOM_TIMEOUT,r.SOCKET_COLLAB_SERVER_TIMEOUT,r.SOCKET_SERVER_STORAGE_TIMEOUT,r.SOCKET_SERVER_CGI_TIMEOUT,r.SOCKET_FREQUENCY_LIMIT,r.SOCKET_LAYER_ERROR,r.SOCKET_CLIENT_NOT_READY_ERROR,r.SOCKET_COLLAB_ROOM_MEMBER_FULL],t.SERVER_SUCCESS_CODES=[r.SOCKET_SERVER_SUCCESS,r.SOCKET_COLLAB_ROOM_ALREADY_EXIST],t.NOT_NEED_TO_HANDLE_ERRCODES=[r.WRITER_IS_EXIST],t.NEED_RECONNECT_ERRCODES=[r.CLIENT_NOT_EXIST,r.SOCKET_USER_AUTH_FAILED,r.SOCKET_DOC_PRIVILEGE_FAILED]},970358:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoomHeartBeat=void 0;var r=n(689971),i=n(4020),o=15e3,a=3;t.RoomHeartBeat=function(){function e(e,t,n){this.heartBeatInterval=o,this.messageSender=e,this.channelOption=t,this.roomStatusDependency=n}return e.prototype.dispose=function(){this.clearHeartBeatTimer()},e.prototype.startHeartBeatOnTimer=function(e){var t=this;e&&e!==this.heartBeatInterval&&(this.heartBeatInterval=e),this.heartBeatTimer||(this.heartBeatTimer=setTimeout(function(){t.sendHeartBeat()},this.heartBeatInterval))},e.prototype.onHeartBeatResponse=function(e,t){this.heartBeatCount=0;var n,r,i,o,a=(null==(n=null==t?void 0:t.onpost)?void 0:n.heartbeat_interval)||this.heartBeatInterval;this.startHeartBeatOnTimer(a),(null==(r=null==t?void 0:t.data)?void 0:r.common)&&(null==(o=(i=this.roomStatusDependency).heartBeatCommon)||o.call(i,t.data.common))},e.prototype.resetHeartBeat=function(){this.clearHeartBeatTimer(),this.heartBeatCount=0,this.heartBeatInterval=o},e.prototype.clearHeartBeatTimer=function(){this.heartBeatTimer&&(clearTimeout(this.heartBeatTimer),this.heartBeatTimer=0)},e.prototype.sendHeartBeat=function(){this.clearHeartBeatTimer();var e,t=null==(e=this.roomStatusDependency)?void 0:e.getRoomState();if(t!==i.RoomState.OPENED||!this.messageSender)return void r.ConnectionLog.warn("sendHeartBeat: room state error, state = "+t);if(this.heartBeatCount>0&&r.ConnectionLog.warn("sendHeartBeat: heart beat count over 1, count = "+this.heartBeatCount),this.heartBeatCount>a){r.ConnectionLog.warn("sendHeartBeat: max heart beat count reached, the connection will be close."),this.messageSender.closeAndDelayReopen({reason:"closed by heart beat error.",shutDown:!1},0);return}this.heartBeatCount+=1;var n=r.JsonUtil.jsonStringify(this.heartBeatHead)+"\n";this.messageSender.postMessageWithWebsocket(n),this.startHeartBeatOnTimer(this.heartBeatInterval)},Object.defineProperty(e.prototype,"heartBeatHead",{get:function(){var e,t,n={type:"HEART_BEAT",task_id:r.generateMessageTaskId(),docid:this.channelOption.globalPadId,uid:this.channelOption.uid||this.channelOption.userId.replace("p.","").replace("g.","")};return Object.assign(null!=(t=null==(e=this.channelOption.config)?void 0:e.heartBeatAdditionalHead)?t:{},n)},enumerable:!1,configurable:!0}),e}()},949288:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoomLogin=void 0;var i=n(689971),o=n(38083),a=n(4020),s=n(189249),u=r(n(335310)),c=3,l=1500,d=[s.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_TIMEOUT,s.RoomWebsocketErrorCode.SOCKET_COLLAB_SERVER_TIMEOUT,s.RoomWebsocketErrorCode.SOCKET_SERVER_STORAGE_TIMEOUT,s.RoomWebsocketErrorCode.SOCKET_SERVER_CGI_TIMEOUT,s.RoomWebsocketErrorCode.SOCKET_FREQUENCY_LIMIT,s.RoomWebsocketErrorCode.SOCKET_GET_PRIVILEGE_TIMEOUT],f=[s.RoomWebsocketErrorCode.SOCKET_LAYER_ERROR,s.RoomWebsocketErrorCode.SOCKET_CLIENT_NOT_READY_ERROR];t.RoomLogin=function(){function e(e,t,n){this.loginCount=0,this.delayLoginTimer=0,this.loginSeq=0,this.loginTimeout=0,this.loginTime=0,this.messageSender=e,this.channelOption=t,this.roomStatusDependency=n}return e.prototype.dispose=function(){this.resetLoginAll()},e.prototype.login=function(){if(!this.isConnected())return void i.ConnectionLog.info("loginRoom: not connected!");this.loginInternal()},e.prototype.resetLoginAll=function(){this.resetServerErrorInfo(),this.resetLogin()},e.prototype.resetServerErrorInfo=function(){this.serverErrorInfo=void 0},e.prototype.resetLogin=function(){var e;(null==(e=this.serverErrorInfo)?void 0:e.preventResetLoginCount)||(this.loginCount=0),this.loginSeq=0,this.loginTimeout&&(clearTimeout(this.loginTimeout),this.loginTimeout=0),this.delayLoginTimer&&(clearTimeout(this.delayLoginTimer),this.delayLoginTimer=0)},e.prototype.onLoginResponse=function(e,t){if("CLIENT_READY"===e.type){var n={errCode:s.RoomErrorCode.SUCCESS,errMsg:"",response:t};this.handleLoginResponse(e.task_id,e.type,n)}},e.prototype.isConnected=function(){return this.messageSender.isConnected()},e.prototype.loginInternal=function(){var e,t,n,r,a=this;this.loginTimeout&&(clearTimeout(this.loginTimeout),this.loginTimeout=0),this.loginCount+=1,this.loginSeq=i.generateMessageTaskId();var u={roomType:"padpage",roomName:"padpage/"+this.channelOption.globalPadId,upid:null!=(e=this.channelOption.upid)?e:"",gid:this.channelOption.globalPadId,sid:this.channelOption.sid,tid:this.channelOption.tid,sig:this.channelOption.sig,data:{stats:this.getStats()}};i.ConnectionLog.info("loginRoom: CLIENT_READY, taskId: "+this.loginSeq);var c=null!=(n=null==(t=this.channelOption.config)?void 0:t.customLoginMsgOptions)?n:u;this.loginPostData=this.messageSender.createPostData("CLIENT_READY",this.loginSeq,i.JsonUtil.jsonStringify(c),null==(r=this.channelOption.config)?void 0:r.loginAdditionalHead),this.messageSender.postMessageWithWebsocket(this.loginPostData),this.loginTime=o.RoomUtil.getCurrentTime(),this.loginTimeout=setTimeout(function(){i.ConnectionLog.warn("loginRoom: time out, seq = "+a.loginSeq);var e={errCode:s.RoomErrorCode.TIMEOUT,errMsg:"login room time out."};a.handleLoginResponse(a.loginSeq,"CLIENT_READY",e)},3e3)},e.prototype.handleLoginResponse=function(e,t,n){this.loginTimeout&&(clearTimeout(this.loginTimeout),this.loginTimeout=0);var r={errCode:0,errMsg:"",event:a.MessageResultEvent.ON_POST,needRetry:!1};if(this.checkLoginResult(n)?(this.roomStatusDependency.notifyRoomOpened(n),r.errCode=n.response.onpost.result,this.resetLoginAll()):this.handleLoginResponseFail(n,r),0!==r.errCode){r.errMsg=o.RoomUtil.getWebsocketChannelErrorMessage(r.errCode);var i={module:this.channelOption.module,cmd:"CLIENT_READY",attrName:String(n.errCode||n.response.onpost.result),status:1,errorMessage:r.errMsg};u.default.loginRoomError(i)}},e.prototype.checkLoginResult=function(e){var t,n;return 0===e.errCode&&((null==(n=null==(t=e.response)?void 0:t.onpost)?void 0:n.result)===0||e.response.onpost.result===s.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_ALREADY_EXIST)},e.prototype.handleLoginResponseFail=function(e,t){0!==e.errCode?(i.ConnectionLog.info("handleLoginFailed: client error, code = "+e.errCode+"."),this.loginCount>=c?(i.ConnectionLog.info("handleLoginFailed: login count = "+this.loginCount+"."),this.resetLogin(),this.messageSender.closeAndDelayReopen({reason:o.RoomUtil.getWebsocketChannelErrorMessage(e.errCode),shutDown:!1},0),t.needRetry=!1):(this.delayLogin(l),t.needRetry=!0),t.errCode=e.errCode,t.event=a.MessageResultEvent.NET_STATUS_CHANGE):this.handleLoginResponseServerFail(e,t)},e.prototype.handleLoginResponseServerFail=function(e,t){var n=e.response.onpost.result;t.errCode=n;var r={errCode:n,reason:o.RoomUtil.getWebsocketChannelErrorMessage(n,"login failed."),shutDown:!1};if(i.ConnectionLog.info("handleLoginResponseSvrFail: errCode = "+n),this.updateServerErrorInfo(n),this.loginCount<c){if(d.includes(n))return this.handleLoginRetry(e,t);if(f.includes(n))return this.messageSender.closeAndDelayReopen(r,0)}this.shutdownByServerFailure(r,t)},e.prototype.shutdownByServerFailure=function(e,t){this.resetLoginAll(),e.shutDown=!0,this.messageSender.shutDown(e),t.needRetry=!1},e.prototype.handleLoginRetry=function(e,t){var n,r,i,a=e.response.onpost.result,u={errCode:a,reason:o.RoomUtil.getWebsocketChannelErrorMessage(a,"login failed."),shutDown:!1};if(this.loginCount>=c)this.resetLogin(),a===s.RoomWebsocketErrorCode.SOCKET_AUTH_TIMEOUT&&this.messageSender.closeAndDelayReopen(u,0),t.needRetry=!1;else{var l=null!=(i=null==(r=null==(n=null==e?void 0:e.response)?void 0:n.onpost)?void 0:r.retry_interval)?i:this.delayLoginTime;this.delayLogin(l),t.needRetry=!0}},e.prototype.updateServerErrorInfo=function(e){var t;(null==(t=this.serverErrorInfo)?void 0:t.preErrorCode)===e?this.serverErrorInfo.preventResetLoginCount=!0:(this.serverErrorInfo={preErrorCode:e,preventResetLoginCount:!1},this.loginCount=0)},e.prototype.delayLogin=function(e){var t=this;this.delayLoginTimer=setTimeout(function(){t.login()},e)},e.prototype.getStats=function(){return{screen:""}},e}()},932719:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoomStatus=void 0;var r=n(949288),i=n(970358),o=n(689971),a=n(4020);t.RoomStatus=function(){function e(e,t,n){this.roomState=a.RoomState.INIT,this.channelOption=t,this.connectionControllerDependency=n,this.messageSender=e,this.roomLogin=new r.RoomLogin(e,t,this),this.roomHeartBeat=new i.RoomHeartBeat(e,this.channelOption,this)}return Object.defineProperty(e.prototype,"state",{get:function(){return this.roomState},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this.roomState=a.RoomState.INIT,this.roomHeartBeat.dispose(),this.roomLogin.dispose()},e.prototype.openRoom=function(){this.checkRoomState()&&(this.messageSender.openWebsocketConnection(),this.roomState===a.RoomState.INIT?this.setRoomState(a.RoomState.CONNECTING):this.setRoomState(a.RoomState.RECONNECTING_IN_CLOSED))},e.prototype.onRoomClosed=function(e){e.shutDown?this.handleShutDown(e):this.handleRoomClose(e)},e.prototype.loginRoom=function(){this.roomLogin.login()},e.prototype.resetLogin=function(){this.roomLogin.resetLogin()},e.prototype.onLoginResponse=function(e,t){this.roomLogin.onLoginResponse(e,t)},e.prototype.resetHeartBeat=function(){this.roomHeartBeat.resetHeartBeat()},e.prototype.onHeartBeatResponse=function(e,t){this.roomHeartBeat.onHeartBeatResponse(e,t)},e.prototype.roomStateReconnecting=function(){this.setRoomState(a.RoomState.CONNECTING)},e.prototype.getRoomState=function(){return this.state},e.prototype.notifyRoomOpened=function(e){this.setRoomState(a.RoomState.OPENED),this.resetLogin(),this.roomHeartBeat.resetHeartBeat();var t=e.response;this.roomHeartBeat.startHeartBeatOnTimer(t.onpost.heartbeat_interval),this.messageSender.startMessageSending(),this.messageSender.notifyRoomOpened(),this.connectionControllerDependency.connected()},e.prototype.checkRoomState=function(){return this.state!==a.RoomState.OPENED&&this.state!==a.RoomState.SHUTDOWN||(o.ConnectionLog.warn("checkRoomState:state is "+this.state+"!"),!1)},e.prototype.setRoomState=function(e,t){void 0===t&&(t=""),e!==this.roomState&&(this.roomState=e,o.ConnectionLog.info("setRoomState:set new state = "+e),this.connectionControllerDependency.connectedStateChange(this.roomState,t))},e.prototype.handleShutDown=function(e){var t=this.roomState;this.setRoomState(a.RoomState.SHUTDOWN,e.reason),t!==a.RoomState.SHUTDOWN&&this.connectionControllerDependency.disconnect(e)},e.prototype.handleRoomClose=function(e){var t=this.roomState;this.setRoomState(a.RoomState.RECONNECTING_IN_CLOSED,e.reason),t!==a.RoomState.RECONNECTING_IN_CLOSED&&this.connectionControllerDependency.disconnect(e)},e.prototype.heartBeatCommon=function(e){var t,n;null==(n=(t=this.connectionControllerDependency).heartBeatCommon)||n.call(t,e)},e}()},38083:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoomUtil=void 0;var r,i=n(224012),o=n(189249),a=((r={})[o.RoomWebsocketErrorCode.SOCKET_SERVER_ERROR]="Server internal error, code = "+o.RoomWebsocketErrorCode.SOCKET_SERVER_ERROR,r[o.RoomWebsocketErrorCode.SOCKET_LAYER_ERROR]="Connection not exist, code = "+o.RoomWebsocketErrorCode.SOCKET_LAYER_ERROR,r[o.RoomWebsocketErrorCode.SOCKET_USER_AUTH_FAILED]="TX-LOGIN-PSKEY-EXPIRED \u767B\u5F55\u6001\u6821\u9A8C\u5931\u8D25, code = "+o.RoomWebsocketErrorCode.SOCKET_USER_AUTH_FAILED,r[o.RoomWebsocketErrorCode.SOCKET_CLIENT_DATA_ERROR]="\u8BF7\u6C42\u6570\u636E\u51FA\u9519, code = "+o.RoomWebsocketErrorCode.SOCKET_CLIENT_DATA_ERROR,r[o.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_TIMEOUT]="\u540E\u53F0\u623F\u95F4\u8D85\u65F6, code = "+o.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_TIMEOUT,r[o.RoomWebsocketErrorCode.SOCKET_COLLAB_SERVER_TIMEOUT]="\u540E\u53F0\u670D\u52A1\u8D85\u65F6, code = "+o.RoomWebsocketErrorCode.SOCKET_COLLAB_SERVER_TIMEOUT,r[o.RoomWebsocketErrorCode.SOCKET_SERVER_STORAGE_TIMEOUT]="\u540E\u53F0\u5B58\u50A8\u8D85\u65F6, code = "+o.RoomWebsocketErrorCode.SOCKET_SERVER_STORAGE_TIMEOUT,r[o.RoomWebsocketErrorCode.SOCKET_SERVER_CGI_TIMEOUT]="\u540E\u53F0CGI\u8D85\u65F6, code = "+o.RoomWebsocketErrorCode.SOCKET_SERVER_CGI_TIMEOUT,r[o.RoomWebsocketErrorCode.SOCKET_DOC_PRIVILEGE_FAILED]="\u6743\u9650\u6821\u9A8C\u5931\u8D25, code = "+o.RoomWebsocketErrorCode.SOCKET_DOC_PRIVILEGE_FAILED,r[o.RoomWebsocketErrorCode.SOCKET_USER_DOC_NOPRIVILEGE]="\u6743\u9650\u6821\u9A8C\u65E0\u6743\u9650, code = "+o.RoomWebsocketErrorCode.SOCKET_USER_DOC_NOPRIVILEGE,r[o.RoomWebsocketErrorCode.SOCKET_PACKAGE_SIZE_TOO_LARGE]="\u8D85\u8FC7\u6700\u5927\u5305\u957F\u9650\u5236, code = "+o.RoomWebsocketErrorCode.SOCKET_PACKAGE_SIZE_TOO_LARGE,r[o.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_MEMBER_FULL]="Member full, code = "+o.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_MEMBER_FULL,r[o.RoomWebsocketErrorCode.SOCKET_FREQUENCY_LIMIT]="\u9891\u7387\u9650\u5236, code = "+o.RoomWebsocketErrorCode.SOCKET_FREQUENCY_LIMIT,r[o.RoomWebsocketErrorCode.SOCKET_AUTH_TIMEOUT]="TX-LOGIN-PSKEY-EXPIRED \u9274\u6743\u8D85\u65F6, code = "+o.RoomWebsocketErrorCode.SOCKET_AUTH_TIMEOUT,r[o.RoomWebsocketErrorCode.SOCKET_GET_PRIVILEGE_TIMEOUT]="\u6743\u9650\u8D85\u65F6, code = "+o.RoomWebsocketErrorCode.SOCKET_GET_PRIVILEGE_TIMEOUT,r[o.RoomWebsocketErrorCode.SOCKET_DATA_SERVER_UNKNOWN_ERROR]="\u540E\u53F0\u53D1\u751F\u672A\u77E5\u5F02\u5E38\u9519\u8BEF, code = "+o.RoomWebsocketErrorCode.SOCKET_DATA_SERVER_UNKNOWN_ERROR,r[o.RoomWebsocketErrorCode.SOCKET_DATA_PROTOCOL_FIELD_LACK]="\u6570\u636E\u534F\u8BAE\u5B57\u6BB5\u7F3A\u5931, code = "+o.RoomWebsocketErrorCode.SOCKET_DATA_PROTOCOL_FIELD_LACK,r[o.RoomWebsocketErrorCode.SOCKET_DATA_DOC_NOT_EXIST]="\u6587\u6863\u4E0D\u5B58\u5728, code = "+o.RoomWebsocketErrorCode.SOCKET_DATA_DOC_NOT_EXIST,r[o.RoomWebsocketErrorCode.SOCKET_DATA_SUBID_ERROR]="subId\u4E0D\u6B63\u786E, code = "+o.RoomWebsocketErrorCode.SOCKET_DATA_SUBID_ERROR,r[o.RoomWebsocketErrorCode.SOCKET_DATA_ACTION_LENGTH]="\u63D0\u4EA4\u5931\u8D25 action\u68C0\u67E5\u5931\u8D25, code = "+o.RoomWebsocketErrorCode.SOCKET_DATA_ACTION_LENGTH,r[o.RoomWebsocketErrorCode.SOCKET_DATA_CHANGESET_EASYSYNC]="changeset easysync \u5F02\u5E38, code = "+o.RoomWebsocketErrorCode.SOCKET_DATA_CHANGESET_EASYSYNC,r[o.RoomWebsocketErrorCode.SOCKET_DATA_SAVE_FAIL]="\u6570\u636E\u843D\u76D8\u5931\u8D25, code = "+o.RoomWebsocketErrorCode.SOCKET_DATA_SAVE_FAIL,r[o.RoomWebsocketErrorCode.SOCKET_DATA_READ_FAIL]="\u8BFB\u6570\u636E\u5931\u8D25, code = "+o.RoomWebsocketErrorCode.SOCKET_DATA_READ_FAIL,r[o.RoomWebsocketErrorCode.SOCKET_DATA_BASEREV_ERROR]="baseRev\u9519\u8BEF, code = "+o.RoomWebsocketErrorCode.SOCKET_DATA_BASEREV_ERROR,r[o.RoomWebsocketErrorCode.SOCKET_DATA_NOT_SUPPORTED_TYPE]="\u4E0D\u652F\u6301\u6587\u6863\u7C7B\u578B, code = "+o.RoomWebsocketErrorCode.SOCKET_DATA_NOT_SUPPORTED_TYPE,r[o.RoomWebsocketErrorCode.SOCKET_DATA_NOT_SUPPORTED_PROTO]="\u4E0D\u652F\u6301\u8BF7\u6C42\u534F\u8BAE, code = "+o.RoomWebsocketErrorCode.SOCKET_DATA_NOT_SUPPORTED_PROTO,r[o.RoomWebsocketErrorCode.SOCKET_GRAY_VERSION_INCONFORMITY]="\u7070\u5EA6\u7248\u672C\u53F7\u4E0D\u4E00\u81F4, code = "+o.RoomWebsocketErrorCode.SOCKET_GRAY_VERSION_INCONFORMITY,r[o.RoomWebsocketErrorCode.SOCKET_DOCUMENT_EDIT_COLLAB_LIMIT]="\u7F16\u8F91\u63D0\u4EA4\u6587\u6863\u88AB\u7981\u6B62\u534F\u540C, code = "+o.RoomWebsocketErrorCode.SOCKET_DOCUMENT_EDIT_COLLAB_LIMIT,r[o.RoomWebsocketErrorCode.SOCKET_DATA_CONTENT_LIMIT]=" \u7F16\u8F91\u63D0\u4EA4\u5927\u5C0F\u9650\u5236, code = "+o.RoomWebsocketErrorCode.SOCKET_DATA_CONTENT_LIMIT,r[o.RoomWebsocketErrorCode.SOCKET_DATA_REV_DIFF_UPPER_TEN]="base\u7248\u672C\u53F7\u4E0E\u670D\u52A1\u5668\u6700\u65B0\u7248\u672C\u5DEE\u8DDD\u8D85\u8FC710, code = "+o.RoomWebsocketErrorCode.SOCKET_DATA_REV_DIFF_UPPER_TEN,r[o.RoomWebsocketErrorCode.SOCKET_DATA_EASYSYNC_TIMEOUT]="\u5F53\u524D\u63D0\u4EA4\u540E\u53F0\u5904\u7406\u534F\u540C\u51B2\u7A81\u8D85\u65F6, code = "+o.RoomWebsocketErrorCode.SOCKET_DATA_EASYSYNC_TIMEOUT,r[o.RoomWebsocketErrorCode.SOCKET_CLIENT_VERSION_TOO_OLD]="CLIENT_READY \u524D\u7AEF\u7248\u672C\u8FC7\u671F, code = "+o.RoomWebsocketErrorCode.SOCKET_CLIENT_VERSION_TOO_OLD,r[o.RoomWebsocketErrorCode.SOCKET_JS_TOO_OLD]="USER_CHANGES \u524D\u7AEF\u7248\u672C\u8FC7\u671F, code = "+o.RoomWebsocketErrorCode.SOCKET_JS_TOO_OLD,r[o.RoomWebsocketErrorCode.SOCKET_NOT_CONFILCT_TO_COMMIT]="\u524D\u7AEF\u9650\u5236\uFF0C\u5B58\u5728\u51B2\u7A81, code = "+o.RoomWebsocketErrorCode.SOCKET_NOT_CONFILCT_TO_COMMIT,r[o.RoomWebsocketErrorCode.SOCKET_COMMIT_QUEUE_NORMAL_LOCK]="\u63D0\u4EA4\u961F\u5217\u88AB\u6B63\u5E38\u63D0\u4EA4\u9501, code = "+o.RoomWebsocketErrorCode.SOCKET_COMMIT_QUEUE_NORMAL_LOCK,r[o.RoomWebsocketErrorCode.SOCKET_COMMIT_QUEUE_OFFLINE_LOCK]="\u63D0\u4EA4\u961F\u5217\u88AB\u79BB\u7EBF\u63D0\u4EA4\u9501, code = "+o.RoomWebsocketErrorCode.SOCKET_COMMIT_QUEUE_OFFLINE_LOCK,r[o.RoomWebsocketErrorCode.SOCKET_COMMIT_DVER_INCONFORMITY]="\u7F16\u8F91\u63D0\u4EA4\uFF0Cdver \u7248\u672C\u4E0D\u4E00\u81F4, code = "+o.RoomWebsocketErrorCode.SOCKET_COMMIT_DVER_INCONFORMITY,r[o.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MIDDLE_SERVER_ERROR]="\u8868\u683C\u7F16\u8F91\u63D0\u4EA4\uFF0C\u4E2D\u53F0\u670D\u52A1\u5668\u9519\u8BEF, code = "+o.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MIDDLE_SERVER_ERROR,r[o.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MUTATION_FORMAT_ERROR]="\u8868\u683C\u7F16\u8F91\u63D0\u4EA4\uFF0C\u63D0\u4EA4mutaton\u683C\u5F0F\u9519\u8BEF, code = "+o.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MUTATION_FORMAT_ERROR,r[o.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MUTATION_APPLY_ERROR]="\u8868\u683C\u7F16\u8F91\u63D0\u4EA4\uFF0C\u63D0\u4EA4mutaton apply\u51FA\u9519, code = "+o.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MUTATION_APPLY_ERROR,r[o.RoomWebsocketErrorCode.SOCKET_WEB_VERSION_GREATER_SERVER_VERSION]="\u524D\u7AEF\u7248\u672C\u5927\u4E8E\u540E\u7AEF\u7248\u672C, code = "+o.RoomWebsocketErrorCode.SOCKET_WEB_VERSION_GREATER_SERVER_VERSION,r[o.RoomWebsocketErrorCode.SOCKET_SHEET_ROW_COL_NUMBER_LIIMT]="\u8868\u683C\u7F16\u8F91\u5355\u5143\u683C\u6570\uFF0C\u884C\u6570\u3001\u5217\u6570\u8D85\u9650, code = "+o.RoomWebsocketErrorCode.SOCKET_SHEET_ROW_COL_NUMBER_LIIMT,r[o.RoomWebsocketErrorCode.SOCKET_DATA_DOCID_ERROR]="\u6279\u91CF\u63D0\u4EA4docid\u4E0D\u4E00\u81F4, code = "+o.RoomWebsocketErrorCode.SOCKET_DATA_DOCID_ERROR,r[o.RoomWebsocketErrorCode.SOCKET_DATA_PROTOCOL_TYPE_ERROR]="\u6279\u91CF\u63D0\u4EA4\u534F\u8BAE\u7C7B\u578B\u4E0D\u4E00\u81F4, code = "+o.RoomWebsocketErrorCode.SOCKET_DATA_PROTOCOL_TYPE_ERROR,r[o.RoomWebsocketErrorCode.SOCKET_USER_CHANGE_PARAM_ERROR]="userchange \u53C2\u6570\u9519\u8BEF, code = "+o.RoomWebsocketErrorCode.SOCKET_USER_CHANGE_PARAM_ERROR,r[o.RoomWebsocketErrorCode.SOCKET_COMMAND_NOT_SUPPORTED]="\u4EFB\u52A1\u7BA1\u7406\u5C42\u53D1\u73B0\u4E0D\u652F\u6301\u547D\u4EE4, code = "+o.RoomWebsocketErrorCode.SOCKET_COMMAND_NOT_SUPPORTED,r[o.RoomWebsocketErrorCode.SOCKET_HACKPAD_TIMEOUT]="commit error\uFF1AHackpad\u8C03\u7528\u8D85\u65F6, code = "+o.RoomWebsocketErrorCode.SOCKET_HACKPAD_TIMEOUT,r[o.RoomWebsocketErrorCode.SOCKET_SERVER_WAITTING_TOO_LONG]="onpost\uFF1A\u961F\u5217\u8D85\u957F\uFF0C\u524D\u7AEF\u5EF6\u8FDF\u91CD\u8BD5, code = "+o.RoomWebsocketErrorCode.SOCKET_SERVER_WAITTING_TOO_LONG,r[o.RoomWebsocketErrorCode.SOCKET_SERVER_WAITTING_TIMEOUT]="commit error\uFF1A\u961F\u5217\u8D85\u65F6\uFF0C\u524D\u7AEF\u5EF6\u8FDF\u91CD\u8BD5, code = "+o.RoomWebsocketErrorCode.SOCKET_SERVER_WAITTING_TIMEOUT,r[o.RoomWebsocketErrorCode.SOCKET_COLLABROOM_GET_VIP_FAIL]="\u83B7\u53D6\u4F1A\u5458\u5931\u8D25, code = "+o.RoomWebsocketErrorCode.SOCKET_COLLABROOM_GET_VIP_FAIL,r[o.RoomWebsocketErrorCode.SOCKET_COLLABROOM_NOT_VIP_FULL]="\u767B\u5F55\u975E\u4F1A\u5458\u623F\u95F4\u6EE1\u5458, code = "+o.RoomWebsocketErrorCode.SOCKET_COLLABROOM_NOT_VIP_FULL,r[o.RoomWebsocketErrorCode.SOCKET_COLLABROOM_DOC_DELETED]="\u6587\u6863\u5DF2\u7ECF\u88AB\u5220\u9664, code = "+o.RoomWebsocketErrorCode.SOCKET_COLLABROOM_DOC_DELETED,r[o.RoomWebsocketErrorCode.ROOM_WEBSOCKET_DISPOSE_SHUTDOWN]="\u8FDE\u63A5\u5C42 dispose \u65F6\u5173\u95ED\u623F\u95F4\u5C42\u9519\u8BEF\u7801, code = "+o.RoomWebsocketErrorCode.ROOM_WEBSOCKET_DISPOSE_SHUTDOWN,r[o.RoomWebsocketErrorCode.INACTIVE]="\u540E\u53F0\u623F\u95F4\u8E22\u4EBA\uFF0C\u539F\u56E0\u662F\u4E0D\u6D3B\u8DC3\u6216\u8005\u6570\u636E\u5347\u7EA7\u7C7B, code = "+o.RoomWebsocketErrorCode.INACTIVE,r[o.RoomWebsocketErrorCode.CODEREV_NEW]=" \u540E\u53F0\u8E22\u4EBA\uFF0C\u539F\u56E0\u662F\u6570\u636E\u7248\u672Cdver\u3001pver\u6216\u8005\u5176\u4ED6\u4E0D\u5339\u914D, code = "+o.RoomWebsocketErrorCode.CODEREV_NEW,r[o.RoomWebsocketErrorCode.SOCKET_SEND_MESSAGE_TIMEOUT]="Websocket \u63D0\u4EA4\u6D88\u606F\u8D85\u65F6, code = "+o.RoomWebsocketErrorCode.SOCKET_SEND_MESSAGE_TIMEOUT,r);t.RoomUtil=function(){function e(){}return e.getWebsocketChannelErrorMessage=function(e,t){void 0===t&&(t="");var n,r=null!=(n=a[e])?n:"error msg, code = "+e;return t&&(r=t+" "+r),r},e.getCurrentTime=function(){return new Date().getTime()},e.createNewMessage=function(e,t,n,r,o,a,s,u,c,l){return{taskId:e,postData:t,timeout:n,maxRetryCount:r,cmd:o,data:a,waitAcceptCmd:s,onError:u,onsend:c,onsendAccept:l,retryCount:0,lastSendTime:0,onpostTime:0,firstSendTime:0,state:i.MessageState.WAITING}},e.delay=function(e){return void 0===e&&(e=0),new Promise(function(t){return setTimeout(t,e)})},e}()},967145:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},839374:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BuildRoomWebsocketChannel=t.RoomWebsocketChannel=void 0;var s=n(932719),u=n(961552),c=n(38083),l=a(n(335310)),d=n(383588),f=function(){function e(e,t){this.padInfo=e,this.roomDependency=t,this.websocketMessageSender=new u.RoomWebsocketMessageSender(this.padInfo,this.roomDependency,this),this.roomStatus=new s.RoomStatus(this.websocketMessageSender,r({},this.padInfo),this.roomDependency)}return e.prototype.connect=function(){this.websocketMessageSender.openWebsocketConnection()},e.prototype.disconnect=function(e){var t,n,r={module:this.padInfo.module,attrName:String(null!=(t=e.errCode)?t:0),status:1,errorMessage:c.RoomUtil.getWebsocketChannelErrorMessage(null!=(n=e.errCode)?n:0)};this.websocketMessageSender.shutDown(e),l.default.shutDownReport(r)},e.prototype.dispose=function(){this.websocketMessageSender.dispose(),this.roomStatus.dispose()},e.prototype.sendMessage=function(e){this.websocketMessageSender.sendMessage(e)},e.prototype.batchCommitMessages=function(e){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,{success:!1,retCode:52002,reason:"websocket not support batch commit."}]})})},e.prototype.cancelSendMessageByTaskId=function(e){this.websocketMessageSender.cancelSendMessageByTaskId(e)},e.prototype.openRoom=function(){this.roomStatus.openRoom()},e.prototype.onRoomClosed=function(e){this.roomStatus.onRoomClosed(e)},e.prototype.roomStateReconnecting=function(){this.roomStatus.roomStateReconnecting()},e.prototype.getRoomState=function(){return this.roomStatus.getRoomState()},e.prototype.loginRoom=function(){this.roomStatus.loginRoom()},e.prototype.onLoginResponse=function(e,t){this.roomStatus.onLoginResponse(e,t)},e.prototype.resetLogin=function(){this.roomStatus.resetLogin()},e.prototype.onHeartBeatResponse=function(e,t){this.roomStatus.onHeartBeatResponse(e,t)},e.prototype.resetHeartBeat=function(){this.roomStatus.resetHeartBeat()},e}();t.RoomWebsocketChannel=f,t.BuildRoomWebsocketChannel=function(e,t,n){var r,i,o,a,s,u;return new f({module:e.module,padId:e.serverVars.padId,globalPadId:e.serverVars.globalPadId,codeVer:null!=(r=e.serverVars.pver)?r:0,gray:null!=(i=e.serverVars.gray)?i:0,dver:e.serverVars.dver,pver:e.serverVars.pver,apId:e.serverVars.apid,wmode:null!=(o=e.serverVars.wmode)?o:d.DEFAULT_WMODE,padType:e.serverVars.padType,websocketReopenCount:null!=(a=e.serverVars.websocketReopenCount)?a:d.WEBSOCKET_CONFIG.pollingReopenCount,pollingAttemptNumber:null!=(s=e.serverVars.pollingAttemptNumber)?s:d.WEBSOCKET_CONFIG.pollingAttemptCount,upid:e.serverVars.client.upid,sid:e.serverVars.client.sid,tid:e.serverVars.client.tid,sig:e.serverVars.client.sig,uid:e.uid,uuId:e.userid,userId:e.userid,nowUserIndex:null!=(u=e.nowUserIndex)?u:window.nowUserIndex,middleWareCenter:n,config:e.config},t)}},276835:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoomWebsocketMessageQueue=void 0;var r=n(224012),i=n(689971),o=n(189249),a=50;t.RoomWebsocketMessageQueue=function(){function e(e){this.messageWaittingQueue=[],this.messageFinishQueue=[],this.messageSenderDependency=e}return e.prototype.dispose=function(){this.messageWaittingQueue=[],this.messageFinishQueue=[]},e.prototype.messageCount=function(){return this.messageWaittingQueue.length},e.prototype.messageAlreadyExist=function(e){var t=this.getMessageByTaskId(e.taskId);return(null==t?void 0:t.cmd)===e.cmd},e.prototype.getMessageByTaskId=function(e){return this.messageWaittingQueue.find(function(t){return t.taskId===e})},e.prototype.getFinishedMessageByTaskId=function(e){return this.messageFinishQueue.find(function(t){return t.taskId===e})},e.prototype.readyToSendMessage=function(){if(0===this.messageWaittingQueue.length)return i.ConnectionLog.info("readyToSendMessage: empty messageQueue"),!1;var e=this.messageWaittingQueue.find(function(e){return e.state===r.MessageState.SENDING});return!e||"CURSOR_MESSAGE"===e.cmd||(i.ConnectionLog.info("readyToSendMessage: message is sending, taskId:"+e.taskId+", cmd:"+e.cmd),!1)},e.prototype.addWaittingMessage=function(e){this.messageWaittingQueue.push(e)},e.prototype.addFinishMessage=function(e,t){void 0===t&&(t=-1),this.removeMessageFromQueue(e,t),this.messageFinishQueue.push(e)},e.prototype.removeMessageFromQueue=function(e,t){void 0===t&&(t=-1);var n=t>=0&&t<this.messageWaittingQueue.length?t:this.getIndexOfMessage(e);this.messageWaittingQueue.splice(n,1)},e.prototype.handleMessageQueueByRoomClose=function(e){for(var t=0;t<this.messageWaittingQueue.length;){var n=this.messageWaittingQueue[t];this.handleMessageByRoomClose(n,e),t+=1}},e.prototype.handleMessageByRoomClose=function(e,t){this.messageSenderDependency.doErrorCallback(e,{errCode:t?o.RoomErrorCode.ROOM_SHUTDOWN:o.RoomErrorCode.ROOM_CLOSE,errMsg:"room "+(t?"shutDown":"close")})},e.prototype.handleMsgBySocketDisconnect=function(){for(var e=0;e<this.messageWaittingQueue.length;){var t=this.messageWaittingQueue[e];if(t.retryCount>=t.maxRetryCount){this.handleRetryCountLimitedMessageBySocketDisconnect(t),this.removeMessageFromQueue(t,e);continue}this.handleMesageBySocketDisconnect(t),e+=1}},e.prototype.getFirstWaittingMessage=function(){return this.messageWaittingQueue.find(function(e){return e.state===r.MessageState.WAITING})},e.prototype.processMessageQueue=function(){for(var e=!1,t=!1,n=!1,i=0;i<this.messageWaittingQueue.length;){var o=this.messageWaittingQueue[i];this.sendingMsgIsTimeout(o)?(e=!0,o.retryCount<o.maxRetryCount?(this.retryMessageByTimeout(o),i+=1):this.handleRetryCountLimitedMessageByTimeout(o)):(t=o.state===r.MessageState.SENDING,n=o.state===r.MessageState.WAITING,i+=1)}return this.clearFinishQueueIfNeed(),!t&&n&&(e=!0),e},e.prototype.cancelMessage=function(e){for(var t=0;t<this.messageWaittingQueue.length;){var n=this.messageWaittingQueue[t];if(n.taskId===e)return i.ConnectionLog.info("cancelMessage: seq = "+e),this.addFinishMessage(n),n;t+=1}},e.prototype.clearFinishQueueIfNeed=function(){this.messageFinishQueue.length>a&&this.messageFinishQueue.splice(0,this.messageFinishQueue.length-a)},e.prototype.sendingMsgIsTimeout=function(e){var t=r.RoomUtil.getCurrentTime();return(e.state===r.MessageState.SENDING||e.state===r.MessageState.WAIT_ACCEPT)&&t>e.lastSendTime&&t-e.lastSendTime>e.timeout},e.prototype.handleRetryCountLimitedMessageBySocketDisconnect=function(e){this.messageIsSendingOrWaitAccept(e)&&this.messageSenderDependency.doErrorCallback(e,{errCode:o.RoomErrorCode.ROOM_DISCONNECT,errMsg:"room disconnect"})},e.prototype.handleMesageBySocketDisconnect=function(e){this.messageIsSendingOrWaitAccept(e)&&(e.state=r.MessageState.WAITING)},e.prototype.messageIsSendingOrWaitAccept=function(e){return e.state===r.MessageState.SENDING||e.state===r.MessageState.WAIT_ACCEPT},e.prototype.handleRetryCountLimitedMessageByTimeout=function(e){i.ConnectionLog.warn("send message timeout, taskId = "+e.taskId+", cmd = "+e.cmd+"."),e.retryCount=0,this.messageSenderDependency.closeAndDelayReopen({reason:"websocket send message timeout.",errCode:r.RoomWebsocketErrorCode.SOCKET_SEND_MESSAGE_TIMEOUT,shutDown:!1},0)},e.prototype.retryMessageByTimeout=function(e){i.ConnectionLog.warn("send message timeout, try again, taskId = "+e.taskId+",\n        cmd = "+e.cmd+", retryCount = "+e.retryCount+", maxRetryCount = "+e.maxRetryCount+", state = "+e.state),e.state=r.MessageState.WAITING},e.prototype.getIndexOfMessage=function(e){return this.messageWaittingQueue.findIndex(function(t){return t.taskId===e.taskId})},e}()},961552:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoomWebsocketMessageSender=void 0;var o=n(854205),a=n(980731),s=n(689971),u=n(4020),c=n(38083),l=n(189249),d=n(203502),f=i(n(335310)),p=n(386087),h=n(276835),g=n(680222);t.RoomWebsocketMessageSender=function(){function e(e,t,n){var r,i,o=this;this.reconnectTimes=[],this.liteReconnects=0,this.socketDisconnectTimer=0,this.reopenDelayTimer=0,this.websocketDisconneted=!1,this.hasSocketReconnected=!1,this.messageSenderTimer=0,this.channelOption=e,this.controllerDependency=t,this.roomChannelDependency=n,this.roomMsgQueue=new h.RoomWebsocketMessageQueue(this),this.limitFrequencyManager=new g.LimitFrequencyManager(this.controllerDependency),null==(i=null==(r=this.channelOption.config)?void 0:r.messagePriority)||i.forEach(function(e,t){o.limitFrequencyManager.setPriority(t,e)})}return e.prototype.dispose=function(){var e,t;null==(e=this.roomWebsocket)||e.dispose(),this.roomMsgQueue.dispose(),this.clearSocket(),null==(t=this.limitFrequencyManager)||t.dispose()},e.prototype.openWebsocketConnection=function(){return this.isConnected()?void s.ConnectionLog.warn("openWebsocketConnection: already exist."):this.roomChannelDependency.getRoomState()===u.RoomState.SHUTDOWN?void s.ConnectionLog.error("openWebsocketConnection: room state shut down."):void this.createWebsocketAndConnect()},e.prototype.isConnected=function(){var e,t;return!this.websocketDisconneted&&null!=(t=null==(e=this.roomWebsocket)?void 0:e.isConnected())&&t},e.prototype.shutDown=function(e){var t;s.ConnectionLog.info("shutDown, close reason: "+e.reason+", errCode:"+e.errCode),e.reason=null!=(t=e.reason)?t:"close by client.",this.clearSocket(),e.shutDown=!0,this.notifyRoomClosed(e,0)},e.prototype.sendMessage=function(e){if(s.isInvalidWaitAcceptCmd(e))s.ConnectionLog.error("sendMessage: waitAcceptCmd params invalid!"),this.doErrorCallback(e,{errCode:l.RoomErrorCode.PARA_ERROR,errMsg:"msg param invalid."});else if(this.roomChannelDependency.getRoomState()!==u.RoomState.OPENED){var t=this.roomChannelDependency.getRoomState();s.ConnectionLog.warn("sendMessage: room state error, state = "+t+"!"),this.needReopen()&&this.reopen(),this.doErrorCallback(e,{errCode:t===u.RoomState.SHUTDOWN?l.RoomErrorCode.ROOM_SHUTDOWN:l.RoomErrorCode.ROOM_STATE_ERR,errMsg:"can not send message in this room state."})}else this.sendMessageInternal(e)},e.prototype.cancelSendMessageByTaskId=function(e){var t=this.roomMsgQueue.cancelMessage(e);(null==t?void 0:t.state)===u.MessageState.SENDING&&this.startMessageSending()},e.prototype.postMessageWithWebsocket=function(e){var t;null==(t=this.roomWebsocket)||t.postMessageForWebSocket(e)},e.prototype.createPostData=function(e,t,n,r){var i,o,a=Number(this.channelOption.userId.startsWith("g")),u=this.channelOption.uid||this.channelOption.userId.replace("p.","").replace("g.",""),c={apid:this.channelOption.apId,type:e,task_id:t,docid:this.channelOption.globalPadId,uid:u,cookie:s.getCookieForMessage(),base_rev:"object"==typeof n&&"number"==typeof n.baseRev?n.baseRev:this.controllerDependency.getVersion(),code_ver:this.channelOption.codeVer,session_type:a,gray:this.channelOption.gray,dver:this.channelOption.dver,wl:s.Cookie.get("wl"),u:this.channelOption.nowUserIndex,generalpacket:this.controllerDependency.getHeaderGeneralPacket(),docs_type:this.channelOption.padType};(null==(i=this.channelOption.config)?void 0:i.connectMode)===d.ConnectMode.WEBSOCKET_FORCED&&(c.model="websocket"),c=Object.assign(null!=r?r:{},c);var l=s.JsonUtil.jsonStringify(c)+"\n";return l+(null!=(o=p.prepareCommitMessage(n,this.channelOption.uuId,this.channelOption.pver))?o:"")},e.prototype.startMessageSending=function(){this.roomMsgQueue.messageCount()>0&&this.trySendPendingMessage()},e.prototype.notifyRoomOpened=function(){this.limitFrequencyManager.reset()},e.prototype.closeAndDelayReopen=function(e,t){var n;e.reason=null!=(n=e.reason)?n:"close by client.",s.ConnectionLog.info("closeAndDelayReopen: close reason = "+e.reason+", delay time = "+t),this.clearSocket(),e.shutDown=!1,this.notifyRoomClosed(e,t)},e.prototype.onSocketStatusChanged=function(e){if(!e.event)return void s.ConnectionLog.warn("onSocketStatusChanged: channel info error.");"open"!==e.event&&this.roomChannelDependency.getRoomState()!==u.RoomState.SHUTDOWN&&this.roomChannelDependency.roomStateReconnecting(),this.handleSocketStatusChangeEvent(e)},e.prototype.onGetMessageFromServerPush=function(e){var t=e.split("\r\n");if(!(t instanceof Array))return void s.ConnectionLog.error("onGetMessageFromServer: message data error.");this.parseGetMsgDataList(t)},e.prototype.onPostFromServer=function(e){var t=r(e.split("\n").map(function(e){return s.JsonUtil.parseJson(e)}),2),n=t[0],i=t[1];return n&&i?"HEART_BEAT"===n.type?void this.roomChannelDependency.onHeartBeatResponse(n,i):"CLIENT_READY"===n.type?void this.roomChannelDependency.onLoginResponse(n,i):void this.parsePostCommonMessageFromServer(n,i):void s.ConnectionLog.error("onPostFromServer: message data parsed error.")},e.prototype.onSocketOpen=function(){this.liteReconnects=0,this.reconnectTimes=[],this.websocketDisconneted=!1,this.hasSocketReconnected=!1,s.ConnectionLog.info("onSocketOpenEvent"),this.clearDisconnectTimer(),this.clearReopenDelayTimer(),this.roomChannelDependency.resetHeartBeat(),this.roomChannelDependency.resetLogin(),this.roomChannelDependency.loginRoom()},e.prototype.onSocketClosed=function(e){s.ConnectionLog.info("onSocketClosedEvent: socket closed!"),this.roomWebsocket=null,this.notifyRoomClosed({reason:e,shutDown:!1},0),this.hasSocketReconnected&&this.controllerDependency.networkReconnectedFail()},e.prototype.onReopenCount=function(){return this.liteReconnects},e.prototype.doErrorCallback=function(e,t){e.onError(e.taskId,e.cmd,e.data,t)},e.prototype.reportMessage=function(e,t){var n={cmd:e.cmd,attrName:String(t.errCode),status:1,module:this.channelOption.module,errorMessage:t.errMsg,waitAcceptCmd:t.waitAcceptCmd};f.default.commitError(n)},e.prototype.sendMessageInternal=function(e){if(this.roomMsgQueue.messageAlreadyExist(e))return void this.doErrorCallback(e,{errCode:l.RoomErrorCode.EXIST,errMsg:"msg already exist."});var t,n,r,i,o,a,u,d=e.taskId||s.generateMessageTaskId(),f=this.createPostData(e.cmd,d,e.data,e.additionalFieldsToHead);(null==(t=e.customParam)?void 0:t.waitAcceptCmd)&&(u=null==(n=e.customParam)?void 0:n.waitAcceptCmd);var h=c.RoomUtil.createNewMessage(d,f,null!=(i=null==(r=e.customParam)?void 0:r.timeout)?i:p.DEFAULT_SEND_MESSAGE_TIMEOUT,null!=(a=null==(o=e.customParam)?void 0:o.maxRetryCount)?a:p.DEFAULT_RETRY_COUNTS,e.cmd,e.data,u,e.onError,e.onsend,e.onsendAccept);this.roomMsgQueue.addWaittingMessage(h),this.startMessageSending(),this.startMessageTimer()},e.prototype.handleSocketStatusChangeEvent=function(e){var t;s.ConnectionLog.info("handleSocketStatusChangeEvent: "+e.event+" reason: "+(null!=(t=e.disconnectReason)?t:e.failReason)),"reconnecting"===e.event?this.hasSocketReconnected=!0:"disconnect"===e.event&&this.handleDisconnectEvent(e)},e.prototype.createWebsocketAndConnect=function(){if(this.roomWebsocket)return void s.ConnectionLog.warn("createWebsocketAndConnect:socket has exist");var e={padId:this.channelOption.padId,roomWebSocketDependency:this,tag:this.channelOption.padId,gid:this.channelOption.globalPadId,upid:this.channelOption.upid||"",sig:this.channelOption.sig,uid:this.channelOption.uid,uidKey:s.Cookie.get("uid_key"),wmode:this.channelOption.wmode,websocketReopenCount:this.channelOption.websocketReopenCount,pollingAttemptNumber:this.channelOption.pollingAttemptNumber,nowUserIndex:this.channelOption.nowUserIndex,module:this.channelOption.module,config:this.channelOption.config};this.roomWebsocket=new a.RoomWebsocket(e),this.roomWebsocket.connect(),this.setupSocketTime=c.RoomUtil.getCurrentTime()},e.prototype.clearSocket=function(){this.roomWebsocket&&(this.roomWebsocket.disconnect(""),this.clearDisconnectTimer()),this.roomWebsocket=null},e.prototype.reopen=function(){s.ConnectionLog.info("reopen: socket reopen."),this.clearSocket(),this.roomChannelDependency.resetHeartBeat(),this.roomChannelDependency.resetLogin(),this.openWebsocketConnection()},e.prototype.needReopen=function(){var e=this.roomChannelDependency.getRoomState();if(e===u.RoomState.CONNECTING||e===u.RoomState.RECONNECTING_IN_CLOSED){var t=c.RoomUtil.getCurrentTime();if(this.setupSocketTime&&t>this.setupSocketTime&&t-this.setupSocketTime>5e4)return!0}return!1},e.prototype.notifyRoomClosed=function(e,t){s.ConnectionLog.info("notifyRoomClosed: reason = "+e.reason+", shutdown = "+e.shutDown),this.clearDisconnectTimer(),this.websocketDisconneted=!0,this.roomChannelDependency.resetHeartBeat(),this.roomChannelDependency.resetLogin(),this.roomChannelDependency.onRoomClosed(e),this.roomMsgQueue.handleMessageQueueByRoomClose(e.shutDown),e.shutDown?(this.reset(),this.clearMessageSenderTimer()):this.delayReopen(t)},e.prototype.delayReopen=function(e){var t=this;if(!this.reopenDelayTimer){this.reconnectTimes.push(c.RoomUtil.getCurrentTime()),this.liteReconnects+=1;var n=e;e||(n=Math.min(3e4,1e3*Math.pow(2,this.liteReconnects+1)),n=this.generateFuzzyInterval(n,.4*n)),this.reopenDelayTimer=setTimeout(function(){t.clearReopenDelayTimer(),t.roomChannelDependency.openRoom()},n)}},e.prototype.generateFuzzyInterval=function(e,t){return e+Math.floor(Math.random()*(2*t+1)-t)},e.prototype.reset=function(){this.roomWebsocket=null,this.liteReconnects=0,this.reconnectTimes=[],this.clearDisconnectTimer(),this.clearReopenDelayTimer(),this.roomChannelDependency.resetLogin(),this.roomChannelDependency.resetHeartBeat()},e.prototype.parsePostCommonMessageFromServer=function(e,t){var n=this.roomMsgQueue.getMessageByTaskId(e.task_id);n&&n.cmd===e.type?(this.handleCommonMessage(n,t),this.finishParseMessage(n,t)):this.roomMsgQueue.getFinishedMessageByTaskId(e.task_id)||s.ConnectionLog.warn("parsePostCommonMessageFromServer: msg not found! seq = "+e.task_id+", cmd = "+e.type),this.startMessageSending(),this.roomMsgQueue.clearFinishQueueIfNeed()},e.prototype.finishParseMessage=function(e,t){var n,r=t.onpost.result;(null==(n=e.waitAcceptCmd)?void 0:n.length)&&0===r?e.state=u.MessageState.WAIT_ACCEPT:this.roomMsgQueue.addFinishMessage(e),this.startMessageSending()},e.prototype.handleCommonMessage=function(e,t){e.onpostTime=c.RoomUtil.getCurrentTime();var n=t.onpost.result,r=t.onpost.retry_interval;if(n!==l.RoomWebsocketErrorCode.SOCKET_SERVER_SUCCESS&&s.ConnectionLog.error("handleCommonMessage: server response error, code = "+n),this.reportMsgParseErrorIfNeed(n,e,t),n===l.RoomWebsocketErrorCode.SOCKET_SERVER_ERROR||n===l.RoomWebsocketErrorCode.SOCKET_USER_AUTH_FAILED)return void this.shutDown({errCode:n,reason:c.RoomUtil.getWebsocketChannelErrorMessage(n),shutDown:!0});if(n===l.RoomWebsocketErrorCode.SOCKET_LAYER_ERROR)return void this.closeAndDelayReopen({errCode:n,reason:c.RoomUtil.getWebsocketChannelErrorMessage(n),shutDown:!1},r);var i={errCode:n,errMsg:"",response:t};n===l.RoomWebsocketErrorCode.SOCKET_SERVER_SUCCESS?this.doMsgOnSendSuccessCallback(e,i):this.doErrorCallback(e,i)},e.prototype.reportMsgParseErrorIfNeed=function(e,t,n){if(e!==l.RoomWebsocketErrorCode.SOCKET_SERVER_SUCCESS){var r={errCode:e,errMsg:c.RoomUtil.getWebsocketChannelErrorMessage(e),event:u.MessageResultEvent.ON_POST,response:n,needRetry:!1};this.reportMessage(t,r)}},e.prototype.trySendPendingMessage=function(){if(this.needReopen())return void this.reopen();this.readyToSendMessage()&&this.sendWaitingMessage()},e.prototype.sendWaitingMessage=function(){var e=this.roomMsgQueue.getFirstWaittingMessage();e&&(this.postOneMessage(e),this.startMessageTimer())},e.prototype.postOneMessage=function(e){this.preparePostMessage(e),this.postMessageWithWebsocket(e.postData)},e.prototype.preparePostMessage=function(e){0!==e.retryCount&&e.firstSendTime||(e.firstSendTime=c.RoomUtil.getCurrentTime()),e.retryCount+=1,e.lastSendTime=c.RoomUtil.getCurrentTime(),e.onpostTime=0,e.state=u.MessageState.SENDING},e.prototype.startMessageTimer=function(){var e=this;this.messageSenderTimer||(this.messageSenderTimer=setTimeout(function(){e.handleMessageTimer()},1e3))},e.prototype.handleMessageTimer=function(){this.clearMessageSenderTimer();var e=this.roomMsgQueue.processMessageQueue();this.roomMsgQueue.messageCount()>0&&(e&&this.startMessageSending(),this.startMessageTimer())},e.prototype.readyToSendMessage=function(){return this.roomChannelDependency.getRoomState()===u.RoomState.OPENED&&this.isConnected()?this.roomMsgQueue.readyToSendMessage():(s.ConnectionLog.warn("readyToSendMessage: roomstate = "+this.roomChannelDependency.getRoomState()+", websocket connected = "+this.isConnected()),!1)},e.prototype.handleMessageErrorCode=function(e,t){var n={attrName:String(e),status:1,module:this.channelOption.module,errorMessage:c.RoomUtil.getWebsocketChannelErrorMessage(e)};this.shutDown({reason:t,errCode:e,shutDown:!0}),f.default.shutDownReport(n)},e.prototype.receiveMessageFromServer=function(e,t){var n,r={head:e,body:t,newRev:e.new_rev,ts:e.ts,socketId:(null==(n=this.roomWebsocket)?void 0:n.socketId)||"",needDeal:!0};this.limitFrequencyManager.handleMessage(r),r.needDeal&&this.controllerDependency.receiveMessageFromServer(e.type,[r])},e.prototype.handleWaitAcceptMessage=function(e,t){var n=this.roomMsgQueue.getMessageByTaskId(e.task_id);n?this.processWaitAcceptMessage(n,e,t)?this.roomMsgQueue.addFinishMessage(n):s.ConnectionLog.error("processWaitAcceptMessage: msg found but waitcmd not match. seq = "+n.taskId+", cmd = "+n.cmd+", wait cmd = "+e.type):(n=this.roomMsgQueue.getFinishedMessageByTaskId(e.task_id))||this.receiveMessageFromServer(e,t)},e.prototype.hasWaitAcceptCommand=function(e,t){var n;return!!(null==(n=e.waitAcceptCmd)?void 0:n.includes(t))},e.prototype.processWaitAcceptMessage=function(e,t,n){var r,i,o,a;if(this.hasWaitAcceptCommand(e,t.type)){this.doMsgOnSendAcceptSuccessCallback(e,t,n);var s={errCode:null!=(i=null==(r=n.data)?void 0:r.reason)?i:0,errMsg:c.RoomUtil.getWebsocketChannelErrorMessage(null!=(a=null==(o=n.data)?void 0:o.reason)?a:0),waitAcceptCmd:t.type,event:u.MessageResultEvent.ON_SEND_ACCEPT,response:n,needRetry:!1};return this.reportMessage(e,s),!0}return!1},e.prototype.parseGetMsgDataList=function(e){for(var t=0;t<e.length;t++){var n=e[t].split("\n");if(n.length<2)return void s.ConnectionLog.error("onGetMessageFromServer: message data error.");this.parseGetMsgList(n)}},e.prototype.parseGetMsgList=function(e){var t,n,i=r(e.map(function(e){return s.JsonUtil.parseJson(e)}),2),a=i[0],u=i[1];if((null==a?void 0:a.type)==="QUIT_NOTICE"&&Object.values(o.QUIT_TYPE).includes(null==u?void 0:u.notice.quit_type)){var c=new Map([[o.QUIT_TYPE.INACTIVE,{code:l.RoomWebsocketErrorCode.INACTIVE,reason:o.QUIT_TYPE.INACTIVE}],[o.QUIT_TYPE.LOGIN_INVALIDATE,{code:l.RoomWebsocketErrorCode.LOGIN_INVALIDATE,reason:o.QUIT_TYPE.LOGIN_INVALIDATE}],[o.QUIT_TYPE.LOGIN_FORBIDDEN,{code:l.RoomWebsocketErrorCode.LOGIN_FORBIDDEN,reason:o.QUIT_TYPE.LOGIN_FORBIDDEN}]]);this.handleMessageErrorCode(null==(t=c.get(null==u?void 0:u.notice.quit_type))?void 0:t.code,null==(n=c.get(null==u?void 0:u.notice.quit_type))?void 0:n.reason);return}if(0===this.roomMsgQueue.messageCount())return void this.processFinishedGetMsg(a,u);this.handleWaitAcceptMessage(a,u)},e.prototype.processFinishedGetMsg=function(e,t){this.roomMsgQueue.getFinishedMessageByTaskId(e.task_id)||this.receiveMessageFromServer(e,t)},e.prototype.handleDisconnectEvent=function(e){var t=this;e.event&&(this.websocketDisconneted=!0,this.socketDisconnectTimer||(this.roomChannelDependency.resetLogin(),this.roomChannelDependency.resetHeartBeat(),this.roomMsgQueue.handleMsgBySocketDisconnect(),this.socketDisconnectTimer=setTimeout(function(){var n,r;e.socketId||e.socketId!==(null==(n=t.roomWebsocket)?void 0:n.socketId)||t.disConnect(null!=(r=e.disconnectReason)?r:"")},25e3)))},e.prototype.clearDisconnectTimer=function(){this.socketDisconnectTimer&&(clearTimeout(this.socketDisconnectTimer),this.socketDisconnectTimer=0)},e.prototype.clearReopenDelayTimer=function(){this.reopenDelayTimer&&(clearTimeout(this.reopenDelayTimer),this.reopenDelayTimer=0)},e.prototype.clearMessageSenderTimer=function(){this.messageSenderTimer&&(clearTimeout(this.messageSenderTimer),this.messageSenderTimer=0)},e.prototype.disConnect=function(e){s.ConnectionLog.info("disConnect, reason:"+e),this.roomChannelDependency.getRoomState()!==u.RoomState.SHUTDOWN&&(this.clearSocket(),this.notifyRoomClosed({reason:"close by disconnect, reason "+e,shutDown:!1},0))},e.prototype.doMsgOnSendAcceptSuccessCallback=function(e,t,n){var r,i,o,a,s;null==(r=e.onsendAccept)||r.call(e,e.taskId,e.cmd,e.data,t.type,{errCode:null!=(o=null==(i=null==n?void 0:n.data)?void 0:i.reason)?o:0,errMsg:null!=(s=null==(a=null==n?void 0:n.data)?void 0:a.msg)?s:"",response:{body:n,new_rev:t.new_rev}})},e.prototype.doMsgOnSendSuccessCallback=function(e,t){var n;null==(n=e.onsend)||n.call(e,e.taskId,e.cmd,e.data,t)},e}()},874877:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},428741:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.RoomWebsocketEvent=void 0,function(e){e.open="open",e.close="close",e.connect="connect",e.connectFail="connectfail",e.reconnecting="reconnecting",e.disconnect="disconnect",e.connectTimeout="connect_timeout",e.connectError="connect_error"}(n||(n={})),t.RoomWebsocketEvent=n},980731:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoomWebsocket=void 0;var a=n(470396),s=o(n(430327)),u=n(383588),c=o(n(797333)),l=n(689971),d=n(878669),f=o(n(335310)),p=0,h="_o_appId";t.RoomWebsocket=function(){function e(e){var t=this;this.option=e,this.socketId=String(Math.floor(1e12*Math.random())),this.isWebSocketOpen=!1,this.socketChannel=null,this.socketAttempts=0,this.handleReconnectAttempt=function(){t.socketChannel.io.opts.transports=t.attemptTransports},this.handleConnectError=function(e){if(l.ConnectionLog.info("socket io connect_error, isOnline:"+a.network.isOnline+", type:"+(null==e?void 0:e.type)+", code:"+(null==e?void 0:e.code)+",\n      message:"+(null==e?void 0:e.message)+", description:"+(null==e?void 0:e.description)),a.network.isOnline){var n,r,i,o="number"==typeof(null==e?void 0:e.description)?null==e?void 0:e.description:void 0;f.default.reportSocketConnect({attrName:"SocketConnect",status:1,module:null==(n=t.option)?void 0:n.module,errorMessage:(null==e?void 0:e.message)+", status:"+o,transports:null==(i=null==(r=t.socketChannel)?void 0:r.io.opts.transports)?void 0:i[p]})}var s=t.getSocketChannelInfo();s.event="connect_error",s.failReason="io connect_error unknown",(null==e?void 0:e.type)&&(s.failReason=e.type),t.option.roomWebSocketDependency.onSocketStatusChanged(s)},this.handleConnectTimeout=function(e){var n,r,i,o=t.getSocketChannelInfo();o.event="connect_timeout",o.failReason="connect_timeout timeout:"+e,t.option.roomWebSocketDependency.onSocketStatusChanged(o),f.default.reportSocketConnect({attrName:"SocketConnect",status:2,module:null==(n=t.option)?void 0:n.module,errorMessage:o.failReason,transports:null==(i=null==(r=t.socketChannel)?void 0:r.io.opts.transports)?void 0:i[p]})},this.handleMessageFromServerPush=function(e){t.option.roomWebSocketDependency.onGetMessageFromServerPush(e)},this.handlePost=function(e){t.option.roomWebSocketDependency.onPostFromServer(e)},this.handleConnect=function(){var e,n,r,i,o;l.ConnectionLog.info("socket io connect readyState: "+(null==(e=t.socketChannel)?void 0:e.io.readyState)+", id:"+(null==(n=t.socketChannel)?void 0:n.id)),f.default.reportSocketConnect({module:null==(r=t.option)?void 0:r.module,attrName:"SocketConnect",status:0,errorMessage:"Success",transports:null==(o=null==(i=t.socketChannel)?void 0:i.io.opts.transports)?void 0:o[p]}),t.isWebSocketOpen=!0,t.option.roomWebSocketDependency.onSocketOpen()},this.handleReconnect=function(e){var n,r,i,o="socket io reconnect number: "+e+" channel.readyState: "+t.socketChannel.io.readyState;l.ConnectionLog.info(o),t.socketAttempts=0,Math.random()<.01&&f.default.reconnectReport({attrName:"SocketReconnect",status:0,module:null==(n=t.option)?void 0:n.module,errorMessage:o,transports:null==(i=null==(r=t.socketChannel)?void 0:r.io.opts.transports)?void 0:i[p]})},this.handleReconnecting=function(e){t.socketAttempts=e,t.socketChannel.io.opts.transports=t.initTransports,t.option.roomWebSocketDependency.onReopenCount()>=t.option.websocketReopenCount&&e>=t.option.pollingAttemptNumber&&(t.socketChannel.io.opts.transports=t.attemptTransports),l.ConnectionLog.info("socket io reconnecting number:"+e+" readyState: "+t.socketChannel.io.readyState+", transports:"+t.socketChannel.io.opts.transports);var n=t.getSocketChannelInfo();n.event="reconnecting",t.option.roomWebSocketDependency.onSocketStatusChanged(n)},this.handleRetry=function(e){l.ConnectionLog.info("socket io retry, msg:"+e),t.doDisconnect("Server restarted or socket timed out on server. serverRetry offlineEdit")},this.handleDisconnect=function(e){l.ConnectionLog.info("socket io disconnect, msg: "+l.JsonUtil.jsonStringify(e)+" channel.readyState: "+(null==(n=t.socketChannel)?void 0:n.io.readyState));var n,r,i,o,a=l.JsonUtil.jsonStringify(e)+"\uFF0CClosedByOthers.",s=t.getSocketChannelInfo();s.event="disconnect",s.disconnectReason=""+a,s.socketId=t.socketId,t.option.roomWebSocketDependency.onSocketStatusChanged(s),t.socketAttempts=0,f.default.reportSocketConnect({attrName:"SocketDisconnect",status:1,module:null==(r=t.option)?void 0:r.module,errorMessage:s.disconnectReason,transports:null==(o=null==(i=t.socketChannel)?void 0:i.io.opts.transports)?void 0:o[p]})},this.handleConnectFailed=function(e){l.ConnectionLog.info("socket io connect_failed"),t.socketAttempts=0,t.doDisconnect(l.JsonUtil.jsonStringify(e)+"  connect_failed Closed by client.")},this.handleError=function(e){var n,r,i,o="type:"+(null==e?void 0:e.type)+", code:"+(null==e?void 0:e.code)+",\n    message:"+(null==e?void 0:e.message)+", description:"+(null==e?void 0:e.description);l.ConnectionLog.info("socket io error, "+o),t.doDisconnect(l.JsonUtil.jsonStringify(e)+" socket io error Closed by client."),f.default.reportSocketConnect({attrName:"SocketError",status:1,module:null==(n=t.option)?void 0:n.module,errorMessage:o,transports:null==(i=null==(r=t.socketChannel)?void 0:r.io.opts.transports)?void 0:i[p]})},this.handleReconnectFailed=function(e){l.ConnectionLog.info("socket io reconnect_failed"),t.socketAttempts=0;var n,r,i,o=l.JsonUtil.jsonStringify(e)+" reconnect_failed Closed by client.";t.doDisconnect(o),f.default.reportSocketConnect({attrName:"SocketReconnect",status:1,module:null==(n=t.option)?void 0:n.module,errorMessage:o,transports:null==(i=null==(r=t.socketChannel)?void 0:r.io.opts.transports)?void 0:i[p]})},this.handleReconnectError=function(e){var n,r,i,o="number"==typeof(null==e?void 0:e.description)?null==e?void 0:e.description:void 0,a=(null==e?void 0:e.message)+", status:"+o;f.default.reportSocketConnect({attrName:"SocketReconnect",status:1,module:null==(n=t.option)?void 0:n.module,errorMessage:a,transports:null==(i=null==(r=t.socketChannel)?void 0:r.io.opts.transports)?void 0:i[p]}),l.ConnectionLog.info("socket io reconnect_error, "+a)},this.initTransports=this.getTransports(e.wmode),this.attemptTransports=this.getAttemptTransports(e.wmode)}return e.prototype.dispose=function(){this.disconnect("socket io dispose")},e.prototype.isConnected=function(){return this.isWebSocketOpen},e.prototype.connect=function(){var e,t,n,o,a,s,f,p,h,g,m,v,y,b;return r(this,void 0,void 0,function(){var r,_,C,I;return i(this,function(i){switch(i.label){case 0:if(r=((null==(t=null==(e=this.option.config)?void 0:e.location)?void 0:t.protocol)?(null==(o=null==(n=this.option.config)?void 0:n.location)?void 0:o.protocol)+":":"wss:")+"//"+(null!=(f=null==(s=null==(a=this.option.config)?void 0:a.location)?void 0:s.host)?f:window.location.host),_={query:{tag:this.option.tag,gtag:this.option.gid,utag:this.option.upid,sig:this.option.sig,uid:this.option.uid,uid_key:this.option.uidKey,u:this.option.nowUserIndex,padid:this.option.padId,wo_third_fileid:l.getQuery("wo_third_fileid")},transports:this.initTransports,reconnection:!0,reconnectionAttempts:u.WEBSOCKET_CONFIG.reconnectMaxTimes,reconnectionDelay:u.WEBSOCKET_CONFIG.reconnectionDelay,reconnectionDelayMax:u.WEBSOCKET_CONFIG.reconnectionDelayMax,randomizationFactor:u.WEBSOCKET_CONFIG.randomizationFactor,timeout:u.WEBSOCKET_CONFIG.connectTimeout,path:null!=(g=null==(h=null==(p=this.option.config)?void 0:p.location)?void 0:h.path)?g:"/websocket"},null==(b=null==(y=null==(v=null==(m=this.option.config)?void 0:m.location)?void 0:v.locationSearch)?void 0:y.forEach)||b.call(y,function(e){_.query[e]=l.getQuery(e)}),!d.isWebOffice)return[3,2];return[4,this.getToken()];case 1:C=i.sent(),_.transportOptions={websocket:{protocols:C}},i.label=2;case 2:return I=c.default(r,_),this.socketChannel=I,l.ConnectionLog.info("socket io new channel transports: "+I.io.opts.transports+", pollingReopenCount =\n      "+this.option.websocketReopenCount+", pollingAttemptNumber= "+this.option.pollingAttemptNumber),I.on("reconnect_attempt",this.handleReconnectAttempt),I.on("connect_error",this.handleConnectError),I.on("connect_timeout",this.handleConnectTimeout),I.on("get",this.handleMessageFromServerPush),I.on("post",this.handlePost),I.on("connect",this.handleConnect),I.on("reconnect",this.handleReconnect),I.on("reconnecting",this.handleReconnecting),I.on("retry",this.handleRetry),I.on("disconnect",this.handleDisconnect),I.on("connect_failed",this.handleConnectFailed),I.on("error",this.handleError),I.on("reconnect_failed",this.handleReconnectFailed),I.on("reconnect_error",this.handleReconnectError),[2]}})})},e.prototype.postMessageForWebSocket=function(e){this.socketChannel&&this.socketChannel.emit("post",e)},e.prototype.getSocketConnectCount=function(){return this.socketAttempts},e.prototype.getSocketChannelInfo=function(){var e={};return this.socketChannel&&(e.connected=this.socketChannel.connected,e.disconnected=this.socketChannel.disconnected,this.socketChannel.io&&(e.readyState=this.socketChannel.io.readyState,e.reconnecting=this.socketChannel.io.reconnecting)),e},e.prototype.disconnect=function(e){l.ConnectionLog.info("socket io disconnect reason: "+e),this.socketChannel&&(this.socketChannel.disconnect(),this.socketChannel=null),this.isWebSocketOpen=!1},e.prototype.getTransports=function(e){return u.TRANSPORT_MODE_MAP.get(e.charAt(0))||u.DEFAULT_TRANSPORT_MODE},e.prototype.getAttemptTransports=function(e){return u.TRANSPORT_MODE_MAP.get(e.charAt(1))||u.DEFAULT_ATTEMPT_TRANSPORT_MODE},e.prototype.doDisconnect=function(e){this.disconnect("socket io doDisconnect reason: "+e),this.option.roomWebSocketDependency.onSocketClosed(e)},e.prototype.getToken=function(){var e;return r(this,void 0,void 0,function(){var t,n,r;return i(this,function(i){switch(i.label){case 0:return t=l.getURLParam(h),n=null!=(e=window.userToken)?e:"",[4,s.default.post("/api/weboffice/session",{appId:t,token:n})];case 1:return[2,0===(r=i.sent().data).retcode?r.result.token:[]]}})})},e}()},620143:function(e,t,n){"use strict";n.r(t),n.d(t,{authenticate:function(){return tL},authenticateIndependentPassword:function(){return tG},autoLogin:function(){return tA},checkLogin:function(){return tt},doEidLogout:function(){return tX},fetchUserInfo:function(){return e6},getNowUserIndex:function(){return e4},getUid:function(){return eq},getUidFromCookie:function(){return eJ},getUidKey:function(){return e1},getUserInfo:function(){return e3},isAuthenticationFailureCode:function(){return ts},isEidAdmin:function(){return tJ},isIndependentPasswordTokenValid:function(){return tZ},isLogin:function(){return ea},isTestEnv:function(){return C},isValuableUser:function(){return tr},loadScript:function(){return P},loadWXMiniProgramSDK:function(){return B},login:function(){return tD},loginOnce:function(){return tT},logout:function(){return eN},miniProgramLogin:function(){return G},mobileFallbackLogin:function(){return K},mobileQQLogin:function(){return q},mobileTencentDocsLogin:function(){return eu},openPrivateAccountCenter:function(){return t$},openPrivateAdminCenter:function(){return t0},openSaaSAccountCenter:function(){return tv},openSaaSAdminCenter:function(){return ty},openSaaSAuthorizePage:function(){return tm},openSaaSTdocsPrivacyPolicy:function(){return t_},openSaaSTdocsServiceAgreement:function(){return tb},pcLogin:function(){return eE},requestIndependentPassword:function(){return tV},wechatLogin:function(){return eS},weworkLogin:function(){return eA}});var r=n(137084),i=(0,n(267410).ij)();function o(){return"undefined"!=typeof document?document.cookie:""}function a(e,t){var n,r=RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)");return void 0===t&&(t=o()),null==(n=t.match(r))?void 0:n[1]}function s(e,t,n,r,i){if(void 0===n&&(n=2592e6),void 0===r&&(r="/"),"undefined"!=typeof document){var o=new Date(Date.now()+36e5*24*n);document.cookie=e+"="+encodeURIComponent(t)+";expires="+o.toUTCString()+";path="+r+";"+(i?"domain="+i+";":"")}}function u(e,t,n){"undefined"!=typeof document&&(document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path="+(t||"/")+";"+(n?"domain="+n+";":""))}function c(e,t){void 0===t&&(t=d());var n,r=RegExp("(\\?|&)"+e+"=([^&]*)(#|&|$)"),i=null==(n=t.match(r))?void 0:n[2];return void 0===i?i:decodeURIComponent(i)}function l(){return a("TOK")}function d(){return"undefined"==typeof location?"":location.search}function f(){var e,t;return null==(t=null==(e=window.AppConfig)?void 0:e.normal)?void 0:t.runtime}function p(){var e;return null==(e=window.AppConfig)?void 0:e.normal}function h(){var e;return(null==(e=f())?void 0:e.domainName)||"docs.qq.com"}var g=function(){return"qydocs.qq.com"===h()},m=function(){return 0===location.pathname.indexOf("/desktop")},v=function(){return 0===location.pathname.indexOf("/mall")},y=function(){return 0===location.pathname.indexOf("/resume")};function b(){var e;return(null==(e=p())?void 0:e.domain)==="toc"}function _(){var e;return(null==(e=p())?void 0:e.domain)==="private-tdocs"}var C=function(){var e=a("env_id")||"",t=a("env_name")||"";return/^(uat|sit(-[0-9a-z]{8})?)$/.test(e)&&!/^(release|hotfix)\//i.test(t)};function I(e){throw D(e)}function E(e){return Promise.reject(D(e))}function w(e,t){console.error(S(e,t))}function S(e,t){return"[docs-login] "+e+" failed: "+((null==t?void 0:t.stack)||(null==t?void 0:t.message)||t)}function D(e){return Error("[docs-login] "+e)}var M=0,T=1;function A(e,t){void 0===t&&(t=""),N(e,t,M)}function x(e,t){void 0===t&&(t=""),N(e,t,T)}function N(e,t,n){try{if(R()||_())return;var r=[["fc_login","status","docs-login/"+e,n,[t,L()]]],i=k()+"?datas="+encodeURIComponent(JSON.stringify(r))+"&version=0.10.13";navigator.sendBeacon(i)}catch(e){w("report",e)}}function O(e,t){try{if(w(e,t),x(e,"string"==typeof t?t:"error"),"undefined"==typeof aegis)return;aegis.error(S(e,t))}catch(e){w("reportError",e)}}function k(){var e,t;return(null==(t=null==(e=f())?void 0:e.reportCgiMap)?void 0:t.zzsReport)||"https://report.idqqimg.com/node_b/zzsreport"}var R=function(){var e;return function(){return void 0===e&&(e="undefined"==typeof navigator||!navigator.sendBeacon),e}}(),L=function(){var e;return function(){if(void 0===e){var t=location.pathname.match(/^(\/.*?)(\/|$)/);e=location.hostname+((null==t?void 0:t[1])||"/")}return e}}();function j(e,t,n){return Promise.resolve().then(function(){if(!(e in window)){var r,i,o=(null==(i=null==(r=f())?void 0:r.library)?void 0:i[t])||n;return P(o)}}).then(function(){return window[e]})}function P(e){return new Promise(function(t,n){var r=document.createElement("script");r.src=e,r.onload=function(){return t()},r.onerror=function(){return n(Error("Failed to load script"))},document.body.appendChild(r)})}function B(){return j("wx","TENCENT_DOCS_LIBRARY__jweixin_1_6_0","https://docs.gtimg.com/lib/js/jweixin_1_6_0.js")}function F(){return j("qq","TENCENT_DOCS_LIBRARY__qqjssdk_1_0_0","https://docs.gtimg.com/lib/js/qqjssdk_1_0_0.js")}function U(){return j("mqq","TENCENT_DOCS_LIBRARY__docs_qqapi","https://docs.gtimg.com/lib/js/docs_qqapi-1e4364.js")}function G(e){return void 0===e&&(e={}),W(tN(e))}function W(e){A("login-mini-program");var t="/pages/detail/detail?reason=pskey_error&url="+encodeURIComponent(e.successUrl),n=c("rtkey");return n&&(t+="&scene="+n),(r.gP(i)?F():B()).then(function(e){var n;return(null==(n=null==e?void 0:e.miniProgram)?void 0:n.reLaunch)||I("MissingJSSDK"),e.miniProgram.reLaunch({url:t}),tO()})}var Z="#",V="?",H="&";function z(e,t){var n,r=e.split(V),i=null==(n=r[1])?void 0:n.split(H);if(!i)return e;var o=i;return(t.forEach(function(e){i.forEach(function(t){if(t.startsWith("".concat(e,"="))){var n=o.indexOf(t);o.splice(n,1)}})}),0===o.length)?r[0]:(r[1]=o.join(H),r.join(V))}function Y(e){for(var t=arguments,n=[],r=1;r<arguments.length;r++)n[r-1]=t[r];if(e.split(V).length<2||0===n.length)return e;if(e.includes(Z)){var i=e.split(Z);return i[0]=z(i[0],n),i.join(Z)}return z(e,n)}function K(e){return void 0===e&&(e={}),Q(tN(e))}function Q(e){var t=e.successUrl;return A("login-mobile-fallback"),"1"===c("nojump")&&(t=Y(location.href,"nojump")),location.href="/login.html?jump_url="+encodeURIComponent(t),tO()}function q(e){return void 0===e&&(e={}),X(tN(e))}function X(e){return(A("login-qq"),"1"===c("nojump"))?tk():U().then(function(e){return Promise.race([new Promise(function(t){return e.invoke("data","updateLoginInfo",{key:"pskey"},t)}),new Promise(function(e){return setTimeout(e,1e3)})])}).then(function(){var t="dev_scene=qqh5&dev_name="+J()+"&dev_id="+$();return location.replace("/api/user/qq/login?u=login&"+t+"&redirect_uri="+encodeURIComponent(e.successUrl)),tO()})}function J(){var e="",t="";return r.Dt()?(e="Android",t=r.dl()):r.gn()&&(e="iOS",t=r.oK()),JSON.stringify({devName:e&&t?e+" "+t:"",OSName:e,OSVersion:t})}function $(){var e;return(null==(e=document.cookie.split(";").map(function(e){return e.trim()}).filter(function(e){return e.startsWith("fingerprint=")}).pop())?void 0:e.split("=")[1])||""}var ee="DOC_SID",et="SID",en="uid",er="TDOCS_UID",ei="uid_key",eo="TDOCS_UID_KEY";function ea(){if(window.basicClientVars){var e,t=window.basicClientVars.userInfo.uidSource;return(!((m()||v()||y())&&b())||3!==t)&&!!(null==(e=window.basicClientVars.userInfo)?void 0:e.tinyId)}var n=o();return!!(es(n)||a(en,n)&&a(ei,n)||a(er,n)&&a(eo,n))}function es(e){return void 0===e&&(e=o()),a(ee,e)||a(et,e)||void 0}function eu(e){return void 0===e&&(e={}),ec(tN(e))}function ec(e){return(A("login-mobile-tencent-docs"),r.ZB("3.0.0",i))?U().then(function(e){return sessionStorage.getItem(el)?(sessionStorage.removeItem(el),e.invoke("nav","showLoginPage"),tO()):new Promise(function(t){return e.invoke("docx","getAppCookies",{},t)})}).then(function(t){if(!("cookies"in t))return t;var n=null==t?void 0:t.cookies,r=a(en,n),i=a(ei,n),o=a(ee,n)||a(et,n)||void 0;return o||r&&i?(r&&s(en,r,void 0,"/",h()),i&&s(ei,i,void 0,"/",h()),o&&s(ee,o,void 0,"/",h()),o&&s(et,o,void 0,"/",h()),sessionStorage.setItem(el,"1"),setTimeout(function(){location.replace(e.successUrl)}),tO()):U().then(function(e){return e.invoke("nav","showLoginPage"),tO()})}):tk()}var el="docs-login-app-has-tried-login";function ed(e){return Promise.resolve(e).then(function(e){return"function"==typeof e?e():e})}function ef(e){return ed(e||eg)}function ep(e){return ed(e||eg).then(function(e){return"getExtension"in e?e.dependentServiceCombinder.accountApplication:e})}function eh(){return!!window.__ARK_EXTENSION_SERVICE__}function eg(){var e=window.__ARK_EXTENSION_SERVICE__;return e||I("MissingExtensionService"),e}function em(e,t){e.dependentServiceCombinder.accountDomain.accountAggregate.userInfo.jsonObj2Class(t,!0)}function ev(e,t){return ep(e).then(function(e){var n=e.accountDomainService,r=e.loginDomainService;n.createPersonalEnvAccountAggregateByUserInfoCgi(t,t.nowUserIndex),r.createLoginAggregate(t.tinyId),e.initDomainService(),e.isInitFinish=!0}).catch(function(e){O("initAccountApplication",e)})}var ey=3;function eb(e,t){return ef(e).then(function(e){return e.scanAndHandleExtensions([t]).then(function(){return e.getExtension(t.name)})})}function e_(e){return eb(e,{name:"docs-component-login",loadType:ey})}function eC(e){return eb(e,{name:"docs-component-login-button-mobile",loadType:ey})}function eI(e){return eb(e,{name:"docs-component-independent-pwd-mobile",loadType:ey})}function eE(e){return void 0===e&&(e={}),ew(tN(e))}function ew(e){return A("login-pc"),e_(e.extensionService).then(function(t){return new Promise(function(n){var r=e.cancellable,i=e.useQQOAuth,o=e.useWechatOfficialAccount,a=e.fullscreenMode,s=e.usageScenario;t.show({usageScenario:null!=s?s:r?"OPEN_LOGIN_BOX":"OPEN_FULL_LOGIN_BOX",fullscreenMode:null!=a?a:!r,isShowCloseBtn:r,closeBoxCallback:function(){return n(tk())},useQQOAuth:i,useWechatOfficialAccount:o})})})}function eS(e){return void 0===e&&(e={}),eD(tN(e))}function eD(e){return A("login-wechat","start"),new Promise(function(t){eM(e,function(n){return n?(A("login-wechat","oauth"),eT(e)):(A("login-wechat","cancelled"),t(tk()))})})}function eM(e,t){return eC(e.extensionService).then(function(n){(0,n.renderPopup)(function(){return t(!0)},function(){return t(!1)}).showPopup(0,e.cancellable)})}function eT(e){var t="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx46dfe750eef96da7&redirect_uri="+encodeURIComponent("https://"+h()+"/scenario/wx-login.html?target="+encodeURIComponent(e.successUrl))+"&response_type=code&scope=snsapi_userinfo&state=onweixinlogin#wechat_redirect";return location.replace(t),tO()}function eA(e){return void 0===e&&(e={}),ex(tN(e))}function ex(e){A("login-wework");var t="https://open.weixin.qq.com/connect/oauth2/authorize?appid=ww20388f7040b655b7&redirect_uri="+encodeURIComponent("https://"+h()+"/api/account/wecom/login?u=login&redirect_uri="+encodeURIComponent(e.successUrl))+"&response_type=code&scope=snsapi_userinfo&state=weworklogin#wechat_redirect";return location.replace(t),tO()}function eN(){eO()}function eO(){var e=h();u(ee,"/",e),u(et,"/",e),u(en,"/",e),u(ei,"/",e),u(er,"/",e),u(eo,"/",e)}let ek=Object.assign;function eR(e){return e.toLowerCase()}var eL=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],ej=/[^A-Z0-9]+/gi;function eP(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?eL:n,i=t.stripRegexp,o=void 0===i?ej:i,a=t.transform,s=void 0===a?eR:a,u=t.delimiter,c=void 0===u?" ":u,l=eB(eB(e,r,"$1\0$2"),o,"\0"),d=0,f=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(f-1);)f--;return l.slice(d,f).split("\0").map(s).join(c)}function eB(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce(function(e,t){return e.replace(t,n)},e)}function eF(e,t){var n=e.charAt(0),r=e.substr(1).toLowerCase();return t>0&&n>="0"&&n<="9"?"_"+n+r:""+n.toUpperCase()+r}function eU(e,t){return void 0===t&&(t={}),eP(e,ek({delimiter:"",transform:eF},t))}function eG(e,t){return 0===t?e.toLowerCase():eF(e,t)}function eW(e,t){return void 0===t&&(t={}),eU(e,ek({transform:eG},t))}var eZ=function(e){return"object"==typeof e&&null!==e},eV=function(e){return eZ(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date)&&!(globalThis.Blob&&e instanceof globalThis.Blob)},eH=Symbol("mapObjectSkip"),ez=function(e,t,n,r){if(void 0===r&&(r=new WeakMap),n=Object.assign({},{deep:!1,target:{}},n),r.has(e))return r.get(e);r.set(e,n.target);var i=n.target;delete n.target;var o=function(e){return e.map(function(e){return eV(e)?ez(e,t,n,r):e})};if(Array.isArray(e))return o(e);for(var a=0,s=Object.entries(e);a<s.length;a+=1){var u=s[a],c=t(u[0],u[1],e);if(c!==eH){var l=c[0],d=c[1],f=c[2];void 0===f&&(f={});var p=f.shouldRecurse;void 0===p&&(p=!0),"__proto__"!==l&&(n.deep&&p&&eV(d)&&(d=Array.isArray(d)?o(d):ez(d,t,n,r)),i[l]=d)}}return i};function eY(e,t,n){if(!eZ(e))throw TypeError("Expected an object, got `"+e+"` ("+typeof e+")");if(Array.isArray(e))throw TypeError("Expected an object, got an array");return ez(e,t,n)}function eK(e){return eQ(e)?Array.isArray(e)?e.map(eK):eY(e,function(e,t){return[eW(e),eK(t)]}):e}function eQ(e){return"object"==typeof e&&null!==e}function eq(){return eX()||eJ()||e$()||e0()}function eX(){var e;return null==(e=window.basicClientVars)?void 0:e.userInfo.tinyId}function eJ(){var e,t,n;return(null==(n=null==(t=null==(e=p())?void 0:e.npm)?void 0:t["@tencent/docs-login"])?void 0:n.USE_TDOCS_UID)?a(er):a(en)}function e$(){var e;return null==(e=window.global_multi_user)?void 0:e.uid}function e0(){var e,t=(null==(e=window.clientVars)?void 0:e.userInfo)||{},n=t.tinyId,r=t.uid;return n||r}function e1(){return e2()}function e2(){var e,t,n;return(null==(n=null==(t=null==(e=p())?void 0:e.npm)?void 0:t["@tencent/docs-login"])?void 0:n.USE_TDOCS_UID)?a(eo):a(ei)}function e4(){var e;return window.nowUserIndex||(null==(e=window.basicClientVars)?void 0:e.userInfo.nowUserIndex)||c("u")}function e3(){if(ea())return e5()}function e5(){return e8()||e9()}function e9(){var e=eq()||"",t=e4()||"";return Object.assign({},te,{uid:e,corpId:"",corpName:"",englishName:"",loginType:0,login:!0,uin:"0",uidSource:0,wxOpenid:"",openId:"",tinyid:e,tinyId:e,userId:e,avatar:"",userPic:"",nick:"",userName:"",toid:e,xu:t,nowUserIndex:t})}function e8(){if(eX()){var e=window.basicClientVars,t=e.userInfo,n=t.tinyId,r=t.corpId||"",i=t.corpName||"",o=t.englishName||"",a=t.loginType||0,s=t.uin||"0",u=t.uidSource||0,c=t.openId||"",l=t.userPic||"",d=t.userName||"",f=t.nowUserIndex||"";return Object.assign({},te,{uid:n,corpId:r,corpName:i,englishName:o,loginType:a,login:!!n,uin:s,uidSource:u,wxOpenid:c,openId:c,tinyid:n,tinyId:n,userId:n,avatar:l,userPic:l,nick:d,userName:d,toid:n,xu:f,nowUserIndex:f,wechatOfficialAccount:t.officialAuthInfo?Object.assign({},t.officialAuthInfo,{isOfficialAccount:!0}):te.wechatOfficialAccount})}}function e6(e){return void 0===e&&(e=e4()),tn(e,"get_vip_info=1").then(function(t){var n=t[0],r=t[1];if(!ts(n.retcode))return 0!==n.retcode?E("FetchUserInfoFailed"):e7(n,r.getResponseHeader("x-u")||e)})}function e7(e,t){var n=e4()||"",r=function(e){try{return eK(JSON.parse(e))}catch(e){return null}}(e.vip);return Object.assign({},eK(e),{vip:r,uin:String(e.uin),tinyId:e.tinyid,openId:e.wx_openid,userName:e.nick,userPic:e.avatar,xu:n,nowUserIndex:n})}var te={qqAvatar:"",qqNick:"",wxAvatar:"",wxNick:"",domain:"",domainId:"",loginTime:0,vip:{vipLevel:0,avatarFrameUrl:"",renewalStatus:0,expiredStatus:0,corpVipLevel:0,cursorId:"",cursor:"",badgeUrl:""},wechatOfficialAccount:{avatar:"",nick:"",introduction:"",type:0,principal:"",credential:"",isOfficialAccount:!1}};function tt(e){return(void 0===e&&(e=e4()),ea())?tn(e,"only_check=1").then(function(e){return 0===e[0].retcode}):Promise.resolve(!1)}function tn(e,t){var n="/cgi-bin/online_docs/user_info?xsrf="+l()+"&"+t;return e&&(n+="&u="+encodeURIComponent(e)),to(n)}function tr(){return ti("/api/advertise/user/valuable?xsrf="+l(),null,{header:{"Content-Type":"application/json"}}).then(function(e){var t;return!!(null==(t=e[0].result)?void 0:t.is_valuable)})}function ti(e,t,n){var r=Object.assign({},{header:{"Content-Type":"application/x-www-form-urlencoded"}},n);return new Promise(function(n,i){var o=new XMLHttpRequest,a=r.header["Content-Type"];o.open("POST",ta(e),!0),o.setRequestHeader("Content-Type",a),o.timeout=3e3,o.onabort=i,o.onerror=i,o.ontimeout=i,o.onreadystatechange=function(){if(4===o.readyState)try{var e=JSON.parse(o.responseText);n([e,o])}catch(e){O("post",SyntaxError(o.responseText)),i(e)}},t?"application/json"===a?o.send(JSON.stringify(t)):o.send("xsrf="+l()+"&"+t):o.send()})}function to(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("GET",ta(e),!0),r.onabort=n,r.onerror=n,r.ontimeout=n,r.onreadystatechange=function(){if(4===r.readyState)try{var e=JSON.parse(r.responseText);t([e,r])}catch(e){n(e)}},r.send()})}function ta(e){if(/[&?]u=/.test(e))return e;var t="u="+(e4()||""),n=e.indexOf("?")>=0?"&":"?";return e+n+t}function ts(e){return 11e3===e||12100===e||11005===e||12105===e||11006===e}function tu(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=RegExp("([?&])"+n+"=.*?(&|$)","i"),i=t[n],o=-1!==e.indexOf("?")?"&":"?";e=e.match(r)?e.replace(r,"$1"+n+"="+i+"$2"):e+o+n+"="+i}return e}function tc(e){A("login-eid"),eN();try{var t=new URL(e.successUrl),n=t.hash?""+t.origin+t.pathname+t.search:t.href,r="1"===new URLSearchParams(t.search).get("forceLogin")?n:tu(n,{forceLogin:"1"});null==history||history.replaceState(null,"",r),location.reload()}catch(t){location.replace(e.successUrl)}return tO()}function tl(){return location.replace("https://"+h()+"/scenario/enterprise-experience-entry.html"),tO()}var td="https://saas.docs.qq.com",tf=C()?"ci-756.account.tencentcs.com":"account.tencent.com",tp=C()?"ci-756.workspace.tencentcs.com":"workspace.tencent.com",th=C()?"//oauth2.ci-756.account.tencentcs.com/v1/authorize":"//oauth2.account.tencent.com/v1/authorize",tg=C()?"cXCIqAyyINIOLhZXWkZvKRGj":"ZHedOjkJuhiGQYbEjBshoehx",tm=function(e){var t=(e||{}).target_link_uri;void 0===t&&(t="");var n=tu(td+"/scenario/saas-login-callback",t?{target_link_uri:t}:{}),r=tu(th,{client_id:tg,response_type:"code",redirect_uri:encodeURIComponent(n),scope:"openid profile offline_access"});location.replace(r)},tv=function(){var e="//"+tf+"/#/profile";window.open(e)},ty=function(){var e="//"+tp+"/admin/#/users";window.open(e)},tb=function(){var e="https://docs.qq.com/doc/p/8c9b7590b5484c7532c636a1011da1d915829ac8";window.open(e)},t_=function(){var e="https://docs.qq.com/doc/p/198d55cb4f92b4acb5c9d82c060ab65bebe8a4db";window.open(e)},tC=function(e){var t=e.successUrl;return void 0===t&&(t=""),tm({target_link_uri:t}),tO()},tI=function(e){return tw()&&n.g.mqq.invoke("docx","loginToOpenUrl",{file:tE(),close:!0}),r.nK()&&n.g.mqq.invoke("docx","loginToOpenUrl",{url:e.successUrl||location.href,utype:"wx"}),Promise.resolve({cancelled:!0})};function tE(){var e;return null!=(e=new URL(location.href).searchParams.get("localFilePath"))?e:""}function tw(){return!!(c("local_edit")&&r.nK)}function tS(e){var t,r,i=e.successUrl;try{null==(t=n.g.mqq)||t.invoke("qqmini","docauth",{},function(e){var t;if(0===e.code)return void(i?location.href=i:location.reload());null==(t=window.log)||t.error("qqmini login jsapi error: "+(null==e?void 0:e.err))})}catch(e){console.error(e.message),null==(r=window.log)||r.error("qqmini login error: "+e.message)}return Promise.resolve({cancelled:!0})}function tD(e){return void 0===e&&(e={}),tR("login",function(){return tM(tN(e))})}function tM(e){var t,n,o;return g()?tl():(null==(t=p())?void 0:t.domain)==="saas-tdocs"?tC(e):(null==(o=null==(n=p())?void 0:n.npm["@tencent/docs-login"])?void 0:o.DO_EID_LOGIN)?tc(e):r.LP(i)?tS(e):r.VJ(i)?ec(e):r.nK()?tI(e):r.C0(i)?W(e):r.e3(i)?eD(e):!r.ow(i)||r.i4(i)||(m()||v())&&b()?r.xB(i)?X(e):r.p(i)?Q(e):ew(e):ex(e)}function tT(e){return void 0===e&&(e={}),tT.req||(tT.req=tD(e).then(function(e){return tT.req=null,e})),tT.req}function tA(e){return void 0===e&&(e={}),tR("autoLogin",function(){return tx(tN(e))})}function tx(e){return r.e3(i)?eD(e):r.ow(i)&&!r.i4(i)?ex(e):tk()}function tN(e){var t,n,r;return{extensionService:e.extensionService,cancellable:null==(t=e.cancellable)||t,successUrl:e.successUrl||location.href,useQQOAuth:null!=(n=e.useQQOAuth)&&n,useWechatOfficialAccount:null!=(r=e.useWechatOfficialAccount)&&r,fullscreenMode:e.fullscreenMode,usageScenario:e.usageScenario}}function tO(){return new Promise(function(e){document.addEventListener("visibilitychange",function t(){"visible"===document.visibilityState&&(e(tk()),document.removeEventListener("visibilitychange",t))})})}function tk(){return Promise.resolve({cancelled:!0})}function tR(e,t){return A(e,"start"),Promise.resolve().then(t).then(function(t){return A(e,"done"),t}).catch(function(t){throw O(e,t),t})}function tL(e){return void 0===e&&(e={}),A("authenticate","start"),Promise.resolve().then(function(){return tj(tP(e))}).then(function(e){return A("authenticate",tU(!!e)),e}).catch(function(e){O("authenticate",e)})}function tj(e){var t=ea();if(t||e.login)return Promise.resolve().then(function(){if(!t){A("authenticate","login");var n=e.login;(0,n[0])(n[1]).catch(function(){return x("authenticate","login")});return}return e.fetchUserInfo?e6():e5()}).then(function(t){return t&&e.fetchUserInfo&&!1!==e.accountApplication?ev(e.accountApplication,t).then(function(){return t}):t})}function tP(e){var t;return{login:tB(e),fetchUserInfo:null!=(t=e.fetchUserInfo)?t:!("basicClientVars"in window),accountApplication:void 0!==e.accountApplication?e.accountApplication:!!eh()&&void 0}}function tB(e){return"1"===c("nologin")?void 0:e.login||void 0===e.login&&"1"===c("autoshowlogin")?[tD,tF(e.login)]:!1===e.autoLogin?void 0:void 0!==e.autoLogin||eh()?[tA,tF(e.autoLogin)]:void 0}function tF(e){return"object"==typeof e?e:void 0}function tU(e){return e?"logged-in":"not-logged-in"}function tG(e){return void 0===e&&(e={}),A("authenticateIndependentPassword","start"),tW(e).catch(function(e){return O("authenticateIndependentPassword",e),!1})}function tW(e){return tZ().then(function(t){return t?(A("authenticateIndependentPassword","valid"),!0):(A("authenticateIndependentPassword","requestIndependentPassword"),tV(e).then(function(e){return e.cancelled}))})}function tZ(){return(A("isIndependentPasswordTokenValid","start"),ea())?ti("/cgi-bin/online_docs/doclist","list_type=59184").then(function(e){var t=e[0].retcode;if(ts(t))return x("isIndependentPasswordTokenValid","not-logged-in"),tQ();var n=20062!==t;return A("isIndependentPasswordTokenValid",n?"valid":"invalid"),n},function(e){return O("isIndependentPasswordTokenValid",e),!0}):(x("isIndependentPasswordTokenValid","not-logged-in"),tQ())}function tV(e){if(void 0===e&&(e={}),!ea())return x("requestIndependentPassword","not-logged-in"),tQ();var t=tH(e);return(r.tq()?tY:tz)(t).catch(function(e){throw O("requestIndependentPassword",e),e})}function tH(e){return Object.assign({},e,{successUrl:e.successUrl||location.href})}function tz(e){return Promise.all([e_(e.extensionService),ef(e.extensionService),tK(e.userInfo)]).then(function(e){var t=e[0],n=e[1],r=e[2];return em(n,{userName:r.nick,userPic:r.avatar}),t.show({usageScenario:"OPEN_FULL_LOGIN_FOR_PASSWORD"}),tO()})}function tY(e){return Promise.all([eI(e.extensionService),tK(e.userInfo)]).then(function(t){var n=t[0],r=t[1];return n.show({userInfo:r,isDesktop:!0,successUrl:e.successUrl}),Object.assign(n.container.style,{position:"fixed",left:"0",top:"0",width:"100vw",height:"100vh",zIndex:"999999"}),tO()})}function tK(e){var t=e||e3();return(null==t?void 0:t.nick)&&t.avatar||(t=e6()),Promise.resolve(t).then(function(e){return e||tQ()})}function tQ(){return E("UserIsNotLoggedIn")}tT.req=null;var tq="logoutLogin";function tX(e){var t=(e||{}).msgCenter,n=tu("https://"+h()+"/api/enterprise/account/logout",{redirect_uri:encodeURIComponent(location.href),xsrf:l()||""});return null==t||t.postMessage({type:tq,data:eq(),needCookie:!0}),location.replace(n),Promise.resolve(!0)}function tJ(){return ti("//"+h()+"/api/enterprise/relationship/contacts/role?xsrf="+l(),null,{header:{"Content-Type":"application/json"}}).then(function(e){var t,n=e[0];return(null==n||!n.retcode)&&null!=(t=null==n?void 0:n.result)&&!!t.is_admin})}var t$=function(){var e="https://"+h()+"/eid/idp/#/profile";window.open(e)},t0=function(){var e="https://"+h()+"/eid/admin";window.open(e)}},228272:function(e,t,n){"use strict";n.d(t,{x4:function(){return k},Ul:function(){return et},_E:function(){return x},_1:function(){return g},HY:function(){return w},I_:function(){return y},XV:function(){return b},Ij:function(){return R},r7:function(){return E},Fp:function(){return ei},aL:function(){return _},e8:function(){return u},JH:function(){return f},hm:function(){return J},r0:function(){return ee},LX:function(){return ea},WM:function(){return eo},hP:function(){return v},uF:function(){return m},t5:function(){return h},k6:function(){return d},fZ:function(){return es},Sc:function(){return en},gL:function(){return C},vY:function(){return c},z$:function(){return eu},s1:function(){return ec},lX:function(){return p},rf:function(){return S},tg:function(){return $},J_:function(){return l},pe:function(){return er},r$:function(){return j}});var r,i,o,a,s,u=function(e){return e[e.Doc=0]="Doc",e[e.Sheet=1]="Sheet",e[e.Form=2]="Form",e[e.Folder=3]="Folder",e[e.Slide=4]="Slide",e[e.Note=5]="Note",e[e.Pdf=6]="Pdf",e[e.MiniProgram=7]="MiniProgram",e[e.Aio=7]="Aio",e[e.SmartCanvas=8]="SmartCanvas",e[e.SmartSheet=9]="SmartSheet",e[e.Unknown=10]="Unknown",e[e.Resume=11]="Resume",e[e.Board=12]="Board",e[e.Ofd=13]="Ofd",e[e.Markdown=14]="Markdown",e[e.Drawing=89]="Drawing",e[e.Mind=90]="Mind",e[e.FlowChart=91]="FlowChart",e[e.Flowchart=91]="Flowchart",e[e.File=100]="File",e[e.Drive=101]="Drive",e[e.Rec=102]="Rec",e[e.Addon=110]="Addon",e[e.LocalFile=-201]="LocalFile",e}({}),c=["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/kswps","application/kswpt","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],l=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","text/csv","text/csv; charset=utf-8","application/vnd.ms-excel.sheet.binary.macroEnabled.12","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/kset","application/ksett"],d=["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/ksdps","application/ksdpt","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.template.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],f=["text/lrc","text/asp; charset=utf-8","application/x-msdownload","text/richtext; charset=utf-8","text/plain","text/plain; charset=utf-8","text/xml","text/html","text/html; charset=utf-8","text/markdown"],p=["text/x-c; charset=utf-8","text/x-c; charset=utf-8","text/x-chdr","text/x-asm; charset=utf-8","text/x-java-source; charset=utf-8","text/javascript","text/x-go"],h=["image/x-sony-arw","image/bmp","image/vnd.zbrush.pcx","image/x-pcx","image/tiff","image/gif","image/x-exif","image/exif","image/jpeg","image/vnd.fpx","image/svg+xml","image/vnd.adobe.photoshop","image/x-cdr","image/x-photo-cd","image/vnd.dxf","image/x-ufo","application/postscript","image/png","image/wmf","image/webp","image/x-tga"],g=["audio/mpeg","audio/aac","audio/x-flac","audio/amr","audio/AMR","audio/mp4","audio/x-ms-wma","audio/x-wav","audio/x-cd","audio/x-wave","audio/x-aiff","audio/midi","audio/x-realaudio","audio/realaudio","audio/x-twinvq","audio/oggvorbis","audio/ogg","audio/x-ape","audio/webm","audio/mpeg-4"],m=["video/mp4","video/3gpp","video/x-ms-asf","video/x-msvideo","video/dv","video/x-flv","video/x-f4v","application/vnd.apple.mpegurl","video/x-matroska","video/quicktime","video/mpeg","video/mp2t","application/vnd.rn-realmedia","audio/x-pn-realaudio","video/x-ms-wmv","video/dat","video/webm","video/x-ms-vob"],v=["application/zip","application/vnd.rar","application/x-rar-compressed","application/x-compress","application/x-7z-compressed"],y=["application/vnd.ms-visio.drawing","application/x-visio","application/vnd.ms-visio.drawing.main+xml"],b=["application/vnd.pos"],_=["application/vnd.tdocs-apps.markdown","text/markdown","text/markdown; charset=utf-8"],C=["application/vnd.tdocs-apps.ofd","application/ofd"];u.Doc,u.Doc,u.Doc,u.Doc,u.Doc,u.Doc,u.Doc,u.Doc,u.Sheet,u.Sheet,u.Sheet,u.Sheet,u.Sheet,u.Sheet,u.Sheet,u.Sheet,u.Sheet,u.Sheet,u.Sheet,u.Sheet,u.Sheet,u.Sheet,u.Slide,u.Slide,u.Slide,u.Slide,u.Slide,u.Slide,u.Slide,u.Slide,u.Slide,u.Slide,u.Slide,u.FlowChart,u.FlowChart,u.Mind,u.Mind,u.Pdf,u.Markdown,u.Markdown;var I={doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",wps:"application/kswps",wpt:"application/kswpt",dot:"application/msword",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",docm:"application/vnd.ms-word.document.macroEnabled.12",dotm:"application/vnd.ms-word.template.macroEnabled.12",xls:"application/vnd.ms-excel",xlm:"application/vnd.ms-excel",xla:"application/vnd.ms-excel",xlc:"application/vnd.ms-excel",xlt:"application/vnd.ms-excel",xlw:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",csv:"text/csv",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.12",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.12",xltm:"application/vnd.ms-excel.template.macroEnabled.12",et:"application/kset",ett:"application/ksett",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",ppt:"application/vnd.ms-powerpoint",pps:"application/vnd.ms-powerpoint",pot:"application/vnd.ms-powerpoint",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",dps:"application/ksdps",dpt:"application/ksdpt",pptm:"application/vnd.ms-powerpoint.presentation.macroEnabled.12",potm:"application/vnd.ms-powerpoint.template.macroEnabled.12",ppsm:"application/vnd.ms-powerpoint.slideshow.macroEnabled.12",lrc:"text/lrc",asp:"text/asp; charset=utf-8",txt:"text/plain",html:"text/html",md:"text/markdown",c:"text/x-c; charset=utf-8",cpp:"text/x-c; charset=utf-8",h:"text/x-chdr",asm:"text/x-asm; charset=utf-8",s:"text/x-asm; charset=utf-8",java:"text/x-java-source; charset=utf-8",js:"text/javascript",go:"text/x-go",raw:"image/x-sony-arw",bmp:"image/bmp",pcx:"image/x-pcx",tiff:"image/tiff",gif:"image/gif",exif:"image/x-exif",jpg:"image/jpeg",jpeg:"image/jpeg",fpx:"image/vnd.fpx",svg:"image/svg+xml",psd:"image/vnd.adobe.photoshop",cdr:"image/x-cdr",pcd:"image/x-photo-cd",dxf:"image/vnd.dxf",ufo:"image/x-ufo",eps:"application/postscript",png:"image/png",wmf:"image/wmf",webp:"image/webp",tga:"image/x-tga",mp3:"audio/mpeg",acc:"audio/aac",aac:"audio/aac",flac:"audio/x-flac",amr:"audio/AMR",m4b:"audio/mp4",m4a:"audio/mp4",wma:"audio/x-ms-wma",wav:"audio/x-wav",cd:"audio/x-cd",wave:"audio/x-wave",aiff:"audio/x-aiff",midi:"audio/midi",ra:"audio/x-realaudio",vqf:"audio/x-twinvq",ogg:"audio/ogg",ape:"audio/x-ape",weba:"audio/webm","mpeg-4":"audio/mpeg-4",mp4:"video/mp4","3gp":"video/3gpp",asf:"video/x-ms-asf",asx:"video/x-ms-asf",avi:"video/x-msvideo",dv:"video/dv",flv:"video/x-flv",f4v:"video/x-f4v",m3u8:"application/vnd.apple.mpegurl",mkv:"video/x-matroska",qt:"video/quicktime",mov:"video/quicktime",mpg:"video/mpeg",mpeg:"video/mpeg",mts:"video/mp2t",m4v:"video/mp4",rmvb:"application/vnd.rn-realmedia",rm:"audio/x-pn-realaudio",webm:"video/webm",wmv:"video/x-ms-wmv",dat:"video/dat",vob:"video/x-ms-vob",zip:"application/zip",rar:"application/vnd.rar",z:"application/x-compress","7z":"application/x-7z-compressed",pdf:"application/pdf",vsdx:"application/vnd.ms-visio.drawing",vsd:"application/vnd.ms-visio.drawing",pos:"application/vnd.pos",xmind:"application/vnd.pos",ofd:"application/ofd"},E=function(){var e={};return Object.keys(I).forEach(function(t){var n=I[t];e[n]||(e[n]=[]),e[n].push(t),e[n].push(t)}),e}(),w=function(e){return e.Doc="application/vnd.tdocs-apps.doc",e.Sheet="application/vnd.tdocs-apps.sheet",e.Form="application/vnd.tdocs-apps.form",e.Folder="application/vnd.tdocs-apps.folder",e.CollaborationSpace="application/vnd.tdocs-apps.collaboration-space",e.CollaborationSpaceRoot="application/vnd.tdocs-apps.collaboration-space-root",e.SharedFolder="application/vnd.tdocs-apps.shared-folder",e.Share="application/vnd.tdocs-apps.share-folder",e.Slide="application/vnd.tdocs-apps.slide",e.Pdf="application/pdf",e.Aio="application/vnd.tdocs-apps.aio",e.SmartCanvas="application/vnd.tdocs-apps.smartcanvas",e.SmartSheet="application/vnd.tdocs-apps.smartsheet",e.Mind="application/vnd.tdocs-apps.mind",e.FlowChart="application/vnd.tdocs-apps.flowchart",e.Board="application/vnd.tdocs-apps.board",e.Rec="application/vnd.tdocs-apps.rec",e.Word="application/vnd.ms-word",e.Excel="application/vnd.ms-excel",e.Powerpoint="application/vnd.ms-powerpoint",e.Txt="text/plain",e.Pixso="application/vnd.tdocs-addon-image.236b7f64e91e40b584f2aae0517ee1ed",e.Boardmix="application/vnd.tdocs-addon-image.e3e96c1968114db986a9229003965853",e.Zhiying="application/vnd.tdocs-addon-image.9e2c26161b684629a9bf29e52efa6c60",e.Code="code",e.Default="application/vnd.tdocs-apps.default",e.Image="image",e.Audio="audio",e.Video="video",e.Zip="application/zip",e.Ofd="application/vnd.tdocs-apps.ofd",e.DriveOfd="application/ofd",e.Markdown="application/vnd.tdocs-apps.markdown",e.Markdown_ASCII="text/markdown",e.Markdown_UTF8="text/markdown; charset=utf-8",e.XMind="xmind",e.Visio="visio",e.Safe="application/vnd.tdocs-apps.safe-folder",e}({}),S=function(e){return e.Doc="doc",e.Sheet="sheet",e.Form="form",e.Folder="folder",e.Slide="slide",e.Note="note",e.Pdf="pdf",e.MiniProgram="aio",e.Aio="aio",e.Unknown="unknown",e.Resume="resume",e.Ofd="ofd",e.RelationGraph="relationGraph",e.Mind="mind",e.FlowChart="flowchart",e.Board="board",e.Markdown="markdown",e.File="file",e.Drive="drive",e.SogouSpeech="rec",e.Addon="addon",e.SmartCanvas="smartcanvas",e.SmartSheet="smartsheet",e.LocalFile="local_file",e}({});function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t,n){return(t=T(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){var t=A(e,"string");return"symbol"===D(t)?t:String(t)}function A(e,t){if("object"!==D(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==D(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var x=(M(r={},u.Doc,w.Doc),M(r,u.Sheet,w.Sheet),M(r,u.Slide,w.Slide),M(r,u.Form,w.Form),M(r,u.SmartCanvas,w.SmartCanvas),M(r,u.SmartSheet,w.SmartSheet),M(r,u.Mind,w.Mind),M(r,u.FlowChart,w.FlowChart),M(r,u.Rec,w.Rec),M(r,u.Pdf,w.Pdf),M(r,u.Aio,w.Aio),M(r,u.Board,w.Board),M(r,u.Ofd,w.Ofd),M(r,u.Markdown,w.Markdown),r),N=[[c,u.Doc],[[w.Ofd,w.DriveOfd],u.Ofd],[l,u.Sheet],[d,u.Slide],[[w.Form],u.Form],[[w.SmartCanvas],u.SmartCanvas],[[w.SmartSheet],u.SmartSheet],[[w.Doc],u.Doc],[[w.Sheet],u.Sheet],[[w.Slide],u.Slide],[[w.Mind],u.Mind],[[w.FlowChart],u.FlowChart],[[w.Board],u.Board],[_,u.Markdown],[p,u.Doc],[f,u.Doc],[[w.Pdf],u.Pdf],[y,u.FlowChart],[b,u.Mind],[[w.Folder],u.Folder]],O=(M(i={},S.Doc,w.Word),M(i,S.Sheet,w.Excel),M(i,S.Slide,w.Powerpoint),M(i,S.Mind,w.XMind),M(i,S.FlowChart,w.Visio),i),k=(M(o={},u.Doc,S.Doc),M(o,u.Sheet,S.Sheet),M(o,u.Form,S.Form),M(o,u.Folder,S.Folder),M(o,u.Slide,S.Slide),M(o,u.Note,S.Note),M(o,u.Pdf,S.Pdf),M(o,u.MiniProgram,S.MiniProgram),M(o,u.SmartCanvas,S.SmartCanvas),M(o,u.SmartSheet,S.SmartSheet),M(o,u.Unknown,S.Unknown),M(o,u.Resume,S.Resume),M(o,u.Board,S.Board),M(o,u.Ofd,S.Ofd),M(o,u.Markdown,S.Markdown),M(o,u.Drawing,S.RelationGraph),M(o,u.Mind,S.Mind),M(o,u.FlowChart,S.FlowChart),M(o,u.File,S.File),M(o,u.Drive,S.Drive),M(o,u.Rec,S.SogouSpeech),M(o,u.Addon,S.Addon),M(o,u.LocalFile,S.LocalFile),o),R=(M(a={},S.Doc,w.Doc),M(a,S.Sheet,w.Sheet),M(a,S.Slide,w.Slide),M(a,S.Form,w.Form),M(a,S.SmartCanvas,w.SmartCanvas),M(a,S.SmartSheet,w.SmartSheet),M(a,S.Mind,w.Mind),M(a,S.FlowChart,w.FlowChart),M(a,S.Pdf,w.Pdf),M(a,S.Aio,w.Aio),M(a,S.Board,w.Board),M(a,S.Ofd,w.Ofd),M(a,S.Markdown,w.Markdown),a),L=[[c,S.Drive],[l,S.Drive],[d,S.Drive],[[w.Form],S.Form],[[w.SmartCanvas],S.SmartCanvas],[[w.SmartSheet],S.SmartSheet],[[w.Doc],S.Doc],[[w.Sheet],S.Sheet],[[w.Slide],S.Slide],[[w.Mind],S.Mind],[[w.FlowChart],S.FlowChart],[[w.Board],S.Board],[p,S.Drive],[f,S.Drive],[[w.Pdf],S.Pdf],[y,S.FlowChart],[b,S.Mind],[h,S.Drive],[m,S.Drive],[g,S.Drive],[[w.Ofd],S.Ofd],[[w.Markdown],S.Markdown],[[w.Rec],S.SogouSpeech]],j=(M(s={},S.Doc,u.Doc),M(s,S.Sheet,u.Sheet),M(s,S.Form,u.Form),M(s,S.Folder,u.Folder),M(s,S.Slide,u.Slide),M(s,S.Note,u.Note),M(s,S.Pdf,u.Pdf),M(s,S.MiniProgram,u.MiniProgram),M(s,S.SmartCanvas,u.SmartCanvas),M(s,S.SmartSheet,u.SmartSheet),M(s,S.Unknown,u.Unknown),M(s,S.Resume,u.Resume),M(s,S.Board,u.Board),M(s,S.Ofd,u.Ofd),M(s,S.Markdown,u.Markdown),M(s,S.RelationGraph,u.Drawing),M(s,S.Mind,u.Mind),M(s,S.FlowChart,u.FlowChart),M(s,S.File,u.File),M(s,S.Drive,u.Drive),M(s,S.SogouSpeech,u.Rec),M(s,S.Addon,u.Addon),M(s,S.LocalFile,u.LocalFile),s),P=["wmv","asf","asx","rm","rmvb","mp4","3gp","mov","m4v","avi","dat","mkv","flv","vob","mpeg","mpg","dv","f4v","m3u8","qt","mts","webm"],B=["cd","wave","aiff","mp3","m4a","midi","wma","realaudio","vqf","ogg","amr","ape","flac","aac","oggvorbis","mpeg","m4b","wav","ra","weba","mpeg-4"],F=["raw","bmp","pcx","tiff","jpeg","tga","exif","fpx","svg","psd","cdr","pcd","dxf","ufo","eps","png","jpg","wmf","pcx","gif","webp"],U=7719==n.j?["zip","rar","7z"]:null,G=["doc","docx","dot","wps","wpt","dotx","docm","dotm"],W=["ppt","pptx","pot","potx","pps","ppsx","dps","dpt","pptm","potm","ppsm"],Z=["xls","xlm","xla","xlc","xlw","xlsx","xlt","xltx","csv","xlsb","xlsm","xltm","et","ett","ets"],V=function(e){return function(t){var n=t.replace(/^\./,"");return e.includes(n)}};function H(e,t){return K(e)||Y(e,t)||q(e,t)||z()}function z(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Y(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function K(e){if(Array.isArray(e))return e}function Q(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=q(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function q(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var J=function(e){return c.includes(e)||V(G)(e)},$=function(e){return l.includes(e)||V(Z)(e)},ee=function(e){return d.includes(e)||V(W)(e)},et=function(e){return h.includes(e)||V(F)(e)},en=function(e){return g.includes(e)||V(B)(e)},er=function(e){return m.includes(e)||V(P)(e)},ei=function(e){return v.includes(e)||V(U)(e)},eo=function(e){return/^application\/vnd\.tdocs-apps/i.test(e)},ea=function(e){return/^application\/vnd\.tdocs-addon/i.test(e)},es=function(e){var t,n=Q(N);try{for(n.s();!(t=n.n()).done;){var r=H(t.value,2),i=r[0],o=r[1];if(i.includes(e))return o}}catch(e){n.e(e)}finally{n.f()}},eu=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?O[e]||"unknown":R[e]||"unknown"},ec=function(e){var t,n=Q(L);try{for(n.s();!(t=n.n()).done;){var r=H(t.value,2),i=r[0],o=r[1];if(i.includes(e))return o}}catch(e){n.e(e)}finally{n.f()}return S.Drive}},579114:function(e,t,n){"use strict";n.r(t),n.d(t,{Changer:function(){return C},ChangersManager:function(){return I},NETWORK_STATUS:function(){return b},default:function(){return x},netcheckAdapter:function(){return N},offline:function(){return R},online:function(){return k}});var r=n(470396);function i(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d={exports:{}},f={exports:{}};!function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(f),function(e){var t=f.exports.default;function n(){e.exports=n=function(){return r},e.exports.__esModule=!0,e.exports.default=e.exports;var r={},i=Object.prototype,o=i.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=Object.create((t&&t.prototype instanceof g?t:g).prototype);return a(i,"_invoke",{value:w(e,n,new T(r||[]))}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}r.wrap=f;var h={};function g(){}function m(){}function v(){}var y={};d(y,u,function(){return this});var b=Object.getPrototypeOf,_=b&&b(b(A([])));_&&_!==i&&o.call(_,u)&&(y=_);var C=v.prototype=g.prototype=Object.create(y);function I(e){["next","throw","return"].forEach(function(t){d(e,t,function(e){return this._invoke(t,e)})})}function E(e,n){var r;function i(r,a,s,u){var c=p(e[r],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==t(d)&&o.call(d,"__await")?n.resolve(d.__await).then(function(e){i("next",e,s,u)},function(e){i("throw",e,s,u)}):n.resolve(d).then(function(e){l.value=e,s(l)},function(e){return i("throw",e,s,u)})}u(c.arg)}a(this,"_invoke",{value:function(e,t){function o(){return new n(function(n,r){i(e,t,n,r)})}return r=r?r.then(o,o):o()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return x()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=TypeError("The iterator does not provide a '"+n+"' method")),h;var i=p(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=TypeError("iterator result is not an object"),t.delegate=null,h)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function A(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return m.prototype=v,a(C,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:m,configurable:!0}),m.displayName=d(v,l,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,d(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},r.awrap=function(e){return{__await:e}},I(E.prototype),d(E.prototype,c,function(){return this}),r.AsyncIterator=E,r.async=function(e,t,n,i,o){void 0===o&&(o=Promise);var a=new E(f(e,t,n,i),o);return r.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},I(C),d(C,l,"Generator"),d(C,u,function(){return this}),d(C,"toString",function(){return"[object Generator]"}),r.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},r.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},r}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(d);var p=d.exports(),h=p;try{regeneratorRuntime=p}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=p:Function("r","regeneratorRuntime = r")(p)}var g=function e(t){i(this,e),this.element=t,this.next=e.Undefined,this.prev=e.Undefined};g.Undefined=new g(void 0);var m=function(e){function t(){i(this,t),this._first=g.Undefined,this._last=g.Undefined,this._size=0}return u(t,[{key:"size",get:function(){return this._size}},{key:"isEmpty",value:function(){return this._first===g.Undefined}},{key:"clear",value:function(){this._first=g.Undefined,this._last=g.Undefined,this._size=0}},{key:"unshift",value:function(e){return this._insert(e,!1)}},{key:"push",value:function(e){return this._insert(e,!0)}},{key:"shift",value:function(){if(this._first!==g.Undefined){var e=this._first.element;return this._remove(this._first),e}}},{key:"pop",value:function(){if(this._last!==g.Undefined){var e=this._last.element;return this._remove(this._last),e}}},{key:Symbol.iterator,value:h.mark(function e(){var t;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this._first;case 1:if(t===g.Undefined){e.next=7;break}return e.next=4,t.element;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}},e,this)})},{key:"toArray",value:function(){for(var e=[],t=this._first;t!==g.Undefined;t=t.next)e.push(t.element);return e}},{key:"_insert",value:function(e,t){var n=this,r=new g(e);if(this._first===g.Undefined)this._first=r,this._last=r;else if(t){var i=this._last;this._last=r,r.prev=i,i.next=r}else{var o=this._first;this._first=r,r.next=o,o.prev=r}this._size+=1;var a=!1;return function(){a||(a=!0,n._remove(r))}}},{key:"_remove",value:function(e){if(e.prev!==g.Undefined&&e.next!==g.Undefined){var t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===g.Undefined&&e.next===g.Undefined?(this._first=g.Undefined,this._last=g.Undefined):e.next===g.Undefined?(this._last=this._last.prev,this._last.next=g.Undefined):e.prev===g.Undefined&&(this._first=this._first.next,this._first.prev=g.Undefined);this._size-=1}}]),t}();function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return y(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var b,_=function(){function e(){i(this,e),this._disposed=!1}return u(e,[{key:"event",get:function(){var e=this;return this._event||(this._event=function(t,n){e._listeners||(e._listeners=new m);var r=e._listeners.push(n?[t,n]:t);return{remove:function(){e._disposed||r()}}}),this._event}},{key:"fire",value:function(e){if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new m);var t,n=v(this._listeners);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._deliveryQueue.push([r,e])}}catch(e){n.e(e)}finally{n.f()}for(;this._deliveryQueue.size>0;){var i=l(this._deliveryQueue.shift(),2),o=i[0],a=i[1];try{"function"==typeof o?o.call(void 0,a):o[0].call(o[1],a)}catch(e){console.error(e)}}}}},{key:"removeAll",value:function(){this._listeners&&this._listeners.clear(),this._deliveryQueue&&this._deliveryQueue.clear(),this._disposed=!0}}]),e}(),C=function(){function e(t){i(this,e),this.onChangeEmitter=new _,this.onChange=this.onChangeEmitter.event,this.status=t}return u(e,[{key:"change",value:function(e){this.status!==e&&(this.status=e,this.onChangeEmitter.fire(e))}}]),e}();!function(e){e.ONLINE="ONLINE",e.OFFLINE="OFFLINE"}(b||(b={}));var I=function(){function e(){i(this,e),this.changers=[],this.onChangeEmitter=new _,this.onChange=this.onChangeEmitter.event}return u(e,[{key:"createChanger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.ONLINE,t=new C(e);return t.onChange(this.handleChangerChange.bind(this)),this.push(t),t}},{key:"handleChangerChange",value:function(){var e=this.changers.every(function(e){return e.status===b.ONLINE})?b.ONLINE:b.OFFLINE;this.status!==e&&(this.status=e,this.onChangeEmitter.fire(e))}},{key:"push",value:function(e){this.changers.push(e),this.handleChangerChange()}}]),e}(),E=function(){function e(){i(this,e),this.changersManager=new I,this.onStatusChangeEmitter=new _,this.onStatusChange=this.onStatusChangeEmitter.event,this.init()}return u(e,[{key:"status",get:function(){return this.changersManager.status}},{key:"init",value:function(){this.changersManager.onChange(this.onStatusChangeEmitter.fire.bind(this.onStatusChangeEmitter))}}]),e}(),w=function(){function e(t){var n=this;i(this,e),this.changersManager=t,this.change=function(e){var t="online"===e?b.ONLINE:b.OFFLINE;n.changer.change(t)},this.changer=this.changersManager.createChanger(r.network.isOnline?b.ONLINE:b.OFFLINE)}return u(e,[{key:"start",value:function(){r.network.changeEnd(this.change)}},{key:"pause",value:function(){r.network.remove(this.change)}}]),e}();function S(e){return function(t,n){e.onStatusChange(function(e){var r;e===b.ONLINE&&(null==(r=t[n])||r.call(t,e))})}}function D(e){return function(t,n){e.onStatusChange(function(e){var r;e===b.OFFLINE&&(null==(r=t[n])||r.call(t,e))})}}if(!window.networkStatusManager){var M=new E,T=new w(M.changersManager);T.start(),window.networkStatusManager={instance:M,netcheckAdapter:T,decorators:function(e){return{online:S(e),offline:D(e)}}(M)}}var A=window.networkStatusManager,x=A.instance,N=A.netcheckAdapter,O=A.decorators,k=O.online,R=O.offline},439655:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(600441),t),i(n(210261),t),i(n(110396),t)},600441:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},210261:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OfflineEditBase=void 0;var l=n(324500),d=n(717457),f=c(n(384341)),p=n(52111),h=n(110396),g=n(531359),m=n(764434),v=n(511871),y=n(494782),b=n(509105),_=n(24409),C=n(365681),I=a(n(695522)),E="OnTencentDocsDBVersionChanged",w="beforeunload";t.OfflineEditBase=function(){function e(e,t){var n,r=this;this.option=e,this.delegate=t,this.tag="OfflineEditBase",this.databaseType=f.default.isSupportNativeDatabase?l.DBEngineType.nativeDB:l.DBEngineType.indexDB,this.isStorageAvailable=!1,this.isStorageInitAvailable=!1,this.isResubmitFinish=!1,this.initDatabaseLastTime=+new Date,this.databaseName="1"===(0,y.getUrlParameter)("usebackupdb")?l.DB_NAME_BACKUP:d.DB_NAME,this.databaseVersionUpgrade=function(){y.logger.info(r.tag,E),r.isStorageAvailable=!1},this.beforeunload=function(){y.logger.info(r.tag,"beforeunload"),function(){s(r,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:if(!this.mutexLockHelper.isLocked())return[3,5];if(e=void 0,!this.delegate.hasLocalChanges)return[3,1];return e=this.delegate.hasLocalChanges(),[3,3];case 1:return[4,this.hasLocalChanges()];case 2:e=t.sent(),t.label=3;case 3:if(e)return[3,5];return y.StoredFlagUtil.removeItem(this.option.documentInfo),[4,this.mutexLockHelper.release()];case 4:t.sent(),t.label=5;case 5:return[2]}})})}()},v.Reporter.init(this.option.documentInfo),this.mutexLockHelper=new m.MutexLockHelper(this.option.documentInfo,null==(n=e.config)?void 0:n.isDisableNativeLock)}return e.prototype.init=function(e){return void 0===e&&(e=!1),s(this,void 0,void 0,function(){var t,n,r,i,o,a,s;return u(this,function(u){switch(u.label){case 0:if(this.isDisableOfflineEdit(e))return t=new b.ResubmitResult("OFFLINE_EDIT_DATABASE_UNAVAILABLE_DISABLE"),b.OfflineEditDatabaseInitFinishEventEmitter.fire(t),v.Reporter.reportStatus({attrName:"OFFLINE_EDIT_DATABASE_UNAVAILABLE_DISABLE",status:0,databaseType:this.databaseType}),[2,t];return n=+new Date,[4,this.initDatabase()];case 1:if(r=u.sent(),this.isStorageInitAvailable=r,o=(i=+new Date)-n,v.Reporter.reportValue({attrName:"OFFLINE_EDIT_DATABASE_INIT",value:o,databaseType:this.databaseType}),v.Reporter.reportStatus({attrName:"OFFLINE_EDIT_DATABASE_INIT",status:+!r,databaseType:this.databaseType}),!r)return y.logger.warn(this.tag,"StorageManager init fail."),t=new b.ResubmitResult("OFFLINE_EDIT_DATABASE_UNAVAILABLE"),b.OfflineEditDatabaseInitFinishEventEmitter.fire(t),[2,t];return y.logger.info(this.tag,"name:".concat(this.databaseName," init finish. databaseInitCost:").concat(o,"ms.")),[4,this.mutexLockHelper.lock()];case 2:if(a=u.sent(),y.logger.info(this.tag,"init finish. databaseType:".concat(this.databaseType," lockInitCost:").concat(new Date-i,"ms isStorageAvailable:").concat(this.isStorageAvailable,", isLockSuccess:").concat(a,".")),b.AfterContentChangeEventEmitter.fire({}),this.initDatabaseVersionUpgrade(),window.addEventListener(w,this.beforeunload),s=new b.ResubmitResult("OFFLINE_EDIT_DATABASE_INIT"),b.OfflineEditDatabaseInitFinishEventEmitter.fire(s),!f.default.isNativeDatabaseWillDeprecated)return[3,4];return this.nativeDBHelper=new C.NativeDBDeprecatedHelper(this.option,this.delegate),[4,this.nativeDBHelper.init()];case 3:u.sent(),u.label=4;case 4:return[2,s]}})})},e.prototype.reInitDatabase=function(){var e,t;return s(this,void 0,void 0,function(){var n,r;return u(this,function(i){switch(i.label){case 0:if(!(this.isStorageInitAvailable&&!this.isStorageAvailable&&((null==(e=this.option.config)?void 0:e.isUseResubmit)&&this.isResubmitFinish||!(null==(t=this.option.config)?void 0:t.isUseResubmit))&&Date.now()-this.initDatabaseLastTime>3e5))return[3,2];return this.initDatabaseLastTime=+new Date,n=+new Date,[4,this.initDatabase()];case 1:i.sent(),r=new Date-n,y.logger.info(this.tag,"reInitDatabase databaseType:".concat(this.databaseType," isStorageAvailable:").concat(this.isStorageAvailable," databaseInitCost:").concat(r,"ms.")),i.label=2;case 2:return[2]}})})},e.prototype.dispose=function(){var e;return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return window.removeEventListener(E,this.databaseVersionUpgrade),window.removeEventListener(w,this.beforeunload),[4,null==(e=this.mutexLockHelper)?void 0:e.dispose()];case 1:return t.sent(),[2,!0]}})})},e.prototype.canWrite=function(){return s(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:if(!this.isStorageAvailable)return[2,!1];if(this.mutexLockHelper.isLocked())return[2,!0];if(y.StoredFlagUtil.hasChanges(this.option.documentInfo)===String(!0))return[2,!1];return[4,this.hasLocalChanges()];case 1:if(e.sent())return[2,!1];return[4,this.mutexLockHelper.lock()];case 2:return[2,e.sent()]}})})},e.prototype.canRead=function(){return this.isStorageAvailable},e.prototype.getChanges=function(e){var t,n,r,i;return s(this,void 0,void 0,function(){var o,a,s,c;return u(this,function(u){switch(u.label){case 0:if(o=null!=e?e:{types:h.DEFAULT_DATA_TYPES},this.canRead())return[3,3];if(!(null==(t=this.nativeDBHelper)?void 0:t.databaseAvaible))return[3,2];return[4,this.nativeDBHelper.getChanges(o)];case 1:return[2,u.sent()];case 2:return[2,(0,y.canNotRead)()];case 3:return u.trys.push([3,7,,8]),[4,this.localChangesHelper.getChanges(o)];case 4:if(!((null==(n=(a=u.sent()).data)?void 0:n.length)===0&&(null==(r=this.nativeDBHelper)?void 0:r.databaseAvaible)))return[3,6];return[4,this.nativeDBHelper.getChanges(o)];case 5:if(null==(i=(s=u.sent()).data)?void 0:i.length)return[2,s];u.label=6;case 6:return[2,a];case 7:return c=u.sent(),this.isStorageAvailable=!1,[2,new p.Result(c)];case 8:return[2]}})})},e.prototype.upsertChanges=function(e){return s(this,void 0,void 0,function(){var t;return u(this,function(n){switch(n.label){case 0:return y.logger.info(this.tag,"upsertChanges length:".concat(e.length),e.map(function(e){return{version:e.version,taskId:e.taskId,type:e.type,createTimestamp:e.createTimestamp}})),[4,this.canUpdateChanges()];case 1:if(!n.sent())return y.logger.warn(this.tag,"upsertChanges fail, isStorageAvailable:".concat(this.isStorageAvailable,", locked:").concat(this.mutexLockHelper.isLocked())),[2,(0,y.canNotWrite)("isStorageAvailable:".concat(this.isStorageAvailable))];n.label=2;case 2:return n.trys.push([2,4,,5]),[4,this.localChangesHelper.upsertChanges(e)];case 3:return[2,n.sent()];case 4:return t=n.sent(),y.logger.error(this.tag,"upsertChanges error: ".concat(t.message,", , ").concat(t.stack,".")),this.isStorageAvailable=!1,[2,new p.Result(t)];case 5:return[2]}})})},e.prototype.deleteChanges=function(e){var t;return s(this,void 0,void 0,function(){var n;return u(this,function(r){switch(r.label){case 0:return(null==(t=this.nativeDBHelper)?void 0:t.databaseAvaible)&&this.nativeDBHelper.deleteChanges(e),[4,this.canUpdateChanges()];case 1:if(!r.sent())return y.logger.warn(this.tag,"deleteChanges fail, isStorageAvailable:".concat(this.isStorageAvailable,", locked:").concat(this.mutexLockHelper.isLocked())),[2,(0,y.canNotWrite)("isStorageAvailable:".concat(this.isStorageAvailable))];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this.localChangesHelper.deleteChanges(e)];case 3:return[2,r.sent()];case 4:return n=r.sent(),this.isStorageAvailable=!1,[2,new p.Result(n)];case 5:return[2]}})})},e.prototype.deleteAndUpsertChanges=function(e,t){return s(this,void 0,void 0,function(){var n;return u(this,function(r){switch(r.label){case 0:return y.logger.info(this.tag,"deleteAndUpsertChanges length:".concat(t.length),t.map(function(e){return{version:e.version,taskId:e.taskId,type:e.type,createTimestamp:e.createTimestamp}})),[4,this.canUpdateChanges()];case 1:if(!r.sent())return y.logger.warn(this.tag,"deleteAndUpsertChanges fail, isStorageAvailable:".concat(this.isStorageAvailable,", locked:").concat(this.mutexLockHelper.isLocked())),[2,(0,y.canNotWrite)("isStorageAvailable:".concat(this.isStorageAvailable))];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this.localChangesHelper.deleteAndUpsertChanges(e,t)];case 3:return[2,r.sent()];case 4:return n=r.sent(),this.isStorageAvailable=!1,[2,new p.Result(n)];case 5:return[2]}})})},e.prototype.hasLocalChanges=function(e){return s(this,void 0,void 0,function(){var t,n;return u(this,function(r){switch(r.label){case 0:if(!this.canRead())return y.logger.info(this.tag,"hasChanges can not read."),[2,!0];r.label=1;case 1:return r.trys.push([1,3,,4]),t=null!=e?e:{types:h.DEFAULT_DATA_TYPES},[4,this.localChangesHelper.hasChanges(t)];case 2:return[2,r.sent()];case 3:return n=r.sent(),this.isStorageAvailable=!1,[2,!0];case 4:return[2]}})})},e.prototype.canUpdateChanges=function(){var e;return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:if((null==(e=this.option.config)?void 0:e.isUseResubmit)&&!this.isResubmitFinish)return[2,!1];return[4,this.canWrite()];case 1:return[2,t.sent()]}})})},e.prototype.isDisableOfflineEdit=function(e){return!(!e&&(0,y.isDatabaseAvailable)())},e.prototype.initDatabaseVersionUpgrade=function(){window.addEventListener(E,this.databaseVersionUpgrade)},e.prototype.initDatabase=function(){return s(this,void 0,void 0,function(){var e,t=this;return u(this,function(n){switch(n.label){case 0:return this.localChangesHelper=new g.LocalChangesHelper(this.option.documentInfo,"1"===(0,y.getUrlParameter)("usebackupdb")?l.DB_NAME_BACKUP:d.DB_NAME),this.delegate.oldChangesTransForm&&this.localChangesHelper.setUpOldChangesTransForm(this.delegate.oldChangesTransForm),[4,I.default.checkDBAvailable(this.databaseType,this.databaseName)];case 1:return e=n.sent(),this.isStorageAvailable=e,I.default.on(I.DWDispacherEventName.VersionChange,function(e){e===t.databaseName&&t.databaseVersionUpgrade()}),[2,e]}})})},o([(0,_.BeforeRunDecorate)(function(){return b.BeforeContentChangeEventEmitter.fire({})})],e.prototype,"upsertChanges",null),o([(0,_.BeforeRunDecorate)(function(){return b.BeforeContentChangeEventEmitter.fire({})})],e.prototype,"deleteChanges",null),o([(0,_.BeforeRunDecorate)(function(e){return b.BeforeContentChangeEventEmitter.fire({changesNum:e})})],e.prototype,"deleteAndUpsertChanges",null),e}()},110396:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_DATA_TYPES=void 0;var r=n(717457);t.DEFAULT_DATA_TYPES=[r.DOCUMENT_DATA_TYPE.committing,r.DOCUMENT_DATA_TYPE.queue,r.DOCUMENT_DATA_TYPE.waiting]},24409:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResubmitDecorate=t.OutputResultDecorate=t.BeforeRunDecorate=void 0;var r=n(44488),i=n(494782),o=function(e,t){void 0===t&&(t="DEFAULT"),["OFFLINE_EDIT_UNKNOWN","OFFLINE_EDIT_GET_LOCAL_CHANGES_FAIL","OFFLINE_EDIT_MULTI_VERSION","OFFLINE_EDIT_LOCAL_CHANGES_APPLY_FAIL","OFFLINE_EDIT_GET_CHANGES_FAIL","OFFLINE_EDIT_BATCH_FAIL_BY_SERVER","OFFLINE_EDIT_FOLLOW_ERROR"].includes(e)&&(0,i.webLogReport)("".concat(t,"_").concat(e))},a=["OFFLINE_EDIT_GET_LOCAL_CHANGES_FAIL"];t.BeforeRunDecorate=function(e){return function(t,n,r){var i=r.value;r.value=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{Array.isArray(n)&&n.length>1&&(t=n[1].length)}catch(e){}null==e||e(t);var o=i.apply(this,arguments);return o}}},t.OutputResultDecorate=function(){return function(e,t,n){var r=n.value;n.value=function(){var e,t=this,n=r.apply(this,arguments);return null==(e=n.then)||e.call(n,function(e){var n,r;i.logger.info(t.tag,"result isSuccess:".concat(e.isSuccess,", ").concat(e.status,", retCode:").concat(e.retCode)),e.error&&i.logger.warn(t.tag,"result error:$ ".concat(null==(n=e.error)?void 0:n.message,", ").concat(null==(r=e.error)?void 0:r.stack))}),n}}},t.ResubmitDecorate=function(){return function(e,t,n){var s=n.value;n.value=function(){var e,t=this,n=s.apply(this,arguments);return null==(e=n.then)||e.call(n,function(e){var n,s;t.isResubmitFinish=!0,a.includes(e.status)&&(t.isStorageAvailable=!1),i.Reporter.reportStatus({attrName:e.status,status:0,errorMessage:"".concat(e.retCode),databaseType:t.databaseType}),e.retCode!==r.RoomWebsocketErrorCode.COMMIT_CHANGES_CONTAIN_REVERT&&o(e.status,null==(s=null==(n=t.option)?void 0:n.documentInfo)?void 0:s.documentType)}).catch(function(){var e,n;t.isResubmitFinish=!0,o("OFFLINE_EDIT_UNKNOWN",null==(n=null==(e=t.option)?void 0:e.documentInfo)?void 0:n.documentType)}),n}}}},531359:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LocalChangesHelper=void 0;var u=n(717457),c=n(52111),l=n(24409),d=n(509105),f=n(494782),p=s(n(695522)),h=s(n(175139));t.LocalChangesHelper=function(){function e(e,t){this.documentInfo=e,this.dbName=t,this.tag="LocalChangesHelper",this.dbName=t}return e.prototype.setUpOldChangesTransForm=function(e){this.transform=e},e.prototype.getChanges=function(e){return o(this,void 0,void 0,function(){var t,n,i,o;return a(this,function(a){switch(a.label){case 0:return t=r({uid:this.documentInfo.uid,secretId:this.documentInfo.secretId},e),[4,(0,f.applyFunctionTimeout)(p.default.run(h.default,"getOfflineDataChanges",{params:{storageOption:t},storageManagerConfigList:[{databaseName:this.dbName}]}))];case 1:return i=null!=(n=a.sent())?n:[],(o=this.offlineDataTransFormToBaseChanges(i)).sort(function(e,t){return e.createTimestamp===t.createTimestamp?e.type===u.DOCUMENT_DATA_TYPE.committing?-1:1:e.createTimestamp-t.createTimestamp}),[2,new c.Result(void 0,o)]}})})},e.prototype.hasChanges=function(e){return o(this,void 0,void 0,function(){var t,n,i,o;return a(this,function(a){switch(a.label){case 0:return t=r({uid:this.documentInfo.uid,secretId:this.documentInfo.secretId},e),n={limit:1},[4,(0,f.applyFunctionTimeout)(p.default.run(h.default,"getOfflineDataChanges",{params:{storageOption:t,queryOption:n},storageManagerConfigList:[{databaseName:this.dbName}]}))];case 1:return[2,(null==(o=null!=(i=a.sent())?i:[])?void 0:o.length)>0]}})})},e.prototype.upsertChanges=function(e){return o(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:if(!(null==e?void 0:e.length))return[2,new c.Result({name:this.tag,message:"upsertChanges changes is null"})];return[4,p.default.run(h.default,"upsertOfflineDataChanges",{params:{changes:this.storageChanges(e)},storageManagerConfigList:[{databaseName:this.dbName}]})];case 1:return t.sent(),[2,new c.Result(void 0,!0)]}})})},e.prototype.deleteChanges=function(e){return o(this,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return t=r({uid:this.documentInfo.uid,secretId:this.documentInfo.secretId},e),[4,p.default.run(h.default,"deleteOfflineDataChanges",{params:{option:t},storageManagerConfigList:[{databaseName:this.dbName}]})];case 1:return n.sent(),[2,new c.Result(void 0,!0)]}})})},e.prototype.deleteAndUpsertChanges=function(e,t){return o(this,void 0,void 0,function(){var n,i;return a(this,function(o){switch(o.label){case 0:return n=r({uid:this.documentInfo.uid,secretId:this.documentInfo.secretId},e),i={condition:e,idOption:{uid:n.uid,secretId:n.secretId},offlineDataList:this.storageChanges(t)},[4,p.default.run(h.default,"deleteAndUpsertChanges",{params:i,storageManagerConfigList:[{databaseName:this.dbName}]})];case 1:return o.sent(),[2,new c.Result(void 0,!0)]}})})},e.prototype.storageChanges=function(e){var t=this,n=[];return e.forEach(function(e){var i=e.version,o=e.taskId,a=e.subId,s=e.type,c=e.createTimestamp,l=e.chunkId,d=e.subGlobalPadId,f=e.subDocType,p=r(r({},t.documentInfo),{version:i,taskId:o,subId:a,type:s,createTimestamp:c,chunkId:l,isDefaultChunk:e.default,subGlobalPadId:null!=d?d:t.documentInfo.globalPadId,subDocType:null!=f?f:t.documentInfo.docType,data:JSON.stringify(e)}),h=new u.OfflineData(p);n.push(h)}),n},e.prototype.offlineDataTransFormToBaseChanges=function(e){var t=this;return e.filter(function(e){return e.data}).map(function(e){var n,r,i=e.data;try{var o=JSON.parse(i);return!o.modelVersion&&t.transform&&(o=t.transform(e)),o.subGlobalPadId=null!=(n=o.subGlobalPadId)?n:t.documentInfo.globalPadId,o.subDocType=null!=(r=o.subDocType)?r:t.documentInfo.docType,o.dataVersion=e.dataVersion,o}catch(n){f.logger.warn(t.tag,"offlineDataTransFormToBaseChanges fail.".concat(e.key))}return i})},i([(0,l.BeforeRunDecorate)(function(){return d.AfterContentChangeEventEmitter.fire({})})],e.prototype,"upsertChanges",null),i([(0,l.BeforeRunDecorate)(function(){return d.AfterContentChangeEventEmitter.fire({})})],e.prototype,"deleteChanges",null),i([(0,l.BeforeRunDecorate)(function(e){return d.AfterContentChangeEventEmitter.fire({changesNum:e})})],e.prototype,"deleteAndUpsertChanges",null),e}()},53602:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MutexLockState=void 0,function(e){e.INIT="INIT",e.FAILED="FAILED",e.SUCCESS="SUCCESS",e.RELEASE="RELEASE"}(n||(n={})),t.MutexLockState=n},764434:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MutexLockHelper=void 0;var a=n(911610),s=n(494782),u=o(n(384341)),c=n(509105),l=n(53602),d=function(e,t){return t||!u.default.isSupportNativeDatabase||(0,s.isOfflineDebug)()?new a.WebResourceLock(e):new a.ClientResourceLock(e)},f=3e4,p={strategy:0,period:1e3,autoRenewal:!0};t.MutexLockHelper=function(){function e(e,t){void 0===t&&(t=!1),this.info=e,this.tag="MutexLockHelper",this.lockState=l.MutexLockState.INIT,this.mutexLock=d(p,t),this.lockKey="offline_edit_".concat(this.info.secretId)}return e.prototype.dispose=function(){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return clearInterval(this.detectTimer),[4,this.release()];case 1:return e.sent(),[2,!0]}})})},e.prototype.isLockedByOtherPage=function(){var e,t;return!this.isLocked()&&(null==(t=null==(e=this.lastLockItem)?void 0:e.optional)?void 0:t.source)===c.MutexLockSource.EDIT},e.prototype.lock=function(){return r(this,void 0,void 0,function(){var e=this;return i(this,function(t){return this.lockPromise||(this.lockPromise=new Promise(function(t){e.mutexLock.lock(e.lockKey,{source:c.MutexLockSource.EDIT}).then(function(n){var r;if(e.lastLockItem=void 0,null==n?void 0:n.isSuccess)e.setLockState(l.MutexLockState.SUCCESS);else{e.lastLockItem=n.data,e.setLockState(l.MutexLockState.FAILED);var i=setTimeout(function(){e.reset(),clearTimeout(i)},f)}s.logger.info(e.tag,"\u7ADE\u4E89\u9501\u7ED3\u679C\uFF1A".concat(null==n?void 0:n.isSuccess," ").concat(null==(r=null==n?void 0:n.data)?void 0:r.id)),t(e.isLocked())})})),[2,this.lockPromise]})})},e.prototype.isLocked=function(){return this.lockState===l.MutexLockState.SUCCESS},e.prototype.detect=function(e,t){var n=this;void 0===t&&(t=200),s.logger.info("deteck lock, interval=".concat(t)),this.detectTimer=setInterval(function(){return r(n,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,this.mutexLock.detectKey(this.lockKey)];case 1:if(!(t=n.sent()).error&&void 0===t.data)return e(),clearInterval(this.detectTimer),[2];return t.data&&(this.lastLockItem=t.data),[2]}})})},t)},e.prototype.release=function(){return r(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,this.mutexLock.release(this.lockKey)];case 1:return e=t.sent(),s.logger.info(this.tag,"\u91CA\u653E\u9501\u7ED3\u679C\uFF1A".concat(e)),this.setLockState(l.MutexLockState.RELEASE),this.reset(),[2,!0]}})})},e.prototype.setLockState=function(e){e!==this.lockState&&(this.lockState=e)},e.prototype.reset=function(){this.lockPromise=void 0},e}()},365681:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.NativeDBDeprecatedHelper=void 0;var o=n(324500),a=n(717457),s=n(52111),u=n(531359),c=n(494782),l=n(439655);t.NativeDBDeprecatedHelper=function(){function e(e,t){this.option=e,this.delegate=t,this.tag="NativeDBDeprecatedHelper",this.isStorageAvailable=!1}return Object.defineProperty(e.prototype,"databaseAvaible",{get:function(){return this.isStorageAvailable},enumerable:!1,configurable:!0}),e.prototype.init=function(){return r(this,void 0,void 0,function(){var e,t,n;return i(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e={databaseName:a.DB_NAME,disabled:!0,type:o.DBEngineType.nativeDB,timeout:2e4},this.storageManager=new o.StorageManager(e),this.localChangesHelper=new u.LocalChangesHelper(this.option.documentInfo,a.DB_NAME),this.delegate.oldChangesTransForm&&this.localChangesHelper.setUpOldChangesTransForm(this.delegate.oldChangesTransForm),[4,this.storageManager.init()];case 1:return t=r.sent(),this.isStorageAvailable=t,c.logger.info(this.tag,"StorageManager init isSuccess:".concat(this.isStorageAvailable,".")),[3,3];case 2:return n=r.sent(),c.logger.warn(this.tag,"StorageManager init error:".concat(null==n?void 0:n.message,".")),[3,3];case 3:return[2]}})})},e.prototype.getChanges=function(e){return r(this,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:if(!this.isStorageAvailable)return[2,(0,c.canNotRead)()];r.label=1;case 1:return r.trys.push([1,3,,4]),t=null!=e?e:{types:l.DEFAULT_DATA_TYPES},[4,this.localChangesHelper.getChanges(t)];case 2:return[2,r.sent()];case 3:return n=r.sent(),this.isStorageAvailable=!1,[2,new s.Result(n)];case 4:return[2]}})})},e.prototype.deleteChanges=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,this.isStorageAvailable];case 1:if(!n.sent())return c.logger.warn(this.tag,"deleteChanges fail, isStorageAvailable:".concat(this.isStorageAvailable)),[2,(0,c.canNotWrite)("isStorageAvailable:".concat(this.isStorageAvailable))];n.label=2;case 2:return n.trys.push([2,4,,5]),[4,this.localChangesHelper.deleteChanges(e)];case 3:return[2,n.sent()];case 4:return t=n.sent(),this.isStorageAvailable=!1,[2,new s.Result(t)];case 5:return[2]}})})},e}()},910968:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.OfflineTipsType=void 0,function(e){e.NONE="NONE",e.OFFLINE_EDIT="OFFLINE_EDIT",e.OFFLINE_NOT_AVAILABLE="OFFLINE_NOT_AVAILABLE",e.OFFLINE_DATA_SYNC_PAGE_LOCK="OFFLINE_DATA_SYNC_PAGE_LOCK",e.OFFLINE_DATA_SYNCING="OFFLINE_DATA_SYNCING",e.OFFLINE_CACHE_TOO_MUCH="OFFLINE_CACHE_TOO_MUCH"}(n||(n={})),t.OfflineTipsType=n},495237:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OfflineTipsHelper=void 0;var a=o(n(869243)),s=o(n(164095)),u=n(910968),c=n(494782),l="UPDATE_SAVE_TIPS_OFFLINE_TEXT";t.OfflineTipsHelper=function(){function e(e,t){var n;this.delegate=e,this.dependency=t,this.tag="OfflineTipsHelper",this.isOffline=!1,this.isHiddenClosable=!1,this.tipsType=u.OfflineTipsType.NONE,this.messageMap=new Map([[u.OfflineTipsType.OFFLINE_EDIT,this.delegate.networkStatusSwitch.config.available],[u.OfflineTipsType.OFFLINE_NOT_AVAILABLE,this.delegate.networkStatusSwitch.config.unusable],[u.OfflineTipsType.OFFLINE_DATA_SYNC_PAGE_LOCK,this.delegate.networkStatusSwitch.config.otherTab],[u.OfflineTipsType.OFFLINE_DATA_SYNCING,this.delegate.networkStatusSwitch.config.offlineDataSyncing],[u.OfflineTipsType.OFFLINE_CACHE_TOO_MUCH,null!=(n=this.delegate.networkStatusSwitch.config.cache_too_much)?n:this.delegate.networkStatusSwitch.config.available]])}return e.prototype.contentChange=function(e){this.isOffline&&this.delegate.networkStatusSwitch&&(this.isHiddenClosable||this.showTips(this.shouldHiddenClosable(e)))},e.prototype.enterOffline=function(e,t,n){var o;return r(this,void 0,void 0,function(){var r,a=this;return i(this,function(i){switch(i.label){case 0:if(r=this.shouldHiddenClosable(n),this.isOffline&&(this.isHiddenClosable||!r))return[2];return c.logger.info(this.tag,"enterOffline ".concat(e,", reason:").concat(t)),this.isOffline=!0,[4,this.needShowTips(e)];case 1:return i.sent()&&((null==(o=null==t?void 0:t.includes)?void 0:o.call(t,"beforeunload"))?this.delayShowTipsTimer=setTimeout(function(){a.showTips(r)},3e3):this.showTips(r),c.Reporter.reportStatus({attrName:"OFFLINE_EDIT_ENTER_OFFLINE",errorMessage:t,databaseType:this.dependency.databaseType})),[2]}})})},e.prototype.enterOnline=function(e){var t;return r(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:if(this.delayShowTipsTimer&&(clearTimeout(this.delayShowTipsTimer),this.delayShowTipsTimer=0),this.isHiddenClosable=!1,!this.isOffline)return[2];return c.logger.info(this.tag,"enterOnline"),this.isOffline=!1,this.hideTips(),this.delegate.canEdit()&&(null==(t=this.delegate.networkStatusSwitch)||t.setEditAble()),[4,this.hasLocalChanges(e)];case 1:return n.sent()&&((0,c.isMobile)()?s.default.show({message:this.messageMap.get(u.OfflineTipsType.OFFLINE_DATA_SYNCING),type:"info",autoClose:!0,style:{marginTop:"64px"},duration:2e3}):a.default.show({message:this.messageMap.get(u.OfflineTipsType.OFFLINE_DATA_SYNCING),type:"info",autoClose:!0,duration:2e3,closable:!0})),c.Reporter.reportStatus({attrName:"OFFLINE_EDIT_ENTER_ONLINE",databaseType:this.dependency.databaseType}),[2]}})})},e.prototype.hasLocalChanges=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:if(null==e)return[3,1];return t=e,[3,3];case 1:return[4,this.dependency.hasLocalChanges()];case 2:t=n.sent(),n.label=3;case 3:return[2,t]}})})},e.prototype.getTipsType=function(){return r(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,this.dependency.canWrite()];case 1:if(e=t.sent(),this.dependency.mutexLockHelper.isLockedByOtherPage())return[2,u.OfflineTipsType.OFFLINE_DATA_SYNC_PAGE_LOCK];if(e){if(this.isHiddenClosable)return[2,u.OfflineTipsType.OFFLINE_CACHE_TOO_MUCH];return[2,u.OfflineTipsType.OFFLINE_EDIT]}return[2,u.OfflineTipsType.OFFLINE_NOT_AVAILABLE]}})})},e.prototype.getMessage=function(e){var t,n=this.messageMap.get(e)||this.delegate.networkStatusSwitch.config.available;return null==(t=this.delegate.eventEmitter)||t.emit(l,n),n},e.prototype.showTips=function(e){var t;return r(this,void 0,void 0,function(){var n;return i(this,function(r){switch(r.label){case 0:return e!==this.isHiddenClosable&&(this.isHiddenClosable=e),[4,this.getTipsType()];case 1:return((n=r.sent())!==this.tipsType||e)&&(this.tipsType=n,(0,c.isMobile)()?this.showMobileTips(e):this.showPCTips(e),(this.tipsType===u.OfflineTipsType.OFFLINE_NOT_AVAILABLE||this.tipsType===u.OfflineTipsType.OFFLINE_DATA_SYNC_PAGE_LOCK)&&(null==(t=this.delegate.networkStatusSwitch)||t.setDisableEdit())),[2]}})})},e.prototype.showMobileTips=function(e){this.snackbarInstance=s.default.show({message:this.getMessage(this.tipsType),type:"info",autoClose:!0,closable:!e,style:{marginTop:"64px"},id:c.OFFLINE_TIPS_CONTAINER_ID,duration:3e3})},e.prototype.showPCTips=function(e){this.snackbarInstance=a.default.show({message:this.getMessage(this.tipsType),type:"info",autoClose:!1,closable:!e,style:{zIndex:10001},id:c.OFFLINE_TIPS_CONTAINER_ID,scene:this.tipsType})},e.prototype.hideTips=function(){var e,t;this.tipsType=u.OfflineTipsType.NONE,null==(t=null==(e=this.snackbarInstance)?void 0:e.close)||t.call(e)},e.prototype.needShowTips=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:if(!(t=this.delegate.canEdit()))return[3,2];return[4,this.hasLocalChanges(e)];case 1:t=n.sent()||this.dependency.mutexLockHelper.isLockedByOtherPage()||!this.dependency.canRead(),n.label=2;case 2:return[2,t]}})})},e.prototype.shouldHiddenClosable=function(e){return!!(e&&e>50&&!1===this.isHiddenClosable)},e}()},312237:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(n(869243)),l=u(n(164095)),d=u(n(905252)),f=u(n(623153)),p=n(717457),h=n(44488),g=n(439655),m=n(509105),v=n(494782),y=n(624272),b=n(204188),_=function(e){return["OFFLINE_EDIT_BATCH_FAIL_BY_NETWORK","OFFLINE_EDIT_BATCH_COMMIT_NO_USE","OFFLINE_EDIT_BATCH_PAYLOAD_TOO_LARGE","BatchCommitAsyncTimeout"].includes(e.status)||e.retCode&&[h.RoomWebsocketErrorCode.SOCKET_DATA_BASEREV_ERROR,10001,h.DocEditorError.BodyTooLargeError,h.DataEngineCodes.ERR_GetDataEngineLockErr].includes(e.retCode)},C=1,I=-1,E=413,w=8e3,S=2e4;t.default=function(){function e(e,t,n,i){var o=this;this.option=e,this.delegate=t,this.localChangesHelper=n,this.nativeDBHelper=i,this.tag="ResubmitHelper",this.shouldCancelResubmit=!1,this.isUseNativeDatabase=!1,this.gettingNewChangesCallback=function(e){var t,n=e.pulledVersion,r=o.progressInfomation,i=r.latestVersion,a=r.localVersion,s=i-a;if(!0===o.shouldCancelResubmit)return{shouldCancel:o.shouldCancelResubmit};if(Date.now()-o.beginSyncingTime>w||s>1e3){var u=n-a;(null==(t=o.option.config)?void 0:t.supportAsyncCommit)?o.updateProgress(u/s/2+.5):o.updateProgress(u/s)}return{shouldCancel:o.shouldCancelResubmit}},this.updateProgress=function(e){var t,n,r=[];(null==(t=o.delegate.resubmit)?void 0:t.cancelResubmitConfig)&&Date.now()-o.beginSyncingTime>S&&r.push({text:o.delegate.resubmit.cancelResubmitConfig.cancelText,onClick:o.showCancelResubmitModal});var i={action:r.length?r:void 0,onClose:function(){return!1}};if(e){var a=Math.floor(Math.max(99*e,1));i.message="".concat(null==(n=o.delegate.resubmit)?void 0:n.offlineDataSyncing," ").concat(a,"%")}o.snackbarInstance.update(i)},this.showCancelResubmitModal=function(){var e,t,n=null==(e=o.delegate.resubmit)?void 0:e.cancelResubmitConfig;if(n){var i=n.getCancelResubmitWarnModalConfig(),a=r(r({},i),{zIndex:null!=(t=i.zIndex)?t:10002,onOk:function(e){var t;return o.shouldCancelResubmit=!0,o.hideSyncingTips(),null==(t=i.onOk)?void 0:t.call(i,e)}});(0,v.isMobile)()?f.default.confirm(a):d.default.confirm(a)}}}return e.prototype.resubmit=function(){var e,t,n;return i(this,void 0,void 0,function(){var r,i,a,s,u,c;return o(this,function(o){switch(o.label){case 0:if(!(0,v.precheck)(this.option.documentInfo))return[2,new m.ResubmitResult("OFFLINE_EDIT_NO_DATA")];o.label=1;case 1:return o.trys.push([1,7,,8]),[4,this.localChangesHelper.getChanges({types:g.DEFAULT_DATA_TYPES})];case 2:if(r=o.sent().data,i=[],!(!r.length&&(null==(e=this.nativeDBHelper)?void 0:e.databaseAvaible)))return[3,4];return[4,this.nativeDBHelper.getChanges({types:g.DEFAULT_DATA_TYPES})];case 3:i=o.sent().data,this.isUseNativeDatabase=!0,o.label=4;case 4:return a=r.length?r:i,[4,null==(n=null==(t=this.delegate.resubmit)?void 0:t.beforeResubmit)?void 0:n.call(t,a)];case 5:return s=o.sent(),[4,this.prepareHandleLocalChanges(null!=s?s:a)];case 6:return(u=o.sent()).isSuccess||this.printLocalChanges(a),[2,u];case 7:return c=o.sent(),v.logger.warn(this.tag,"resubmit fail, error: ".concat(c.message,", ").concat(c.stack)),[2,new m.ResubmitResult("OFFLINE_EDIT_GET_LOCAL_CHANGES_FAIL",c)];case 8:return[2]}})})},e.prototype.prepareHandleLocalChanges=function(e){return i(this,void 0,void 0,function(){var t,n,r,i,a;return o(this,function(o){switch(o.label){case 0:if(0===e.length)return v.logger.info(this.tag,"no data need handle."),[2,new m.ResubmitResult("OFFLINE_EDIT_NO_DATA")];if(v.logger.info(this.tag,"getChanges length:".concat(e.length),e.map(function(e){return{version:e.version,taskId:e.taskId,type:e.type,createTimestamp:e.createTimestamp}})),this.beginSyncing(),(t=this.getBaseVersion(e))!==I)return[3,2];return[4,this.handleLocalChangesToBackUp(e)];case 1:return o.sent(),this.hideSyncingTips(),[2,new m.ResubmitResult("OFFLINE_EDIT_MULTI_VERSION",Error("INVALID_BASE_REV."))];case 2:return o.trys.push([2,5,,6]),[4,this.checkNeedBackup(e)];case 3:if(n=o.sent(),0===(r=this.fliterAndSort(n)).length)return v.logger.info(this.tag,"no data need handle after filtered."),this.hideSyncingTips(),[2,new m.ResubmitResult("OFFLINE_EDIT_NO_DATA")];return[4,this.handleLocalChanges(r,t)];case 4:return i=o.sent(),this.hideSyncingTips(),[2,i];case 5:return a=o.sent(),v.logger.warn(this.tag,"prepareHandleLocalChanges error: ".concat(a.message,", ").concat(a.stack)),this.hideSyncingTips(),[2,new m.ResubmitResult("OFFLINE_EDIT_UNKNOWN",a)];case 6:return[2]}})})},e.prototype.handleLocalChanges=function(e,t){var n,r,a;return i(this,void 0,void 0,function(){var i,s,u=this;return o(this,function(o){switch(o.label){case 0:if(v.logger.info(this.tag,"handleLocalChanges localVersion:".concat(t,", version:").concat(this.option.version)),i=new m.ResubmitResult("OFFLINE_EDIT_BATCH_COMMIT_NO_USE"),!this.isUseBatchCommit(t))return[3,2];return s=function(e){return"number"==typeof e.process&&u.updateProgress(e.process/2),{cancelCommit:u.shouldCancelResubmit}},[4,this.batchCommitLocalChanges(e,t,s,null==(n=this.option.config)?void 0:n.supportAsyncCommit)];case 1:i=o.sent(),o.label=2;case 2:if(v.logger.info(this.tag,"handleLocalChanges status:".concat(i.status," retCode:").concat(i.retCode)),!(_(i)||(null==(a=null==(r=this.delegate.resubmit)?void 0:r.isContinueCommitByFollow)?void 0:a.call(r,i))))return[3,4];return[4,this.handleLocalChangesByVersion(e,t)];case 3:return[2,o.sent()];case 4:return[2,i]}})})},e.prototype.handleLocalChangesByVersion=function(e,t){return i(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:if(t!==this.option.version)return[3,2];return[4,this.handleLocalVersionEqualVersion(e)];case 1:case 3:return[2,n.sent()];case 2:if(!(t<this.option.version))return[3,4];return[4,this.handleLocalVersionLessThanVersion(e,t)];case 4:return[2,this.handleLocalVersionGreaterThanVersion(t,e)]}})})},e.prototype.applyLocalChanges=function(e){return i(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.delegate.resubmit.applyLocalChanges(e)];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),this.handleLocalChangesToBackUp(e),[2,new m.ResubmitResult("OFFLINE_EDIT_LOCAL_CHANGES_APPLY_FAIL",t)];case 3:return[2,new m.ResubmitResult("OFFLINE_EDIT_LOCAL_CHANGES_APPLY_SUCCESS")]}})})},e.prototype.handleLocalVersionEqualVersion=function(e){return i(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this.applyLocalChanges(e)];case 1:return[2,t.sent()]}})})},e.prototype.handleLocalVersionLessThanVersion=function(e,t){var n,r;return i(this,void 0,void 0,function(){var i,a,s,u,c,l,d,f,p,b,_;return o(this,function(o){switch(o.label){case 0:return this.progressInfomation={latestVersion:this.option.version,localVersion:e[0].version+1},i=new y.UpdateChangesHelper(this.option.version,this.delegate),a=e.map(function(e){return e.taskId}),[4,i.updateChanges(e,this.gettingNewChangesCallback)];case 1:if(u=(s=o.sent()).error,c=s.data,u){if("OFFLINE_EDIT_CANCEL_RESUBMIT"===u.name)return l=!0,this.handleLocalChangesToBackUp(e,l),[2,new m.ResubmitResult("OFFLINE_EDIT_CANCEL_RESUBMIT",u)];return(d=new m.ResubmitResult("OFFLINE_EDIT_FOLLOW_ERROR",u)).baseVersion=t,u.name==="".concat(h.RoomWebsocketErrorCode.COMMIT_CHANGES_CONTAIN_REVERT)&&(d.retCode=h.RoomWebsocketErrorCode.COMMIT_CHANGES_CONTAIN_REVERT),this.handleLocalChangesToBackUp(e),[2,d]}if(!(a.length&&0===c.length))return[3,15];o.label=2;case 2:o.trys.push([2,14,,15]),o.label=3;case 3:if(o.trys.push([3,8,,13]),!this.isUseNativeDatabase)return[3,5];return[4,null==(n=this.nativeDBHelper)?void 0:n.deleteChanges({taskIds:a})];case 4:return f=o.sent(),[3,7];case 5:return[4,this.localChangesHelper.deleteChanges({taskIds:a})];case 6:f=o.sent(),o.label=7;case 7:return[3,13];case 8:if(p=o.sent(),v.logger.warn(this.tag,"handleLocalVersionLessThanVersion, delete changes by taskid error:",p.message,p.stack),!this.isUseNativeDatabase)return[3,10];return[4,null==(r=this.nativeDBHelper)?void 0:r.deleteChanges({types:g.DEFAULT_DATA_TYPES})];case 9:return b=o.sent(),[3,12];case 10:return[4,this.localChangesHelper.deleteChanges({types:g.DEFAULT_DATA_TYPES})];case 11:b=o.sent(),o.label=12;case 12:return[3,13];case 13:return[3,15];case 14:return _=o.sent(),v.logger.warn(this.tag,"handleLocalVersionLessThanVersion, delete changes by type error:",_.message,_.stack),[3,15];case 15:return[4,this.applyLocalChanges(c)];case 16:return[2,o.sent()]}})})},e.prototype.fliterAndSort=function(e){var t,n,r;return(null!=(r=null==(n=(t=this.delegate.resubmit).filterLocalChange)?void 0:n.call(t,e))?r:e).sort(function(e,t){return e.createTimestamp-t.createTimestamp})},e.prototype.handleLocalVersionGreaterThanVersion=function(e,t){var n;return i(this,void 0,void 0,function(){var r,i,a,s;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,9,,10]),this.progressInfomation={latestVersion:e,localVersion:this.option.version+1},[4,this.delegate.resubmit.getNewChanges(this.option.version+1,e,this.gettingNewChangesCallback)];case 1:if(!((i=(r=o.sent())[r.length-1].newRev)<e))return[3,6];if(v.logger.info(this.tag,"\u771F\u5B9E\u540E\u53F0\u6700\u5927\u7248\u672C\u6BD4\u672C\u5730\u79BB\u7EBF\u7248\u672C\u8FD8\u8981\u5C0F\uFF0CmaxMissChangeVersion=".concat(i)),!this.isUseNativeDatabase)return[3,3];return[4,null==(n=this.nativeDBHelper)?void 0:n.deleteChanges({types:g.DEFAULT_DATA_TYPES})];case 2:return a=o.sent(),[3,5];case 3:return[4,this.localChangesHelper.deleteChanges({types:g.DEFAULT_DATA_TYPES})];case 4:a=o.sent(),o.label=5;case 5:return[2,new m.ResubmitResult("OFFLINE_EDIT_LOCAL_VERSION_GREATER_THAN_NEW_VERSION",Error("local version than server"))];case 6:return[4,this.delegate.resubmit.applyNewChanges(r)];case 7:return o.sent(),[4,this.applyLocalChanges(t)];case 8:return o.sent(),[3,10];case 9:return s=o.sent(),[2,new m.ResubmitResult("OFFLINE_EDIT_LOCAL_CHANGES_APPLY_FAIL",s)];case 10:return[2,new m.ResubmitResult("OFFLINE_EDIT_LOCAL_VERSION_GREATER_THAN_LAST_VERSION")]}})})},e.prototype.getBaseVersion=function(e){var t,n,r,i,o=new Set,s=I;try{for(var u=a(e),c=u.next();!c.done;c=u.next())s=c.value.version,o.add(s)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}if(o.size>C){var l="";try{for(var d=a(o),f=d.next();!f.done;f=d.next()){var p=f.value;l="".concat(l).concat(p,", ")}}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return v.logger.error(this.tag,"getBaseRev:".concat(l," ")),I}return s},e.prototype.batchCommitLocalChanges=function(e,t,n,a){var u,c,l,d;return void 0===a&&(a=!1),i(this,void 0,void 0,function(){var i,f,p,h,g,y;return o(this,function(o){switch(o.label){case 0:return i=s(e,1)[0],[4,this.delegate.resubmit.connectionController.batchCommitMessages(this.baseChange2Userchange(e),this.option.version,{additionalFieldsToCommon:r(r({},null==(u=this.option.config)?void 0:u.batchCommitAdditionalFields),this.isBase64Commands(i)?{commandsFormat:v.COMMANDS_FORMAT.PROTOBUF}:{}),supportAsyncCommit:a,loopBatchCommitStatusCallBack:n})];case 1:if(f=o.sent(),!this.isDataLostAfterFollow(f))return[3,3];return[4,this.batchCommitFail(f,e,t)];case 2:return[2,o.sent()];case 3:if(!f.success)return[3,13];o.label=4;case 4:if(o.trys.push([4,9,,10]),p=e.map(function(e){return e.taskId}),!this.isUseNativeDatabase)return[3,6];return[4,null==(c=this.nativeDBHelper)?void 0:c.deleteChanges({taskIds:p})];case 5:return h=o.sent(),[3,8];case 6:return[4,this.localChangesHelper.deleteChanges({taskIds:p})];case 7:h=o.sent(),o.label=8;case 8:return[3,10];case 9:return g=o.sent(),v.logger.warn(this.tag,"batchCommitLocalChanges deleteChanges error:".concat(g.message,", ").concat(g.stack)),[3,10];case 10:return o.trys.push([10,12,,13]),[4,null==(l=this.delegate.resubmit)?void 0:l.applyNewChanges(null!=(d=f.data)?d:[])];case 11:return o.sent(),[2,new m.ResubmitResult("OFFLINE_EDIT_BATCH_SUCCESS")];case 12:return y=o.sent(),[2,new m.ResubmitResult("OFFLINE_EDIT_LOCAL_CHANGES_APPLY_FAIL",y)];case 13:return[4,this.batchCommitFail(f,e,t)];case 14:return[2,o.sent()]}})})},e.prototype.isDataLostAfterFollow=function(e){var t,n;return e.success&&(null==(t=e.common)?void 0:t.need_optimize)&&(null==(n=e.common)?void 0:n.has_diff)},e.prototype.isBase64Commands=function(e){return e.modelVersion===v.OFFLINE_EDIT_MODEL_VERSION.DOC_PROTOBUF&&this.option.documentInfo.docType===p.DOCUMENT_TYPE.doc},e.prototype.isUseBatchCommit=function(e){var t,n,r;return(null==(t=this.delegate.resubmit)?void 0:t.getUseBatchCommit)?null==(n=this.delegate.resubmit)?void 0:n.getUseBatchCommit():!!(null==(r=this.option.config)?void 0:r.isUseBatchCommit)&&this.option.version>=e&&"0"!==(0,v.getUrlParameter)("commitchanges")},e.prototype.batchCommitFail=function(e,t,n){return i(this,void 0,void 0,function(){var r;return o(this,function(i){switch(i.label){case 0:if((r=new m.ResubmitResult("OFFLINE_EDIT_BATCH_FAIL_BY_NETWORK",void 0,e.retCode)).baseVersion=n,"ServerVerityException"!==e.type)return[3,3];if(r.status="OFFLINE_EDIT_BATCH_FAIL_BY_SERVER",e.retCode===h.RoomWebsocketErrorCode.COMMIT_CHANGES_CONTAIN_REVERT)return[3,2];return[4,this.handleLocalChangesToBackUp(t)];case 1:i.sent(),i.label=2;case 2:return[3,9];case 3:if("NetworkException"!==e.type)return[3,4];return(e.retCode===E||52003===e.retCode)&&(r.status="OFFLINE_EDIT_BATCH_PAYLOAD_TOO_LARGE"),[3,9];case 4:if(!this.isDataLostAfterFollow(e))return[3,6];return[4,this.handleLocalChangesToBackUp(t,!0)];case 5:return i.sent(),r.status="OFFLINE_EDIT_BATCH_FAIL_DATA_LOST",[3,9];case 6:if("BatchCommitAsyncTimeout"!==e.type)return[3,7];return r.status="BatchCommitAsyncTimeout",[3,9];case 7:if("UserCancelAsyncBatchCommit"!==e.type)return[3,9];return[4,this.handleLocalChangesToBackUp(t,!0)];case 8:i.sent(),r.status="UserCancelAsyncBatchCommit",i.label=9;case 9:return[2,r]}})})},e.prototype.baseChange2Userchange=function(e){var t=this,n=[];return null==e||e.forEach(function(e){var i,o=e.modelVersion===v.OFFLINE_EDIT_MODEL_VERSION.DOC_PROTOBUF&&t.option.documentInfo.docType===p.DOCUMENT_TYPE.doc,a=r(r({},e),{baseRev:e.version,changeset:o?"":null!=(i=e.changesetString)?i:"",base64Commands:o?e.changesetString:""});n.push(a)}),n},e.prototype.checkNeedBackup=function(e){return i(this,void 0,void 0,function(){var t,n,r,i;return o(this,function(o){switch(o.label){case 0:if(r=void 0===(n=(t=s(e,1)[0]).dataVersion)?"":n,i=t.version,!(0,v.isBigVersionUpgrade)(r,this.option.documentInfo.dataVersion))return[3,2];return[4,this.localChangesBackupToDatabase(e,i,!0,r)];case 1:return o.sent(),[2,[]];case 2:return[2,e]}})})},e.prototype.handleLocalChangesToBackUp=function(e,t){return i(this,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:return n=s(e,1)[0].version,[4,this.localChangesBackupToDatabase(e,n,t)];case 1:return r.sent(),[2]}})})},e.prototype.localChangesBackupToDatabase=function(e,t,n,r){var a;return void 0===n&&(n=!1),void 0===r&&(r=this.option.documentInfo.dataVersion),i(this,void 0,void 0,function(){var i,s,u,c,l,d;return o(this,function(o){switch(o.label){case 0:return i={version:t,documentInfo:{dataVersion:r,docType:this.option.documentInfo.docType,secretId:this.option.documentInfo.secretId,globalPadId:this.option.documentInfo.globalPadId,uid:this.option.documentInfo.uid}},[4,(s=new b.OfflineEditBackUp(i)).init()];case 1:if((u=o.sent()).error)return v.logger.warn(this.tag,"offlineEditBackUp init error: ".concat(u.error.message,", ").concat(u.error.stack)),[2,!1];return v.logger.info(this.tag,"offlineEditBackUp localChanges, dver:".concat(r,", localChanges.length:").concat(e.length)),[4,s.deleteAndUpsertChanges({types:g.DEFAULT_DATA_TYPES},e)];case 2:if(c=o.sent(),!(n&&c.data))return[3,9];o.label=3;case 3:if(o.trys.push([3,8,,9]),!this.isUseNativeDatabase)return[3,5];return[4,null==(a=this.nativeDBHelper)?void 0:a.deleteChanges({types:g.DEFAULT_DATA_TYPES})];case 4:return l=o.sent(),[3,7];case 5:return[4,this.localChangesHelper.deleteChanges({types:g.DEFAULT_DATA_TYPES})];case 6:l=o.sent(),o.label=7;case 7:return[3,9];case 8:return d=o.sent(),v.logger.warn(this.tag,"localChangesBackupToDatabase deleteChanges error:".concat(null==d?void 0:d.message,", ").concat(null==d?void 0:d.stack)),[3,9];case 9:return[4,s.dispose()];case 10:return o.sent(),[2,c.data]}})})},e.prototype.beginSyncing=function(){var e,t,n;null==(e=this.delegate.resubmit)||e.setDisableEdit(),this.beginSyncingTime=Date.now(),(0,v.isMobile)()?this.snackbarInstance=l.default.show({message:null==(t=this.delegate.resubmit)?void 0:t.offlineDataSyncing,type:"loading",autoClose:!1,closable:!1,style:{marginTop:"64px",zIndex:10001},id:v.OFFLINE_TIPS_CONTAINER_ID}):this.snackbarInstance=c.default.show({message:null==(n=this.delegate.resubmit)?void 0:n.offlineDataSyncing,type:"loading",autoClose:!1,closable:!1,style:{zIndex:10001},id:v.OFFLINE_TIPS_CONTAINER_ID})},e.prototype.hideSyncingTips=function(){var e,t=this;null==(e=this.delegate.resubmit)||e.setEditAble();var n=setTimeout(function(){var e,r;null==(r=null==(e=t.snackbarInstance)?void 0:e.close)||r.call(e),clearTimeout(n)},1e3)},e.prototype.printLocalChanges=function(e){var t,n=this;try{null==(t=e.forEach)||t.call(e,function(e){v.logger.info(n.tag,"taskId:".concat(e.taskId,", changesetString:").concat(e.changesetString))})}catch(e){v.logger.warn(this.tag,"printLocalChanges error:".concat(null==e?void 0:e.message))}},e}()},624272:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateChangesHelper=void 0;var o=n(52111),a=n(209649),s=function(){var e=Error("cancel resubmit");return e.name="OFFLINE_EDIT_CANCEL_RESUBMIT",e};t.UpdateChangesHelper=function(){function e(e,t){this.version=e,this.delegate=t,this.tag="UpdateChangesHelper"}return e.prototype.updateChanges=function(e,t){return r(this,void 0,void 0,function(){var n;return i(this,function(r){switch(r.label){case 0:if(a.logger.info(this.tag,"updateChanges changes.length:".concat(e.length)),!(null==e?void 0:e.length))return[2,new o.Result(void 0,[])];return n=e[0].version+1,[4,this.getMissToFollow(e,n,this.version,t)];case 1:return[2,r.sent()]}})})},e.prototype.getMissToFollow=function(e,t,n,u){return r(this,void 0,void 0,function(){var r,c,l,d,f,p=this;return i(this,function(i){switch(i.label){case 0:a.logger.info(this.tag,"getMissToFollow fromVersion:".concat(t,", toVersion").concat(n," ")),r=!1,c=function(e){var t=u(e);return t.shouldCancel&&(r=!0),t},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.delegate.resubmit.getNewChanges(t,n,c)];case 2:if(l=i.sent(),r)return[2,new o.Result(s(),void 0)];return d=e,null==l||l.forEach(function(e){(null==d?void 0:d.length)&&d[0].taskId===Number(e.commitId)?(d.forEach(function(t){t.version=e.newRev}),d.shift()):d=p.delegate.resubmit.follow(d,e)}),a.logger.info(this.tag,"getMissToFollow end, toFollowChanges.length:".concat(d.length)),[2,new o.Result(void 0,d)];case 3:return f=i.sent(),a.logger.warn(this.tag,"getMissToFollow getNewChanges error:".concat(f.message)),[2,new o.Result(f,void 0)];case 4:return[2]}})})},e}()},124243:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.OFFLINE_TIPS_CONTAINER_ID=t.OFFLINE_EDIT_CODE=t.DEFAULT_DATA_TYPES=t.Result=void 0;var o=n(52111);Object.defineProperty(t,"Result",{enumerable:!0,get:function(){return o.Result}}),i(n(509105),t),i(n(204188),t);var a=n(439655);Object.defineProperty(t,"DEFAULT_DATA_TYPES",{enumerable:!0,get:function(){return a.DEFAULT_DATA_TYPES}}),i(n(809078),t),i(n(371519),t);var s=n(421885);Object.defineProperty(t,"OFFLINE_EDIT_CODE",{enumerable:!0,get:function(){return s.OFFLINE_EDIT_CODE}}),Object.defineProperty(t,"OFFLINE_TIPS_CONTAINER_ID",{enumerable:!0,get:function(){return s.OFFLINE_TIPS_CONTAINER_ID}})},969973:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},997054:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CommitFailReason=void 0,function(e){e.None="None",e.Network="Network",e.ServerVerity="ServerVerity"}(n=t.CommitFailReason||(t.CommitFailReason={}))},602682:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},668614:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(602682),t),i(n(285618),t)},285618:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},45970:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onOfflineEditDatabaseInitFinishEvent=t.onAfterContentChangeEvent=t.onBeforeContentChangeEvent=t.OfflineEditDatabaseInitFinishEventEmitter=t.AfterContentChangeEventEmitter=t.BeforeContentChangeEventEmitter=void 0;var r=n(107995),i=new r.Emitter;t.BeforeContentChangeEventEmitter=i;var o=new r.Emitter;t.AfterContentChangeEventEmitter=o;var a=new r.Emitter;t.OfflineEditDatabaseInitFinishEventEmitter=a,t.onBeforeContentChangeEvent=i.event,t.onAfterContentChangeEvent=o.event,t.onOfflineEditDatabaseInitFinishEvent=a.event},200044:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},509105:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(969973),t),i(n(997054),t),i(n(200044),t),i(n(605081),t),i(n(594103),t),i(n(668614),t),i(n(240917),t),i(n(73679),t),i(n(398179),t),i(n(45970),t)},240917:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MutexLockSource=void 0,function(e){e.EDIT="edit",e.LIST="list"}(n||(n={})),t.MutexLockSource=n},605081:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},398179:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.IOfflineEditStatus=void 0,function(e){e.OFFLINE_EDIT_UNKNOWN="OFFLINE_EDIT_UNKNOWN",e.OFFLINE_EDIT_READONLY_DOCUMENT="OFFLINE_EDIT_READONLY_DOCUMENT",e.OFFLINE_EDIT_DELEGATE_NO_IMPLEMENTS="OFFLINE_EDIT_DELEGATE_NO_IMPLEMENTS",e.OFFLINE_EDIT_DATABASE_UNAVAILABLE="OFFLINE_EDIT_DATABASE_UNAVAILABLE",e.OFFLINE_EDIT_DATABASE_UNAVAILABLE_DISABLE="OFFLINE_EDIT_DATABASE_UNAVAILABLE_DISABLE",e.OFFLINE_EDIT_DATABASE_INIT="OFFLINE_EDIT_DATABASE_INIT",e.OFFLINE_EDIT_GET_LOCAL_CHANGES_FAIL="OFFLINE_EDIT_GET_LOCAL_CHANGES_FAIL",e.OFFLINE_EDIT_PRECHECK="OFFLINE_EDIT_PRECHECK",e.OFFLINE_EDIT_NO_DATA="OFFLINE_EDIT_NO_DATA",e.OFFLINE_EDIT_MULTI_VERSION="OFFLINE_EDIT_MULTI_VERSION",e.OFFLINE_EDIT_SUCCESS="OFFLINE_EDIT_SUCCESS",e.OFFLINE_EDIT_LOCAL_CHANGES_APPLY_SUCCESS="OFFLINE_EDIT_LOCAL_CHANGES_APPLY_SUCCESS",e.OFFLINE_EDIT_LOCAL_CHANGES_APPLY_FAIL="OFFLINE_EDIT_LOCAL_CHANGES_APPLY_FAIL",e.OFFLINE_EDIT_LOCAL_VERSION_EQUAL_NEW_VERSION="OFFLINE_EDIT_LOCAL_VERSION_EQUAL_NEW_VERSION",e.OFFLINE_EDIT_LOCAL_VERSION_GREATER_THAN_LAST_VERSION="OFFLINE_EDIT_LOCAL_VERSION_GREATER_THAN_LAST_VERSION",e.OFFLINE_EDIT_LOCAL_VERSION_GREATER_THAN_NEW_VERSION="OFFLINE_EDIT_LOCAL_VERSION_GREATER_THAN_NEW_VERSION",e.OFFLINE_EDIT_LOCAL_CHANGES_LESS_THAN_NEW_VERSION="OFFLINE_EDIT_LOCAL_CHANGES_LESS_THAN_NEW_VERSION",e.OFFLINE_EDIT_GET_CHANGES_FAIL="OFFLINE_EDIT_GET_CHANGES_FAIL",e.OFFLINE_EDIT_FOLLOW_ERROR="OFFLINE_EDIT_FOLLOW_ERROR",e.OFFLINE_EDIT_BATCH_COMMIT_NO_USE="OFFLINE_EDIT_BATCH_COMMIT_NO_USE",e.OFFLINE_EDIT_BATCH_SUCCESS="OFFLINE_EDIT_BATCH_SUCCESS",e.OFFLINE_EDIT_BATCH_PAYLOAD_TOO_LARGE="OFFLINE_EDIT_BATCH_PAYLOAD_TOO_LARGE",e.OFFLINE_EDIT_BATCH_FAIL_BY_NETWORK="OFFLINE_EDIT_BATCH_FAIL_BY_NETWORK",e.OFFLINE_EDIT_BATCH_FAIL_BY_SERVER="OFFLINE_EDIT_BATCH_FAIL_BY_SERVER",e.OFFLINE_EDIT_BATCH_FAIL_DATA_LOST="OFFLINE_EDIT_BATCH_FAIL_DATA_LOST",e.OFFLINE_EDIT_ENTER_OFFLINE="OFFLINE_EDIT_ENTER_OFFLINE",e.OFFLINE_EDIT_ENTER_ONLINE="OFFLINE_EDIT_ENTER_ONLINE",e.OFFLINE_EDIT_CANCEL_RESUBMIT="OFFLINE_EDIT_CANCEL_RESUBMIT",e.BATCH_COMMIT_ASYNC_TIMEOUT="BatchCommitAsyncTimeout",e.USER_CANCEL_ASYNC_BATCH_COMMIT="UserCancelAsyncBatchCommit"}(n=t.IOfflineEditStatus||(t.IOfflineEditStatus={}))},73679:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},594103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResubmitResult=void 0;var r=n(494782),i=["OFFLINE_EDIT_UNKNOWN","OFFLINE_EDIT_MULTI_VERSION","OFFLINE_EDIT_BATCH_FAIL_BY_SERVER","OFFLINE_EDIT_GET_CHANGES_FAIL","OFFLINE_EDIT_FOLLOW_ERROR","OFFLINE_EDIT_LOCAL_CHANGES_APPLY_FAIL","OFFLINE_EDIT_LOCAL_VERSION_GREATER_THAN_NEW_VERSION"];t.ResubmitResult=function(){function e(e,t,n){void 0===n&&(n=r.OFFLINE_EDIT_CODE.SUCCESS),this.status=e,this.error=t,this.retCode=n,this.isSuccess||n||(this.retCode=r.OFFLINE_EDIT_CODE.RESUBMIT_FAIL)}return Object.defineProperty(e.prototype,"isSuccess",{get:function(){return!i.includes(this.status)},enumerable:!1,configurable:!0}),e}()},204188:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OfflineEditBackUp=void 0;var a=n(324500),s=n(52111),u=o(n(384341)),c=n(494782),l=n(531359),d=n(439655),f=n(509105),p=o(n(695522));t.OfflineEditBackUp=function(){function e(e){this.option=e,this.tag="OfflineEditBackUp",this.dbEngineType=u.default.isSupportNativeDatabase?a.DBEngineType.nativeDB:a.DBEngineType.indexDB}return e.prototype.init=function(){return r(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return this.localChangesHelper=new l.LocalChangesHelper(this.option.documentInfo,a.DB_NAME_BACKUP),[4,p.default.checkDBAvailable(this.dbEngineType,a.DB_NAME_BACKUP)];case 1:if(e=t.sent(),this.isStorageAvailable=e,!e)return[2,new f.ResubmitResult("OFFLINE_EDIT_DATABASE_UNAVAILABLE")];return c.logger.info(this.tag,"init finish. isStorageAvailable:".concat(this.isStorageAvailable)),[2,new f.ResubmitResult("OFFLINE_EDIT_DATABASE_INIT")]}})})},e.prototype.dispose=function(){return r(this,void 0,void 0,function(){return i(this,function(e){return[2,!0]})})},e.prototype.canWrite=function(){return this.isStorageAvailable},e.prototype.getChanges=function(e){return void 0===e&&(e={types:d.DEFAULT_DATA_TYPES}),r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:if(!this.canWrite())return[2,(0,c.canNotRead)()];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.localChangesHelper.getChanges(e)];case 2:return[2,n.sent()];case 3:return t=n.sent(),this.isStorageAvailable=!1,[2,new s.Result(t)];case 4:return[2]}})})},e.prototype.upsertChanges=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:if(!this.canWrite())return c.logger.warn(this.tag,"upsertChanges can not write."),[2,(0,c.canNotWrite)()];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.localChangesHelper.upsertChanges(e)];case 2:return[2,n.sent()];case 3:return t=n.sent(),c.logger.error(this.tag,"upsertChanges error: ".concat(t.message,", , ").concat(t.stack,".")),this.isStorageAvailable=!1,[2,new s.Result(t)];case 4:return[2]}})})},e.prototype.deleteChanges=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:if(!this.canWrite())return c.logger.warn(this.tag,"deleteChanges can not write."),[2,(0,c.canNotWrite)("isStorageAvailable:".concat(this.isStorageAvailable))];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.localChangesHelper.deleteChanges(e)];case 2:return[2,n.sent()];case 3:return t=n.sent(),this.isStorageAvailable=!1,[2,new s.Result(t)];case 4:return[2]}})})},e.prototype.deleteAndUpsertChanges=function(e,t){return r(this,void 0,void 0,function(){var n;return i(this,function(r){switch(r.label){case 0:if(!this.canWrite())return c.logger.warn(this.tag,"deleteAndUpsertChanges can not write."),[2,(0,c.canNotWrite)()];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.localChangesHelper.deleteAndUpsertChanges(e,t)];case 2:return[2,r.sent()];case 3:return n=r.sent(),this.isStorageAvailable=!1,[2,new s.Result(n)];case 4:return[2]}})})},e}()},371519:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OfflineEdit=void 0;var u=n(439655),c=n(494782),l=n(509105),d=s(n(312237)),f=n(495237),p=n(24409),h=6e4;t.OfflineEdit=function(e){function t(t,n){var r,i=this;return(i=e.call(this,t,n)||this).tag="OfflineEdit",i.beforeContentChange=function(e){var t;null==(t=i.offlineTipsHelper)||t.contentChange(null==e?void 0:e.changesNum),i.reInitDatabase()},i.afterContentChange=function(){c.StoredFlagUtil.setItem(i.option.documentInfo,!0),i.delayReleaseLock()},((null==(r=i.option.config)?void 0:r.isUserTips)||i.delegate.networkStatusSwitch)&&(i.offlineTipsHelper=new f.OfflineTipsHelper(n,i)),(0,l.onBeforeContentChangeEvent)(i.beforeContentChange),(0,l.onAfterContentChangeEvent)(i.afterContentChange),i}return r(t,e),t.prototype.enterOffline=function(e,t,n){var r;if(!this.delegate.networkStatusSwitch)return void c.logger.warn(this.tag,"tipsDelegate is undefined, please implements");null==(r=this.offlineTipsHelper)||r.enterOffline(e,t,n)},t.prototype.enterOnline=function(){var e;if(!this.delegate.networkStatusSwitch)return void c.logger.warn(this.tag,"tipsDelegate is undefined, please implements");null==(e=this.offlineTipsHelper)||e.enterOnline()},t.prototype.init=function(t){var n;return void 0===t&&(t=!1),o(this,void 0,void 0,function(){var r,i;return a(this,function(o){switch(o.label){case 0:if(!t)return[3,2];return this.isResubmitFinish=!0,[4,e.prototype.init.call(this,t)];case 1:case 4:return[2,o.sent()];case 2:if(!1===this.delegate.canEdit())return e.prototype.init.call(this,t),this.isResubmitFinish=!0,c.Reporter.reportStatus({attrName:"OFFLINE_EDIT_READONLY_DOCUMENT",status:0,databaseType:this.databaseType}),[2,new l.ResubmitResult("OFFLINE_EDIT_READONLY_DOCUMENT")];if(r=this.precheck(),c.Reporter.reportStatus({attrName:"OFFLINE_EDIT_PRECHECK",status:+!r,databaseType:this.databaseType}),!1===r)return e.prototype.init.call(this,t),this.isResubmitFinish=!0,[2,new l.ResubmitResult("OFFLINE_EDIT_NO_DATA")];return[4,e.prototype.init.call(this,t)];case 3:if(i=o.sent(),!(null==(n=this.option.config)?void 0:n.isUseResubmit))return[3,5];return[4,this.resubmit()];case 5:return[2,i]}})})},t.prototype.disenable=function(e){return o(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return c.logger.warn(this.tag,"disenable, reason:".concat(e)),[4,this.release()];case 1:return t.sent(),this.isStorageAvailable=!1,[2]}})})},t.prototype.precheck=function(){var e=(0,c.precheck)(this.option.documentInfo);return c.logger.info(this.tag,"precheck: ".concat(e)),e},t.prototype.release=function(){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:if(!this.mutexLockHelper.isLocked())return[3,3];return[4,this.mutexLockHelper.release()];case 1:return e.sent(),[4,this.hasLocalChanges()];case 2:e.sent()||c.StoredFlagUtil.removeItem(this.option.documentInfo),e.label=3;case 3:return[2]}})})},t.prototype.resubmit=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:if(!this.delegate.canEdit())return[2,new l.ResubmitResult("OFFLINE_EDIT_READONLY_DOCUMENT")];if(!this.delegate.resubmit)return[2,new l.ResubmitResult("OFFLINE_EDIT_DELEGATE_NO_IMPLEMENTS",Error("delegate.restore is undefined, please implements"))];if(!this.canRead())return[2,new l.ResubmitResult("OFFLINE_EDIT_DATABASE_UNAVAILABLE",Error("database is unavailable, can not resubmit."))];if(e=new d.default(this.option,this.delegate,this.localChangesHelper,this.nativeDBHelper),"1"===(0,c.getUrlParameter)("debugforceerror"))return[2,new l.ResubmitResult("OFFLINE_EDIT_UNKNOWN")];return[4,e.resubmit()];case 1:return[2,t.sent()]}})})},t.prototype.resetReleaseLockTimer=function(){this.releaseLockTimer&&clearInterval(this.releaseLockTimer)},t.prototype.delayReleaseLock=function(){var e,t=this;(null==(e=this.option.config)||!e.isDisableAutoReleaseLock)&&(this.resetReleaseLockTimer(),this.mutexLockHelper.isLocked()&&(this.releaseLockTimer=setInterval(function(){return o(t,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this.hasLocalChanges()];case 1:if(e.sent())return[2];return[4,this.mutexLockHelper.release()];case 2:return e.sent(),this.resetReleaseLockTimer(),c.StoredFlagUtil.removeItem(this.option.documentInfo),[2]}})})},h)))},i([(0,p.OutputResultDecorate)()],t.prototype,"init",null),i([(0,p.ResubmitDecorate)(),(0,p.OutputResultDecorate)()],t.prototype,"resubmit",null),t}(u.OfflineEditBase)},809078:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},421885:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OFFLINE_TIPS_CONTAINER_ID=t.canNotRead=t.canNotWrite=t.COMMANDS_FORMAT=t.OFFLINE_EDIT_MODEL_VERSION=t.OFFLINE_EDIT_CODE=void 0;var r,i,o,a=n(52111);!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.RESUBMIT_FAIL=73001]="RESUBMIT_FAIL"}(r||(r={})),t.OFFLINE_EDIT_CODE=r,function(e){e.DOC_JSON="1.0",e.DOC_PROTOBUF="2.0"}(i||(i={})),t.OFFLINE_EDIT_MODEL_VERSION=i,function(e){e[e.JSON=0]="JSON",e[e.PROTOBUF=1]="PROTOBUF"}(o||(o={})),t.COMMANDS_FORMAT=o,t.canNotWrite=function(e){return new a.Result(Error("can\u2019t write by ".concat(e)))},t.canNotRead=function(){return new a.Result(Error("read fail\uFF0Cdatabase can\u2019t use."))},t.OFFLINE_TIPS_CONTAINER_ID="OFFLINE_TIPS_CONTAINER_ID"},158447:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.isMobile=t.getUrlParameter=t.isBigVersionUpgrade=t.isDatabaseAvailable=t.isOfflineDebug=void 0;var i=n(687129),o=n(384341),a="offline-debug",s="1",u="2.2.29";t.isOfflineDebug=function(){return(0,i.getQuery)(a)===s},t.isDatabaseAvailable=function(){var e=new o.UserAgent;return!e.isElectronTencentDocsClient||!!e.isElectronTencentDocsClientVersionAboveOrEqual(u)},t.isBigVersionUpgrade=function(e,t){try{if(e&&t){var n=r(e.split("."),1)[0],i=r(t.split("."),1)[0];if(n!==i)return!0}}catch(e){}return!1},t.getUrlParameter=function(e){var t,n,r,i=window.location.search.substring(1);if(i){for(n=0,t=i.split("&");n<t.length;n++)if((r=t[n].split("="))[0]===e)return r[1]}return null},t.isMobile=function(){return/(mobile)/i.test(navigator.userAgent)||/(android)/i.test(navigator.userAgent)}},494782:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(158447),t),i(n(209649),t),i(n(511871),t),i(n(185897),t),i(n(421885),t),i(n(597902),t),i(n(435136),t)},209649:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.logger=t.webLogReport=void 0;var o=function(){function e(){}return e.prototype.debug=function(){for(var e,t,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];null==(t=null==(e=this.log())?void 0:e.debug)||t.call.apply(t,i([e],r(n),!1))},e.prototype.info=function(){for(var e,t,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];null==(t=null==(e=this.log())?void 0:e.info)||t.call.apply(t,i([e],r(n),!1))},e.prototype.warn=function(){for(var e,t,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];null==(t=null==(e=this.log())?void 0:e.warn)||t.call.apply(t,i([e],r(n),!1))},e.prototype.error=function(){for(var e,t,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];null==(t=null==(e=this.log())?void 0:e.error)||t.call.apply(t,i([e],r(n),!1))},e.prototype.log=function(){var e;return null!=(e=n.g.log)?e:console},e}();t.webLogReport=function(e){var t,n,r=18e5,i=Date.now(),o=i-r;null==(n=null==(t=window.log)?void 0:t.report)||n.call(t,e,{query:{startTs:o,endTs:i}})},t.logger=new o},185897:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.IReportStatus=void 0,function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED",e[e.TIMEOUT=2]="TIMEOUT"}(n=t.IReportStatus||(t.IReportStatus={}))},511871:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Reporter=void 0;var r=n(209649),i="offline";t.Reporter=function(){function e(){}return e.init=function(e){var t;this.documentType=null!=(t=e.documentType)?t:"unknown";try{if(!window.Aegis)return;this.aegis=new window.Aegis({id:"SDK-23fde4456f08bd3bc379",hostUrl:{url:"https://galileotelemetry.tencent.com/collect"},version:window.__globalReleaseVersion,useAid:!0,speedSample:!1,reportApiSpeed:!1,reportAssetSpeed:!1,pagePerformance:!1,plugin:{pv:!1,aid:!0,error:!1,device:!1,close:!1,pagePerformance:!1,webVitals:!1,fId:!1,ie:!0,spa:!1,api:!1,apiSpeed:!1,assetSpeed:!1}})}catch(e){r.logger.info("Reporter init error:".concat(null==e?void 0:e.message))}},e.reportStatus=function(e){var t,n;null==(n=null==(t=this.aegis)?void 0:t.reportEvent)||n.call(t,{name:i,eventName:e.attrName,status:e.status,errorMessage:e.errorMessage,documentType:this.documentType,databaseType:e.databaseType})},e.reportValue=function(e){var t,n;e.value&&(null==(n=null==(t=this.aegis)?void 0:t.reportTime)||n.call(t,{name:i,eventName:e.attrName,duration:e.value,documentType:this.documentType,databaseType:e.databaseType},e.value))},e}()},597902:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.precheck=t.StoredFlagUtil=void 0;var r=n(158447),i=n(209649),o=function(){function e(){}return e.setItem=function(t,n){try{localStorage.setItem(e.key(t),String(n))}catch(e){i.logger.warn("StoredFlagUtil setItem error:".concat(null==e?void 0:e.message,", ").concat(null==e?void 0:e.stack))}},e.removeItem=function(t){try{localStorage.removeItem(e.key(t))}catch(e){i.logger.warn("StoredFlagUtil removeItem error:".concat(null==e?void 0:e.message,", ").concat(null==e?void 0:e.stack))}},e.hasChanges=function(t){try{return localStorage.getItem(e.key(t))}catch(e){return String(!0)}},e.key=function(e){return"".concat(e.secretId,"_").concat(e.uid,"_offline_has_local_changes_flag")},e}();t.StoredFlagUtil=o,t.precheck=function(e){return"1"===(0,r.getUrlParameter)("usebackupdb")||o.hasChanges(e)===String(!0)}},435136:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.applyFunctionTimeout=void 0,t.applyFunctionTimeout=function(e){return n(this,void 0,void 0,function(){return r(this,function(t){return[2,Promise.race([e,new Promise(function(e,t){setTimeout(function(){t({error:Error("ApplyFunction timeout.")})},3e4)})])]})})}},99501:function(e,t,n){"use strict";n.r(t),n.d(t,{DocsToggleConfig:function(){return p},default:function(){return p}});var r=n(130599),i=n.n(r),o=n(829344),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var s=function(){function e(){this.calculatedTogglesCache={}}return e.prototype.bind=function(e){if(Array.isArray(e)&&0!==e.length){var t=e.reduce(function(e,t){var n=a({},t);return e[t.id]=n,e[t.name]=n,e},{});this.calculatedTogglesCache=a(a({},this.calculatedTogglesCache),t)}},e.prototype.get=function(e){return this.calculatedTogglesCache[e]},e.prototype.clear=function(){this.calculatedTogglesCache={}},e.prototype.getAll=function(){return this.calculatedTogglesCache},e}();function u(e,t){if(void 0===t&&(t={}),"string"!=typeof e)return e;try{return JSON.parse(e)}catch(e){return t}}var c={failure:"toggle_failure",success:"toggle_success"},l={failure:"not_array",empty:"zero_len",ok:"valid"};function d(e,t,n){void 0===n&&(n={});var r=a({table:"dc03111",module:e,action:t,opername:"docs_toggle"},n);(0,o.tdw)(r,{showLog:!0})}function f(e){return Array.isArray(e)?e.length?void e.forEach(function(e){var t;if(1===e.type){var n=e;d(c.success,l.ok,{ver6:n.id,ver7:"".concat(1),ver8:n.name,ver9:"".concat(Number(n.status))})}else if(2===e.type){var n=e;d(c.success,l.ok,{ver6:n.id,ver7:"".concat(2),ver8:null!=(t=n.name)?t:n.experimentName,ver10:"".concat(n.bucketType),ver11:n.bucketName})}}):void d(c.failure,l.empty):void d(c.failure,l.failure)}var p=function(){function e(e){this.toggleCache=new s,this.init(e)}return e.getInstance=function(t){return void 0===t&&(t=!1),this.instance||(this.instance=new e(t)),this.instance},e.prototype.getStatusByKey=function(e,t){void 0===t&&(t=!1);var n,r=this.toggleCache.get(e);return null!=(n=null==r?void 0:r.status)?n:t},e.prototype.getDatasetByKey=function(e,t){void 0===t&&(t={});var n,r=this.toggleCache.get(e);return null!=(n=u(null==r?void 0:r.dataset,t))?n:t},e.prototype.getStrategyGroupDatasetByToggleId=function(e,t){void 0===t&&(t={});var n,r=this.toggleCache.get(e);return(null==r?void 0:r.status)&&null!=(n=u(r.strategyGroupDataset,t))?n:t},e.prototype.getStrategyGroupDatasetByKey=function(e,t){void 0===t&&(t={});var n,r=this.toggleCache.get(e);return(null==r?void 0:r.status)&&null!=(n=u(r.strategyGroupDataset,t))?n:t},e.prototype.getToggleByKey=function(e,t){void 0===t&&(t={});var n,r,i=this.toggleCache.get(e);if(!i)return t;var o=1===i.type?null!=(n=u(i.strategyGroupDataset,{}))?n:{}:null;return a(a(a({},i),o?{strategyGroupDataset:o}:null),{dataset:null!=(r=u(i.dataset,{}))?r:{}})},e.prototype.getExpBucketByKey=function(e,t){void 0===t&&(t={});var n=this.toggleCache.get(e);return n&&2===n.type?{experimentName:n.experimentName,bucketName:n.bucketName,bucketType:n.bucketType,dataset:u(n.dataset)}:t},e.prototype.getStatusByToggleId=function(e,t){return void 0===t&&(t=!1),this.getStatusByKey(e,t)},e.prototype.getDatasetByToggleId=function(e,t){return void 0===t&&(t={}),this.getDatasetByKey(e,t)},e.prototype.getToggleByToggleId=function(e,t){return void 0===t&&(t={}),this.getToggleByKey(e,t)},e.prototype.getExpBucketByToggleId=function(e,t){return void 0===t&&(t={}),this.getExpBucketByKey(e,t)},e.prototype.getAllToggleConfig=function(e){var t;return void 0===e&&(e={}),null!=(t=this.toggleCache.getAll())?t:e},e.prototype.rebindToggleConfig=function(e){this.toggleCache.clear(),this.toggleCache.bind(e)},e.prototype.init=function(e){if(e&&f("undefined"==typeof self?void 0:self.ToggleConfig),"undefined"!=typeof self){var t=self.ToggleConfig;if("object"!==i()(t))return void console.error("\u52A0\u8F7D ToggleConfig \u914D\u7F6E\u51FA\u9519");this.toggleCache.bind(t)}},e}()},847529:function(e,t,n){!function(t,n){e.exports=n()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t){e.exports=n(766123)},function(e,t){e.exports=n(620143)},function(e,t){e.exports=n(126713)},function(e,t){e.exports=n(352669)},function(e,t){e.exports=n(883446)},function(e,t){e.exports=n(328063)},function(e,t){e.exports=n(797218)},function(e,t){e.exports=n(709293)},function(e,t){e.exports=n(793232)},function(e,t){e.exports=n(997420)},function(e,t){e.exports=n(430327)},function(e,t,n){"use strict";n.r(t),n.d(t,"ErrorCode",function(){return M}),n.d(t,"ErrorMsg",function(){return T}),n.d(t,"UID",function(){return x}),n.d(t,"UID_KEY",function(){return N});var r=n(2),i=n.n(r),o=n(3),a=n.n(o),s=n(7),u=n.n(s),c=n(8),l=n.n(c),d=n(5),f=n.n(d),p=n(0),h=n.n(p),g=n(9),m=n(4),v=n(1),y=function(){function e(t){i()(this,e),this.channelName="".concat(t,"Channel"),this.storageName="".concat(t,"Storage"),this.cookieName="".concat(t,"Cookie"),this.init(),this.nowUid=Object(v.getUid)();var n="".concat(Math.floor(1e9*Math.random()),"_").concat(+new Date);window.messageCenterTabKey||(window.messageCenterTabKey=n),this.tabKey=window.messageCenterTabKey||n}return a()(e,[{key:"init",value:function(){window&&window.BroadcastChannel&&(this.msgCenter=new BroadcastChannel(this.channelName))}},{key:"postMessage",value:function(e){var t,n,r,i;e.key=this.tabKey,null==(n=null==(t=null==window?void 0:window.log)?void 0:t.log)||n.call(t,"message center get message:, ".concat(JSON.stringify(e)," time: ").concat(+new Date)),this.msgCenter&&this.msgCenter.postMessage(e);try{localStorage.setItem(this.storageName,JSON.stringify(e))}catch(t){null==(i=null==(r=null==window?void 0:window.log)?void 0:r.log)||i.call(r,"message center set message fail:, ".concat(JSON.stringify(e)," time: ").concat(+new Date))}}},{key:"initListener",value:function(){var e=this;this.msgCenter&&(this.msgCenter.onmessage=function(t){t&&(null==e||e.channelHandler(t))}),window.addEventListener("storage",function(t){t.key===e.storageName&&(null==e||e.storageHandler(t))}),document.addEventListener("visibilitychange",function(){setTimeout(function(){null==e||e.visibilityHandle()},100)})}},{key:"listenerHandleFun",value:function(e){var t=e.channelHandler,n=e.storageHandler,r=e.visibilityHandle;t&&(this.channelHandler=t),r&&(this.visibilityHandle=r),this.storageHandler=n,this.initListener()}},{key:"messageHandleFun",value:function(e){}}]),e}(),b=n(6);function _(e,t,n){if(!n){var r=RegExp("(\\?|&)"+t+"=[^&]*(&)?","g"),i=e.replace(r,function(e,t,n){return"?"===t||n?t:""});return"?"===i[i.length-1]?i.substr(0,i.length-1):i}var o=RegExp("([?&])"+t+"=.*?(&|$)","i"),a=-1!==e.indexOf("?")?"&":"?";return e.match(o)?e.replace(o,"$1"+t+"="+n+"$2"):e+a+t+"="+n}function C(e,t){var n,r=new RegExp("(?:^|;+|\\s+)".concat(e,"=([^;]*)"));return void 0===t&&(t="undefined"!=typeof document?document.cookie:""),null==(n=t.match(r))?void 0:n[1]}var I=n(10),E=n.n(I),w=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})};function S(){return w(this,void 0,void 0,h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("/session/api/multiacc/account_list","?xrsf=").concat(C("TOK")),e.abrupt("return",E.a.get(t));case 2:case"end":return e.stop()}},e)}))}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=f()(e);return n=t?Reflect.construct(r,arguments,f()(this).constructor):r.apply(this,arguments),l()(this,n)}}var M,T,A=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})};!function(e){e[e.switchLogin=1e4]="switchLogin",e[e.logoutLogin=10001]="logoutLogin"}(M||(M={})),function(e){e.switchLogin="user switch login in other tab",e.logoutLogin="user logout login in other tab"}(T||(T={}));var x="uid",N="uid_key";t.default=new(function(e){u()(n,e);var t=D(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).hadSendMsg=!1,r.nowUsesId=Object(m.getNowUserId)(),r.isMulti=Object(m.isMultiLoginGray)(),r.listenerHandleFun({channelHandler:r.channelFun,storageHandler:r.storageFun,visibilityHandle:r.visibilityFun}),r}return a()(n,[{key:"checkIsSame",value:function(e){return!this.isMulti||e===Object(m.getNowUserId)()}},{key:"getCookieValue",value:function(){var e=(Object(g.getCookie)(this.cookieName)||"").split("_");return{type:e[0],userIndex:e[1]}}},{key:"dispatchMsg",value:function(e){this.isMulti&&("logoutLogin"!==e&&"logout"!==e||document.dispatchEvent(new CustomEvent("logoutAccount")))}},{key:"checkSameUser",value:function(){return Object(v.getUidFromCookie)()===this.nowUid}},{key:"checkNoNeedVisibility",value:function(){return this.hadSendMsg||"visible"!==document.visibilityState}},{key:"visibilityFun",value:function(){var e;this.checkNoNeedVisibility()||this.checkSameUser()||(this.hadSendMsg=!0,null==(e=this.messageHandleFun)||e.call(this,this.getErrorMsg("switch")))}},{key:"channelFun",value:function(e){var t=this;if(e){var n=e.data;n.key!==this.tabKey&&this.checkNeedLogin(n,function(e){var r,i,o,a=t.getErrorMsg(e);a&&(null==(r=t.messageHandleFun)||r.call(t,a)),null==(o=null==(i=null==window?void 0:window.log)?void 0:i.log)||o.call(i,"channel Event:".concat(e,", source tab:").concat(n.key,"\uFF0C now tabKey:").concat(t.tabKey,"\uFF0C :").concat((new Date).getTime())),t.dispatchMsg(e),t.hadSendMsg=!0})}}},{key:"storageFun",value:function(e){var t=this,n=e.newValue;if(n){var r=JSON.parse(n);r.key!==this.tabKey&&this.checkNeedLogin(r,function(e){setTimeout(function(){var n,i,o;t.hadSendMsg||(null==(n=t.messageHandleFun)||n.call(t,t.getErrorMsg(e)),null==(o=null==(i=null==window?void 0:window.log)?void 0:i.log)||o.call(i,"storage Event:".concat(e,", source tab:").concat(r.key,"\uFF0C now tabKey:").concat(t.tabKey,"\uFF0C :").concat((new Date).getTime())),t.dispatchMsg(e),t.hadSendMsg=!0)},100)})}}},{key:"getErrorMsg",value:function(e){return"switchLogin"===e||"switch"===e?{code:M.switchLogin,msg:T.switchLogin}:"logoutLogin"===e||"logout"===e?{code:M.logoutLogin,msg:T.logoutLogin}:void 0}},{key:"checkNeedLogin",value:function(e,t){var n=this;"switch"===e.type&&t("switchLogin"),"login"===e.type&&t("login"),"logout"===e.type&&t("logoutLogin"),document.addEventListener("visibilitychange",function(){return A(n,void 0,void 0,h.a.mark(function e(){var t,n,r,i,o,a,s,u,c,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null==(i=null==(r=null==(n=null==(t=null==window?void 0:window.__ARK_EXTENSION_SERVICE__)?void 0:t.dependentServiceCombinder)?void 0:n.accountApplication)?void 0:r.getAccountProfileList)?void 0:i.call(r);case 3:o=e.sent,e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,S();case 10:o=e.sent;case 11:a=Object(v.getUid)(),s=Object(v.getUidKey)(),a&&s&&o?(u=o.find(function(e){return e.uid===a}),c=_(location.href,"u",(null==u?void 0:u.userIndex)||""),Object(b.tencentDocOpenUrlForAll)({replace:!0,url:c})):(l=_(location.href,"u",""),Object(b.tencentDocOpenUrlForAll)({replace:!0,url:l,noUserIndex:!0}));case 14:case"end":return e.stop()}},e,null,[[0,6]])}))})}},{key:"setCallback",value:function(e){this.messageHandleFun=e}}]),n}(y))("docMessageCenter")}])})},694350:function(e,t,n){"use strict";var r=n(126146).default;Object.defineProperty(t,"__esModule",{value:!0}),t.npmConfig=t.getAppConfigInstance=t.default=void 0;var i=r(n(963327)),o=function(){return null===i.default||void 0===i.default?void 0:i.default.getInstance()};t.getAppConfigInstance=o;var a=o();t.npmConfig=null==a?void 0:a.getConfig('npm["@tencent/docs-scenario-components"]'),t.default=a},204816:function(e,t){"use strict";function n(){var e,t,n=/TencentDocs\/[\d\.]+/.exec(window.navigator.userAgent),r=n&&n[0].split("/")||!1,i=0,o=0;if(r){var a=String(r[1]).split("."),s="1.8.1".split(".");for(i=0,t=Math.max(a.length,s.length);i<t;i++){if((o=isFinite(Number(a[i]))&&Number(a[i])||0)<(e=isFinite(Number(s[i]))&&Number(s[i])||0))return -1;if(o>e)return 1}}return 0}function r(){var e=/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&3===window.devicePixelRatio&&(812===window.screen.width&&375===window.screen.height||375===window.screen.width&&812===window.screen.height),t=/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&3===window.devicePixelRatio&&(414===window.screen.width&&896===window.screen.height||896===window.screen.width&&414===window.screen.height),n=/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&2===window.devicePixelRatio&&(414===window.screen.width&&896===window.screen.height||896===window.screen.width&&414===window.screen.height);return e||t||n}function i(){if("number"==typeof window.orientation)return window.orientation/90%2==0;try{var e=window.screen.orientation.angle;if("number"==typeof e)return e/90%2==0}catch(e){}return!0}function o(){var e=i()?window.screen.width:window.screen.height,t=window.innerWidth/e;return t<.4?.33:t>=.4&&t<.6?.5:t>=.6&&t<.9?.66:1}function a(e,t){for(var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e;)if(n.call(e,t))return e;else e=e.parentElement;return null}function s(){return u("TOK")||""}function u(e){var t=document.cookie.match(RegExp("(^| )"+e+"=([^;]*)(;|$)"));return t?decodeURIComponent(t[2]):""}function c(){var e=u("skey"),t=5381;if(e){for(var n=0,r=e.length;r>n;++n)t+=(t<<5)+e.charAt(n).charCodeAt();return 0x7fffffff&t}}function l(){var e=u("utype");return"qq"===e?1:"wx"===e?2:3*("ww"===e)}function d(){var e=navigator.userAgent.toLowerCase(),t=null;if(e.indexOf("like mac os x")>0){var n=/os [\d._]+/gi;t=parseInt((t=String(e.match(n)).replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")).split(".")[0],10)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsIphoneX=r,t.checkPayTencentDocs=n,t.closest=a,t.getBkn=c,t.getCookie=u,t.getIOSVersion=d,t.getLoginType=l,t.getXsrf=s,t.inWhichSplitView=o,t.isIphoneX=void 0,t.isPortrait=i,t.isIphoneX=r()},21795:function(e,t){"use strict";function n(e){var t=null,n=window.location;return null!=n&&n.search&&(t=n.search.match(new RegExp("(\\?|&)".concat(e,"=([^&]*)(#|&|$)")))),t?decodeURIComponent(t[2]):""}Object.defineProperty(t,"__esModule",{value:!0}),t.getQuery=n},560240:function(e){!function(t,n){e.exports=n()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAndroid=/android|adr/i.test(navigator.userAgent),t.isIOS=/(iphone|ipad|ipod)/i.test(navigator.userAgent),t.isHarmony=/openharmony/i.test(navigator.userAgent),t.isTimOrQQFamily=/qq|(tim|mit)\//i.test(navigator.userAgent),t.isQQMiniProgram=/qq\/|tim/i.test(navigator.userAgent)&&/miniprogram|miniapp(?!enable)/i.test(navigator.userAgent),t.isVersionAboveOrEqual=function(e,t){var n,r,i;try{var o=null==(n=RegExp("\\b"+e+"\\/((\\d+)(\\.\\d+)+)").exec(navigator.userAgent))?void 0:n[1];if(!o)return!1;for(var a=o.split(".").map(Number),s=t.split(".").map(Number),u=0;u<Math.max(a.length,s.length);u+=1){var c=null!=(r=a[u])?r:0,l=null!=(i=s[u])?i:0;if(c!==l)return c>l}return!0}catch(t){return console.warn("dark-mode","\u5728 "+navigator.userAgent+" \u4E2D\u67E5\u627E\u5E76\u5224\u65AD "+e+" \u7684\u7248\u672C\u53F7\u5931\u8D25",t),!1}}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),a=n(2);t.default=function(e){function t(){var t=e.call(this)||this;return t.type="BaseDetector",t.isSupported=t.isInitiallySupported(),t.hasDetected=!1,t.internalOnChange=function(){t.isSupported=!0,t.hasDetected=!0},t.on("change",t.internalOnChange),t}return i(t,e),t.prototype.isInitiallySupported=function(){throw Error("BaseDetector::isInitiallySupported should not be called!")},t.prototype.dispose=function(){this.isSupported=!1},Object.defineProperty(t.prototype,"topWindow",{get:function(){return a.getTopWindow()},enumerable:!0,configurable:!0}),t}(o.EventEmitter)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.traverseAncestorWindows=function(e){var t,n=window;try{for(;n.parent!==n&&(null==(t=n.parent)?void 0:t.document);)e(n=n.parent)}catch(e){}},t.getTopWindow=function(){var e=window;return t.traverseAncestorWindows(function(t){return e=t}),e}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),s=o(n(5)),u=o(n(7)),c=o(n(8)),l=o(n(9)),d=o(n(10)),f=o(n(11)),p=o(n(12)),h=function(e){function t(){var n,r,i=e.call(this)||this;i.detectors=[new c.default,new d.default,new l.default,new f.default,new s.default,new u.default],i.forceEmitOnFocus=!1,i.heightInViewport=0,i.heightOutOfViewport=0,i.scrollFix=p.default,i.initBodyEvent=function(){document.body.addEventListener("focusin",i.internalOnWindowFocus)},i.onChange=function(e,t,n){i.emit("detector-change",e);var r=i.detectors.find(function(e){return e.hasDetected});r&&e!==r||(e.isSupported,null!=t&&(i.heightInViewport=Math.round(t)),null!=n&&(i.heightOutOfViewport=Math.round(n)),i.emit("change",i))},i.internalOnWindowFocus=function(){!i.isSupported&&i.forceEmitOnFocus&&i.emit("change",i),setTimeout(function(){i.supportedDetectors.length&&!i.activeDetectors.length&&(i.supportedDetectors.forEach(function(e){return e.isSupported=!1}),i.emit("change",i))},1e3)},window.__softKeyboardInstances=(null!=(n=window.__softKeyboardInstances)?n:[]).concat(i),window.__softKeyboardDisposeAllInstances=t.disposeAll;try{i.constructorStack=null==(r=Error().stack)?void 0:r.split(/\n\s+/).slice(1).join("\n")}catch(e){}return"loading"===document.readyState?window.addEventListener("load",i.initBodyEvent):i.initBodyEvent(),i.detectors.forEach(function(e){e.on("change",i.onChange.bind(i,e))}),window.addEventListener("beforeunload",function(){return i.dispose()}),i}return i(t,e),t.disposeAll=function(){var e;null==(e=window.__softKeyboardInstances)||e.forEach(function(e){return e.dispose()})},Object.defineProperty(t.prototype,"isSupported",{get:function(){return!!this.detectors.find(function(e){return e.isSupported})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"supportedDetectors",{get:function(){return this.detectors.filter(function(e){return e.isSupported})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeDetectors",{get:function(){return this.detectors.filter(function(e){return e.hasDetected})},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var e,t,n=this;this.detectors.forEach(function(e){e.dispose()}),null==(e=document.body)||e.removeEventListener("focusin",this.internalOnWindowFocus),window.__softKeyboardInstances=(null!=(t=window.__softKeyboardInstances)?t:[]).filter(function(e){return e!==n})},t}(a.EventEmitter);t.SoftKeyboard=h,t.default=new h},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var i,o,a,s;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):m(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var a,s=Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var c=u.length,l=m(u,c);for(n=0;n<c;++n)o(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if(c(t),void 0===(r=this._events)||void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);t.default=function(e){function t(){var t=e.call(this)||this;return t.type="TencentDocsAppDetector",t.isKeyboardVisible=!1,t.heightToWebViewTop=window.innerHeight,t.onKeyboardHeightChange=function(e,n,r,i){if(t.isKeyboardVisible=e,t.heightToWebViewTop=i,t.isKeyboardVisible){var o=window.innerHeight-Math.round(t.heightToWebViewTop/window.devicePixelRatio);t.emit("change",o,0)}else t.emit("change",0,0)},t.onResize=function(){if(t.isKeyboardVisible){var e=window.innerHeight-Math.round(t.heightToWebViewTop/window.devicePixelRatio);t.emit("change",e,0)}},t.isInitiallySupported()&&(window.__softKeyboardDocsAppDetectorCallback=t.onKeyboardHeightChange,window.mqq.invoke("docx","setSoftKeyboardVisibilityCallback",{callback:"__softKeyboardDocsAppDetectorCallback"}),window.addEventListener("resize",t.onResize)),t}return i(t,e),t.prototype.isInitiallySupported=function(){return a.isAndroid&&a.isVersionAboveOrEqual("TencentDocs","2.21.5")&&!a.isVersionAboveOrEqual("TencentDocs","2.22.0")&&!!window.mqq},t.prototype.dispose=function(){e.prototype.dispose.call(this),delete window.__softKeyboardDocsAppDetectorCallback},t}(o(n(1)).default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=function(){function e(){this.listenersMap={}}return e.prototype.dispose=function(){this.listenersMap={}},e.prototype.on=function(e,t){var n;this.listenersMap[e]=(null!=(n=this.listenersMap[e])?n:[]).concat([t])},e.prototype.off=function(e,t){var n;this.listenersMap[e]=(null!=(n=this.listenersMap[e])?n:[]).filter(function(e){return e!==t})},e.prototype.once=function(e,t){var n=this;this.on(e,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];n.off(e,t),t.apply(void 0,r)})},e.prototype.emit=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];null==(t=this.listenersMap[e])||t.forEach(function(e){try{e.apply(void 0,n)}catch(e){console.error("Error in soft-keyboard event:",e)}})},e}()},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(){var t=e.call(this)||this;return t.type="IFrameDetector",t.height=0,t.handleMessage=function(e){var n,r,i;"soft_keyboard_change"===(null==(n=e.data)?void 0:n.name)&&t.emit("change",null==(r=e.data)?void 0:r.heightInViewport,null==(i=e.data)?void 0:i.heightOutOfViewport)},t.topWindow.addEventListener("message",t.handleMessage),window.addEventListener("beforeunload",function(){return t.dispose()}),t}return i(t,e),t.prototype.isInitiallySupported=function(){return window.top!==window},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.topWindow.removeEventListener("message",this.handleMessage)},t}(o(n(1)).default)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);t.default=function(e){function t(){var t=e.call(this)||this;return t.type="QBrowserDetector",t.height=0,t.onQBrowserKeyboardHeightChange=function(e){t.height=parseInt(e.height,10),t.emit("change",t.height,0)},document.addEventListener("qbrowserKeyboardHeightChange",t.onQBrowserKeyboardHeightChange),t}return i(t,e),t.prototype.isInitiallySupported=function(){return a.isIOS&&a.isTimOrQQFamily&&!a.isQQMiniProgram},t.prototype.dispose=function(){e.prototype.dispose.call(this),document.removeEventListener("qbrowserKeyboardHeightChange",this.onQBrowserKeyboardHeightChange)},t}(o(n(1)).default)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);t.default=function(e){function t(){var t=e.call(this)||this;return t.type="VirtualKeyboardDetector",t.onVirtualKeyboardChange=function(e){t.emit("change",e.target.boundingRect.height,0)},t.isInitiallySupported()&&(navigator.virtualKeyboard.overlaysContent=!0,t.topWindow.navigator.virtualKeyboard.addEventListener("geometrychange",t.onVirtualKeyboardChange)),t}return i(t,e),t.prototype.isInitiallySupported=function(){var e;return"virtualKeyboard"in this.topWindow.navigator&&"function"==typeof(null==(e=this.topWindow.navigator.virtualKeyboard)?void 0:e.addEventListener)&&!a.isHarmony},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.isInitiallySupported()&&this.topWindow.navigator.virtualKeyboard.removeEventListener("geometrychange",this.onVirtualKeyboardChange)},t}(o(n(1)).default)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);t.default=function(e){function t(){var t,n,r=e.call(this)||this;return r.type="VisualViewportDetector",r.innerHeight=r.topWindow.innerHeight,r.visualViewportHeight=r.innerHeight,r.previousValue=0,r.onVisualViewportChange=function(e){var t=r.topWindow;r.innerHeight=Math.round(t.innerHeight),r.visualViewportHeight=Math.round(t.visualViewport.height);var n=r.innerHeight-r.visualViewportHeight;(r.hasDetected||n>0)&&r.previousValue!==n&&(r.emit("change",n,0),r.previousValue=n)},r.isInitiallySupported()&&(null==(t=r.topWindow.visualViewport)||t.addEventListener("resize",r.onVisualViewportChange),null==(n=r.topWindow.visualViewport)||n.addEventListener("scroll",r.onVisualViewportChange)),r}return i(t,e),t.prototype.isInitiallySupported=function(){return a.isIOS&&"visualViewport"in this.topWindow},t.prototype.dispose=function(){var t,n;e.prototype.dispose.call(this),this.isInitiallySupported()&&(null==(t=this.topWindow.visualViewport)||t.removeEventListener("resize",this.onVisualViewportChange),null==(n=this.topWindow.visualViewport)||n.removeEventListener("scroll",this.onVisualViewportChange))},t}(o(n(1)).default)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);t.default=function(e){function t(){var t=e.call(this)||this;return t.type="WindowResizeDetector",t.windowWidth=t.topWindow.innerWidth,t.windowMaxHeight=t.topWindow.innerHeight,t.previousHeight=0,t.onResize=function(){var e=t.topWindow,n=e.innerWidth,r=e.innerHeight;if(t.windowWidth!==n||r>t.windowMaxHeight)return t.windowWidth=n,t.windowMaxHeight=r,void t.updateHeight(0);var i=t.windowMaxHeight-r;t.updateHeight(i<120?0:i)},t.topWindow.addEventListener("resize",t.onResize),t}return i(t,e),t.prototype.isInitiallySupported=function(){var e;return a.isAndroid&&!(null==(e=navigator.virtualKeyboard)?void 0:e.overlaysContent)&&(!a.isTimOrQQFamily||/(TBS)/i.test(navigator.userAgent))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.topWindow.removeEventListener("resize",this.onResize)},t.prototype.updateHeight=function(e){this.previousHeight!==e&&(this.previousHeight=e,this.emit("change",0,e))},t}(o(n(1)).default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(0);t.default=new(function(){function e(){var e=this;this.isEnabled=!1,this.fixScrollX=0,this.fixScrollY=0,this.isScrollingBack=!1,this.isIOSFocusScroll=!1,this.iOSFocusScrollTimeout=null,this.enableScrollFix=function(t,n){void 0===t&&(t=window.scrollX),void 0===n&&(n=window.scrollY),e.isEnabled&&e.disableScrollFix(),e.isEnabled=!0,e.fixScrollX=t,e.fixScrollY=n,e.styleNode=document.createElement("style"),e.styleNode.innerHTML="/* Auto-injected by @tencent/docs-soft-keyboard enableScrollFix() */ html { touch-action: none; overflow: hidden !important }",document.head.appendChild(e.styleNode),e.topWindow.addEventListener("focus",e.onWindowFocus,!0),e.topWindow.addEventListener("scroll",e.onWindowScroll,!0)},this.disableScrollFix=function(){e.isEnabled&&(e.isEnabled=!1,e.styleNode&&document.head.removeChild(e.styleNode),e.topWindow.removeEventListener("focus",e.onWindowFocus,!0),e.topWindow.removeEventListener("scroll",e.onWindowScroll,!0))},this.inverseScrollBack=function(){e.isScrollingBack=!0,e.topWindow.scrollTo(e.fixScrollX,e.fixScrollY)},this.onWindowScroll=function(){e.isScrollingBack||(e.isIOSFocusScroll?e.inverseScrollBack():e.topWindow.scrollTo(e.fixScrollX,e.fixScrollY))},this.onWindowFocus=function(){i.isIOS&&(e.iOSFocusScrollTimeout&&(clearTimeout(e.iOSFocusScrollTimeout),e.iOSFocusScrollTimeout=null),e.isIOSFocusScroll=!0,e.iOSFocusScrollTimeout=setTimeout(function(){e.isIOSFocusScroll=!1},500))}}return Object.defineProperty(e.prototype,"topWindow",{get:function(){return r.getTopWindow()},enumerable:!0,configurable:!0}),e}())}])})},627752:function(e,t,n){"use strict";n.d(t,{$e:function(){return i},H4:function(){return a},eM:function(){return u},kd:function(){return s},me:function(){return r},tA:function(){return o}}),function(e){e.OFFLINE_DATA="OfflineData",e.DOCUMENT_DATA="DocumentData",e.PAD_INFO="PadInfo",e.NEW_DOCUMENT_ID="NewDocumentIds",e.FOLDER_INFO="FolderInfo",e.USER_INFO="UserInfo",e.DOCUMENT_STATUS="DocumentStatus",e.LIST_TYPE="ListType",e.DATA_CHANGE="DataChange",e.QUICK_LOOK_WORD="QuickLookWord",e.USERS="Users",e.DocumentEntities="DocumentEntities",e.DriveData="DriveData"}(r||(r={})),function(e){e.EXCEL="EXCEL",e.WORD="WORD",e.SLIDE="SLIDE"}(i||(i={})),function(e){e.GLOBAL="globalPadId",e.SECRET="secretId"}(o||(o={}));var r,i,o,a="TencentDocs",s=5,u="true"===localStorage.getItem("isOfflineModuleDebug")},296367:function(e,t,n){"use strict";n.d(t,{f:function(){return i}});var r=n(963327).default.getInstance().getConfig('npm["@tencent/docs_offline"]'),i=(null==r?void 0:r.TOC_ORIGIN)||"https://docs.qq.com"},791899:function(e,t,n){"use strict";n.d(t,{us:function(){return U},HE:function(){return L},YH:function(){return j},dd:function(){return G}});var r=n(573483),i=n(627752),o=function(){return function(e){this.uid=e.uid,this.globalPadId=e.globalPadId,this.secretId=e.secretId,this.lastSyncTime=e.lastSyncTime||Date.now(),this.lastErrorTime=e.lastErrorTime}}(),a=n(738558),s=n(538053),u=n(253614),c=n(797618),l=n(991068),d=n(759983),f=n(742840),p=n(577797),h=n(324500),g=n(3852),m=n.n(g),v=n(175139),y=n.n(v),b=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},_=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},C=function(){function e(){this.tag="OfflineEditBackUp"}return e.prototype.init=function(){return b(this,void 0,void 0,function(){var e,t;return _(this,function(n){switch(n.label){case 0:return e=(0,p.N1)()?h.DBEngineType.nativeDB:h.DBEngineType.indexDB,[4,m().checkDBAvailable(e,h.DB_NAME_BACKUP)];case 1:if(t=n.sent(),this.isStorageAvailable=t,!t)return d.C.error(this.tag,"init error. open database fail"),[2,!1];return d.C.info(this.tag,"init finish. isStorageAvailable:"+String(this.isStorageAvailable)),[2,!0]}})})},e.prototype.dispose=function(){return b(this,void 0,void 0,function(){return _(this,function(e){return[2,!0]})})},e.prototype.upsertChanges=function(e){return b(this,void 0,void 0,function(){var t;return _(this,function(n){switch(n.label){case 0:return[4,this.isDatabaseAvailable()];case 1:if(!n.sent())return d.C.warn(this.tag,"upsertChanges can not write."),[2,!1];n.label=2;case 2:return n.trys.push([2,4,,5]),[4,m().run(y(),"upsertOfflineDataChanges",{params:{changes:e},storageManagerConfigList:[{databaseName:h.DB_NAME_BACKUP}]})];case 3:return n.sent(),[2,!0];case 4:return t=n.sent(),d.C.error(this.tag,"upsertChanges error: "+t.message+", , "+t.stack+"."),this.isStorageAvailable=!1,[2,!1];case 5:return[2]}})})},e.prototype.isDatabaseAvailable=function(){return this.isStorageAvailable},e}(),I=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},E=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};function w(e){return I(this,void 0,void 0,function(){var t,n,r;return E(this,function(i){switch(i.label){case 0:return[4,(t=new C).init()];case 1:if(!(n=i.sent()))return d.C.error("init backup database error!",n),[2,!1];return[4,t.upsertChanges(e)];case 2:if(!(r=i.sent()))return d.C.error("upsert backup changes error!",r,r),[2,!1];return[4,t.dispose()];case 3:return i.sent(),d.C.info("backup changes success!",e),[2,!0]}})})}var S=n(717457),D=function(){return(D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function M(e){return e.map(function(e){return new S.OfflineData(D(D({},e),{data:e.data,subId:e.subSheetId,dataVersion:e.dver,type:e.type,docType:e.docType,docStatus:e.padStatus,createTimestamp:e.createTime,isDefaultChunk:e.default}))})}var T="%7B%22commands%22%3A%5B%7B%22type%22%3A%22kDocExtracCmdFromDoc%22%2C%22mutations%22%3A%5B%7B%22ty%22%3A%22is%22%2C%22bi%22%3A0%2C%22s%22%3A%22%5Cr%5Cr%5Cu000f%5Cu001e%5Cu001e%5Cu001e%5Cu001e%5Cu001e%5Cu001e%5Cu001e%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A0%2C%22ei%22%3A1%2C%22pr%22%3A%7B%22run%22%3A%7B%22author%22%3A%22p.833496%22%2C%22isPlaceholder%22%3Atrue%7D%7D%2C%22mt%22%3A%22run%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A1%2C%22ei%22%3A2%2C%22pr%22%3A%7B%22run%22%3A%7B%22isPlaceholder%22%3Atrue%7D%7D%2C%22mt%22%3A%22run%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A2%2C%22ei%22%3A3%2C%22pr%22%3A%7B%22run%22%3A%7B%22isPlaceholder%22%3Atrue%7D%7D%2C%22mt%22%3A%22run%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A3%2C%22ei%22%3A4%2C%22pr%22%3A%7B%22run%22%3A%7B%22isPlaceholder%22%3Atrue%7D%7D%2C%22mt%22%3A%22run%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A4%2C%22ei%22%3A5%2C%22pr%22%3A%7B%22run%22%3A%7B%22isPlaceholder%22%3Atrue%7D%7D%2C%22mt%22%3A%22run%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A5%2C%22ei%22%3A6%2C%22pr%22%3A%7B%22run%22%3A%7B%22isPlaceholder%22%3Atrue%7D%7D%2C%22mt%22%3A%22run%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A6%2C%22ei%22%3A7%2C%22pr%22%3A%7B%22run%22%3A%7B%22isPlaceholder%22%3Atrue%7D%7D%2C%22mt%22%3A%22run%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A7%2C%22ei%22%3A8%2C%22pr%22%3A%7B%22run%22%3A%7B%22isPlaceholder%22%3Atrue%7D%7D%2C%22mt%22%3A%22run%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A8%2C%22ei%22%3A9%2C%22pr%22%3A%7B%22run%22%3A%7B%22isPlaceholder%22%3Atrue%7D%7D%2C%22mt%22%3A%22run%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A9%2C%22ei%22%3A10%2C%22pr%22%3A%7B%22run%22%3A%7B%22isPlaceholder%22%3Atrue%7D%7D%2C%22mt%22%3A%22run%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A0%2C%22ei%22%3A1%2C%22pr%22%3A%7B%22paragraph%22%3A%7B%22pStyle%22%3A%7B%22val%22%3A%22rdbvau%22%7D%2C%22numPr%22%3A%7B%7D%2C%22jc%22%3A%7B%22val%22%3A%22STJcWml_left%22%7D%2C%22rPr%22%3A%7B%7D%7D%7D%2C%22mt%22%3A%22paragraph%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A1%2C%22ei%22%3A2%2C%22pr%22%3A%7B%22paragraph%22%3A%7B%22pStyle%22%3A%7B%22val%22%3A%22ablt93%22%7D%2C%22taskPr%22%3A%7B%7D%2C%22rPr%22%3A%7B%7D%7D%7D%2C%22mt%22%3A%22paragraph%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A2%2C%22ei%22%3A3%2C%22pr%22%3A%7B%22paragraph%22%3A%7B%22isPlaceholder%22%3Atrue%7D%7D%2C%22mt%22%3A%22paragraph%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A3%2C%22ei%22%3A4%2C%22pr%22%3A%7B%22paragraph%22%3A%7B%22isPlaceholder%22%3Atrue%7D%7D%2C%22mt%22%3A%22paragraph%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A4%2C%22ei%22%3A5%2C%22pr%22%3A%7B%22paragraph%22%3A%7B%22isPlaceholder%22%3Atrue%7D%7D%2C%22mt%22%3A%22paragraph%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A5%2C%22ei%22%3A6%2C%22pr%22%3A%7B%22paragraph%22%3A%7B%22isPlaceholder%22%3Atrue%7D%7D%2C%22mt%22%3A%22paragraph%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A6%2C%22ei%22%3A7%2C%22pr%22%3A%7B%22paragraph%22%3A%7B%22isPlaceholder%22%3Atrue%7D%7D%2C%22mt%22%3A%22paragraph%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A7%2C%22ei%22%3A8%2C%22pr%22%3A%7B%22paragraph%22%3A%7B%22isPlaceholder%22%3Atrue%7D%7D%2C%22mt%22%3A%22paragraph%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A8%2C%22ei%22%3A9%2C%22pr%22%3A%7B%22paragraph%22%3A%7B%22isPlaceholder%22%3Atrue%7D%7D%2C%22mt%22%3A%22paragraph%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A9%2C%22ei%22%3A10%2C%22pr%22%3A%7B%22paragraph%22%3A%7B%22isPlaceholder%22%3Atrue%7D%7D%2C%22mt%22%3A%22paragraph%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A2%2C%22ei%22%3A3%2C%22pr%22%3A%7B%22section%22%3A%7B%22pgSz%22%3A%7B%22w%22%3A11905%2C%22h%22%3A16838%7D%2C%22pgMar%22%3A%7B%22top%22%3A1361%2C%22right%22%3A1417%2C%22bottom%22%3A1361%2C%22left%22%3A1417%7D%7D%7D%2C%22mt%22%3A%22section%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A3%2C%22ei%22%3A4%2C%22pr%22%3A%7B%22story%22%3A%7B%22storyType%22%3A%22STStoryType_mainDocument%22%7D%7D%2C%22mt%22%3A%22story%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A4%2C%22ei%22%3A5%2C%22pr%22%3A%7B%22story%22%3A%7B%22storyType%22%3A%22STStoryType_headerContent%22%7D%7D%2C%22mt%22%3A%22story%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A5%2C%22ei%22%3A6%2C%22pr%22%3A%7B%22story%22%3A%7B%22storyType%22%3A%22STStoryType_footerContent%22%7D%7D%2C%22mt%22%3A%22story%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A6%2C%22ei%22%3A7%2C%22pr%22%3A%7B%22story%22%3A%7B%22storyType%22%3A%22STStoryType_footnoteContent%22%7D%7D%2C%22mt%22%3A%22story%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A7%2C%22ei%22%3A8%2C%22pr%22%3A%7B%22story%22%3A%7B%22storyType%22%3A%22STStoryType_endnoteContent%22%7D%7D%2C%22mt%22%3A%22story%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A8%2C%22ei%22%3A9%2C%22pr%22%3A%7B%22story%22%3A%7B%22storyType%22%3A%22STStoryType_commentContent%22%7D%7D%2C%22mt%22%3A%22story%22%7D%2C%7B%22ty%22%3A%22mp%22%2C%22bi%22%3A9%2C%22ei%22%3A10%2C%22pr%22%3A%7B%22story%22%3A%7B%22storyType%22%3A%22STStoryType_textboxContent%22%7D%7D%2C%22mt%22%3A%22story%22%7D%2C%7B%22ty%22%3A%22ms%22%2C%22pr%22%3A%7B%22numbering%22%3A%7B%7D%7D%2C%22mt%22%3A%22numbering%22%7D%2C%7B%22ty%22%3A%22ms%22%2C%22pr%22%3A%7B%22background%22%3A%7B%7D%7D%2C%22mt%22%3A%22background%22%7D%2C%7B%22ty%22%3A%22ms%22%2C%22pr%22%3A%7B%22themes%22%3A%7B%7D%7D%2C%22mt%22%3A%22themes%22%7D%2C%7B%22ty%22%3A%22ms%22%2C%22pr%22%3A%7B%22fonts%22%3A%7B%7D%7D%2C%22mt%22%3A%22fonts%22%7D%2C%7B%22ty%22%3A%22ms%22%2C%22pr%22%3A%7B%22styles%22%3A%7B%22style%22%3A%7B%22ablt93%22%3A%7B%22name%22%3A%7B%22val%22%3A%22Normal%22%7D%2C%22basedOn%22%3A%7B%22val%22%3A%22%22%7D%2C%22next%22%3A%7B%22val%22%3A%22%22%7D%2C%22pPr%22%3A%7B%22widowControl%22%3A%7B%22val%22%3Afalse%7D%2C%22jc%22%3A%7B%22val%22%3A%22STJcWml_left%22%7D%7D%2C%22type%22%3A%22STStyleType_paragraph%22%2C%22styleId%22%3A%22ablt93%22%2C%22defaultKeyword%22%3Atrue%7D%2C%22rdbvau%22%3A%7B%22name%22%3A%7B%22val%22%3A%22Title%22%7D%2C%22basedOn%22%3A%7B%22val%22%3A%22vevutl%22%7D%2C%22next%22%3A%7B%22val%22%3A%22ablt93%22%7D%2C%22uiPriority%22%3A%7B%22val%22%3A9%7D%2C%22qFormat%22%3A%7B%22val%22%3Atrue%7D%2C%22pPr%22%3A%7B%22keepNext%22%3A%7B%22val%22%3Atrue%7D%2C%22keepLines%22%3A%7B%22val%22%3Atrue%7D%2C%22spacing%22%3A%7B%22before%22%3A0%2C%22after%22%3A0%2C%22line%22%3A408%2C%22lineRule%22%3A%22STLineSpacingRule_auto%22%7D%2C%22jc%22%3A%7B%22val%22%3A%22STJcWml_center%22%7D%2C%22outlineLvl%22%3A%7B%22val%22%3A0%7D%7D%2C%22rPr%22%3A%7B%22b%22%3A%7B%22val%22%3Atrue%7D%2C%22bCs%22%3A%7B%22val%22%3Atrue%7D%2C%22color%22%3A%7B%22val%22%3A%221A1A1A%22%7D%2C%22sz%22%3A%7B%22val%22%3A480%7D%2C%22szCs%22%3A%7B%22val%22%3A480%7D%7D%2C%22type%22%3A%22STStyleType_paragraph%22%2C%22styleId%22%3A%22rdbvau%22%7D%2C%22vevutl%22%3A%7B%22name%22%3A%7B%22val%22%3A%22Normal%22%7D%2C%22basedOn%22%3A%7B%22val%22%3A%22%22%7D%2C%22next%22%3A%7B%22val%22%3A%22%22%7D%2C%22pPr%22%3A%7B%22widowControl%22%3A%7B%22val%22%3Afalse%7D%2C%22jc%22%3A%7B%22val%22%3A%22STJcWml_left%22%7D%7D%2C%22type%22%3A%22STStyleType_paragraph%22%2C%22styleId%22%3A%22vevutl%22%2C%22defaultKeyword%22%3Atrue%7D%7D%7D%7D%2C%22mt%22%3A%22styles%22%7D%2C%7B%22ty%22%3A%22ms%22%2C%22pr%22%3A%7B%22settings%22%3A%7B%7D%7D%2C%22mt%22%3A%22settings%22%7D%2C%7B%22ty%22%3A%22ms%22%2C%22pr%22%3A%7B%22webSettings%22%3A%7B%7D%7D%2C%22mt%22%3A%22webSettings%22%7D%5D%7D%5D%7D",A="%7B%22wbMutationMsg%22%3A%20%22%22%2C%22text%22%3A%20%7B%22workbook%22%3A%22CkwIARoAIgcKBTMuMC4wKisIARInGggKBkJCMDhKMiIAKgwKCuW3peS9nOihqDEwAToDCMgBQgIIGkoAKgcIFroBAhoAKgcIFbIBAhoA%22%2C%22sheets%22%3A%7B%22BB08J2%22%3A%22CjMIARoAIgcKBTMuMC4wKiQIBCogGggKBkJCMDhKMiIMCgrlt6XkvZzooagxKgAyBGoCCAE%3D%22%7D%2C%22sheet_infos%22%3A%5B%7B%22sheet_id%22%3A%22BB08J2%22%2C%22sheet_name%22%3A%22%E5%B7%A5%E4%BD%9C%E8%A1%A81%22%7D%5D%2C%22dver%22%3A%223.0.0%22%7D%2C%22attribs%22%3A%20%22%22%7D",x=n(523097),N=function(){return(N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},O=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},k=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},R=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},L=(0,p.N1)()&&!(0,p.kK)()?l.Z:f.Z;function j(e){return(0,p.N1)()&&!(0,p.kK)()?new l.Z(e):new f.Z(e)}var P="2.1.0",B="2.4.0",F="1.0.0",U=10,G=function(){function e(e){this.defaultCodeVersion=new Map,this.parent=e.parent,this.database=e.database,this.setDefaultCodeVersion("doc",P),this.setDefaultCodeVersion("sheet",B),this.setDefaultCodeVersion("slide",F)}return e.prototype.filterUncommitedPadId=function(e){return O(this,void 0,void 0,function(){var t,n,o;return k(this,function(a){switch(a.label){case 0:if(e&&0===e.length)return[2,new r.x4(new r.ir(r.r8.ILLEGAL_ARGUMENT,"\u6587\u6863Id\u6570\u7EC4\u957F\u5EA6\u4E0D\u80FD\u4E3A0"))];return t=r.he.newInstance().addCondition("type",r.E1.IN,[s.N.COMMITING,s.N.WATTING,s.N.QUEUE]).addCondition("uid",r.E1.ONLY,this.parent.user.getUserId()),e&&t.addCondition("globalPadId",r.E1.IN,e),[4,this.database.getAll(i.me.OFFLINE_DATA,t)];case 1:if((n=a.sent()).error)return d.C.error("\u67E5\u8BE2\u5931\u8D25",n.error),[2,n];return o=n.data.map(function(e){return e.globalPadId}).reduce(function(e,t){return e.includes(t)?e:R(e,[t])},[]),[2,new r.x4(void 0,o)]}})})},e.prototype.filterNeedUpdateCachePadId=function(e){return O(this,void 0,void 0,function(){var t,n,o,a,s,u,c,l,f;return k(this,function(p){switch(p.label){case 0:if(e&&0===e.length)return[2,new r.x4(new r.ir(r.r8.ILLEGAL_ARGUMENT,"\u6587\u6863Id\u6570\u7EC4\u957F\u5EA6\u4E0D\u80FD\u4E3A0"))];return t=r.he.newInstance().addCondition("uid",r.E1.ONLY,this.parent.user.getUserId()),e&&t.addCondition("globalPadId",r.E1.IN,e),[4,this.database.getAll(i.me.DOCUMENT_DATA,t)];case 1:if((n=p.sent()).error)return d.C.error("\u67E5\u8BE2\u5931\u8D25",n.error),[2,n];for(c=0,o=10,a=n.data,s=new Map,u=[];c<a.length;c++)l=a[c],f=s.get(l.globalPadId)||0,s.set(l.globalPadId,f+1),f+1===o&&u.push(l.globalPadId);return[2,new r.x4(void 0,u)]}})})},e.prototype.getUncommitedOfflineData=function(){return O(this,void 0,void 0,function(){var e,t;return k(this,function(n){switch(n.label){case 0:return e=r.he.newInstance().addCondition("type",r.E1.IN,[s.N.COMMITING,s.N.WATTING,s.N.QUEUE]).addCondition("uid",r.E1.ONLY,this.parent.user.getUserId()),[4,this.database.getAll(i.me.OFFLINE_DATA,e)];case 1:return(t=n.sent()).error&&d.C.error("\u67E5\u8BE2\u5931\u8D25",t.error),[2,t]}})})},e.prototype.syncOfflineData=function(e){return O(this,void 0,void 0,function(){var t,n,r,i,o,s,u,c,l,f,p,h,g,m,v,y,b;return k(this,function(_){switch(_.label){case 0:return d.C.log("call SyncOfflineData()",e),t=e.padId,n=e.secretId,r=e.padType,i=e.onCommiting,o=e.onCommitFinished,u=void 0===(s=e.source)?"list":s,l=void 0!==(c=e.force)&&c,[4,this.checkUpdateInterval(e)];case 1:if((f=_.sent()).resultCode!==a.D.Success)return[2,f];return[4,(p=j()).lock("offline_"+n,{source:u})];case 2:if(!(h=_.sent()).isSuccess)return d.C.warn("SyncOfflineData. \u7ADE\u4E89\u79BB\u7EBF\u9501\u5931\u8D25\uFF0C\u540C\u6B65\u63A5\u53E3\u5F02\u5E38\u7ED3\u675F",t,n,u,l,r,h),[2,{resultCode:a.D.GetDocLockError,subResultCode:-1,message:"\u7ADE\u4E89\u79BB\u7EBF\u9501\u5931\u8D25"}];_.label=3;case 3:return _.trys.push([3,8,9,11]),i&&i(t),d.C.log("SyncOfflineData. \u7B2C\u4E00\u6B65\uFF1A\u5E26\u6570\u636E\u521B\u5EFA\u6587\u6863",t,n,u,l,r),[4,this.commitLocalFile(e)];case 4:if((m=_.sent()).resultCode!==a.D.Success)return o&&o(!1,t),[2,m];return d.C.log("SyncOfflineData. \u7B2C\u4E8C\u6B65\uFF0C\u63D0\u4EA4\u672A\u63D0\u4EA4\u7684\u79BB\u7EBF\u6570\u636E",t,n,u,l,r),[4,this.commitUncommitData(e)];case 5:if((v=_.sent()).resultCode!==a.D.Success)return o&&o(!1,t),[2,v];return o&&o(!0,t),d.C.log("SyncOfflineData. \u7B2C\u4E09\u6B65\uFF0C\u68C0\u67E5\u7248\u672C\u66F4\u65B0",t,n,u,l,r),[4,this.checkVersionUpdate(r,t)];case 6:return _.sent(),d.C.log("SyncOfflineData. \u7B2C\u56DB\u6B65\uFF0C\u9884\u62C9\u79BB\u7EBF\u7F13\u5B58\u6570\u636E",t,n,u,l,r),[4,this.fetchAndStoreDocumentCache(e)];case 7:if((y=_.sent()).resultCode!==a.D.Success)return[2,y];return g=y.data,[3,11];case 8:return b=_.sent(),d.C.error("SyncOfflineData. \u540C\u6B65\u6587\u6863\u5F02\u5E38\u7ED3\u675F",null==b?void 0:b.stack),[2,{resultCode:a.D.SyncOfflineDataUnknownError,subResultCode:-1,message:"SyncOfflineDataUnknownError\u3002 \u540C\u6B65\u79BB\u7EBF\u6570\u636E\u7684\u65F6\u5019\u53D1\u751F\u4E86\u672A\u77E5\u9519\u8BEF \u88ABcatch\u4F4F\u4E86\u3002",error:b||Error("SyncOfflineDataUnknownError")}];case 9:return[4,p.release("offline_"+n)];case 10:return _.sent(),[7];case 11:return d.C.log("SyncOfflineData. \u7ED3\u675F",t,n,u,l,r),[2,{resultCode:a.D.Success,subResultCode:0,message:"Success",data:g}]}})})},e.prototype.checkUpdateInterval=function(e){return O(this,void 0,void 0,function(){var t,n,o,s,u,c,l,f,p,h;return k(this,function(g){switch(g.label){case 0:if(t=e.padId,n=e.secretId,o=e.padType,u=void 0===(s=e.source)?"list":s,l=void 0!==(c=e.force)&&c)return[3,2];return f=r.he.newInstance().addCondition("globalPadId",r.E1.ONLY,t).addCondition("uid",r.E1.ONLY,this.parent.user.getUserId()),[4,this.database.get(i.me.DOCUMENT_STATUS,f)];case 1:if((p=g.sent()).error&&!(0,r.FG)(p.error))return d.C.warn("SyncOfflineData. \u67E5\u8BE2DocumentStatus\u53D1\u751F\u9519\u8BEF",t,n,u,l,o,p.error),[2,{resultCode:a.D.GetDocumentStatusError,subResultCode:-1,message:"\u6570\u636E\u5E93\u67E5\u8BE2DocumentStatus\u53D1\u751F\u9519\u8BEF",error:p.error}];if(!p.error&&(h=p.data,Date.now()-h.lastSyncTime<6e5))return d.C.warn("SyncOfflineData. RejcectByThrottle\u8282\u6D41\u4E86",t,n,u,l,o),[2,{resultCode:a.D.RejcectByThrottleError,subResultCode:-1,message:"\u540C\u6B65\u4EFB\u52A1\u5931\u8D25\uFF0C10\u5206\u949F\u5185\u5DF2\u7ECF\u540C\u6B65\u8FC7\u4E86\uFF0C\u8282\u6D41\u4E0B\u3002\u4E0A\u6B21\u540C\u6B65\u65F6\u95F4 "+new Date(h.lastSyncTime)}];g.label=2;case 2:return[2,{resultCode:a.D.Success,subResultCode:-1,message:"\u540C\u6B65\u4EFB\u52A1\u5F00\u59CB"}]}})})},e.prototype.commitLocalFile=function(e){return O(this,void 0,void 0,function(){var t,n,r,i,o,s,c;return k(this,function(l){switch(l.label){case 0:return t=e.padId,n=e.secretId,r=e.source,i=e.force,o=e.padType,[4,this.getPadInfo(t)];case 1:if(!(s=l.sent()))return d.C.error("commitLocalFile. getPadInfoError. ",t,n,r,i,o),[2,{resultCode:a.D.CreateFileError,subResultCode:-1e3,message:"commitLocalFile \u67E5\u8BE2\u6587\u6863PadInfo\u53D1\u751F\u9519\u8BEF\uFF0CPadInfo\u4E0D\u5B58\u5728\u6216\u8005\u6570\u636E\u5E93\u64CD\u4F5C\u9519\u8BEF\u3002"}];if(!(s&&(s.status===u.DL.NEW||s.status===u.DL.LOCAL)))return[3,3];return[4,this.createFileWithData(t,o,s.folder)];case 2:if((c=l.sent()).error)return d.C.error("commitLocalFile \u5E26\u6570\u636E\u521B\u5EFA\u6587\u6863\u5931\u8D25",t,n,r,i,o,c.error),[2,{resultCode:a.D.CreateFileError,subResultCode:-2e3,message:"commitLocalFile \u5E26\u6570\u636E\u521B\u5EFA\u6587\u6863\u5931\u8D25\u4E86\u3002",error:c.error}];l.label=3;case 3:return[2,{resultCode:a.D.Success,subResultCode:-1,message:"commitLocalFile \u6B63\u5E38"}]}})})},e.prototype.commitUncommitData=function(e){var t;return O(this,void 0,void 0,function(){var n,r,i,o,s,u,c,l,f,p;return k(this,function(h){switch(h.label){case 0:return n=e.padId,r=e.secretId,i=e.source,o=e.force,s=e.padType,[4,this.getUnCommitedData(n)];case 1:if((u=h.sent()).error)return d.C.error(u.error),[2,{resultCode:a.D.GetUncommitDataError,subResultCode:-1,message:"commitUncommitData \u67E5\u8BE2\u672C\u5730\u672A\u63D0\u4EA4\u6570\u636E\u9519\u8BEF\u3002",error:u.error}];if(d.C.log("commitUncommitData. \u67E5\u8BE2\u672C\u5730\u672A\u63D0\u4EA4\u79BB\u7EBF\u6570\u636E",n,r,i,o,s,u.data.length),!((c=u.data).length>0))return[3,4];return[4,this.batchCommitOfflineData(n,r,c)];case 2:if((l=h.sent()).resultCode!==a.D.Success)return d.C.error("commitUncommitData. \u63D0\u4EA4\u79BB\u7EBF\u672A\u63D0\u4EA4\u6570\u636E\u65F6\u51FA\u9519\u4E86\uFF0C\u540C\u6B65\u5931\u8D25",n,r,i,o,s),[2,l];if(!((f=l.data).length>0))return[3,4];return[4,this.updateDocUncommitedData(n,f)];case 3:if((p=h.sent()).error)return d.C.error("SyncOfflineData. \u66F4\u65B0\u672A\u63D0\u4EA4\u6570\u636E\u4E3A\u5DF2\u63D0\u4EA4\u6570\u636E\u51FA\u9519",n,r,i,o,s,p.error,null==(t=p.error)?void 0:t.stack),[2,{resultCode:a.D.UpdateUnCommitedDataError,subResultCode:-1,message:"commitUncommitData \u63D0\u4EA4\u6210\u529F\u540E\u66F4\u65B0\u6570\u636E\u5E93\u4E2D\u672C\u5730\u672A\u63D0\u4EA4\u79BB\u7EBF\u6570\u636E\u65F6\u53D1\u751F\u9519\u8BEF\u3002",error:p.error}];h.label=4;case 4:return[2,{resultCode:a.D.Success,subResultCode:-1,message:"commitUncommitData \u6B63\u5E38"}]}})})},e.prototype.fetchAndStoreDocumentCache=function(e){var t,n,r,i;return O(this,void 0,void 0,function(){var s,u,c,l,f,h,g,m,v,y,b,_,C,I,E,w,S,D,M,T,A,x,N=this;return k(this,function(O){switch(O.label){case 0:return s=e.padId,u=e.secretId,c=e.source,l=e.force,f=e.padType,g=void 0===(h=e.deleteOldCache)||h,m=e.rev,v=e.isManualOffline,[4,this.preFetchDocData(s,u,m)];case 1:if((y=O.sent()).resultCode!==a.D.Success)return d.C.error("SyncOfflineData. \u62C9\u53D6\u65B0\u7684\u79BB\u7EBF\u6570\u636E\u5931\u8D25, \u540C\u6B65\u5931\u8D25",s,u,c,l,f,(0,p.Ei)(y)),[2,y];return _=(b=y.data).dver,C=b.allBlockData,I=b.rangePrivilege,d.C.log("SyncOfflineData. \u7B2C\u4E94\u6B65\uFF0C\u5220\u9664\u672C\u5730\u79BB\u7EBF\u6570\u636E&\u5199\u5165\u65B0\u7684\u9884\u62C9\u6570\u636E",s,u,c,l,f),E=C.map(function(e){return N.blockData2OfflineData(e,_)}),[4,this.updateDocOfflineData(s,E,g,m)];case 2:if((w=O.sent()).error)return d.C.error("SyncOfflineData. \u5199\u5165\u79BB\u7EBF\u7F13\u5B58\u6570\u636E\u9519\u8BEF.",s,u,c,l,f,m,_,E.length,w.error,null==(t=w.error)?void 0:t.stack),[2,{resultCode:a.D.UpdatePreFetchOfflienDataError,subResultCode:-1,message:"updateDocOfflineData \u64CD\u4F5C\u6570\u636E\u5E93\u66F4\u65B0\u79BB\u7EBF\u7F13\u5B58\u6570\u636E\u5931\u8D25",error:w.error}];return[4,this.getManualPadInfo(u)];case 3:if((!(S=O.sent()).error&&S.data||v)&&C.forEach(function(e){N.cacheImageData(e,_)}),!I)return[3,5];return[4,this.cacheRangePrivilege(s,I)];case 4:(D=O.sent())&&D.error&&d.C.error("cacheRangePrivilege. \u5199\u5165\u79BB\u7EBF\u533A\u57DF\u6743\u9650\u6570\u636E\u9519\u8BEF.",null==(n=D.error)?void 0:n.stack),O.label=5;case 5:return M=void 0!==v?{dver:_,isOfflineCache:!0,isManualOffline:v}:{dver:_,isOfflineCache:!0},[4,this.updatePadInfo(s,M)];case 6:if((T=O.sent()).error)return d.C.error("SyncOfflineData. \u589E\u91CF\u66F4\u65B0padInfo\u9519\u8BEF.",s,u,c,l,f,m,_,T.error,null==(r=T.error)?void 0:r.stack),[2,{resultCode:a.D.UpdatePadInfoError,subResultCode:-1,message:"updatePadInfo \u64CD\u4F5C\u6570\u636E\u5E93\u66F4\u65B0\u79BB\u7EBFPadInfo\u7F13\u5B58\u6570\u636E\u5931\u8D25",error:T.error}];return A=new o({uid:this.parent.user.getUserId(),globalPadId:s,secretId:u,lastSyncTime:Date.now()}),[4,this.updateDocumentStatus(A)];case 7:return(x=O.sent()).error&&d.C.error("SyncOfflineData. \u66F4\u65B0\u6587\u6863Status\u8868\u9519\u8BEF.",s,u,c,l,f,m,_,x.error,null==(i=x.error)?void 0:i.stack),this.parent.mapDocumentVersion(_,(0,p.KW)(f,u)),[2,{resultCode:a.D.Success,subResultCode:0,message:"fetchAndStoreDocumentCache Success",data:T.data[0]}]}})})},e.prototype.updateDocumentStatus=function(e){return O(this,void 0,void 0,function(){return k(this,function(t){switch(t.label){case 0:return[4,this.database.update(i.me.DOCUMENT_STATUS,e)];case 1:return[2,t.sent()]}})})},e.prototype.updatePadInfo=function(e,t){return O(this,void 0,void 0,function(){var n;return k(this,function(o){switch(o.label){case 0:return n=new r.he().addCondition("globalPadId",r.E1.ONLY,e).addCondition("uid",r.E1.ONLY,this.parent.user.getUserId()),[4,this.database.updateField(i.me.PAD_INFO,n,t)];case 1:return[2,o.sent()]}})})},e.prototype.getUnCommitedData=function(e){return O(this,void 0,void 0,function(){var t;return k(this,function(n){switch(n.label){case 0:return t=r.he.newInstance().addCondition("globalPadId",r.E1.ONLY,e).addCondition("type",r.E1.IN,[s.N.COMMITING,s.N.WATTING,s.N.QUEUE]).addCondition("uid",r.E1.ONLY,this.parent.user.getUserId()),[4,this.database.getAll(i.me.OFFLINE_DATA,t)];case 1:return[2,n.sent()]}})})},e.prototype.clearDocOfflineData=function(e,t){return void 0===t&&(t=!0),O(this,void 0,void 0,function(){var n,o,a,s,u;return k(this,function(c){switch(c.label){case 0:return n=r.he.newInstance().addCondition("globalPadId",r.E1.ONLY,e).addCondition("uid",r.E1.ONLY,this.parent.user.getUserId()),[4,this.database.delete(i.me.OFFLINE_DATA,n)];case 1:if(o=c.sent(),!t)return[3,8];if(!(a=!o.error))return[3,3];return[4,this.database.delete(i.me.DOCUMENT_DATA,n)];case 2:a=o=c.sent(),c.label=3;case 3:if(!(s=!o.error))return[3,5];return[4,this.database.delete(i.me.DOCUMENT_STATUS,n)];case 4:s=o=c.sent(),c.label=5;case 5:if(!(u=!o.error))return[3,7];return[4,this.database.updateField(i.me.PAD_INFO,n,{isOfflineCache:!1})];case 6:u=o=c.sent(),c.label=7;case 7:c.label=8;case 8:return[2,o]}})})},e.prototype.updateDocOfflineData=function(e,t,n,o){return O(this,void 0,void 0,function(){var a,s;return k(this,function(u){switch(u.label){case 0:if(a=r.he.newInstance().addCondition("globalPadId",r.E1.ONLY,e).addCondition("uid",r.E1.ONLY,this.parent.user.getUserId()),void 0!==o&&a.addCondition("version",r.E1.UPPER_BOUND,{upper:o,open:!1}),!n)return[3,2];return[4,this.database.deleteAndWrite(i.me.DOCUMENT_DATA,a,t)];case 1:case 3:return[2,u.sent()];case 2:return s=t.map(function(e){return{tableName:i.me.DOCUMENT_DATA,data:e}}),[4,this.database.updateMultiTableData(s)]}})})},e.prototype.composeOfflineData=function(e,t){var n=this.parent.user.getUserId(),r=t[0];return{common:{type:"USER_CHANGES",offlineMsg:!0,docid:e,uid:n,dver:r.dver,base_rev:r.type===s.N.INIT?r.version:r.data.baseVersion,code_ver:+(r.docType===u.Gk.EXCEL),session_type:0,gray:window._grayVersion?window._grayVersion:0,generalpacket:this.getHeaderGeneralPacket(),pver:r.docType===u.Gk.WORD?2:1,uuId:r.type===s.N.INIT?this.parent.user.getUserId():r.data.data.uuId},respective:t.filter(function(e){if(e.type!==s.N.INIT)return e}).map(function(e){var t=e.data.data,n={task_id:t.taskId,subId:t.subId,oSubId:t.oSubId||!1,head:t.head,keydata:t.keyData||!1,changeSetCount:t.changeData?1:void 0!==t.changeSetCount?t.changeSetCount:t.mutations.length,changeset:t.changeset?t.changeset:JSON.stringify(t.changeData||t.mutations||"[]"),apool:t.apool};return r.docType===u.Gk.EXCEL&&(n.changeset=n.changeset+"\n"),n})}},e.prototype.batchCommitOfflineData=function(e,t,n){return O(this,void 0,void 0,function(){var r,i,s,u,c,l,f;return k(this,function(p){switch(p.label){case 0:if(0===(r=n).length)return[2,{resultCode:a.D.CommitOfflineDataError,subResultCode:-1e3,message:"batchCommitOfflineData \u53C2\u6570\u9519\u8BEF\u3002\u5F85\u63D0\u4EA4\u7684OfflineData\u6570\u7EC4\u957F\u5EA6\u4E3A0"}];return[4,this.isCommitFailedBefore(e,n)];case 1:if(p.sent())return[2,{resultCode:a.D.CommitOfflineDataError,subResultCode:-1001,message:"batchCommitOfflineData \u8BE5\u79BB\u7EBF\u6570\u636E\u66FE\u7ECF\u63D0\u4EA4\u8FC7\u4E14\u62A5\u9519"}];return r=this.offlineDataSort(r),i=this.composeOfflineData(e,n),[4,this.commitOfflineData(e,i)];case 2:if((s=p.sent()).error)return d.C.error(s.error),[2,{resultCode:a.D.CommitOfflineDataError,subResultCode:-2e3,message:"batchCommitOfflineData \u6279\u91CF\u63D0\u4EA4\u79BB\u7EBF\u6570\u636E\u65F6\u53D1\u751F\u9519\u8BEF\u3002",error:s.error}];if(0===(c=(u=s.data).retcode))return l=this.createMisschangeData(e,t,u.Data),[2,{resultCode:a.D.Success,subResultCode:-1,data:l,message:"batchCommitOfflineData \u63D0\u4EA4\u6B63\u5E38\u3002"}];return d.C.error("batchCommitOfflineData retcode:"+c),[40005,40003,40034].indexOf(c)>=0&&(f=new o({uid:this.parent.user.getUserId(),globalPadId:e,secretId:t,lastSyncTime:Date.now(),lastErrorTime:Date.now()}),this.updateDocumentStatus(f)),[2,{resultCode:a.D.CommitOfflineDataError,subResultCode:-2001,message:"batchCommitOfflineData \u6279\u91CF\u63D0\u4EA4\u79BB\u7EBF\u6570\u636E\u65F6\u53D1\u751F\u9519\u8BEF\u3002retCode\u4E0D\u4E3A0 retCode="+c}]}})})},e.prototype.isCommitFailedBefore=function(e,t){return O(this,void 0,void 0,function(){var n,o,a;return k(this,function(s){switch(s.label){case 0:return n=r.he.newInstance().addCondition("globalPadId",r.E1.ONLY,e).addCondition("uid",r.E1.ONLY,this.parent.user.getUserId()),[4,this.database.get(i.me.DOCUMENT_STATUS,n)];case 1:if((o=s.sent()).error)return[2,!1];if(o.data&&o.data.lastErrorTime&&(a=o.data.lastErrorTime,!t.some(function(e){return e.createTime>a})))return[2,!0];return[2,!1]}})})},e.prototype.getHeaderGeneralPacket=function(){var e={};return window.__globalReleaseVersion&&(e.rel_rev=window.__globalReleaseVersion),e},e.prototype.commitOfflineData=function(e,t){return O(this,void 0,void 0,function(){var n,r;return k(this,function(i){return n="/dop-api/commitchanges?padId="+e+"&xsrf="+(0,p.fM)(),r=encodeURIComponent(r=JSON.stringify(t)),[2,c.hS.sendCommonRequest(n,c.n$.POST,"data="+r)]})})},e.prototype.getGlobalPadIdBySecretId=function(e,t,n){return void 0===n&&(n=!0),O(this,void 0,void 0,function(){var r,o;return k(this,function(a){switch(a.label){case 0:return[4,this.getPadInfo(e,i.tA.SECRET)];case 1:if(r=a.sent())return[2,r.globalPadId];return[4,this.getClientVarsBySecretId(e,t,n)];case 2:if((o=a.sent()).error)return[2,void 0];return[2,o.data.globalPadId]}})})},e.prototype.getClientVarsBySecretId=function(e,t,n){return void 0===n&&(n=!0),O(this,void 0,void 0,function(){var i,o,a,s;return k(this,function(u){switch(u.label){case 0:return[4,c.hS.fetchDocData(e,t,n)];case 1:if((i=u.sent()).error)return[2,new r.x4(i.error)];o=i.data,u.label=2;case 2:if(u.trys.push([2,4,,5]),"blankpage"===(a=this.convertDataToClientVars(o)).padType||!0===a.isBlankPage)return d.C.error("\u6587\u6863\u6570\u636E\u4E0D\u5B58\u5728\uFF0C\u6216\u8005\u65E0\u6743\u9650"),[2,new r.x4(Error("FileNotExsit"))];return[4,this.createPadInfoFromClientVars(a)];case 3:return u.sent(),[2,new r.x4(void 0,a)];case 4:return s=u.sent(),d.C.error("\u89E3\u6790\u540E\u53F0\u9884\u62C9\u6570\u636E\u5F02\u5E38",s),[2,new r.x4(s||Error("ParseResponseError"))];case 5:return[2]}})})},e.prototype.convertDataToClientVars=function(e){var t=this.unpackEjsData(e);if(t){var n=t.head.value;if(t.text&&t.text.value){var r=n.needEscape?escape(t.text.value):t.text.value;n.clientVars.collab_client_vars.initialAttributedText.text=r,n.clientVars.collab_client_vars.initialAttributedText.attribs=t.attribs.value}return n.clientVars}},e.prototype.unpackEjsData=function(e){for(var t=0,n=e||"",r=n.length,i={text:{type:"",value:null},attribs:{type:"",value:null},head:{type:"",value:null}};t<r;){var o=n.slice(t,t+50).split("\n");if(o&&o.length>=3){var a=o[0],s=o[1],u=parseInt(o[2],10);t+=o[0].length+o[1].length+o[2].length+3;var c=n.slice(t,t+u);t+=u+1,"text"===a?(i.text.type=s,"json"===s?i.text.value=JSON.parse(c):i.text.value=c):"head"===a?(i.head.type=s,"json"===s?i.head.value=JSON.parse(c):i.head.value=c):"attribs"===a&&(i.attribs.type=s,"json"===s?i.attribs.value=JSON.parse(c):i.attribs.value=c)}else break}return i},e.prototype.checkVersionUpdate=function(e,t){return O(this,void 0,void 0,function(){var n,r;return k(this,function(i){switch(i.label){case 0:return n="https://docs.qq.com/cgi/gateway/dver/gray?padId="+t+"&type="+this.getTypeStringWithPadType(e),[4,c.hS.sendCommonRequest(n,c.n$.GET,void 0,"custom")];case 1:return(r=i.sent()).error&&d.C.error("checkVersionUpdate error.",r.error),d.C.log("checkVersionUpdate. response=",r.data),[2,r]}})})},e.prototype.preFetchDocData=function(e,t,n){return O(this,void 0,void 0,function(){var r,i,o;return k(this,function(a){switch(a.label){case 0:return r=this.getFetchUrl(e,t,n),[4,c.hS.sendCommonRequest(r,c.n$.GET,void 0,"custom")];case 1:if((i=a.sent()).error)return[2,this.handleCommonRequestError(i)];return o=i.data,[2,this.handlePreFetchDocData(e,o)]}})})},e.prototype.handleCommonRequestError=function(e){return"HttpError"===e.error.errorType?{resultCode:a.D.PreFetchDocDataError,subResultCode:e.error.statusCode,message:"Prefetch Data\u8BF7\u6C42\u9047\u5230HttpError",error:e.error}:"TimeOutError"===e.error.message?{resultCode:a.D.PreFetchDocDataError,subResultCode:-200801,message:"Prefetch Data\u8BF7\u6C42\u8D85\u65F6",error:e.error}:{resultCode:a.D.PreFetchDocDataError,subResultCode:-200802,message:"Prefetch Data\u8BF7\u6C42\u9047\u5230\u5176\u4ED6\u9519\u8BEF",error:e.error}},e.prototype.getSubBlockList=function(e){return this.parseHeadersFromClientVars(e)},e.prototype.pushState=function(e,t){var n=window.history;try{t?n.replaceState(null,"",e):n.pushState(null,"",e)}catch(n){window.location[t?"replace":"assign"](e)}},e.prototype.isFileCreated=function(e){return O(this,void 0,void 0,function(){var t;return k(this,function(n){switch(n.label){case 0:return[4,this.getPadInfo(e,i.tA.GLOBAL)];case 1:if(!(t=n.sent()))return d.C.error("\u6587\u6863\u57FA\u672C\u4FE1\u606F\u4E0D\u5B58\u5728"),[2,new r.x4(Error("FileNotExsit"))];if(t.status===u.DL.NORMAL)return[2,new r.x4(void 0,!0)];return[2,new r.x4(void 0,!1)]}})})},e.prototype.createFileWithData=function(e,t,n){return void 0===t&&(t=u.Gk.EXCEL),void 0===n&&(n="/"),O(this,void 0,void 0,function(){return k(this,function(r){return[2,this.createFile(e,t,!0,n)]})})},e.prototype.createFile=function(e,t,n,o){var a;return void 0===t&&(t=u.Gk.EXCEL),void 0===n&&(n=!0),O(this,void 0,void 0,function(){var s,l,f,p,h,g,m,v,y,b,_,C,I,E,S,D,T,A;return k(this,function(x){switch(x.label){case 0:return s=t,[4,this.getPadInfo(e,i.tA.GLOBAL)];case 1:if(!(l=x.sent()))return d.C.error("\u83B7\u53D6\u6587\u6863padInfo\u5931\u8D25\u4E86",e),[2,new r.x4(Error("NoPadInfoError"))];if(l.status===u.DL.NORMAL)return d.C.error("\u5DF2\u7ECF\u521B\u5EFA\u8FC7\u8BE5\u6587\u6863\u4E86\uFF0C\u4E0D\u7528\u518D\u521B\u5EFA\u4E86",e),[2,new r.x4(Error("AlreadyCreatedError"))];return[4,this.getLocalCreateFileData(e,n)];case 2:if((f=x.sent()).error)return d.C.error(f.error,"\u8BFB\u53D6\u6587\u6863\u79BB\u7EBF\u672A\u63D0\u4EA4\u6570\u636E\u5931\u8D25"),[2,f];return p=f.data,h="/cgi-bin/online_docs/createdoc_new",g=this.generateCreateFileBody({globalPadId:e,docType:s,folderId:o,withData:n},l,p),[4,c.hS.sendCommonRequest(h,c.n$.POST,g)];case 3:if((m=x.sent()).error)return d.C.error(m.error,"\u521B\u5EFA\u6587\u6863\u8BF7\u6C42\u5931\u8D25"),[2,m];if(v=m.data,d.C.info("create file response:",JSON.stringify(v)),0!==v.retcode)return d.C.error("\u521B\u5EFA\u6587\u6863\u5931\u8D25"),[2,new r.x4(Error("CreatFileError"),v)];if(!0!==v.is_doc_id_dup)return[3,10];if(v.is_dup_id_owner)return d.C.error("\u540E\u53F0\u8FD4\u56DE\u6587\u6863 id \u91CD\u590D\uFF0C\u4E14\u662F\u548C\u81EA\u5DF1\u7684\u6587\u6863 id \u91CD\u590D"),[2,new r.x4(new r.oo(0,10034,"DocumentIdDuplicated"),{retcode:10033,url:v.doc_url})];return[4,this.getUncommitedOfflineData()];case 4:if((y=x.sent()).error)return d.C.error("\u540E\u53F0\u8FD4\u56DE\u6587\u6863 id \u91CD\u590D\uFF0C\u5907\u4EFD\u79BB\u7EBF\u6570\u636E\u65F6\u52A0\u8F7D\u79BB\u7EBF\u6570\u636E\u5F02\u5E38"),[2,new r.x4(Error("DocumentIdDuplicated \u52A0\u8F7D\u79BB\u7EBF\u6570\u636E\u5F02\u5E38\u539F\u56E0: "+(null==(a=y.error)?void 0:a.message)),{retcode:10033,url:v.doc_url})];return[4,w(M(y.data))];case 5:return b=x.sent(),d.C.info("\u540E\u53F0\u8FD4\u56DE\u6587\u6863 id \u91CD\u590D\uFF0C\u5907\u4EFD\u79BB\u7EBF\u6570\u636E, result = "+b),_=r.he.newInstance().addCondition("globalPadId",r.E1.ONLY,e).addCondition("uid",r.E1.ONLY,this.parent.user.getUserId()),[4,this.database.delete(i.me.PAD_INFO,_)];case 6:return x.sent(),[4,this.database.delete(i.me.OFFLINE_DATA,_)];case 7:return x.sent(),[4,this.database.delete(i.me.DOCUMENT_DATA,_)];case 8:return x.sent(),[4,this.database.delete(i.me.DOCUMENT_STATUS,_)];case 9:return x.sent(),[2,new r.x4(new r.oo(0,10033,"DocumentIdDuplicated"),{retcode:10033,url:v.doc_url})];case 10:return C=Date.now(),l.status=u.DL.NORMAL,l.last_modify_ts=C,l.lastSyncTime=C,[4,this.getDefaultDocData(e,i.tA.GLOBAL)];case 11:if((I=x.sent()).error)return[2,I];if(E=I.data.data,!v.miss_changes||!(t===u.Gk.EXCEL||t===u.Gk.WORD&&n)||!((S=this.createMisschangeData(e,l.secretId||E.data.collab_client_vars.client.upid,JSON.parse(v.miss_changes))).length>0))return[3,13];return[4,this.updateDocUncommitedData(e,S)];case 12:if((D=x.sent()).error)return d.C.error(D.error),[2,D];x.label=13;case 13:return E.isTemp=!1,[4,this.updateClientVarsSocketInfo(e,E)];case 14:if((T=x.sent()).error)return[2,T];return t===u.Gk.WORD&&(T.data.collab_client_vars.rev=0),T.data.isLocalDoc=!1,T.data.padStatus=u.DL.NORMAL,A=this.clientVars2OfflineData(e,T.data,!0),[4,this.database.updateMultiTableData([{tableName:i.me.PAD_INFO,data:l},{tableName:i.me.DOCUMENT_DATA,data:A}])];case 15:return x.sent(),[2,new r.x4(void 0,{retcode:0,data:T.data})]}})})},e.prototype.generateCreateFileBody=function(e,t,n){var r,i,o,a=e.globalPadId,c=e.docType,l=e.folderId,f=e.withData;if(d.C.info("generateCreateFileBody"),n.length>0&&c===u.Gk.WORD){var h=n[0];if(h.type===s.N.INIT){var g=h.data.collab_client_vars;d.C.info("generateCreateFileBody before:",JSON.stringify(g)),g.dver.startsWith("3.0.")&&!g.initialAttributedText.text&&(g.initialAttributedText.text=T),d.C.info("generateCreateFileBody after:",JSON.stringify(g)),r=encodeURIComponent(JSON.stringify(N(N({},g.initialAttributedText),{text:JSON.parse(unescape(g.initialAttributedText.text))}))),i=JSON.stringify(g.apool)}}c===u.Gk.EXCEL&&(0,x.w)(t.dver,"3.0.0")&&(r=A);var m=Math.floor(Math.max.apply(Math,n.map(function(e){return e.createTime}))/1e3);if(n.length>0){var v=this.offlineDataSort(n);o=encodeURIComponent(JSON.stringify(this.composeOfflineData(a,f?v:[v[0]])))}var y=l||t.folder||"/";d.C.log("createFile folder_id:",y);var b=11,_=0,C="string"==typeof a?a.split("$")[0]:"",I="string"==typeof a?a.split("$")[1]:"",E="2.0.0";return"create_type="+b+"&pad_id="+I+"&domain_id="+C+"&doc_type="+c+"&templateId="+_+"&xsrf="+(0,p.fM)()+"&version="+E+"&folder_id="+y+"&title="+t.title+"&last_browse_ts="+m+(t.isUserChangeTitle?"&disable_auto_rename=1":"")+(r?"&atext="+r:"")+(i?"&apool="+i:"")+(o?"&data="+o:"")},e.prototype.updateOfflineDataBaseVersion=function(e,t,n){},e.prototype.updateClientVarsSocketInfo=function(e,t){return O(this,void 0,void 0,function(){var n,i,o,a,s,u;return k(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),n=t.collab_client_vars.rev,i=t.collab_client_vars.padSubId,o=t.collab_client_vars.client.upid,[4,this.preFetchSingleSubBlockData(e,o,i,n)];case 1:if((a=c.sent()).error)return[2,a];return s=a.data.data,t.collab_client_vars.client=Object.assign(s.collab_client_vars.client,{upid:o}),t.collab_client_vars.pver=s.collab_client_vars.pver,t.collab_client_vars.apid=s.collab_client_vars.apid,t.collab_client_vars.wmode=s.collab_client_vars.wmode,t.collab_client_vars.websocketReopenCount=s.collab_client_vars.websocketReopenCount,t.collab_client_vars.pollingAttemptNumber=s.collab_client_vars.pollingAttemptNumber,t.userInfo=s.userInfo,[2,new r.x4(void 0,t)];case 2:return u=c.sent(),[2,new r.x4(u)];case 3:return[2]}})})},e.prototype.getPadInfo=function(e,t){return void 0===t&&(t=i.tA.GLOBAL),O(this,void 0,void 0,function(){var n,o;return k(this,function(a){switch(a.label){case 0:switch(n=r.he.newInstance().addCondition("uid",r.E1.ONLY,this.parent.user.getUserId()),t){case i.tA.GLOBAL:n.addCondition("globalPadId",r.E1.ONLY,e);break;case i.tA.SECRET:n.addCondition("secretId",r.E1.ONLY,e)}return[4,this.database.get(i.me.PAD_INFO,n)];case 1:if(!(o=a.sent()).error)return[2,o.data];return d.C.error(o.error),[2,null]}})})},e.prototype.storeNewDocData=function(e,t,n,r,o,a){var s;return void 0===a&&(a=!1),O(this,void 0,void 0,function(){var c,l,f,p,h,g,m;return k(this,function(v){switch(v.label){case 0:return c=Date.now()/1e3,l=o.isManualOffline,f=o.isUserChangeTitle,(p=this.generatorPadInfo({globalPadId:n,localPadId:o.localPadId,secretId:r,padType:e,folder:t,dver:o.collab_client_vars.dver,initTitle:o.padTitle,time:c,isShareme:a,isManualOffline:l,isUserChangeTitle:f>0,status:u.DL.LOCAL})).creator_domain=this.getDomainId(n),(h=this.clientVars2OfflineData(n,o,!0)).padStatus=u.DL.LOCAL,g={globalPadId:n,secretId:r,uid:p.uid,lastSyncTime:c},[4,this.database.updateMultiTableData([{tableName:i.me.PAD_INFO,data:p},{tableName:i.me.DOCUMENT_DATA,data:h},{tableName:i.me.DOCUMENT_STATUS,data:g}])];case 1:return(m=v.sent()).error&&d.C.error("storeNewDocData \u5199\u5165\u65B0\u6587\u6863\u6570\u636E\u53D1\u751F\u5F02\u5E38",null==(s=m.error)?void 0:s.stack),[2,m]}})})},e.prototype.preCreateDoc=function(){return O(this,void 0,void 0,function(){var e,t,n,o;return k(this,function(a){switch(a.label){case 0:return(e=r.he.newInstance()).addCondition("isCreated",r.E1.ONLY,!1),[4,this.database.getAll(i.me.NEW_DOCUMENT_ID,e)];case 1:if((t=a.sent()).error&&!(0,r.FG)(t.error))return[2,t];if((n=t.data)&&n.length>U)return[2,this.preCreateDefaultClientVars(n)];return[4,this.parent.preFetchDocIds()];case 2:if((o=a.sent()).error)return d.C.error(o.error,"\u9884\u62C9\u5F02\u5E38"),[2,null];return[2,this.preCreateDoc()]}})})},e.prototype.updatePreFetchIdInfo=function(e){return O(this,void 0,void 0,function(){return k(this,function(t){switch(t.label){case 0:return new r.he().addCondition("globalPadId",r.E1.ONLY,e.globalPadId),[4,this.database.updateMultiTableData([{tableName:i.me.NEW_DOCUMENT_ID,data:e}])];case 1:return t.sent(),[2]}})})},e.prototype.checkLocalClientVars=function(){return O(this,void 0,void 0,function(){var e,t,n,o;return k(this,function(a){switch(a.label){case 0:return e=[u.Gk.WORD,u.Gk.EXCEL,u.Gk.SLIDE],t=r.he.newInstance().addCondition("docType",r.E1.IN,e).addCondition("padStatus",r.E1.ONLY,u.DL.NEW).addCondition("uid",r.E1.ONLY,this.parent.user.getUserId()),n=new r.x4(void 0,{DocNum:0,ExcelNum:0,SlideNum:0}),[4,this.database.getAll(i.me.DOCUMENT_DATA,t)];case 1:if((o=a.sent()).error)return d.C.error(o.error,"\u8BFB\u53D6\u672C\u5730\u9884\u521B\u5EFA\u6587\u6863\u6570\u636E\u5931\u8D25"),n.error=o.error,[2,n];return o&&o.data&&o.data.forEach(function(e){e.docType===u.Gk.EXCEL?n.data.ExcelNum=n.data.ExcelNum+1:e.docType===u.Gk.WORD?n.data.DocNum=n.data.DocNum+1:e.docType===u.Gk.SLIDE&&(n.data.SlideNum=n.data.SlideNum+1)}),[2,n]}})})},e.prototype.updateFolderChildren=function(e,t){var n;return void 0===e&&(e="/"),O(this,void 0,void 0,function(){var o,a;return k(this,function(s){switch(s.label){case 0:return(o=new r.he).addCondition("key",r.E1.IN,[this.parent.user.getUserId()+e]),[4,this.database.get(i.me.FOLDER_INFO,o)];case 1:if((a=s.sent()).error)return d.C.error("updateFolderChildren() getPadInfo error\u3002",null==(n=a.error)?void 0:n.stack),[2,new r.x4(Error("GetPadInfoError"))];return a.data.childrenKey||(a.data.childrenKey=[]),a.data.childrenKey.push(t),[2,this.database.update(i.me.FOLDER_INFO,a.data)]}})})},e.prototype.getDomainId=function(e){return e.split("$")&&e.split("$").length?e.split("$")[0]:""},e.prototype.getDefaultInitTitle=function(e){var t="\u65E0\u6807\u9898\u6587\u6863";switch(e){case u.Gk.WORD:t="\u65E0\u6807\u9898\u6587\u6863";break;case u.Gk.EXCEL:t="\u65E0\u6807\u9898\u8868\u683C";break;case u.Gk.SLIDE:t="\u65E0\u6807\u9898\u5E7B\u706F\u7247"}return t},e.prototype.generatorPadInfo=function(e){var t=e.globalPadId,n=e.secretId,r=e.localPadId,i=e.padType,o=e.folder,a=e.dver,s=e.time,c=void 0===s?Date.now()/1e3:s,l=e.isShareme,d=void 0!==l&&l,f=e.status,p=e.isManualOffline,h=void 0!==p&&p,g=e.isUserChangeTitle,m=void 0!==g&&g,v=new u.BG(this.parent.user),y=this.parent.user.getUserId()+t,b=this.getDomainId(t);return N(N({},v),{key:y,type:i,uid:this.parent.user.getUserId(),globalPadId:t,domain_id:b,secretId:n,title:e.initTitle||this.getDefaultInitTitle(i),pad_id:r,status:f||u.DL.NEW,creator:this.parent.user.getUserId(),create_ts:c,doc_type:i,isMydoc:!0,isMyCreated:!0,isRencent:!0,isShareme:!0===d,isOfflineCache:!0,isManualOffline:h,isUserChangeTitle:m,dver:a,doc_type_desc:u.Yk[i],doc_url:"//docs.qq.com/"+u.Yk[i]+"/"+n,folder:o,privilege:0,last_modify_ts:c,last_browse_ts:c})},e.prototype.createPadInfo=function(e,t,n){return O(this,void 0,void 0,function(){var o,a,s,u,c,l;return k(this,function(f){switch(f.label){case 0:return(o=r.he.newInstance()).addCondition("isCreated",r.E1.IN,[!0]),o.addCondition("padType",r.E1.ONLY,e),[4,this.database.get(i.me.NEW_DOCUMENT_ID,o)];case 1:if(!(a=f.sent()).error)return[3,6];return(o=r.he.newInstance()).addCondition("isCreated",r.E1.ONLY,!1),[4,this.database.get(i.me.NEW_DOCUMENT_ID,o)];case 2:if(!(a=f.sent()).error)return[3,5];return[4,this.preCreateDoc()];case 3:return f.sent(),(o=r.he.newInstance()).addCondition("isCreated",r.E1.IN,[!0]),o.addCondition("padType",r.E1.ONLY,e),[4,this.database.get(i.me.NEW_DOCUMENT_ID,o)];case 4:return[2,a=f.sent()];case 5:a.data&&this.createDefaultClientVarsAndWriteDB(a.data),f.label=6;case 6:if(!this.parent.user||!this.parent.user.getUserId())return[2,new r.x4(Error("UidError"))];if(!(s=a.data))return d.C.error({retcode:-1,reason:"indexDB has not NewDocumentIds!"}),[2,new r.x4(Error("NoAvaliableIdError"))];return u=this.getDverWithPadType(e),c=Date.now()/1e3,l=this.generatorPadInfo({globalPadId:s.globalPadId,secretId:s.secretId,localPadId:s.localPadId,padType:e,folder:t,dver:u,time:c,isShareme:n}),o=r.he.newInstance().addCondition("globalPadId",r.E1.ONLY,s.globalPadId),[4,this.database.delete(i.me.NEW_DOCUMENT_ID,o)];case 7:return f.sent(),[4,this.database.set(i.me.PAD_INFO,l)];case 8:return f.sent(),[4,this.updateFolderChildren(t,l.key)];case 9:return f.sent(),this.preCreateDoc(),[2,new r.x4(void 0,l)]}})})},e.prototype.createPadInfoFromClientVars=function(e){return O(this,void 0,void 0,function(){var t,n;return k(this,function(r){switch(r.label){case 0:return t=e.globalPadId,[4,this.getPadInfo(t)];case 1:return!r.sent()&&(n=this.buildPadInfo(e))&&(d.C.log("\u66F4\u65B0padInfo\uFF1A",n),this.database.set(i.me.PAD_INFO,n)),[2]}})})},e.prototype.getManualPadInfo=function(e){return O(this,void 0,void 0,function(){var t,n,o;return k(this,function(a){switch(a.label){case 0:return t=this.parent.user.getUserId(),n=r.he.newInstance().addCondition("uid",r.E1.ONLY,t).addCondition("isManualOffline",r.E1.ONLY,!0).addCondition("secretId",r.E1.ONLY,e),[4,this.database.get(i.me.PAD_INFO,n)];case 1:return(o=a.sent()).error&&d.C.error("\u67E5\u8BE2\u5931\u8D25",o.error),[2,o]}})})},e.prototype.setDefaultCodeVersion=function(e,t){this.defaultCodeVersion.set(e,t),localStorage.setItem(e+"_code_version",t)},e.prototype.getCodeVersion=function(e){return this.defaultCodeVersion.get(e)||localStorage.getItem(e+"_code_version")||""},e.prototype.getDverWithPadType=function(e){return e===u.Gk.EXCEL?this.getCodeVersion("sheet"):e===u.Gk.WORD?this.getCodeVersion("doc"):e===u.Gk.SLIDE?this.getCodeVersion("slide"):void 0},e.prototype.getTypeStringWithPadType=function(e){return e===u.Gk.EXCEL?"sheet":e===u.Gk.WORD?"word":e===u.Gk.SLIDE?"slide":void 0},e}()},616113:function(e,t,n){"use strict";n.r(t),n.d(t,{PadIdType:function(){return u.tA},isSupportClientDB:function(){return g.N1},ClientVarsHelper:function(){return h},getFileTypeName:function(){return g.mE},MultiTabLock:function(){return y.r},DocumentId:function(){return c},BridgeHelper:function(){return L},Lock:function(){return p.HE},ArgumentError:function(){return s.ir},isALowerB:function(){return s.mt},Change:function(){return D},DBError:function(){return s.yr},getXsrf:function(){return g.fM},getFileType:function(){return g.JB},switchDebug:function(){return s.en},PadStatus:function(){return d.DL},wordOfflineSwitch:function(){return g.Tf},FILE_TYPE:function(){return d.Gk},IndexedDatabase:function(){return s.Mr},DATA_TYPE:function(){return o},BaseError:function(){return s.GU},AppDocsListType:function(){return i},createLock:function(){return p.YH},BaseDatabase:function(){return s.hj},ChangesetPack:function(){return g.gV},SyncResultCode:function(){return j.D},DBErrorType:function(){return s.Iv},IorderType:function(){return s.Rs},OfflineAPI:function(){return R},wordCodeVersion:function(){return g.SV},ArgumentErrorType:function(){return s.r8},UserAgent:function(){return g.Zp},JSApi:function(){return s.RR},LIST_TYPE:function(){return d.PV},HttpError:function(){return s.oo},ClientDatabase:function(){return s.CT},actionName:function(){return r},CGI:function(){return m.hS},OfflineDataManager:function(){return S},LIST_INFO_TYPE:function(){return d.Tn},isNoResultError:function(){return s.FG},TYPE_DES:function(){return d.w1},logSyncResult:function(){return g.Ei},OfflineData:function(){return l.T},Log:function(){return _.Z},DEBUG:function(){return s.eM},setCookie:function(){return g.d8},ClientMutexLock:function(){return v.q},DBDriver:function(){return s.XT},OFFLINE_ITEM_TYPE:function(){return l.N},BaseBusinessHelper:function(){return p.dd},default:function(){return P},DataErrorType:function(){return s.ay},QUERY_CONDITION_TYPE:function(){return s.E1},QueryCondition:function(){return s.he},pushState:function(){return g.qA},DebugUtils:function(){return A},TableName:function(){return u.me},getCookie:function(){return g.ej},DB_NAME:function(){return u.H4},ListType:function(){return M},NotifyStatus:function(){return a},PadInfo:function(){return d.BG},MutexLock:function(){return b.w},ErrorSyncResult:function(){return j.T},Result:function(){return s.x4},UserInfo:function(){return f}});var r,i,o,a,s=n(573483),u=n(627752),c=function(){return function(){}}(),l=n(538053),d=n(253614),f=function(){function e(e){this.uid=e.uid||"",this.uin=e.uin?e.uin:"",this.loginTime=new Date().getTime()}return e.prototype.getUserId=function(){return this.uid},e.prototype.setUserId=function(e){this.uid=e},e}(),p=n(791899),h=function(){function e(){}return e.convertData2ClientVars=function(e){},e.unpackEjsData=function(e){for(var t=0,n=e||"",r=n.length,i={};t<r;){var o=n.slice(t,t+50).split("\n");if(o&&o.length>=3){var a=o[0],s=o[1],u=parseInt(o[2]);t+=o[0].length+o[1].length+o[2].length+3;var c=n.slice(t,t+u);t+=u+1,i[a]={type:s},"json"===s?i[a].value=JSON.parse(c):i[a].value=c}else break}return i},e.updateClientVarsByEditPadInfo=function(e,t){e&&e.globalPadId===t.padInfo.globalPadId&&(t.privilegeAttribute&&(e.privilegeAttribute=t.privilegeAttribute),t.advPolicy&&(e.advPolicy=t.advPolicy),t.title&&(e.padTitle=t.title))},e}(),g=n(577797),m=n(797618),v=n(991068),y=n(742840),b=n(998198),_=n(759983),C=function(){return(C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},I=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},E=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},w=50,S=function(){function e(e){this.options=e,e&&void 0!==e.businessType&&(this.businessType=e.businessType);var t=(0,g.n5)();e&&e.user?this.user=e.user:t?this.user=new f({uid:t}):this.user=new f({uid:"guest"}),e&&(this.isSupportClientDB=e.isSupportClientDB),_.C.log("OfflineDataManager",this.user.getUserId())}return e.prototype.init=function(){return I(this,void 0,void 0,function(){var e,t,n,r,i,o,a,c,l;return E(this,function(f){switch(f.label){case 0:return e=(this.isSupportClientDB?this.isSupportClientDB():!!(0,g.N1)())&&!(0,g.kK)(),t=new s.ZP(u.H4,[{tableName:u.me.DOCUMENT_DATA,keyName:"key",indexs:["globalPadId","chunkId","uid","secretId","subGlobalPadId","subDocType","version","subId","type"]},{tableName:u.me.OFFLINE_DATA,keyName:"key",indexs:["globalPadId","chunkId","uid","secretId","subGlobalPadId","subDocType","version","subId","type"]},{tableName:u.me.PAD_INFO,keyName:"key",indexs:["globalPadId","secretId","uid"]},{tableName:u.me.NEW_DOCUMENT_ID,keyName:"globalPadId"},{tableName:u.me.FOLDER_INFO,keyName:"key"},{tableName:u.me.USER_INFO,keyName:"uid"},{tableName:u.me.DOCUMENT_STATUS,keyName:"globalPadId",indexs:["globalPadId","secretId","uid"]},{tableName:u.me.DATA_CHANGE,keyName:"key"},{tableName:u.me.DocumentEntities,keyName:"key"},{tableName:u.me.USERS,keyName:"key",indexs:["tinyId","nowUserIndex","docId","pageType","wedriveUin","wedocOpenId"]},{tableName:u.me.DriveData,keyName:"driveId",indexs:["fileId","objKey","secretId","uid"]}],e?s.XT.ClientDB:s.XT.IndexDB,u.kd),this.database=t.database,[4,this.database.init()];case 1:if((n=f.sent()).error)return _.C.error(n.error),[2,n];if(_.C.log("init IndexedDB success"),this.businessType!==d.Gk.EXCEL)return[3,3];return r=this,[4,this.createHelper(d.Gk.EXCEL)];case 2:return r.excelHelper=f.sent(),[3,11];case 3:if(this.businessType!==d.Gk.WORD)return[3,5];return i=this,[4,this.createHelper(d.Gk.WORD)];case 4:return i.wordHelper=f.sent(),[3,11];case 5:if(this.businessType!==d.Gk.SLIDE)return[3,7];return o=this,[4,this.createHelper(d.Gk.SLIDE)];case 6:return o.slideHelper=f.sent(),[3,11];case 7:return a=this,[4,this.createHelper(d.Gk.EXCEL)];case 8:return a.excelHelper=f.sent(),c=this,[4,this.createHelper(d.Gk.WORD)];case 9:return c.wordHelper=f.sent(),l=this,[4,this.createHelper(d.Gk.SLIDE)];case 10:l.slideHelper=f.sent(),f.label=11;case 11:return[2,new s.x4(void 0,!0)]}})})},e.prototype.getHelper=function(e){var t;if(void 0===e&&(e=this.businessType),e===d.Gk.EXCEL)t=this.excelHelper;else if(e===d.Gk.WORD)t=this.wordHelper;else if(e===d.Gk.SLIDE)t=this.slideHelper;else throw Error("\u6CA1\u6709\u6307\u5B9AbusinessType\u7684\u60C5\u51B5\u4E0B getHepler\u5FC5\u987B\u660E\u786E\u6307\u5B9AFILE_TYPE\u6765\u83B7\u53D6\u5BF9\u5E94\u7684helper.");return t},e.prototype.getDatabase=function(){return this.database},e.prototype.popDocumentId=function(){return I(this,void 0,void 0,function(){var e,t,n;return E(this,function(r){switch(r.label){case 0:if(!this.user||!this.user.getUserId())return[2,new s.x4(Error("UidError"))];return[4,this.getDocumentId()];case 1:if(!(e=r.sent()).error)return[3,4];return[4,this.preFetchDocIds()];case 2:return r.sent(),[4,this.getDocumentId()];case 3:e=r.sent(),r.label=4;case 4:if(!(t=e.data))return _.C.error({retcode:-1,reason:"indexDB has not NewDocumentIds!"}),[2,new s.x4(Error("NoAvaliableIdError"))];return n=s.he.newInstance().addCondition("globalPadId",s.E1.ONLY,t.globalPadId),[4,this.database.delete(u.me.NEW_DOCUMENT_ID,n)];case 5:return r.sent(),this.preFetchDocIds(),[2,new s.x4(void 0,t)]}})})},e.prototype.preFetchDocIds=function(){return I(this,void 0,void 0,function(){var e,t,n,r,i,o,a,c;return E(this,function(l){switch(l.label){case 0:return(e=s.he.newInstance()).addCondition("isCreated",s.E1.ONLY,!1),[4,this.database.getAll(u.me.NEW_DOCUMENT_ID,e)];case 1:if((t=l.sent()).error)return[2,t];if((n=t.data)&&n.length>.5*w)return[2,new s.x4(Error("ID\u8FD8\u5269\u4E0B\u8D85\u8FC7\u4E00\u534A\uFF0C\u4E0D\u7528\u62C9\u65B0\u7684\u4E86\u3002"),{count:n.length})];return r="https://docs.qq.com/cgi-bin/online_docs/predocid_get",[4,m.hS.sendCommonRequest(r)];case 2:if((i=l.sent()).error)return[2,i];o=i.data,l.label=3;case 3:if(l.trys.push([3,6,,7]),0!==o.retcode)return[3,5];return a=o.doc_id_list.splice(0,w).map(function(e){return{globalPadId:e.domain_id+"$"+e.pad_id,localPadId:""+e.pad_id,secretId:""+e.encoded_doc_id,isCreated:!1,padType:d.Gk.UNKNOWN}}).map(function(e){return{tableName:u.me.NEW_DOCUMENT_ID,data:e}}),[4,this.database.updateMultiTableData(a)];case 4:return[2,l.sent()];case 5:return _.C.error("\u540E\u53F0retCode\u4E0D\u4E3A0"),[2,new s.x4(Error(""))];case 6:return c=l.sent(),_.C.error(c,"\u5904\u7406\u6570\u636E\u5F02\u5E38"),[2,new s.x4(c)];case 7:return[2]}})})},e.prototype.checkEvn=function(){return I(this,void 0,void 0,function(){var e,t,n,r;return E(this,function(i){return(e=localStorage.getItem("last_dev_route_id"),t=localStorage.getItem("last_fd"),n=(0,g.ej)("dev_route_id"),r=(0,g.ej)("fd"),e!==n||t!==r)?(this.setEvn(n,r),[2,!0]):(this.setEvn(n,r),[2,!1])})})},e.prototype.setEvn=function(e,t){localStorage.setItem("last_dev_route_id",e),localStorage.setItem("last_fd",t)},e.prototype.mapDocumentVersion=function(e,t){_.C.debug("mapDocumentVersion  "+t+":"+e);var r,i,o={url:t,dver:e},a=function(e){_.C.info("mapDocumentVersion "+JSON.stringify(e))};g.Zp.isDesktop?this.sendCommandToSW({type:"preload-map-document-version",data:o}):(null==(r=n.g.tdocs)?void 0:r.mapDocumentVersion)?n.g.tdocs.mapDocumentVersion(C(C({},o),{success:a})):null==(i=window.mqq)||i.invoke("docx","mapDocumentVersion",o,a)},e.prototype.removeDocumentVersion=function(e){_.C.debug("removeDocumentVersion "+e);var t,r,i=function(e){_.C.info("removeDocumentVersion "+JSON.stringify(e))};g.Zp.isDesktop?this.sendCommandToSW({type:"preload-remove-document-version",data:e}):(null==(t=n.g.tdocs)?void 0:t.removeDocumentVersion)?n.g.tdocs.removeDocumentVersion({url:e,success:i}):null==(r=window.mqq)||r.invoke("docx","removeDocumentVersion",{url:e},i)},e.prototype.sendCommandToSW=function(e){if(!navigator.serviceWorker.controller)return void _.C.error("service worker is not available");_.C.debug("send command to service worker "+JSON.stringify(e)),navigator.serviceWorker.controller.postMessage(e)},e.prototype.createHelper=function(e){return I(this,void 0,void 0,function(){var t;return E(this,function(r){switch(r.label){case 0:switch(t={parent:this,database:this.database},e){case d.Gk.WORD:return[3,1];case d.Gk.EXCEL:return[3,3];case d.Gk.SLIDE:return[3,5]}return[3,7];case 1:return[4,n.e("36079").then(n.bind(n,86753))];case 2:return[2,new(r.sent()).WordHelper(t)];case 3:return[4,n.e("54466").then(n.bind(n,200530))];case 4:return[2,new(r.sent()).ExcelHelper(t)];case 5:return[4,n.e("66322").then(n.bind(n,941319))];case 6:return[2,new(r.sent()).SlideHelper(t)];case 7:return[2,void 0]}})})},e.prototype.getDocumentId=function(){return I(this,void 0,void 0,function(){var e;return E(this,function(t){return(e=s.he.newInstance()).addCondition("isCreated",s.E1.ONLY,!1),[2,this.database.get(u.me.NEW_DOCUMENT_ID,e)]})})},e}();!function(e){e.rename="rename",e.delete="delete"}(r||(r={})),r.rename,r.delete;var D=function(){return function(e,t,n,r,i){this.uid=(0,g.n5)(),this.key=e+t.name,this.globalId=e,this.action=t,this.from=n,this.to=r,this.retries=0,this.padInfo=i}}(),M=function(){return function(e,t,n,r,i){this.isMydoc=!1,this.isRencent=!1,this.isStar=!1,this.isDelete=!1,this.id=e,void 0!==t&&(this.isMydoc=t),void 0!==n&&(this.isRencent=n),void 0!==i&&(this.isDelete=i),void 0!==r&&(this.isStar=r)}}();!function(e){e[e.listTypeOffline=-1]="listTypeOffline",e[e.listTypeAll=1]="listTypeAll",e[e.listTypeCreated=2]="listTypeCreated",e[e.listTypeTrash=3]="listTypeTrash",e[e.listTypeShared=4]="listTypeShared",e[e.listTypeMyDoc=5]="listTypeMyDoc",e[e.listTypeRecent=6]="listTypeRecent",e[e.listTypeStared=7]="listTypeStared",e[e.listTypeInSharedFolder=9]="listTypeInSharedFolder"}(i||(i={}));var T=!1,A=function(){function e(){}return e.setForceRefresh=function(e){T=e},e.isForceRefresh=function(){return T},e}(),x=n(523097),N=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},O=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};!function(e){e.SNAP_SHOT="SNAP_SHOT",e.CHUNK="CHUNK",e.VERSION_DATA="VERSION_DATA"}(o||(o={}));var k=function(e){return{data:{startRow:-1,endRow:-1,data:(0,x.w)(e,"3.0.0")?"":[[]]}}},R=function(){function e(){}return e.getDatabaseInstance=function(){return N(this,void 0,void 0,function(){var e,t,n;return O(this,function(r){switch(r.label){case 0:if(this.dbInstance)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,(e=new S({businessType:d.Gk.EXCEL,user:new f({uid:this.uid})})).init()];case 2:if((t=r.sent()).error)return _.C.error("getDatabaseInstance() init error",t.error),this._offlineDataManager=null,this.dbInstance=null,[2,null];return this._offlineDataManager=e,this.dbInstance=e.database,[3,4];case 3:return n=r.sent(),_.C.error("getDatabaseInstance",n),[3,4];case 4:return[2,this.dbInstance]}})})},Object.defineProperty(e,"offlineDataManager",{get:function(){return e._offlineDataManager||null},enumerable:!1,configurable:!0}),e.loadDocumentData=function(e){var t,n,r,i,a,c,f;return N(this,void 0,void 0,function(){var p,h,g,m,v,y,b,C,I,E,w,S,D,M,T,A,N,R,L,j,P,B,F,U,G,W,Z,V,H,z,Y,K,Q,q=this;return O(this,function(O){switch(O.label){case 0:return p=Date.now(),h=e.id,g=e.subId,m=e.onSuccess,v=e.onFail,[4,this.getDatabaseInstance()];case 1:return y=O.sent(),b=s.he.newInstance().addCondition("type",s.E1.IN,[l.N.DOCUMENT,"ducument"]).orderby("version",s.Rs.DECREASE).addCondition("uid",s.E1.ONLY,this.uid).addCondition("secretId",s.E1.ONLY,h),[4,y.get(u.me.DOCUMENT_DATA,b)];case 2:if((C=O.sent()).error)return v&&v(Error("\u83B7\u53D6document\u4FE1\u606F\u5931\u8D25 "+C.error)),[2];if(I=C.data,E=Date.now(),w=g&&I&&I.data&&I.data.collab_client_vars.header[0].d.filter(function(e){return e.id===g})||[],g&&0!==w.length||(g=I&&I.data&&I.data.collab_client_vars.header[0].d[0].id||""),(S=I.data).collab_client_vars.padSubId=g,D=S.collab_client_vars.rev||0,M=I.docType,T=S&&"sheet"===S.padType,"new"===S.padStatus)return[3,5];return R=s.he.newInstance().addCondition("type",s.E1.IN,[l.N.ACCEPTED,l.N.MISS_CHANGE,l.N.NEW_CHANGE]).addCondition("uid",s.E1.ONLY,this.uid).addCondition("secretId",s.E1.ONLY,h).orderby("version",s.Rs.DECREASE).limit(0,1),[4,y.get(u.me.DOCUMENT_DATA,R)];case 3:if((L=O.sent()).error&&!(0,s.FG)(L.error))return _.C.error("\u83B7\u53D6\u589E\u91CF\u7248\u672C\u6570\u636E\u5931\u8D25",L.error),v&&v(Error("\u83B7\u53D6\u589E\u91CF\u7248\u672C\u6570\u636E\u9519\u8BEF")),[2];return!L.error&&L.data&&(j=Math.max(D,L.data.version),S.collab_client_vars.rev=j),P=s.he.newInstance().addCondition("type",s.E1.IN,[l.N.WORKBOOK,l.N.CHUNK]).addCondition("uid",s.E1.ONLY,this.uid).addCondition("subSheetId",s.E1.IN,["workbook",g]).addCondition("version",s.E1.ONLY,D).addCondition("chunkId",s.E1.ONLY,0).addCondition("secretId",s.E1.ONLY,h),[4,y.getAll(u.me.DOCUMENT_DATA,P)];case 4:if((B=O.sent()).error)return v&&v(Error("\u83B7\u53D6documentData\u4FE1\u606F\u5931\u8D25 "+B.error)),[2];A=B.data.filter(function(e){return"workbook"===e.type})[0],N=B.data.filter(function(e){return"chunk"===e.type})[0],O.label=5;case 5:return N&&(null==(t=N.data)?void 0:t.length)!==0||((0,x.w)(null==(n=S.collab_client_vars)?void 0:n.dver,"3.0.0")?(A={data:{startRow:null,endRow:null,data:null==(r=S.collab_client_vars)?void 0:r.initialAttributedText.text[0].workbook}},N={data:{startRow:0,endRow:200,data:null==(i=S.collab_client_vars)?void 0:i.initialAttributedText.text[0].related_sheet}}):N={data:{startRow:0,endRow:200,data:null==(a=S.collab_client_vars)?void 0:a.initialAttributedText.text[0]}}),F=Date.now(),_.C.log("\u6570\u636E\u52A0\u8F7D\u5B8C\u6210. document:"+(E-p)+"ms  workbook&subDocument: "+(F-E)+"ms"),U=s.he.newInstance().addCondition("type",s.E1.IN,[l.N.ACCEPTED]).addCondition("uid",s.E1.ONLY,this.uid).addCondition("secretId",s.E1.ONLY,h).orderby("version",s.Rs.INCREASE),[4,y.getAll(u.me.DOCUMENT_DATA,U)];case 6:if((G=O.sent()).error)return v&&v(Error("\u83B7\u53D6acceptedData\u4FE1\u606F\u5931\u8D25 "+G.error)),[2];return W=G.data,m&&m({dataType:o.SNAP_SHOT,subId:g,clientVars:S,workbookData:A&&A.data||k(null==(c=S.collab_client_vars)?void 0:c.dver).data,chunkData:N&&N.data||k(null==(f=S.collab_client_vars)?void 0:f.dver).data,acceptedData:W}),Z=Date.now(),_.C.log("\u9996\u5C4F\u6570\u636E\u6E32\u67D3\u5B8C\u6210:"+(Z-p)+"ms"),V=s.he.newInstance().addCondition("type",s.E1.ONLY,l.N.CHUNK).addCondition("uid",s.E1.ONLY,this.uid).addCondition("subSheetId",s.E1.ONLY,g).addCondition("version",s.E1.ONLY,D).addCondition("secretId",s.E1.ONLY,h).orderby("chunkId",s.Rs.INCREASE),[4,y.getAll(u.me.DOCUMENT_DATA,V)];case 7:if((H=O.sent()).error)return v&&v(Error("\u83B7\u53D6otherSubDocumentData\u4FE1\u606F\u5931\u8D25 "+H.error)),[2];return H.data.filter(function(e){return e.chunkId>=1}).forEach(function(e){m&&m({subId:g,dataType:o.CHUNK,chunkData:e.data})}),z=M===d.Gk.EXCEL||T?s.he.newInstance().addCondition("type",s.E1.IN,[l.N.ACCEPTED,l.N.MISS_CHANGE,l.N.NEW_CHANGE]).addCondition("uid",s.E1.ONLY,this.uid).addCondition("secretId",s.E1.ONLY,h).addCondition("subSheetId",s.E1.ONLY,g).orderby("version",s.Rs.INCREASE):s.he.newInstance().addCondition("type",s.E1.IN,[l.N.ACCEPTED,l.N.MISS_CHANGE,l.N.NEW_CHANGE]).addCondition("uid",s.E1.ONLY,this.uid).addCondition("secretId",s.E1.ONLY,h).orderby("version",s.Rs.INCREASE),[4,y.getAll(u.me.DOCUMENT_DATA,z)];case 8:if((Y=O.sent()).error)return v&&v(Error("\u83B7\u53D6breakVersionData\u4FE1\u606F\u5931\u8D25 "+Y.error)),[2];return K=Y.data.map(function(e){return q.breakVersionDataParse(e)}).filter(function(e){return e.version>D}).sort(function(e,t){return e.version-t.version}),m&&m({subId:g,dataType:o.VERSION_DATA,chunkData:K,isFinished:!0}),Q=Date.now(),_.C.log("\u6240\u6709\u5206\u7247\u6E32\u67D3\u5B8C\u6210:"+(Date.now()-p)+"ms   breakVersion: "+(Q-Z)+"ms"),[2]}})})},e.loadBreakVersions=function(e,t,n){return N(this,void 0,void 0,function(){var r,i,o,a,c=this;return O(this,function(d){switch(d.label){case 0:return console.time("loadBreakVersions"),[4,this.getDatabaseInstance()];case 1:return r=d.sent(),i=s.he.newInstance().addCondition("type",s.E1.IN,[l.N.ACCEPTED,l.N.MISS_CHANGE,l.N.NEW_CHANGE]).addCondition("uid",s.E1.ONLY,this.uid).addCondition("secretId",s.E1.ONLY,e).orderby("version",s.Rs.INCREASE),[4,r.getAll(u.me.DOCUMENT_DATA,i)];case 2:if((o=d.sent()).error)return Promise.reject(Error("\u83B7\u53D6breakVersionData\u4FE1\u606F\u5931\u8D25 "+o.error)),[2];return a=o.data.map(function(e){return c.breakVersionDataParse(e)}).filter(function(e){return e.version>=t&&(void 0===n||e.version<=n)}),console.timeEnd("loadBreakVersions"),[2,Promise.resolve(a)]}})})},e.loadSubDocumentData=function(e){return N(this,void 0,void 0,function(){var t,n,r,i,a,c,d,f,p,h,g,m,v,y,b,C,I,E,w,S,D,M,T,A,x=this;return O(this,function(N){switch(N.label){case 0:if(t=Date.now(),n=e.id,r=e.subId,i=e.baseVersion,a=e.onSuccess,c=e.onFail,void 0===n||void 0===r||void 0===i)return c&&c(Error("loadSubDocumentData\u53C2\u6570\u9519\u8BEF"+JSON.stringify(e))),[2];return[4,this.getDatabaseInstance()];case 1:return d=N.sent(),f=s.he.newInstance().addCondition("uid",s.E1.ONLY,this.uid).addCondition("secretId",s.E1.ONLY,n).orderby("version",s.Rs.DECREASE).limit(0,1),[4,d.get(u.me.DOCUMENT_DATA,f)];case 2:if((p=N.sent()).error)return c&&c(Error("\u83B7\u53D6\u6587\u6863\u6700\u5927\u672C\u5730\u7F13\u5B58\u7248\u672C\u53F7\u9519\u8BEF "+p.error)),[2];if(h=p.data.version,g=p.data.dver,h<i)return c&&c(Error("\u672C\u5730\u7F13\u5B58\u7684\u6570\u636E\u7248\u672C\u53F7\u5C0F\u4E8E"+i+" \u6CA1\u529E\u6CD5\u8FD4\u56DE\u6240\u9700\u7684\u6570\u636E\u3002 maxVersion="+h)),[2];return m=s.he.newInstance().addCondition("type",s.E1.ONLY,l.N.CHUNK).addCondition("uid",s.E1.ONLY,this.uid).addCondition("subSheetId",s.E1.ONLY,r).addCondition("secretId",s.E1.ONLY,n).orderby("chunkId",s.Rs.INCREASE),[4,d.getAll(u.me.DOCUMENT_DATA,m)];case 3:if((v=N.sent()).error)return c&&c(Error("\u83B7\u53D6subDocumentData\u4FE1\u606F\u5931\u8D25 "+v.error)),[2];if(y=v.data,b=[],C=0,y.filter(function(e){return e.version<=i}).forEach(function(e){b.push(e),C=Math.max(C,e.version)}),0!==(b=b.filter(function(e){return e.version===C})).length)return[3,5];return I=s.he.newInstance().addCondition("type",s.E1.IN,[l.N.DOCUMENT,"ducument"]).addCondition("uid",s.E1.ONLY,this.uid).addCondition("secretId",s.E1.ONLY,n),[4,d.get(u.me.DOCUMENT_DATA,I)];case 4:if((E=N.sent()).error)return c&&c(Error("\u68C0\u9A8C\u662F\u5426\u672C\u5730\u6709\u8BE5\u6587\u6863\u7F13\u5B58\u5931\u8D25 "+E.error)),[2];b=[k(g)],N.label=5;case 5:return w=Date.now(),_.C.log("\u5B50\u8868\u4E3Bkeyfrme\u6570\u636E\u8BFB\u53D6\u5B8C\u6210:"+(w-t)+"ms"),a&&a({dataType:o.SNAP_SHOT,subId:r,chunkData:b}),S=Date.now(),_.C.log("\u5B50\u8868keyframe\u6E32\u67D3\u8017\u65F6:"+(S-w)+"ms"),D=s.he.newInstance().addCondition("type",s.E1.IN,[l.N.ACCEPTED,l.N.MISS_CHANGE,l.N.NEW_CHANGE]).addCondition("uid",s.E1.ONLY,this.uid).addCondition("secretId",s.E1.ONLY,n).addCondition("subSheetId",s.E1.ONLY,r).orderby("version",s.Rs.INCREASE),[4,d.getAll(u.me.DOCUMENT_DATA,D)];case 6:if((M=N.sent()).error)return c&&c(Error("\u83B7\u53D6breakVersionData\u4FE1\u606F\u5931\u8D25 "+M.error)),[2];return T=M.data.map(function(e){return x.breakVersionDataParse(e)}).filter(function(e){return e.version>C&&e.version<=i}).sort(function(e,t){return e.version-t.version}),A=Date.now(),_.C.log("\u5B50\u8868\u589E\u91CF\u7248\u672C\u6570\u636E\u8BFB\u53D6\u8017\u65F6:"+(A-S)+"ms"),a&&a({dataType:o.VERSION_DATA,subId:r,chunkData:T,isFinished:!0}),_.C.log("\u5B50\u8868\u589E\u91CF\u7248\u672C\u6570\u636E\u5E94\u7528\u8017\u65F6:"+(Date.now()-A)+"ms"),[2]}})})},e.clearDocumentCache=function(e,t){return N(this,void 0,void 0,function(){var n,r,i,o,a;return O(this,function(c){switch(c.label){case 0:return[4,this.getDatabaseInstance()];case 1:return n=c.sent(),r=s.he.newInstance().addCondition("secretId",s.E1.ONLY,e).addCondition("uid",s.E1.ONLY,t),[4,n.delete(u.me.DOCUMENT_DATA,r)];case 2:if(!(o=!(i=c.sent()).error))return[3,4];return[4,n.delete(u.me.DOCUMENT_STATUS,r)];case 3:o=i=c.sent(),c.label=4;case 4:if(!(a=!i.error))return[3,6];return[4,n.updateField(u.me.PAD_INFO,r,{isOfflineCache:!1})];case 5:a=i=c.sent(),c.label=6;case 6:return[2,i]}})})},e.breakVersionDataParse=function(e){return e.type===l.N.ACCEPTED?{version:e.version,subId:e.data.data.subId,keyframe:e.data.data.keyData||void 0,data:e.data.data.mutations||e.data.data.changeData,changesetType:e.data.data.changesetType}:{version:e.data.newVersion,subId:e.data.sheetId,data:(0,x.w)(e.dver,"3.0.0")?e.data.changeset:JSON.parse(e.data.changeset),changesetType:e.data.changesetType}},e.uid=(0,g.n5)(),e}();!function(e){e[e.downloadStart=0]="downloadStart",e[e.downloadEnd=1]="downloadEnd",e[e.downloadCancel=2]="downloadCancel",e[e.uploadStart=3]="uploadStart",e[e.uploadEnd=4]="uploadEnd"}(a||(a={}));var L=function(){function e(){}return e.notifyNative=function(t){s.RR.invokeNative("docx","notifyNative",t,function(){_.Z.debug(e.TAG,"notifyNative ",t)})},e.callClient=function(t,n){s.RR.invokeNative("docx","callClient",{method:t,data:n},function(){_.Z.debug(e.TAG,"callClient method:"+t+" data:"+n)})},e.TAG="BridgeHelper",e}(),j=n(738558),P=7719==n.j?s.ZP:null},738558:function(e,t,n){"use strict";n.d(t,{D:function(){return r},T:function(){return i}}),function(e){e[e.UnknownError=-1]="UnknownError",e[e.Success=0]="Success",e[e.NoGlobalPadIdError=-1001]="NoGlobalPadIdError",e[e.InvalidFileTypeError=-1002]="InvalidFileTypeError",e[e.InvalidUrlError=-1003]="InvalidUrlError",e[e.PreloadParseError=-1004]="PreloadParseError",e[e.AIOUrlTypeError=-1005]="AIOUrlTypeError",e[e.GetDocumentStatusError=-2001]="GetDocumentStatusError",e[e.RejcectByThrottleError=-2002]="RejcectByThrottleError",e[e.GetDocLockError=-2003]="GetDocLockError",e[e.GetUncommitDataError=-2004]="GetUncommitDataError",e[e.CreateFileError=-2005]="CreateFileError",e[e.CommitOfflineDataError=-2006]="CommitOfflineDataError",e[e.UpdateUnCommitedDataError=-2007]="UpdateUnCommitedDataError",e[e.PreFetchDocDataError=-2008]="PreFetchDocDataError",e[e.UpdatePreFetchOfflienDataError=-2009]="UpdatePreFetchOfflienDataError",e[e.UpdatePadInfoError=-2010]="UpdatePadInfoError",e[e.SyncOfflineDataUnknownError=-2011]="SyncOfflineDataUnknownError",e[e.PadInfoNotExistError=-2012]="PadInfoNotExistError",e[e.FileNotExsitError=-2013]="FileNotExsitError",e[e.HttpStatusError=-2014]="HttpStatusError",e[e.DocumentBlankPageError=-2015]="DocumentBlankPageError"}(r||(r={}));var r,i=function(){return function(e,t,n,i){this.subResultCode=-1,this.resultCode=e,this.message=t||r[e],void 0!==i&&(this.subResultCode=i),this.error=n}}()},538053:function(e,t,n){"use strict";n.d(t,{N:function(){return r},T:function(){return a}});var r,i=n(253614),o=n(759983);!function(e){e.INIT="init",e.DOCUMENT="document",e.WORKBOOK="workbook",e.CHUNK="chunk",e.ACCEPTED="accepted",e.MISS_CHANGE="misschange",e.NEW_CHANGE="newchange",e.COMMITING="commiting",e.WATTING="watting",e.QUEUE="queue"}(r||(r={}));var a=function(){function e(t){this.chunkId=0,this.default=!1,t.taskId||(t.taskId=e.createMessageSeq()),t.key||(t.chunkId=t.chunkId||0,t.type===r.INIT?t.key=t.globalPadId+"_"+t.subSheetId+"_"+t.uid:t.type===r.DOCUMENT?t.key=t.globalPadId+"_"+t.uid+"_version_"+t.version:t.type===r.WORKBOOK?t.key=t.globalPadId+"_"+t.subSheetId+"_"+t.uid+"_version_"+t.version:t.type===r.CHUNK?t.key=t.globalPadId+"_"+t.subSheetId+"_"+t.chunkId+"_"+t.uid+"_version_"+t.version:t.key=t.globalPadId+"_"+t.subSheetId+"_"+t.uid+"_taskId_"+t.taskId),t.default=t.default||!1,this.key=t.key,this.uid=t.uid,this.globalPadId=t.globalPadId,this.secretId=t.secretId,this.subSheetId=t.subSheetId,this.chunkId=t.chunkId,this.type=t.type,this.docType=t.docType,this.padStatus=t.padStatus,this.taskId=t.taskId,this.version=t.version,this.data=t.data||t._data,this.default=t.default,this.createTime=t.createTime,this.dver=t.dver}return e.createMessageSeq=function(){return Math.ceil(0x80000000*Math.random())},e.prototype.disableConvert=function(){return this.docType===i.Gk.WORD&&"BB08J2"!==this.subSheetId},Object.defineProperty(e.prototype,"data",{get:function(){if("string"==typeof this._data&&!this.disableConvert()){var e=this._data;try{e=JSON.parse(this._data)}catch(e){o.Z.error(e)}return e}return this._data},set:function(e){"string"!=typeof e?this._data=JSON.stringify(e):this._data=e},enumerable:!1,configurable:!0}),e}()},253614:function(e,t,n){"use strict";n.d(t,{BG:function(){return l},DL:function(){return o},Gk:function(){return i},PV:function(){return s},Tn:function(){return u},Yk:function(){return c},w1:function(){return a}}),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.WORD=0]="WORD",e[e.EXCEL=1]="EXCEL",e[e.SLIDE=4]="SLIDE"}(i||(i={})),function(e){e.NEW="new",e.LOCAL="local",e.DELETED="deleted",e.NORMAL="normal"}(o||(o={})),function(e){e.SHEET="sheet",e.WORD="doc",e.FORM="form",e.SLIDE="slide"}(a||(a={}));var r,i,o,a,s,u,c=((r={})[i.EXCEL]=a.SHEET,r[i.WORD]=a.WORD,r[i.SLIDE]=a.SLIDE,r);!function(e){e[e.MY_DOC=5]="MY_DOC",e[e.RECENT=6]="RECENT",e[e.SHARE=4]="SHARE",e[e.STAR=7]="STAR",e[e.TRASH=3]="TRASH"}(s||(s={})),function(e){e[e.FILE=1]="FILE",e[e.FOLDER=2]="FOLDER"}(u||(u={}));var l=function(){return function(e,t,n){this.folder_id="",this.attribute=null,this.parents=[],this.isOfflineCache=!1,this.isSnapShot=!1,this.doc_policy=0,this.folder_policy=0,this.doc_privilege=null,this.folder_privilege=null,this.is_added_my=0,this.is_collected=0,this.is_owner=1,this.is_pinned=0,this.is_shortcut=0,this.isManualOffline=!1,this.isUserChangeTitle=!1,this.add_list_ts=0,this.last_collect_ts=0,this.last_delete_ts=0,this.last_pinned_ts=null;var r=new Date().getTime()/1e3;this.last_browse_ts=r,this.last_modify_ts=r,this.create_ts=r,this.list_type=s.MY_DOC,this.list_info_type=u.FILE,this.owner_uid=e.getUserId(),this.owner_nick=e.getUserId(),this.uid=e.getUserId(),this.last_modify_nick=e.getUserId(),this.last_modify_uid=e.getUserId(),void 0!==t&&(this.isMydoc=t),void 0!==n&&(this.isRencent=n)}}()},797618:function(e,t,n){"use strict";n.d(t,{hS:function(){return d},n$:function(){return r}});var r,i,o=n(577797),a=n(573483),s=n(759983),u=n(296367),c=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},l=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};!function(e){e.POST="POST",e.GET="GET"}(r||(r={})),function(e){e[e.privilegeAttribute=1]="privilegeAttribute",e[e.title=2]="title"}(i||(i={}));var d=function(){function e(){}return e.transferHide2Normal=function(e){return c(this,void 0,void 0,function(){var t,n;return l(this,function(i){switch(i.label){case 0:return t="/cgi-bin/online_docs/doc_transferhidetonormal",n="'encrypted_doc_id="+e,[4,this.sendCommonRequest(t,r.POST,n)];case 1:return[2,i.sent()]}})})},e.notifyOpenDoc=function(e){return c(this,void 0,void 0,function(){var t,n;return l(this,function(i){switch(i.label){case 0:return t="/cgi-bin/online_docs/doc_broselistadd?t=1",n="'encrypted_doc_id="+e,[4,this.sendCommonRequest(t,r.POST,n)];case 1:return[2,i.sent()]}})})},e.fetchDocDataSlide=function(e,t){return void 0===t&&(t=!1),c(this,void 0,void 0,function(){var n;return l(this,function(i){switch(i.label){case 0:return n=u.f+"/dop-api/slide/data/get?id="+e+"&normal=1&prefetch=1&offline=1",[4,this.sendCommonRequest(n,r.GET,"",t?void 0:"custom")];case 1:return[2,i.sent()]}})})},e.fetchDocData=function(e,t,n,i){return void 0===n&&(n=!0),void 0===i&&(i=!1),c(this,void 0,void 0,function(){var a,s,u;return l(this,function(c){switch(c.label){case 0:return t&&t.indexOf("?")>-1||(t+="?"),a="preview_token",s=(0,o.ej)(a),u="/dop-api/opendoc"+t+(n&&"&prefetch=1")+(i?"&outformat=1":"")+"&normal=1&id="+e+"&key="+s+"&xsrf="+(0,o.fM)(),[4,this.sendCommonRequest(u,r.GET,"",i?void 0:"custom")];case 1:return[2,c.sent()]}})})},e.getPadInfo=function(e,t){return c(this,void 0,void 0,function(){var n;return l(this,function(i){switch(i.label){case 0:return n="/cgi-go/padinfo/getpadinfo?encodePadId="+e+(t?"&infoKeys=["+t+"]":"")+"&xsrf="+(0,o.fM)(),[4,this.sendCommonRequest(n,r.GET)];case 1:return[2,i.sent()]}})})},e.sendCommonRequest=function(e,t,n,i){return void 0===t&&(t=r.GET),c(this,void 0,void 0,function(){return l(this,function(r){return[2,new Promise(function(r,o){try{var u,c=new XMLHttpRequest;c.onreadystatechange=function(){if(c.readyState===XMLHttpRequest.DONE){var t="";if(200===c.status)try{t=i&&"custom"===i?c.responseText:JSON.parse(c.responseText)}catch(t){s.C.error("sendCommonRequest failed: query:"+e+", responseText:"+c.responseText+" error:"+t),u=t}else u=new a.oo(c.status,0,"StatusError");r(new a.x4(u,t))}};try{c.timeout=3e4}catch(e){}c.ontimeout=function(){u=Error("TimeOutError"),r(new a.x4(u))},c.open(t,e),c.setRequestHeader("content-type","application/x-www-form-urlencoded"),c.send(n)}catch(e){r(new a.x4(e))}})]})})},e}()},991068:function(e,t,n){"use strict";n.d(t,{q:function(){return l}});var r=n(998198),i=n(627752),o=n(573483),a=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},u=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},c=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultConfig=function(){return{strategy:r.I.ONCE,period:-1,autoRenewal:!0}},t.prototype.lock=function(e,t){return u(this,void 0,void 0,function(){var n,r,i=this;return c(this,function(a){switch(a.label){case 0:return n={command:"lock",key:e,item:{tabId:this.tabId,expire:-1===this.period?-1:Date.now()+this.period,optional:t}},this.logRequest(n),[4,new Promise(function(e){var t=function(t){if(i.logResponse(t),t.err_msg||t.err_code){var n=Error(t.err_msg||t.err_code);e(new o.x4(n))}else e(new o.x4(void 0,t.result))};i.getClientMutexLock(n,t)})];case 1:if((r=a.sent()).error)return[2,{isSuccess:!1,data:r.data}];if(r.data.tabId===this.tabId)return[2,{isSuccess:!0,data:r.data}];return[2,{isSuccess:!1,data:r.data}]}})})},t.prototype.detectKey=function(e){return u(this,void 0,void 0,function(){var t,n,r,i=this;return c(this,function(a){switch(a.label){case 0:return t={command:"detectKey",key:e},this.logRequest(t),[4,new Promise(function(e){var n=function(t){i.logResponse(t),e(t)};i.getClientMutexLock(t,n)})];case 1:return n=a.sent(),r=new o.x4(void 0,n.result),n.err_code&&(r.error=new o.GU(""+n.err_code)),[2,r]}})})},t.prototype.release=function(e){return u(this,void 0,void 0,function(){var t,n=this;return c(this,function(r){switch(r.label){case 0:return t={command:"release",key:e},this.logRequest(t),[4,new Promise(function(e){var r=function(t){if(n.logResponse(t),t.err_msg||t.err_code){var r=Error(t.err_msg||t.err_code);e(new o.x4(r))}else e(new o.x4(void 0,t.result))};n.getClientMutexLock(t,r)})];case 1:if(r.sent().error)return[2,!1];return[2,!0]}})})},t.prototype.getClientMutexLock=function(e,t){var r;(null==(r=n.g.tdocs)?void 0:r.getClientMutexLock)?n.g.tdocs.getClientMutexLock(s(s({},e),{success:t})):o.RR.invokeNative("docx","clientMutexLock",e,t)},t.prototype.logRequest=function(e){i.eM},t.prototype.logResponse=function(e){i.eM},t}(r.w);t.Z=l},759983:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=window,i=function(){function e(){}return e.debug=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{r.log?(t=r.log).debug.apply(t,n):console.debug.apply(console,n)}catch(t){e.error("\u65E5\u5FD7\u53D1\u751F\u9519\u8BEF","debug",n)}},e.log=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{r.log?(t=r.log).info.apply(t,n):console.log.apply(console,n)}catch(t){e.error("\u65E5\u5FD7\u53D1\u751F\u9519\u8BEF","log",n)}},e.info=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{r.log?(t=r.log).info.apply(t,n):console.info.apply(console,n)}catch(t){e.error("\u65E5\u5FD7\u53D1\u751F\u9519\u8BEF","info",n)}},e.warn=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{r.log?(t=r.log).warn.apply(t,n):console.warn.apply(console,n)}catch(t){e.error("\u65E5\u5FD7\u53D1\u751F\u9519\u8BEF","warn",n)}},e.error=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{r.log?(e=r.log).error.apply(e,t):console.error.apply(console,t)}catch(e){console.error("\u65E5\u5FD7\u53D1\u751F\u9519\u8BEF","error",t)}},e.time=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r={time:Date.now(),options:t};this.sTimeLableMap.set(e,r)},e.timeEnd=function(t){var n=Date.now(),r=e.sTimeLableMap.get(t);if(void 0!==r){var i=r.time,o=r.options&&r.options.map(function(e){return JSON.stringify(e)}).join("-")||"";e.debug("label: "+t+": "+(n-i)+"ms. "+o),this.sTimeLableMap.delete(t)}},e.sTimeLableMap=new Map,e}();t.C=i},742840:function(e,t,n){"use strict";n.d(t,{r:function(){return l}});var r=n(998198),i=n(759983),o=n(573483),a=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},u=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},c=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultConfig=function(){return{strategy:r.I.ONCE,period:3e5,autoRenewal:!0}},t.prototype.getXKey=function(e){return t.PREFIX_LOCK_X+"_"+e},t.prototype.getYKey=function(e){return t.PREFIX_LOCK_Y+"_"+e},t.prototype.tryToLockKey=function(e,n,o,a){var s=this,u=this.getXKey(e),c=this.getYKey(e);t.DEBUG&&i.C.log("tryToLockKey(). strategy="+this.strategy+" lockX="+u+" lockY="+c),localStorage.setItem(u,this.tabId);var l=localStorage.getItem(c);if(t.DEBUG&&i.C.log("tryToLockKey(). strategy="+this.strategy+" lockX="+u+" lockY="+c+" valueY="+l),l){var d=JSON.parse(l);if(d.expire>Date.now()){t.DEBUG&&i.C.log("tryToLockKey(). \u88AB\u5176\u4ED6tab\u62FF\u5230\u4E86Y\u9501 strategy="+this.strategy+" lockX="+u+" lockY="+c+" valueY="+l),i.C.log("\u6709\u5176\u4ED6tab\u5DF2\u7ECF\u62FF\u5230\u4E86Y\u9501"),this.strategy===r.I.ONCE?a(d):setTimeout(function(){return s.tryToLockKey(e,n,o,a)});return}}var f={tabId:this.tabId,expire:Date.now()+this.period,optional:n};localStorage.setItem(c,JSON.stringify(f)),t.DEBUG&&i.C.log("tryToLockKey(). \u5199\u5165Y\u9501. strategy="+this.strategy+" lockX="+u+" lockY="+c+" valueY="+l+" lockItemY="+f);var p=localStorage.getItem(u);t.DEBUG&&i.C.log("tryToLockKey(). \u67E5\u770BX\u9501. strategy="+this.strategy+" lockX="+u+" lockY="+c+" valueY="+l+" valueX="+p),p!==this.tabId?setTimeout(function(){var d=!1,f=JSON.parse((l=localStorage.getItem(c))||"{}");t.DEBUG&&i.C.log("tryToLockKey(). \u518D\u6B21\u67E5\u770BY\u9501. strategy="+s.strategy+" lockX="+u+" lockY="+c+" valueY="+l+" valueX="+p),l&&f.tabId===s.tabId&&f.expire>Date.now()&&(d=!0),d?(t.DEBUG&&i.C.log("tryToLockKey(). \u7ADE\u4E89\u9501\u6210\u529F. strategy="+s.strategy+" lockX="+u+" lockY="+c),o(f)):s.strategy===r.I.ONCE?(t.DEBUG&&i.C.log("tryToLockKey(). \u7ADE\u4E89\u9501\u5931\u8D25. strategy="+s.strategy+" lockX="+u+" lockY="+c),a(f)):(t.DEBUG&&i.C.log("tryToLockKey(). \u7ADE\u4E89\u9501\u5931\u8D25\uFF0C\u91CD\u65B0\u7ADE\u4E89. strategy="+s.strategy+" lockX="+u+" lockY="+c),setTimeout(function(){return s.tryToLockKey(e,n,o,a)}))}):(t.DEBUG&&i.C.log("tryToLockKey(). \u7ADE\u4E89\u9501\u6210\u529F. strategy="+this.strategy+" lockX="+u+" lockY="+c),o(f))},t.prototype.lock=function(e,t){return u(this,void 0,void 0,function(){var n=this;return c(this,function(r){switch(r.label){case 0:return[4,new Promise(function(r,i){n.tryToLockKey(e,t,r,i)}).then(function(t){return n.autoRenewal&&n.renewal(e,n.period),{isSuccess:!0,data:t}},function(t){var r=n.getXKey(e);return localStorage.getItem(r)===n.tabId&&localStorage.removeItem(r),{isSuccess:!1,data:t}})];case 1:return[2,r.sent()]}})})},t.prototype.detectKey=function(e){return u(this,void 0,void 0,function(){var t,n,r,i;return c(this,function(a){return t=this.getYKey(e),n=new o.x4(void 0,void 0),(r=localStorage.getItem(t))&&(i=JSON.parse(r)).expire>Date.now()&&(n.data=i),[2,n]})})},t.prototype.release=function(e){return u(this,void 0,void 0,function(){var n,r,o,a;return c(this,function(s){return n=this.getXKey(e),r=this.getYKey(e),(o=localStorage.getItem(r))&&JSON.parse(o).tabId===this.tabId&&(t.DEBUG&&i.C.log("releaseKey(). \u91CA\u653E\u9501. strategy="+this.strategy+" key="+e),localStorage.removeItem(r),localStorage.getItem(n)===this.tabId&&localStorage.removeItem(n)),(a=t.renewalHanlder.get(e))&&(clearTimeout(a),t.renewalHanlder.delete(e)),[2,!0]})})},t.prototype.renewal=function(e,n){var r=this,o=t.renewalHanlder.get(e);o&&clearTimeout(o);var a=setTimeout(function(){t.DEBUG&&i.C.log("renewal(). \u81EA\u52A8\u7EED\u671F\u9501. strategy="+r.strategy+" key="+e+" period="+n);var o=r.getYKey(e),a=localStorage.getItem(o);if(!a)return void i.C.error("Y\u9501\u6CA1\u6709\u8BFB\u5230\u503C");var u=JSON.parse(a);if(u.tabId!==r.tabId)return void i.C.error("\u81EA\u52A8\u7EED\u671F\u5931\u8D25\uFF0CY\u9501\u5DF2\u7ECF\u88AB\u5176\u4ED6\u5730\u65B9\u5360\u6709\u4E86\u3002",u);var c=s(s({},u),{expire:Date.now()+r.period});localStorage.setItem(r.getYKey(e),JSON.stringify(c)),r.renewal(e,n)},.85*n);return t.renewalHanlder.set(e,a),a},t.PREFIX_LOCK_X="prefix_lock_x",t.PREFIX_LOCK_Y="prefix_lock_y",t}(r.w);t.Z=l},998198:function(e,t,n){"use strict";n.d(t,{I:function(){return r},w:function(){return o}});var r,i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};!function(e){e[e.ONCE=0]="ONCE",e[e.RETRY=1]="RETRY"}(r||(r={}));var o=function(){function e(e){this.tabId=this.getTabID(),e=e?i(i({},this.getDefaultConfig()),e):this.getDefaultConfig(),this.strategy=e.strategy,this.period=e.period,this.autoRenewal=e.autoRenewal}return e.prototype.getTabID=function(){var e=new Date;return 1+e.getMonth()+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+":"+e.getMilliseconds()+" "+Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)},e.prototype.renewal=function(e,t){},e.DEBUG=!1,e.DEFAULT_CONFIG={strategy:r.ONCE,period:3e5,autoRenewal:!0},e.renewalHanlder=new Map,e}()},577797:function(e,t,n){"use strict";n.d(t,{Ei:function(){return S},JB:function(){return I},KW:function(){return w},N1:function(){return h},SV:function(){return v},Tf:function(){return m},Zp:function(){return d},d8:function(){return s},ej:function(){return a},fM:function(){return u},gV:function(){return p},kK:function(){return g},mE:function(){return E},n5:function(){return D},qA:function(){return l},ws:function(){return C}});var r=n(253614),i=n(296367),o=window;function a(e){var t=document.cookie.match(RegExp("(^| )"+e+"=([^;]*)(;|$)"));return t?decodeURIComponent(t[2]):""}function s(e,t,n,r,i){var o=new Date;o.setTime(o.getTime()+(i?36e5*i:2592e6)),document.cookie=e+"="+t+"; "+("expires="+o.toUTCString()+"; path="+(r||"/"))+"; "+(n?"domain="+n+";":"")}function u(){return a("TOK")||""}function c(e){var t=window.location.search.match(RegExp("(\\?|&)"+e+"=([^&]*)(&|$)"));return t?decodeURIComponent(t[2]):""}function l(e,t){var n=window.history;try{t?n.replaceState(null,"",e):n.pushState(null,"",e)}catch(n){window.location[t?"replace":"assign"](e)}}var d=function(){var e=navigator.userAgent.toLowerCase(),t=/(ipad)/i.test(e),n=/(mobile)/i.test(e)&&!t;return{isPad:t,isMobile:n,isDesktop:/(TDAppDesktop)/.test(navigator.userAgent)}}();function f(e){return e.toString(36).toLowerCase()}function p(e){var t=e.newLen-e.oldLen,n=t>=0?">"+f(t):"<"+f(-t);return"Z:"+f(e.oldLen)+n+e.opsStr+"$"+e.charBank}function h(){if("0"===localStorage.getItem("OFFLINE_DB_SWITCH"))return!1;var e=navigator.userAgent.match(/_tdocFlag\/(\d+)/);return!!e&&!!e[1]&&2&parseInt(e[1])}function g(){return"1"===c("offline-debug")}function m(){return!!o.App&&!!o.App.GlobalConfig&&!!o.App.GlobalConfig.IsSupportStore}function v(){return o.App&&o.App.GlobalConfig&&o.App.GlobalConfig.globalCodeVersion?o.App.GlobalConfig.globalCodeVersion:""}function y(e){return"string"==typeof e?y(JSON.parse(e)):e}function b(e){var t=[];if(e.v>=5){var n=e.c;("IMAGE"===n[0]||"string"==typeof n[2]&&-1!==n[2].indexOf("attachment-"))&&t.push(e.c[3])}return t}function _(e){var t,n=[];return"string"==typeof e&&(t=JSON.parse(e)),Array.isArray(t)&&t.forEach(function(e){e&&e.v&&(n=n.concat(b(e)))}),n}function C(e){for(var t=[],n=0,r=e.length;n<r;n++)for(var i=y(e[n]),o=0,a=i.length;o<a;o++){var s=i[o];t=s.v?t.concat(b(s)):t.concat(_(s))}return t}var I=function(e){var t=r.Gk.UNKNOWN;return"doc"===e?t=r.Gk.WORD:"sheet"===e?t=r.Gk.EXCEL:"slide"===e&&(t=r.Gk.SLIDE),t},E=function(e){var t;return e===r.Gk.WORD?t="doc":e===r.Gk.EXCEL?t="sheet":e===r.Gk.SLIDE&&(t="slide"),t},w=function(e,t){var n=E(e);return i.f+"/"+n+"/"+t};function S(e){var t;return e?"result is { resultCode: "+e.resultCode+" subResultCode: "+e.subResultCode+" message: "+e.message+" dataUndefinedCheck: "+(void 0===e.data)+" error: "+(null==(t=e.error)?void 0:t.stack)+"}":"result is undefine!!!"}var D=function(){var e,t;return a("uid")||(null==(t=null==(e=n.g.basicClientVars)?void 0:e.userInfo)?void 0:t.tinyId)||""}},523097:function(e,t,n){"use strict";function r(e,t){var n=e.split("."),r=t.split(".");return n.some(function(e,t){return e>=r[t]})}n.d(t,{w:function(){return r}})},771907:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="data-duim-"+n(209787).__importDefault(n(383904)).default.replace(/\./g,"-")},529528:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.i18n=t.i18nInstance=void 0;var r=n(209787),i=r.__importDefault(n(340586)),o=r.__importDefault(n(593296)),a=r.__importDefault(n(643940)),s=r.__importDefault(n(838276)),u=n(481143),c=new s.default;"undefined"!=typeof window&&c.addDetector({name:"userAgent",lookup:function(){var e=navigator.userAgent.match(/language\/([a-zA-Z'-_]+)/i);if(e)return e[1].replace("_","-")}});var l={};function d(e){return t.i18nInstance.t(e)}u.languages.forEach(function(e,t){var n=i.default({},u.translationMap,function(e,n){return n[t]});o.default(l,[e,"translation"],n)}),t.i18nInstance=a.default.createInstance(),t.i18nInstance.use(c).init({resources:l,fallbackLng:{"zh-TW":["zh-HK","zh-CN"],fil:["tl-PH"],id:["id-ID"],es:["es-MX"],default:["zh-CN"]},detection:{order:["querystring","userAgent","cookie","navigator"],lookupCookie:"language",caches:[]}}),t.i18n=d},383904:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="1.4.3"},481143:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.translationMap=t.languages=void 0,t.languages=["en","zh-CN","th","vi","ms","tl-PH","id-ID","es-MX","de","ja","zh-HK"],t.translationMap={avatar:["Avatar","\u5934\u50CF","\u0E23\u0E39\u0E1B\u0E42\u0E1B\u0E23\u0E44\u0E1F\u0E25\u0E4C","\u1EA2nh h\u1ED3 s\u01A1","Foto Profil","Profile Photo","Foto Profil","Foto del perfil","Profilfoto","\u30D7\u30ED\u30D5\u30A3\u30FC\u30EB\u5199\u771F","\u982D\u50CF"],ok:["OK","\u786E\u5B9A","\u0E15\u0E01\u0E25\u0E07","OK","OK","OK","OK","OK","OK","OK","\u78BA\u5B9A"],cancel:["Cancel","\u53D6\u6D88","\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01","H\u1EE7y","Batalkan","Kanselahin","Batalkan","Cancelar","Abbrechen","\u30AD\u30E3\u30F3\u30BB\u30EB\u3059\u308B","\u53D6\u6D88"],select:["Select","\u8BF7\u9009\u62E9","\u0E42\u0E1B\u0E23\u0E14\u0E40\u0E25\u0E37\u0E2D\u0E01","Vui l\xf2ng l\u1EF1a ch\u1ECDn","Sila pilih","Pumili","Silakan pilih","Por favor selecciona","Bitte ausw\xe4hlen","\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044","\u8ACB\u9078\u64C7"],search:["Search","\u641C\u7D22","\u0E04\u0E49\u0E19\u0E2B\u0E32","T\xecm ki\u1EBFm","Cari","Paghahanap","Mencari","Buscar","Suchen","\u691C\u7D22","\u641C\u5C0B"],loadingFailed:["Loading Failed","\u52A0\u8F7D\u5931\u8D25","\u0E42\u0E2B\u0E25\u0E14\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08","T\u1EA3i kh\xf4ng th\xe0nh c\xf4ng","Memuatkan tidak berjaya","Hindi matagumpay ang pag-load","Gagal memuat","Error al cargar","Laden erfolglos","\u8AAD\u307F\u8FBC\u307F\u306B\u5931\u6557\u3057\u307E\u3057\u305F","\u8F09\u5165\u5931\u6557"],title:["Title","\u6807\u9898","\u0E0A\u0E37\u0E48\u0E2D\u0E40\u0E23\u0E37\u0E48\u0E2D\u0E07","Ti\xeau \u0111\u1EC1","Tajuk","Pamagat","Gelar","T\xedtulo","Titel","\u30BF\u30A4\u30C8\u30EB","\u6A19\u984C"],done:["Done","\u5B8C\u6210","\u0E40\u0E2A\u0E23\u0E47\u0E08\u0E2A\u0E34\u0E49\u0E19","Ho\xe0n th\xe0nh","Selesai","Tapos na","Selesai","Listo","Erledigt","\u5B8C\u4E86","\u5B8C\u6210"],saveImage:["Save Image","\u4FDD\u5B58\u56FE\u7247","\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E23\u0E39\u0E1B\u0E20\u0E32\u0E1E","L\u01B0u \u1EA3nh","Simpan foto","I-save ang larawan","Simpan foto","Guadar foto","Foto speichern","\u5199\u771F\u3092\u4FDD\u5B58\u3059\u308B","\u5132\u5B58\u5716\u7247"],saveImageSucceeded:["Saving Image Succeeded","\u4FDD\u5B58\u56FE\u7247\u6210\u529F","\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E20\u0E32\u0E1E\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08\u0E41\u0E25\u0E49\u0E27","H\xecnh \u1EA3nh \u0111\xe3 \u0111\u01B0\u1EE3c l\u01B0u th\xe0nh c\xf4ng","Gambar berjaya disimpan","Matagumpay na na-save ang larawan","Sukses menyimpan gambar","Imagen guardada con \xe9xito","Bild erfolgreich gespeichert","\u753B\u50CF\u306F\u4FDD\u5B58\u3055\u308C\u307E\u3057\u305F","\u5132\u5B58\u5716\u7247\u6210\u529F"],saveImageFailed:["Saving Image Failed","\u4FDD\u5B58\u56FE\u7247\u5931\u8D25","\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E20\u0E32\u0E1E\u0E25\u0E49\u0E21\u0E40\u0E2B\u0E25\u0E27","Kh\xf4ng th\u1EC3 l\u01B0u h\xecnh \u1EA3nh","Gagal menyimpan gambar","Nabigong i-save ang larawan","Gagal menyimpan gambar","Error al guardar la imagen","Bild konnte nicht gespeichert werden","\u753B\u50CF\u306E\u4FDD\u5B58\u306B\u5931\u6557\u3057\u307E\u3057\u305F","\u5132\u5B58\u5716\u7247\u5931\u6557"],yearPostfix:["","\u5E74","","","","","","","","","\u5E74"],monthPostfix:["","\u6708","","","","","","","","","\u6708"],dayPostfix:["","\u65E5","","","","","","","","","\u65E5"],hourPosfix:["H","\u65F6","h","gi\u1EDD","h","h","h","h","h","\u6642","\u6642"],minutePostfix:["M","\u5206","m","ph\xfat","m","m","m","m","m","\u5206","\u5206"],secondPostfix:["S","\u79D2","s","gi\xe2y","s","s","s","s","s","\u79D2","\u79D2"],yearMonthFormat:["MM/YYYY","YYYY\u5E74 M\u6708","MM/YYYY","MM/YYYY","MM/YYYY","MM/YYYY","MM/YYYY","MM/YYYY","MM/YYYY","YYYY/MM","YYYY\u5E74 M\u6708"]}},474917:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787),i=n(303415).h,o=r.__importStar(n(463313)),a=n(502003),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.themedRender=function(e){var n,o=t.props,a=o.prefixCls,s=o.className,u=o.style,c=o.type,l=o.size,d=o.disabled,f=o.testId,p=r.__rest(o,["prefixCls","className","style","type","size","disabled","testId"]),h=e(a,s,((n={})[a+"-type-"+c]=c,n[a+"-size-"+l]=l,n[a+"-disabled"]=d,n));return i("button",r.__assign({},p,{className:h,style:u,disabled:d,"data-testid":f}),t.props.children)},t}return r.__extends(t,e),t.prototype.render=function(){return a.consumeTheme(this.themedRender)},t}(o.Component);t.default=s,s.defaultProps={prefixCls:"dui-m-button",type:"default",size:"default"}},653587:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;var r=n(209787).__importDefault(n(474917));t.Button=r.default,n(235662).injectStyle("components/Button/style/index.css",'[data-duim-1-4-3~="dui-m-button"]{outline:none;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;white-space:nowrap;border-radius:8px;font-size:14px;font-weight:500;border:1px solid transparent}[data-duim-1-4-3~="dui-m-button"]:disabled{color:var(--text-weak,rgba(0,0,0,.24));background:var(--tsp-fill-weak,rgba(51,77,102,.06));border-color:transparent;pointer-events:none}[data-duim-1-4-3~="dui-m-button-type-default"]{background:var(--bg-lv4-default,#fff);color:var(--text-link,#175ceb)}[data-duim-1-4-3~="dui-m-button-type-default"]:active{background:var(--bg-lv4-medium,#f3f5f7)}[data-duim-1-4-3~="dui-m-button-type-plain"]{background:var(--tsp-fill-medium,rgba(51,77,102,.08));color:var(--text-ultrastrong,rgba(0,0,0,.88))}[data-duim-1-4-3~="dui-m-button-type-plain"]:active{background:var(--tsp-fill-strong,rgba(61,82,102,.12))}[data-duim-1-4-3~="dui-m-button-type-primary"]{background:var(--accent-default,#1e6fff);color:var(--text-white,#fff)}[data-duim-1-4-3~="dui-m-button-type-primary"]:active{background:var(--accent-pressed,#134ae0)}[data-duim-1-4-3~="dui-m-button-type-warning"]{background:var(--critical-default,#ff4747);color:var(--text-white,#fff)}[data-duim-1-4-3~="dui-m-button-type-warning"]:active{background:var(--critical-pressed,#e02424)}[data-duim-1-4-3~="dui-m-button-type-hollow"]{background:#fff;color:var(--accent-default,#1e6fff);border-color:var(--accent-default,#1e6fff)}[data-duim-1-4-3~="dui-m-button-type-hollow"]:active{opacity:.5}[data-duim-1-4-3~="dui-m-button-type-golden"]{background:-webkit-gradient(linear,right top,left top,from(#fdc668),to(#fcdb9f));background:-webkit-linear-gradient(right,#fdc668,#fcdb9f);background:linear-gradient(270deg,#fdc668,#fcdb9f);border:none;color:rgba(0,0,0,.88)}[data-duim-1-4-3~="dui-m-button-type-golden"]:active{background:-webkit-gradient(linear,left bottom,left top,from(rgba(0,0,0,.08)),to(rgba(0,0,0,.08))),-webkit-gradient(linear,right top,left top,from(#fdc668),to(#fcdb9f));background:-webkit-linear-gradient(bottom,rgba(0,0,0,.08),rgba(0,0,0,.08)),-webkit-linear-gradient(right,#fdc668,#fcdb9f);background:linear-gradient(0deg,rgba(0,0,0,.08),rgba(0,0,0,.08)),linear-gradient(270deg,#fdc668,#fcdb9f)}[data-duim-1-4-3~="dui-m-button-type-golden-dark"]{background:-webkit-linear-gradient(336.31deg,#454952 15.25%,#272a33 84.75%);background:linear-gradient(113.69deg,#454952 15.25%,#272a33 84.75%);border:none;color:#fae0a5}[data-duim-1-4-3~="dui-m-button-type-golden-dark"]:active{background:-webkit-linear-gradient(bottom,rgba(0,0,0,.32),rgba(0,0,0,.32)),-webkit-linear-gradient(336.31deg,#454952 15.25%,#272a33 84.75%);background:linear-gradient(0deg,rgba(0,0,0,.32),rgba(0,0,0,.32)),linear-gradient(113.69deg,#454952 15.25%,#272a33 84.75%)}[data-duim-1-4-3~="dui-m-button-type-golden-outline"]{border-color:#db8f1c;color:#db8f1c;background:var(--bg-lv4-default,#fff)}[data-duim-1-4-3~="dui-m-button-type-golden-outline"]:active{opacity:.5}[data-duim-1-4-3~="dui-m-button-size-large"]{min-width:160px;height:44px;padding:0 30px;font-size:17px;border-radius:12px}[data-duim-1-4-3~="dui-m-button-size-small"]{min-width:52px;height:28px;padding:0 8px;font-size:12px}[data-duim-1-4-3~="dui-m-button-size-default"]{height:32px;padding:0 7px;min-width:56px}'),t.default=r.default},22036:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787),i=n(303415).h,o=r.__importStar(n(463313));n(235662).injectStyle("components/Loading/style/spin.css",'[data-duim-1-4-3~="dui-m-spin"]{position:relative;width:100%;height:100%}[data-duim-1-4-3~="dui-m-spin-container"]{position:absolute;left:50%;top:50%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:48px;height:48px}[data-duim-1-4-3~="dui-m-spin-circle"]{border-radius:50%;width:100%;height:100%;-webkit-animation:dui-m-spin-rotate .8s linear infinite;animation:dui-m-spin-rotate .8s linear infinite;-webkit-box-sizing:border-box;box-sizing:border-box}[data-duim-1-4-3~="dui-m-spin-circle-light"]{border:4px solid hsla(0,0%,100%,.4);border-top-color:#fff}[data-duim-1-4-3~="dui-m-spin-circle-dark"]{border:4px solid rgba(0,0,0,.12);border-top-color:rgba(0,0,0,.32)}[data-duim-1-4-3~="dui-m-spin-circle-primary"]{border:4px solid rgba(30,111,255,.24);border-top:4px solid var(--accent-default,#1e6fff)}@-webkit-keyframes dui-m-spin-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes dui-m-spin-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}');var a=n(502003),s=48,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootRef=o.createRef(),t.themedRender=function(e){var n=t.props,r=n.prefixCls,o=n.className,a=n.style,s=n.type,u=n.circleClassName,c=n.circleStyle,l=e(r,o),d=e(r+"-circle",r+"-circle-"+s,u);return i("div",{className:l,style:a,ref:t.rootRef},i("div",{className:e(r+"-container"),style:t.calcContainerTransform()},i("div",{className:d,style:c})))},t}return r.__extends(t,e),t.prototype.calcContainerTransform=function(){var e=this.rootRef.current;if(e){var t=e.clientWidth,n=e.clientHeight,r=Math.min(t,n),i=r/s;return{transform:"translate(-50%,-50%) scale("+i+")"}}},t.prototype.componentDidMount=function(){this.forceUpdate()},t.prototype.render=function(){return a.consumeTheme(this.themedRender)},t}(o.PureComponent);t.default=u,u.defaultProps={prefixCls:"dui-m-spin",type:"dark"}},933745:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODAL_TRANSITION_DURATION=void 0;var r=n(209787),i=n(303415).h,o=r.__importStar(n(463313)),a=r.__importDefault(n(774012)),s=n(601912),u=r.__importDefault(n(653587)),c=n(814040),l=n(502003),d=n(890281),f=n(549975),p=n(529528);t.MODAL_TRANSITION_DURATION=200;var h=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleCancel=function(e){n.props.onCancel(e)},n.handleOk=function(e){var t=n.props,r=t.okDisabled,i=t.onOk;r||i(e)},n.handleClose=function(e){var t=n.props,r=t.onClose,i=t.onCancel;(r||i)(e)},n.handleMaskClick=function(e){var t=n.props,r=t.maskClosable,i=t.onClickMask;!0===r&&n.handleClose(e),i(e)},n.handleModalClick=function(e){e.stopPropagation()},n.themedRender=function(e){var o,s,u=n.props,l=u.prefixCls,p=u.className,h=u.style,g=u.title,m=u.content,v=u.visible,y=u.closable,b=u.mask,_=u.children,C=u.destroyOnClose,I=u.maskStyle,E=u.zIndex,w=u.titleAlignment,S=u.testId,D=u.containerDom,M=u.disablePreventScroll,T=e(l,p,((o={})[l+"-hidden"]=!v,o[l+"-no-mask"]=!b,o)),A=e(l+"-mask",((s={})[l+"-mask-display"]=b,s[l+"-mask-hidden"]=!v,s)),x=e(l+"-title",l+"-title-"+w);return C&&!c.decideKeepDom.call(n,t.MODAL_TRANSITION_DURATION,v)?null:a.default.createPortal(i(d.PreventScrollPenetrateContainer,{className:A,style:r.__assign({zIndex:E},I),onClick:n.handleMaskClick,disabled:M},i("div",{className:T,style:r.__assign({overflow:"initial"},h),onClick:n.handleModalClick,"data-testid":S},g?i("div",{className:x},g):null,i("div",{className:e(l+"-content")},m||_),n.renderFooter(e),y?i(f.WithStylusClick,{clickHandler:n.handleClose},i("div",{className:e(l+"-close")})):null)),D||document.body)},n}return r.__extends(n,e),n.prototype.render=function(){return l.consumeTheme(this.themedRender)},n.prototype.renderFooter=function(e){var t=this.props,n=t.prefixCls,r=t.footer,o=t.okText,a=t.cancelText,s=t.actions,c=t.okStyle,l=t.cancelStyle,d=t.footerType,p=t.okButtonType,h=t.okDisabled;if(null===r)return null;if(r)return r;if(s)return i("div",{className:e(n+"-actions")},s.map(function(e,t){return i(f.WithStylusClick,{clickHandler:e.onClick,key:t},i(u.default,null,e.text))}));var g="vertical"===d,m=g?"large":"default",v=i(f.WithStylusClick,{clickHandler:this.handleOk},i(u.default,{type:p||(g?"primary":"default"),style:c,size:m,disabled:h},o)),y=a?i(f.WithStylusClick,{clickHandler:this.handleCancel},i(u.default,{type:g?"plain":"default",style:l,size:m},a)):null;return i("div",{className:e(g?n+"-footer-vertical":n+"-footer")},y,v)},n}(o.Component);t.default=h,h.defaultProps={prefixCls:"dui-m-modal",title:"",content:"",footer:"",onCancel:s.emptyFn,onOk:s.emptyFn,cancelText:p.i18n("cancel"),okText:p.i18n("ok"),visible:!1,mask:!0,destroyOnClose:!1,onClickMask:s.emptyFn,maskClosable:!1,titleAlignment:"center",footerType:"horizontal",closable:!1}},160978:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787).__importStar(n(933745)),i=n(801890);t.default=n(601912).wrapWithConfigDefaults(function(e){return e.onClose=e.onClose||e.onCancel,i.showWithTransition({Component:r.default,transitionDuration:r.MODAL_TRANSITION_DURATION,autoClose:!1,props:e,forcedProps:{destroyOnClose:!0},injectClosePropNames:["onOk","onCancel","onClose"],deepInjectClosePaths:["actions.onClick"],contexts:e.contexts})})},623153:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var r=n(209787),i=r.__importDefault(n(933745));t.Modal=i.default;var o=r.__importDefault(n(160978));n(235662).injectStyle("components/Modal/style/index.css",'@-webkit-keyframes dui-m-modal-fade-in{0%{opacity:0}to{opacity:1}}@keyframes dui-m-modal-fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes dui-m-modal-pop-up{0%{opacity:0;-webkit-transform:scale3d(.95,.95,1);transform:scale3d(.95,.95,1)}to{opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes dui-m-modal-pop-up{0%{opacity:0;-webkit-transform:scale3d(.95,.95,1);transform:scale3d(.95,.95,1)}to{opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1)}}[data-duim-1-4-3~="dui-m-modal"]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:320px;min-height:160px;padding-top:36px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:8px;border:none;background-color:var(--bg-lv3-default,#fff);pointer-events:auto;-webkit-animation:dui-m-modal-pop-up .2s ease-out;animation:dui-m-modal-pop-up .2s ease-out;-webkit-transition:all .2s ease-out;transition:all .2s ease-out;position:relative;color:var(--text-ultrastrong,rgba(0,0,0,.88));opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1)}[data-duim-1-4-3~="dui-m-modal-hidden"]{opacity:0;-webkit-transform:scale3d(.95,.95,1);transform:scale3d(.95,.95,1);pointer-events:none}[data-duim-1-4-3~="dui-m-modal-no-mask"]{-webkit-box-shadow:0 8px 32px 0 rgba(0,0,0,.16);box-shadow:0 8px 32px 0 rgba(0,0,0,.16);border:1px solid var(--border-medium,rgba(0,0,0,.08));background-color:var(--bg-lv3-default,#fff)}@supports ((-webkit-backdrop-filter:blur(23px)) or (backdrop-filter:blur(23px))){[data-duim-1-4-3~="dui-m-modal-no-mask"]{background-color:var(--duim-blur-minor-bg-color,hsla(0,0%,100%,.92));-webkit-backdrop-filter:blur(23px);backdrop-filter:blur(23px)}}[data-duim-1-4-3~="dui-m-modal-mask"]{position:fixed;z-index:9998;top:0;left:0;right:0;bottom:0;opacity:1;pointer-events:none;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-animation:dui-m-modal-fade-in .2s linear;animation:dui-m-modal-fade-in .2s linear;-webkit-transition:all .2s linear;transition:all .2s linear}[data-duim-1-4-3~="dui-m-modal-mask-display"]{pointer-events:auto;background-color:rgba(0,0,0,.3)}[data-duim-1-4-3~="dui-m-modal-mask-hidden"]{opacity:0;visibility:hidden}[data-duim-1-4-3~="dui-m-modal-title"]{-webkit-box-sizing:border-box;box-sizing:border-box;font-weight:500;font-size:18px;margin-bottom:16px;padding:0 24px;width:100%;line-height:22px}[data-duim-1-4-3~="dui-m-modal-title-center"]{text-align:center}[data-duim-1-4-3~="dui-m-modal-title-left"]{text-align:left}[data-duim-1-4-3~="dui-m-modal-content"]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:stretch;-webkit-align-items:stretch;align-items:stretch;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:16px;line-height:24px;padding:0 24px;width:100%;margin-bottom:36px;text-align:center}[data-duim-1-4-3~="dui-m-modal-actions"]>[data-duim-1-4-3~="dui-m-button"],[data-duim-1-4-3~="dui-m-modal-footer"]>[data-duim-1-4-3~="dui-m-button"]{position:relative;display:inline-block;border:none;border-radius:0;font-size:17px;font-weight:400;color:var(--text-ultrastrong,rgba(0,0,0,.88))}[data-duim-1-4-3~="dui-m-modal-footer"],[data-duim-1-4-3~="dui-m-modal-footer-vertical"]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:0 0 8px 8px;overflow:hidden}[data-duim-1-4-3~="dui-m-modal-footer"]{-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}[data-duim-1-4-3~="dui-m-modal-footer"]:before{content:" ";position:absolute;height:1px;width:100%;background:var(--border-medium,rgba(0,0,0,.08));-webkit-transform:scaleY(.5);transform:scaleY(.5);top:0;left:0;z-index:1}[data-duim-1-4-3~="dui-m-modal-footer"]>[data-duim-1-4-3~="dui-m-button"]{-webkit-box-flex:1;-webkit-flex:1;flex:1;height:56px}[data-duim-1-4-3~="dui-m-modal-footer"]>[data-duim-1-4-3~="dui-m-button"]:last-child{font-weight:500}[data-duim-1-4-3~="dui-m-modal-footer"]>[data-duim-1-4-3~="dui-m-button"]:disabled{color:var(--text-weak,rgba(0,0,0,.24));background:var(--bg-lv1-default,#fff)}[data-duim-1-4-3~="dui-m-modal-footer-vertical"]{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-webkit-flex-flow:column-reverse nowrap;flex-flow:column-reverse nowrap;padding:0 30px 30px}[data-duim-1-4-3~="dui-m-modal-footer-vertical"]>[data-duim-1-4-3~="dui-m-button"]:not(:last-child){margin-top:12px}[data-duim-1-4-3~="dui-m-modal-actions"]{width:100%;border-radius:0 0 8px 8px;overflow:hidden}[data-duim-1-4-3~="dui-m-modal-actions"]>[data-duim-1-4-3~="dui-m-button"]{width:100%;height:44px}[data-duim-1-4-3~="dui-m-modal-actions"]>[data-duim-1-4-3~="dui-m-button"]:after{content:" ";position:absolute;height:1px;width:100%;background:var(--border-medium,rgba(0,0,0,.08));-webkit-transform:scaleY(.5);transform:scaleY(.5);top:0;left:0}[data-duim-1-4-3~="dui-m-modal-close"]{position:absolute;width:32px;height:32px;bottom:-56px;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'64\' height=\'64\' fill=\'none\' fill-rule=\'evenodd\'%3E%3Ccircle stroke=\'%23fff\' stroke-width=\'3\' cx=\'32\' cy=\'32\' r=\'30.5\'/%3E%3Cpath d=\'M41.627 19l2.828 2.828-9.9 9.9 9.9 9.899-2.828 2.828-9.899-9.9-9.9 9.9L19 41.627l9.9-9.899-9.9-9.9L21.828 19l9.9 9.9 9.899-9.9z\' fill=\'%23fff\'/%3E%3C/svg%3E");background-size:contain;background-position:50%;background-repeat:no-repeat}[data-duim-1-4-3~="dui-m-modal-close"]:active{opacity:.5}'),i.default.confirm=o.default,t.default=i.default},27228:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isActionArray=t.SNACKBAR_TRANSITION_DURATION=void 0;var r=n(209787),i=n(303415).h,o=r.__importStar(n(463313)),a=r.__importDefault(n(774012)),s=n(601912),u=n(814040),c=r.__importDefault(n(22036)),l=n(502003),d=n(801890),f=n(890281),p=n(325238),h=r.__importDefault(n(653587));function g(e){return Array.isArray(e)&&e.length>0&&e[0].text}t.SNACKBAR_TRANSITION_DURATION=200,t.isActionArray=g;var m=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.prevTouchScreenY=0,n.handleTouchStart=function(e){var t=n.getValidTouch(e);t&&(n.prevTouchScreenY=t.screenY)},n.handleTouchMove=function(e){var t=n.getValidTouch(e);if(t){if(n.prevTouchScreenY-t.screenY>8)return n.context();n.prevTouchScreenY=t.screenY}},n.handleClickAction=function(){n.props.onClickAction(),n.handleClose()},n.handleClickClose=function(){n.props.onClickClose(),n.handleClose()},n.handleClose=function(){n.props.onClose()},n.themedRender=function(e){var o,s=n.props,c=s.prefixCls,l=s.className,d=s.style,p=s.children,h=s.message,g=s.placement,m=s.visible,v=s.type,y=s.zIndex,b=s.testId,_=s.closable,C=e(c,l,c+"-"+g,c+"-"+v,((o={})[c+"-hidden"]=!m,o[c+"-override-icon"]=n.renderUserSetIcon(e),o)),I=e(c+"-message");return u.decideKeepDom.call(n,t.SNACKBAR_TRANSITION_DURATION,m)?a.default.createPortal(i(f.PreventScrollPenetrateContainer,{className:C,style:r.__assign({zIndex:y},d),onTouchStart:n.handleTouchStart,onTouchMove:n.handleTouchMove,"data-testid":b},n.renderIcon(e),i("span",{className:I},p||h),n.renderAction(e),_&&i("div",{className:e(c+"-close"),onClick:n.handleClickClose})),document.body):null},n}return r.__extends(n,e),n.prototype.componentDidMount=function(){p.updateVisibleSnackbars(this)},n.prototype.componentDidUpdate=function(){p.updateVisibleSnackbars(this)},n.prototype.getValidTouch=function(e){var t=this.props,n=t.autoClose;return t.visible&&n?e.touches.item(0):null},n.prototype.render=function(){return l.consumeTheme(this.themedRender)},n.prototype.renderAction=function(e){var t=this,n=this.props,r=n.prefixCls,o=n.action;return o?g(o)?i("span",{className:e(r+"-actions")},o.map(function(n,o){return i(h.default,{key:o,className:e(r+"-action"),onClick:function(){var e;null==(e=n.onClick)||e.call(n),t.handleClose()}},n.text)})):i(h.default,{className:e(r+"-action"),onClick:this.handleClickAction},o):null},n.prototype.renderUserSetIcon=function(e){var t=this.props,n=t.prefixCls,r=t.type,a=t.icon;return a?o.isValidElement(a)?i("div",{className:e(n+"-icon-container")},a):"object"==typeof a&&a[r]?i("div",{className:e(n+"-icon-container")},a[r]):null:null},n.prototype.renderIcon=function(e){var t=this.props,n=t.prefixCls,r=t.spinType,o=t.type,a=this.renderUserSetIcon(e);return a||("loading"===o?i(c.default,{type:r,className:e(n+"-loading-indicator"),circleClassName:e(n+"-loading-indicator-circle")}):null)},n.contextType=d.ShowCloseContext,n}(o.Component);t.default=m,m.defaultProps={prefixCls:"dui-m-snackbar",placement:"top",onClickAction:s.emptyFn,type:"info",spinType:"primary",closable:!1,onClose:s.emptyFn,onClickClose:s.emptyFn}},164095:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Snackbar=void 0;var r=n(209787),i=r.__importDefault(n(27228));t.Snackbar=i.default,n(235662).injectStyle("components/Snackbar/style/index.css","@-webkit-keyframes dui-m-snackbar-slide-in-top{0%{opacity:0;-webkit-transform:scaleX(1) translateY(-100%);transform:scaleX(1) translateY(-100%)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes dui-m-snackbar-slide-in-top{0%{opacity:0;-webkit-transform:scaleX(1) translateY(-100%);transform:scaleX(1) translateY(-100%)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes dui-m-snackbar-slide-in-bottom{0%{opacity:0;-webkit-transform:scaleX(1) translateY(100%);transform:scaleX(1) translateY(100%)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes dui-m-snackbar-slide-in-bottom{0%{opacity:0;-webkit-transform:scaleX(1) translateY(100%);transform:scaleX(1) translateY(100%)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}[data-duim-1-4-3~=\"dui-m-snackbar\"]{-webkit-box-sizing:border-box;box-sizing:border-box;position:fixed;z-index:10000;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;left:16px;right:16px;height:52px;padding:0 8px 0 12px;font-size:14px;color:var(--text-ultrastrong,rgba(0,0,0,.88));border-radius:8px;border:1px solid var(--border-weak,rgba(0,0,0,.04));-webkit-animation-duration:.4s;animation-duration:.4s;-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform;-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);background-color:var(--bg-lv3-default,#fff);-webkit-box-shadow:0 24px 48px 2px rgba(0,0,0,.08),0 5px 12px 4px rgba(0,0,0,.08);box-shadow:0 24px 48px 2px rgba(0,0,0,.08),0 5px 12px 4px rgba(0,0,0,.08)}[data-duim-1-4-3~=\"dui-m-snackbar\"]:before{content:\"\";display:inline-block;background-position:50%;background-repeat:no-repeat;background-size:contain}[data-duim-1-4-3~=\"dui-m-snackbar-icon-container\"],[data-duim-1-4-3~=\"dui-m-snackbar\"]:before{width:24px;height:24px;margin-right:4px}[data-duim-1-4-3~=\"dui-m-snackbar-override-icon\"]:before{display:none}[data-duim-1-4-3~=\"dui-m-snackbar-info\"]:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='48' height='48' fill-rule='evenodd'%3E%3Ccircle cx='24' cy='24' r='18' fill='%231e6fff'/%3E%3Cpath fill='%23fff' d='M26 21v12h2v2h-8v-2h2V23h-2v-2h6zm-2-8a3 3 0 1 1 0 6 3 3 0 1 1 0-6z'/%3E%3C/svg%3E\")}[data-duim-1-4-3~=\"dui-m-snackbar-success\"]:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='48' height='48' fill-rule='evenodd'%3E%3Ccircle cx='24' cy='24' r='18' fill='%2304dd7d'/%3E%3Cpath fill='%23fff' d='M17.93 22l3.95 3.95 9.9-9.9 2.828 2.83L21.88 31.607l-6.778-6.78L17.93 22z'/%3E%3C/svg%3E\")}[data-duim-1-4-3~=\"dui-m-snackbar-error\"]:before,[data-duim-1-4-3~=\"dui-m-snackbar-warning\"]:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='48' height='48' fill-rule='evenodd'%3E%3Ccircle cx='24' cy='24' r='18' fill='%23fb4d3f'/%3E%3Cpath fill='%23fff' d='M24 29a3 3 0 1 1 0 6 3 3 0 1 1 0-6zm3-16l-1 14h-4l-1-14h6z'/%3E%3C/svg%3E\")}[data-duim-1-4-3~=\"dui-m-snackbar-loading\"]:before{content:none}[data-duim-1-4-3~=\"dui-m-snackbar-loading-indicator\"]{width:18px;height:18px;margin:0 7px 0 3px}[data-duim-1-4-3~=\"dui-m-snackbar-loading-indicator-circle\"]{border-width:8px}[data-duim-1-4-3~=\"dui-m-snackbar-top\"]{-webkit-animation-name:dui-m-snackbar-slide-in-top;animation-name:dui-m-snackbar-slide-in-top;top:16px;margin-top:env(safe-area-inset-top)}[data-duim-1-4-3~=\"dui-m-snackbar-top\"][data-duim-1-4-3~=\"dui-m-snackbar-hidden\"]{opacity:0;-webkit-transform:scaleX(1) translateY(-100%);transform:scaleX(1) translateY(-100%)}[data-duim-1-4-3~=\"dui-m-snackbar-bottom\"]{-webkit-animation-name:dui-m-snackbar-slide-in-bottom;animation-name:dui-m-snackbar-slide-in-bottom;bottom:16px;margin-bottom:env(safe-area-inset-bottom)}[data-duim-1-4-3~=\"dui-m-snackbar-bottom\"][data-duim-1-4-3~=\"dui-m-snackbar-hidden\"]{opacity:0;-webkit-transform:scaleX(1) translateY(100%);transform:scaleX(1) translateY(100%)}[data-duim-1-4-3~=\"dui-m-snackbar-message\"]{-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:hidden;text-overflow:ellipsis}[data-duim-1-4-3~=\"dui-m-snackbar-action\"]{min-width:0;font-weight:600}[data-duim-1-4-3~=\"dui-m-snackbar-actions\"]>[data-duim-1-4-3~=\"dui-m-snackbar-action\"]:not(:first-child){margin-left:6px}[data-duim-1-4-3~=\"dui-m-snackbar-close\"]{width:24px;height:24px;margin-left:4px;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none'%3E%3Ccircle cx='8' cy='8' r='8' fill='%23000' fill-opacity='.16'/%3E%3Cpath fill-rule='evenodd' d='M10.833 10.832a.584.584 0 0 0 .004-.814L8.822 8.002l2.015-2.02a.584.584 0 0 0-.004-.814.58.58 0 0 0-.814-.004L7.999 7.18l-2.02-2.02c-.209-.209-.592-.218-.814.004s-.218.605-.004.818l2.02 2.02-2.02 2.02a.59.59 0 0 0 .004.814.593.593 0 0 0 .814.004l2.02-2.02 2.02 2.015a.58.58 0 0 0 .814-.004z' fill='%23fff'/%3E%3C/svg%3E\");background-size:16px;background-position:50%;background-repeat:no-repeat}[data-duim-1-4-3~=\"dui-m-snackbar-close\"]:active{opacity:.5}");var o=r.__importDefault(n(846634)),a=n(325238);i.default.show=o.default,i.default.closeAll=a.closeAll,i.default.closeById=a.closeById,i.default.hasVisibleInstances=a.hasVisibleInstances,t.default=i.default},325238:function(e,t){"use strict";function n(){var e=document.body;return e.__dui_visible_snackbars__=e.__dui_visible_snackbars__||[],e.__dui_visible_snackbars__}function r(e){return n().findIndex(function(t){return t.instance===e})}function i(e){var t=n(),r=e.props.id;if(r){var i=t.findIndex(function(e){return e.instance.props.id===r});if(i>=0)return t[i]}var o=t.findIndex(function(e){return e.instance.props.autoClose});return o>=0?t[o]:null}Object.defineProperty(t,"__esModule",{value:!0}),t.hasVisibleInstances=t.closeById=t.closeAll=t.updateVisibleSnackbars=void 0,t.updateVisibleSnackbars=function(e){var t=e.props.visible,o=r(e),a=n();if(t&&-1===o){var s=i(e);null==s||s.instance.handleClose(),a.push({instance:e});var u=new CustomEvent("duim-snackbar-show",{detail:e.props});document.dispatchEvent(u)}t||-1===o||a.splice(o,1)},t.closeAll=function(e){var t=document.body.__dui_visible_snackbars__;null==t||t.filter(function(t){var n=t.instance.props,r=n.autoClose,i=n.closable;return e||r||i}).forEach(function(e){return e.instance.handleClose()})},t.closeById=function(e){var t=document.body.__dui_visible_snackbars__;null==t||t.filter(function(t){return t.instance.props.id===e}).forEach(function(e){return e.instance.handleClose()})},t.hasVisibleInstances=function(){var e;return!!(null==(e=document.body.__dui_visible_snackbars__)?void 0:e.length)}},846634:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787).__importStar(n(27228)),i=n(801890);t.default=n(601912).wrapWithConfigDefaults(function(e){return e.autoClose="boolean"!=typeof e.autoClose||e.autoClose,i.showWithTransition({Component:r.default,transitionDuration:r.SNACKBAR_TRANSITION_DURATION,autoClose:e.autoClose,props:e,injectClosePropNames:["onClickAction","onClose"],deepInjectClosePaths:r.isActionArray(e.action)?["action.onClick"]:[],contexts:e.contexts})})},303415:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.h=t.isScopedAttributeDisabled=void 0;var r=n(209787),i=n(463313),o=r.__importDefault(n(771907));function a(e,n){for(var a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];var u=n;return(null==n?void 0:n.className)&&"string"==typeof e&&!t.isScopedAttributeDisabled&&(u[o.default]=n.className),i.createElement.apply(void 0,r.__spreadArrays([e,u],a))}t.isScopedAttributeDisabled=function e(){var e,t;return"object"==typeof window&&(e=window.__dui_disable_scoped_attribute__),"object"==typeof n.g&&(t=n.g.__dui_disable_scoped_attribute__),!!(e||t)}(),t.h=a},601912:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shallowEqual=t.isBrowser=t.wrapWithConfigDefaults=t.inject=t.assert=t.createStringParamFunc=t.canBeDivided=t.roundByStep=t.castInto=t.trueFn=t.falseFn=t.emptyFn=void 0;var r=n(209787);function i(e,t){if(e<0)return-i(-e,t);var n=e%t;return n<t/2?e-n:e-n+t}t.emptyFn=function(){},t.falseFn=function(){return!1},t.trueFn=function(){return!0},t.castInto=function(e,t){return e>t[1]?t[1]:e<t[0]?t[0]:e},t.roundByStep=i,t.canBeDivided=function(e,t){var n=e/t;return(0|n)===n},t.createStringParamFunc=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.map(function(e){return Number(e)});return e.apply(void 0,r)}},t.assert=function(e,t){if(!e)throw Error(t)},t.inject=function(e,t){var n=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(null,n);return!1!==i&&t(),i};return n.__dui_injected_fn__=!0,n},t.wrapWithConfigDefaults=function(e){var t={},n=function(n){return e(r.__assign(r.__assign({},t),n))};return n.configDefaults=function(e){t=e},n},t.isBrowser="undefined"!=typeof window&&"undefined"!=typeof document,t.shallowEqual=function(e,t){if(e===t)return!0;if(typeof e!==typeof t||"object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(function(n){return e[n]===t[n]})}},814040:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decideKeepDom=void 0,t.decideKeepDom=function(e,t){var n=this,r=!t&&this._ALC_HELPER_prevVisible;return this._ALC_HELPER_prevVisible=t,!!t||!!r&&(setTimeout(function(){n.forceUpdate()},e),!0)}},750904:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),"function"!=typeof String.prototype.padStart&&(String.prototype.padStart=function(e,t){return(e|=0,t=String(void 0!==t?t:" "),this.length>e)?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))})},890281:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreventScrollPenetrateContainer=t.preventSelfScrollPenetrate=void 0;var r=n(209787),i=n(303415).h,o=r.__importStar(n(463313)),a=10;function s(e,t){return e&&e!==t&&t.contains(e)?e.scrollHeight>e.clientHeight?e:s(e.parentNode,t):t}function u(e){var t,n,r,i=e.container,o=e.direction,a=void 0===o?"y":o,u=e.stopPropagationBorder,c=void 0===u?null:u,l=e.touchStartEvent;if(i&&!i.__preventSelfScrollPenetrate){var d=null,f=function(e){d=null;var o=e.touches[0];t=o.screenX,n=o.screenY,r=s(e.target,i)},p=function(e){var o=e.touches[0],s=o.screenX-t,u=o.screenY-n;if((Math.abs(s)>Math.abs(u)?"x":"y")===a&&r){var l="x"===a&&0===r.scrollLeft,f="x"===a&&r.scrollLeft===r.scrollWidth-r.offsetWidth,p="y"===a&&0===r.scrollTop,h="y"===a&&r.scrollTop===r.scrollHeight-r.offsetHeight,g="x"===a?s>0&&l||s<0&&f:u>0&&p||u<0&&h,m=l||p?"lower":f||h?"upper":null;g?(e.cancelable&&e.preventDefault(),d!==m&&(i.dispatchEvent(new TouchEvent("touchstart",e)),d=m),c===m&&e.stopPropagation()):e.stopPropagation()}};i.addEventListener("touchstart",f),i.addEventListener("touchmove",p,{passive:!1}),l&&i.contains(l.target)&&f(l),i.__preventSelfScrollPenetrate=!0}}function c(e,t,n,r){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-r,2))}t.preventSelfScrollPenetrate=u,t.PreventScrollPenetrateContainer=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.domRef=o.createRef(),t.isInnerScroll=!1,t.startScreenX=-1,t.startScreenY=-1,t.handleTouchStart=function(e){var n=t.domRef.current;if(n){var r=e.composedPath(),i=e.touches[0];t.startScreenX=i.screenX,t.startScreenY=i.screenY;for(var o=0,a=r;o<a.length;o++){var s=a[o];if(!n.contains(s)){t.isInnerScroll=!1;return}if(s.scrollHeight>s.clientHeight){t.isInnerScroll=!0,u({container:s,touchStartEvent:e});return}}t.isInnerScroll=!1}},t.handleTouchMove=function(e){if(!t.isInnerScroll){var n=e.touches[0];!("stylus"===n.touchType&&c(t.startScreenX,t.startScreenY,n.screenX,n.screenY)<a)&&e.cancelable&&e.preventDefault()}},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){if(!this.props.disabled){var e=this.domRef.current;e.addEventListener("touchstart",this.handleTouchStart),e.addEventListener("touchmove",this.handleTouchMove,{passive:!1})}},t.prototype.render=function(){var e=this.props,t=(e.disabled,e.children),n=r.__rest(e,["disabled","children"]);return i("div",r.__assign({},n,{ref:this.domRef}),t)},t}(o.Component)},801890:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showWithTransition=t.ShowCloseContext=void 0;var r=n(209787),i=n(303415).h,o=r.__importStar(n(463313)),a=r.__importDefault(n(774012)),s=n(601912),u=r.__importDefault(n(674590));function c(e){var n,o=e.Component,c=e.transitionDuration,d=e.autoClose,f=e.props,p=e.forcedProps,h=e.injectClosePropNames,g=void 0===h?[]:h,m=e.deepInjectClosePaths,v=void 0===m?[]:m,y=e.contexts,b=void 0===y?[]:y,_=document.createElement("div");document.body.appendChild(_);var C=!1;w(f);var I=r.__assign(r.__assign(r.__assign({},f),p),{visible:!0});function E(e,t){var n=e[t]||s.emptyFn;n.__dui_injected_fn__||(e[t]=s.inject(n,D))}function w(e){g.forEach(function(t){E(e,t)}),v.forEach(function(t){for(var n=t.split("."),r=n.pop(),i=[e],o=function(e){var t=u.default(i.map(function(t){return t[e]}).filter(function(e){return e}));if(!t.length)return{value:void 0};i=t},a=0,s=n;a<s.length;a++){var c=o(s[a]);if("object"==typeof c)return c.value}i.forEach(function(e){E(e,r)})})}function S(e){C||(w(I=r.__assign(r.__assign(r.__assign(r.__assign({},I),e),p),{visible:!0})),T(I))}function D(){C||(C=!0,clearTimeout(n),T(I=r.__assign(r.__assign({},I),{visible:!1})),setTimeout(function(){a.default.unmountComponentAtNode(_),_.remove()},c+20))}var M=[{provider:t.ShowCloseContext.Provider,value:D}].concat(b);function T(e){a.default.render(l(M,i(o,r.__assign({},e))),_)}return T(I),d&&(n=setTimeout(D,f.duration||2e3)),{update:S,close:D}}function l(e,t){return e.reduce(function(e,t){return i(t.provider,{value:t.value},e)},t)}t.ShowCloseContext=o.createContext(s.emptyFn),t.showWithTransition=c},235662:function(e,t,n){"use strict";r={value:!0},t.injectStyle=void 0;var r,i=n(209787).__importDefault(n(383904)),o=n(303415),a=n(601912),s="1",u=new(function(){function e(){var e=a.isBrowser?window:n.g;e.__duim_style_registry__=e.__duim_style_registry__||{},this.registry=e.__duim_style_registry__}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.registry).length},enumerable:!1,configurable:!0}),e.prototype.set=function(e,t){this.registry[e]=t},e.prototype.get=function(e){return this.registry[e]},e.prototype.add=function(e,t){this.registry[e]||(this.registry[e]=[]),this.registry[e].push(t)},e}());t.injectStyle=function(e,t){var n=i.default+"-"+e;if(Array.isArray(u.get(n))){u.add(n,s),l(n);return}u.set(n,[s]);var r=f(e);r.length>1&&d(e,r);var c=o.isScopedAttributeDisabled?e:n;if(a.isBrowser){var p=document.createElement("style");p.setAttribute("type","text/css"),p.setAttribute("data-duim-key",c),p.innerText=t,document.head.appendChild(p)}else if("function"==typeof injectContentBeforeRoot){var p='<style type="text/css" data-duim-key="'+c+'">'+t+"</style>";injectContentBeforeRoot(p)}};var c=3e3;function l(e){if(a.isBrowser&&u.length&&Array.isArray(u.get(e))){var t=u.get(e).length;setTimeout(function(){u.get(e).length>t||console.warn("[DUI-MOBILE] "+e+" \u91CD\u590D\u5F15\u5165\u4E86 "+t+" \u6B21")},c)}}function d(e,t){a.isBrowser&&setTimeout(function(){f(e).length>t.length||console.warn("[DUI-MOBILE] "+e+" \u5B58\u5728\u591A\u4E2A\u7248\u672C:  "+t.join("  "))},c)}function f(e){return u.length?Object.getOwnPropertyNames(u.registry).filter(function(t){return -1!==t.indexOf(e)}).map(function(e){return e.split("-")[0]}):[]}},549975:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WithStylusClick=t.StylusAdapter=void 0;var r,i=n(209787),o=i.__importDefault(n(463313)),a=i.__importDefault(n(384341));!function(e){e.direct="direct",e.stylus="stylus"}(r||(r={}));var s=function(){function e(){}return e.supportStylus=function(e,t){if(this.isIPadStylusTouch(e)){if("touchstart"===e.nativeEvent.type){this.startPos=[e.changedTouches[0].clientX,e.changedTouches[0].clientY];return}if("touchend"===e.nativeEvent.type){var n=[e.changedTouches[0].clientX,e.changedTouches[0].clientY];this.isEqualPos(this.startPos,n)&&t&&t(),e.preventDefault()}}},e.startPos=[0,0],e.isIPadStylusTouch=function(e){return a.default.isIPad&&e.changedTouches[0]&&e.changedTouches[0].touchType===r.stylus},e.isEqualPos=function(e,t){return Math.abs(e[0]-t[0])<10&&Math.abs(e[1]-t[1])<10},e}();t.StylusAdapter=s,t.WithStylusClick=function(e){var t=e.children,n=e.clickHandler;return o.default.cloneElement(t,{onClick:n,onTouchStart:function(e){return s.supportStylus(e,n)},onTouchEnd:function(e){return s.supportStylus(e,n)}})}},502003:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createThemedClassNames=t.consumeTheme=void 0;var r=n(209787),i=n(303415).h,o=r.__importStar(n(463313)),a=r.__importDefault(n(684875));n(750904),n(235662).injectStyle("common/global.css","[data-duim-1-4-3]{-webkit-tap-highlight-color:transparent}.__DARK__{--duim-invert-filter:invert() hue-rotate(180deg) brightness(120%) grayscale();--duim-blur-minor-bg-color:rgba(28,29,31,0.92);--duim-blur-major-bg-color:rgba(36,37,41,0.72);--duim-mask-color:rgba(0,0,0,0.65)}");var s=o.createContext(null);function u(e,t){if(!t||!e)return t;var n=t.split(/\s+/);return n.concat.apply(n,n.map(function(t){return e[t]}).filter(function(e){return e})).join(" ")}function c(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return u(e,a.default.apply(void 0,t))}}t.consumeTheme=function(e){return i(s.Consumer,null,function(t){return e(c(t))})},t.createThemedClassNames=c,t.default=s},363458:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="data-dui-"+n(209787).__importDefault(n(97366)).default.replace(/\./g,"-")},302230:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.i18n=t.i18nInstance=void 0;var r=n(209787),i=r.__importDefault(n(340586)),o=r.__importDefault(n(593296)),a=r.__importDefault(n(643940)),s=r.__importDefault(n(838276)),u=n(477382),c=new s.default;"undefined"!=typeof window&&c.addDetector({name:"userAgent",lookup:function(){var e=navigator.userAgent.match(/language\/([a-zA-Z'-_]+)/i);if(e)return e[1].replace("_","-")}});var l={};function d(e){return t.i18nInstance.t(e)}u.languages.forEach(function(e,t){var n=i.default({},u.translationMap,function(e,n){return n[t]});o.default(l,[e,"translation"],n)}),t.i18nInstance=a.default.createInstance(),t.i18nInstance.use(c).init({resources:l,fallbackLng:{"zh-TW":["zh-HK","zh-CN"],fil:["tl-PH"],id:["id-ID"],es:["es-MX"],default:["zh-CN"]},detection:{order:["querystring","userAgent","cookie","navigator"],lookupCookie:"language",caches:[]}}),t.i18n=d},97366:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="1.25.1"},477382:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.translationMap=t.languages=void 0;var r=n(209787).__importDefault(n(384341)).default.isMac?"Command":"Ctrl";t.languages=["en","zh-CN","th","vi","ms","tl-PH","id-ID","es-MX","de","ja","zh-HK"],t.translationMap={avatar:["Avatar","\u5934\u50CF","\u0E23\u0E39\u0E1B\u0E42\u0E1B\u0E23\u0E44\u0E1F\u0E25\u0E4C","\u1EA2nh h\u1ED3 s\u01A1","Foto Profil","Profile Photo","Foto Profil","Foto del perfil","Profilfoto","\u30D7\u30ED\u30D5\u30A3\u30FC\u30EB\u5199\u771F","\u982D\u50CF"],ok:["OK","\u786E\u5B9A","\u0E15\u0E01\u0E25\u0E07","OK","OK","OK","OK","OK","OK","OK","\u78BA\u5B9A"],cancel:["Cancel","\u53D6\u6D88","\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01","H\u1EE7y","Batalkan","Kanselahin","Batalkan","Cancelar","Abbrechen","\u30AD\u30E3\u30F3\u30BB\u30EB\u3059\u308B","\u53D6\u6D88"],select:["Select","\u8BF7\u9009\u62E9","\u0E42\u0E1B\u0E23\u0E14\u0E40\u0E25\u0E37\u0E2D\u0E01","Vui l\xf2ng l\u1EF1a ch\u1ECDn","Sila pilih","Pumili","Silakan pilih","Por favor selecciona","Bitte ausw\xe4hlen","\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044","\u8ACB\u9078\u64C7"],search:["Search","\u641C\u7D22\u9009\u9879","\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E01\u0E32\u0E23\u0E04\u0E49\u0E19\u0E2B\u0E32","T\xf9y ch\u1ECDn t\xecm ki\u1EBFm","Pilihan carian","Mga opsyon sa paghahanap","Opsi penelusuran","Buscar opciones","Options-Suche","\u691C\u7D22\u30AA\u30D7\u30B7\u30E7\u30F3","\u641C\u5C0B\u9078\u9805"],hour:["H","\u65F6","h","gi\u1EDD","h","h","h","h","h","\u6642","\u6642"],minute:["M","\u5206","m","ph\xfat","m","m","m","m","m","\u5206","\u5206"],second:["S","\u79D2","s","gi\xe2y","saat","s","s","s","s","\u79D2","\u79D2"],now:["Now","\u6B64\u523B","\u0E15\u0E2D\u0E19\u0E19\u0E35\u0E49","Ngay b\xe2y gi\u1EDD","Sekarang","Ngayon","Sekarang","Ahora","Jetzt","\u4ECA","\u6B64\u523B"],inputHour:["Enter Hour","\u8F93\u5165\u5C0F\u65F6","\u0E43\u0E2A\u0E48\u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07","Nh\u1EADp gi\u1EDD","Masukkan jam","Ilagay ang mga oras","Masukkan jam","Introducir horas","Stunden eingeben","\u6642\u9593\u3092\u5165\u529B\u3057\u307E\u3059","\u8F38\u5165\u5C0F\u6642"],inputMinute:["Enter Minute","\u8F93\u5165\u5206","\u0E43\u0E2A\u0E48\u0E19\u0E32\u0E17\u0E35","Nh\u1EADp ph\xfat","Masukkan minit","Ilagay ang mga minuto","Masukkan menit","Introducir minutos","Minuten eingeben","\u5206\u3092\u5165\u529B\u3057\u307E\u3059","\u8F38\u5165\u5206"],inputSecond:["Enter Second","\u8F93\u5165\u79D2","\u0E43\u0E2A\u0E48\u0E27\u0E34\u0E19\u0E32\u0E17\u0E35","Nh\u1EADp gi\xe2y","Masukkan saat","Ilagay ang mga segundo","Masukkan detik","Introducir segundos","Sekunden eingeben","\u79D2\u3092\u5165\u529B\u3057\u307E\u3059","\u8F38\u5165\u79D2"],close:["Close","\u5173\u95ED","\u0E1B\u0E34\u0E14","\u0110\xf3ng","Tutup","Isara","Tutup","Cerrar","Schlie\xdfen","\u9589\u3058\u308B","\u95DC\u9589"],loadingFailed:["Loading Failed","\u52A0\u8F7D\u5931\u8D25","\u0E42\u0E2B\u0E25\u0E14\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08","T\u1EA3i kh\xf4ng th\xe0nh c\xf4ng","Memuatkan tidak berjaya","Hindi matagumpay ang pag-load","Gagal memuat","Error al cargar","Laden erfolglos","\u8AAD\u307F\u8FBC\u307F\u306B\u5931\u6557\u3057\u307E\u3057\u305F","\u8F09\u5165\u5931\u6557"],noOptions:["No Options Available","\u6682\u65E0\u9009\u9879","\u0E44\u0E21\u0E48\u0E21\u0E35\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E17\u0E35\u0E48\u0E1E\u0E23\u0E49\u0E2D\u0E21\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19","Kh\xf4ng c\xf3 t\xf9y ch\u1ECDn kh\u1EA3 d\u1EE5ng","Tiada pilihan tersedia","Walang mga opsyon na available","Tidak ada opsi tersedia","No hay opciones disponibles","Keine Optionen verf\xfcgbar","\u5229\u7528\u53EF\u80FD\u306A\u30AA\u30D7\u30B7\u30E7\u30F3\u306F\u3042\u308A\u307E\u305B\u3093","\u66AB\u7121\u9078\u9805"],copySuccessed:["Copy Succeeded","\u590D\u5236\u6210\u529F","\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08\u0E41\u0E25\u0E49\u0E27","Sao ch\xe9p th\xe0nh c\xf4ng","Berjaya menyalin","Matagumpay na nakopya","Berhasil disalin","Copiar con \xe9xito","Erfolgreich kopiert","\u30B3\u30D4\u30FC\u304C\u6210\u529F\u3057\u307E\u3057\u305F","\u8907\u88FD\u6210\u529F"],copyFailed:["Copy Failed","\u590D\u5236\u5931\u8D25","\u0E01\u0E32\u0E23\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01\u0E25\u0E49\u0E21\u0E40\u0E2B\u0E25\u0E27","Sao ch\xe9p kh\xf4ng th\xe0nh c\xf4ng","Gagal menyalin","Hindi nakopya","Gagal menyalin","Error al copiar","Kopieren fehlgeschlagen","\u30B3\u30D4\u30FC\u306B\u5931\u6557\u3057\u307E\u3057\u305F","\u8907\u88FD\u5931\u6557"],eyedropper:["Eyedropper","\u53D6\u8272\u5668","\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E2A\u0E35","B\u1ED9 ch\u1ECDn m\xe0u","Pemilih warna","Color picker","Pemilih warna","Selector de color","Farbw\xe4hler","\u30AB\u30E9\u30FC\u30D4\u30C3\u30AB\u30FC","\u53D6\u8272\u5668"],eyedropperFailedBrowser:["Eyedropper is not supported by this browser. Please open it in Chrome","\u53D6\u8272\u5668\u6682\u4E0D\u652F\u6301\u672C\u6D4F\u89C8\u5668, \u8BF7\u5728 Chrome \u4E2D\u4F7F\u7528","\u0E02\u0E13\u0E30\u0E19\u0E35\u0E49\u0E40\u0E1A\u0E23\u0E32\u0E27\u0E4C\u0E40\u0E0B\u0E2D\u0E23\u0E4C\u0E19\u0E35\u0E49\u0E44\u0E21\u0E48\u0E23\u0E2D\u0E07\u0E23\u0E31\u0E1A\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E2A\u0E35 \u0E42\u0E1B\u0E23\u0E14\u0E43\u0E0A\u0E49\u0E43\u0E19 Chrome","B\u1ED9 ch\u1ECDn m\xe0u kh\xf4ng \u0111\u01B0\u1EE3c h\u1ED7 tr\u1EE3 trong tr\xecnh duy\u1EC7t n\xe0y, vui l\xf2ng s\u1EED d\u1EE5ng Chrome","Pemilih warna tidak disokong dalam pelayar ini pada masa ini, sila gunakannya dalam Chrome","Ang color picker ay kasalukuyang hindi sinusuportahan sa browser na ito, mangyaring gamitin ito sa Chrome","Pemilih warna saat ini tidak didukung di browser ini, silakan gunakan di Chrome","El selector de color no es compatible actualmente con este navegador, util\xedcelo en Chrome","Der Farbw\xe4hler wird in diesem Browser derzeit nicht unterst\xfctzt, bitte verwenden Sie ihn in Chrome","\u30AB\u30E9\u30FC\u30D4\u30C3\u30AB\u30FC\u306F\u73FE\u5728\u3053\u306E\u30D6\u30E9\u30A6\u30B6\u3067\u306F\u30B5\u30DD\u30FC\u30C8\u3055\u308C\u3066\u3044\u307E\u305B\u3093\u3002Chrome\u3067\u4F7F\u7528\u3057\u3066\u304F\u3060\u3055\u3044","\u53D6\u8272\u5668\u66AB\u4E0D\u652F\u63F4\u672C\u700F\u89BD\u5668\uFF0C\u8ACB\u5728Chrome\u4E2D\u4F7F\u7528"],zoomIn:["Zoom In","\u653E\u5927","\u0E0B\u0E39\u0E21\u0E40\u0E02\u0E49\u0E32","Ph\xf3ng to","Zum masuk","Mag-zoom in","Perbesar","Acercar","Zoomen Sie herein","\u30BA\u30FC\u30E0\u30A4\u30F3","\u653E\u5927"],zoomOut:["Zoom Out","\u7F29\u5C0F","\u0E0B\u0E39\u0E21\u0E2D\u0E2D\u0E01","Thu nh\u1ECF","Zum keluar","Mag-zoom out","Perkecil","Alejar","Zoomen Sie heraus","\u30BA\u30FC\u30E0\u30A2\u30A6\u30C8","\u7E2E\u5C0F"],fitScreen:["Fit to Screen","\u9002\u5E94\u5C4F\u5E55","\u0E1B\u0E23\u0E31\u0E1A\u0E43\u0E2B\u0E49\u0E1E\u0E2D\u0E14\u0E35\u0E01\u0E31\u0E1A\u0E2B\u0E19\u0E49\u0E32\u0E08\u0E2D","V\u1EEBa m\xe0n h\xecnh","Muat pada skrin","I-fit sa screen","Sesuaikan dengan layar","Ajustar a la pantalla","An Bildschirm anpassen","\u753B\u9762\u306B\u5408\u308F\u305B\u307E\u3059","\u9069\u61C9\u87A2\u5E55"],actualSize:["Full Image","\u539F\u56FE","\u0E20\u0E32\u0E1E\u0E40\u0E15\u0E47\u0E21","H\xecnh \u1EA3nh \u0111\u1EA7y \u0111\u1EE7","Imej penuh","Buong larawan","Gambar penuh","Imagen Completa","Volles Bild","\u30D5\u30EB\u30A4\u30E1\u30FC\u30B8","\u539F\u5716"],download:["Download","\u4E0B\u8F7D","\u0E14\u0E32\u0E27\u0E19\u0E4C\u0E42\u0E2B\u0E25\u0E14","T\u1EA3i xu\u1ED1ng","Muat Turun","I-download","Unduh","Descargar","Herunterladen","\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9","\u4E0B\u8F09"],monthPostfix:["","\u6708","\u0E40\u0E14\u0E37\u0E2D\u0E19","Th\xe1ng","Bulan","Buwan","Bulan","Mes","Monat","\u6708","\u6708"],name:t.languages,today:["Today","\u4ECA\u5929","\u0E27\u0E31\u0E19\u0E19\u0E35\u0E49","H\xf4m nay","Hari ini","Ngayong araw","Hari ini","Hoy","Heute","\u4ECA\u65E5","\u4ECA\u5929"],backToToday:["Back to Today","\u8FD4\u56DE\u4ECA\u5929","\u0E22\u0E49\u0E2D\u0E19\u0E01\u0E25\u0E31\u0E1A\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E27\u0E31\u0E19\u0E19\u0E35\u0E49","Quay l\u1EA1i h\xf4m nay","Kembali ke hari ini","Bumalik sa ngayon","Kembali ke hari ini","Volver a hoy","Zum heutigen Tag zur\xfcckkehren","\u4ECA\u65E5\u306B\u623B\u308A\u307E\u3059","\u8FD4\u56DE\u4ECA\u5929"],timeSelect:["Select Time","\u9009\u62E9\u65F6\u95F4","\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E40\u0E27\u0E25\u0E32","Ch\u1ECDn th\u1EDDi gian","Pilih masa","Piliin ang oras","Pilih waktu","Seleccionar hora","Zeit ausw\xe4hlen","\u6642\u9593\u3092\u9078\u629E\u3057\u307E\u3059","\u9078\u64C7\u6642\u9593"],dateSelect:["Select Date","\u9009\u62E9\u65E5\u671F","\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48","Ch\u1ECDn ng\xe0y","Pilih tarikh","Pumili ng petsa","Pilih tanggal","Seleccionar fecha","Datum ausw\xe4hlen","\u65E5\u4ED8\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044","\u9078\u64C7\u65E5\u671F"],weekSelect:["Select Week","\u9009\u62E9\u5468","\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E2A\u0E31\u0E1B\u0E14\u0E32\u0E2B\u0E4C","Ch\u1ECDn tu\u1EA7n","Pilih minggu","Piliin ang linggo","Pilih minggu","Seleccionar semana","Woche w\xe4hlen","\u9031\u3092\u9078\u629E\u3057\u307E\u3059","\u9078\u64C7\u9031"],clear:["Clear","\u6E05\u9664","\u0E25\u0E49\u0E32\u0E07","X\xf3a","Kosongkan","I-clear","Bersihkan","Borrar","L\xf6schen","\u524A\u9664\u3057\u307E\u3059","\u6E05\u9664"],month:["Month","\u6708","\u0E40\u0E14\u0E37\u0E2D\u0E19","Th\xe1ng","Bulan","Buwan","Bulan","Mes","Monat","\u6708","\u6708"],year:["Year","\u5E74","\u0E1B\u0E35","N\u0103m","Tahun","Taon","Tahun","A\xf1o","Jahr","\u5E74","\u5E74"],previousMonth:["Previous month (PageUp)","\u4E0A\u4E2A\u6708 (\u7FFB\u9875\u4E0A\u952E)","\u0E40\u0E14\u0E37\u0E2D\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27 (\u0E1B\u0E38\u0E48\u0E21 Page Up)","Th\xe1ng tr\u01B0\u1EDBc (Ph\xedm Page Up)","Bulan lepas (kekunci Halaman Atas)","Nakaraang buwan (Page Up key)","Bulan lalu (tombol Page Up)","\xdaltimo mes (Tecla Previa p\xe1gina)","Letzter Monat (Taste Seite hoch)","\u5148\u6708\uFF08PageUp \u30AD\u30FC\uFF09","\u4E0A\u500B\u6708\uFF08\u7FFB\u9801\u4E0A\u9375\uFF09"],nextMonth:["Next month (PageDown)","\u4E0B\u4E2A\u6708 (\u7FFB\u9875\u4E0B\u952E)","\u0E40\u0E14\u0E37\u0E2D\u0E19\u0E16\u0E31\u0E14\u0E44\u0E1B (\u0E1B\u0E38\u0E48\u0E21 Page Down)","Th\xe1ng sau (Ph\xedm Page Down)","Bulan depan (kekunci Halaman Bawah)","Susunod na buwan (Page Down key)","Bulan berikutnya (tombol Page Down)","Siguiente Mes (Tecla Siguiente p\xe1gina)","N\xe4chster Monat (Taste Bild ab)","\u7FCC\u6708\uFF08PageDown \u30AD\u30FC\uFF09","\u4E0B\u500B\u6708\uFF08\u7FFB\u9801\u4E0B\u9375\uFF09"],monthSelect:["Select Month","\u9009\u62E9\u6708\u4EFD","\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E40\u0E14\u0E37\u0E2D\u0E19","Ch\u1ECDn th\xe1ng","Pilih bulan","Piliin ang buwan","Pilih bulan","Seleccionar mes","Monat ausw\xe4hlen","\u6708\u3092\u9078\u629E","\u9078\u64C7\u6708\u4EFD"],yearSelect:["Select Year","\u9009\u62E9\u5E74\u4EFD","\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E1B\u0E35","Ch\u1ECDn n\u0103m","Pilih tahun","Piliin ang taon","Pilih tahun","Seleccionar a\xf1o","Jahr w\xe4hlen","\u5E74\u3092\u9078\u629E\u3057\u307E\u3059","\u9078\u64C7\u5E74\u4EFD"],decadeSelect:["Select Decade","\u9009\u62E9\u5E74\u4EE3","\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E17\u0E28\u0E27\u0E23\u0E23\u0E29","Ch\u1ECDn m\u1ED9t th\u1EADp k\u1EF7","Pilih satu dekad","Pumili ng dekada","Pilih dekade","Seleccionar una d\xe9cada","W\xe4hlen Sie ein Jahrzehnt","10\u5E74\u3092\u9078\u629E\u3057\u307E\u3059","\u9078\u64C7\u5E74\u4EE3"],yearFormat:["YYYY","YYYY\u5E74","YYYY","YYYY","YYYY","YYYY","YYYY","YYYY","YYYY","YYYY","YYYY\u5E74"],monthFormat:["M","M\u6708","M","M","M","M","M","M","M","M","M\u6708"],dayFormat:["D","D\u65E5","D","D","D","D","D","D","D","D","D\u65E5"],dateFormat:["M/D/YYYY","YYYY\u5E74M\u6708D\u65E5","DD/MM/YYYY","DD/MM/YYYY","DD/MM/YYYY","DD/MM/YYYY","DD/MM/YYYY","DD/MM/YYYY","DD/MM/YYYY","YYYY/MM/DD","YYYY\u5E74M\u6708D\u65E5"],dateTimeFormat:["M/D/YYYY HH:mm:ss","YYYY\u5E74M\u6708D\u65E5 HH\u65F6mm\u5206ss\u79D2","DD/MM/YYYY HH:mm:ss","DD/MM/YYYY HH:mm:ss","DD/MM/YYYY HH:mm:ss","DD/MM/YYYY HH:mm:ss","DD/MM/YYYY HH:mm:ss","DD/MM/YYYY HH:mm:ss","DD/MM/YYYY HH:mm:ss","YYYY/MM/DD HH:mm:ss","YYYY\u5E74M\u6708D\u65E5 HH\u6642mm\u5206ss\u79D2"],monthBeforeYear:["true","","true","true","true","true","true","true","true","",""],previousYear:["Previous Year ("+r+" + Left)","\u4E0A\u4E00\u5E74 ("+r+"\u952E\u52A0\u5DE6\u65B9\u5411\u952E)","\u0E1B\u0E35\u0E01\u0E48\u0E2D\u0E19\u0E2B\u0E19\u0E49\u0E32 (\u0E1B\u0E38\u0E48\u0E21 "+r+" + \u0E1B\u0E38\u0E48\u0E21\u0E25\u0E39\u0E01\u0E28\u0E23\u0E0B\u0E49\u0E32\u0E22)","N\u0103m tr\u01B0\u1EDBc (ph\xedm "+r+" + ph\xedm M\u0169i t\xean Tr\xe1i)","Tahun sebelumnya ("+r+" kekunci + Kekunci Anak Panah Kiri)","Nakaraang taon ("+r+" key + Left Arrow key)","Tahun sebelumnya (tombol "+r+" + tombol Panah Kiri)","A\xf1o anterior ("+r+" tecla + tecla de flecha izquierda)","Vorheriges Jahr ("+r+"Taste + Linke Pfeiltaste)","\u524D\u5E74\uFF08"+r+"\u30AD\u30FC + \u5DE6\u77E2\u5370\u30AD\u30FC\uFF09","\u4E0A\u4E00\u5E74 ("+r+"\u9375\u52A0\u5DE6\u65B9\u5411\u9375)"],nextYear:["Next Year ("+r+" + Right)","\u4E0B\u4E00\u5E74 ("+r+"\u952E\u52A0\u53F3\u65B9\u5411\u952E)","\u0E1B\u0E35\u0E16\u0E31\u0E14\u0E44\u0E1B (\u0E1B\u0E38\u0E48\u0E21 "+r+" + \u0E1B\u0E38\u0E48\u0E21\u0E25\u0E39\u0E01\u0E28\u0E23\u0E02\u0E27\u0E32)","N\u0103m sau (ph\xedm "+r+" + ph\xedm M\u0169i t\xean Ph\u1EA3i)","Tahun depan ("+r+" kekunci + Kekunci Anak Panah Kanan)","Susunod na taon ("+r+" key + Right Arrow key)","Tahun berikutnya (tombol "+r+" + tombol Panah Kanan)","A\xf1o siguiente ("+r+" tecla + tecla de flecha derecha)","N\xe4chstes Jahr ("+r+"Taste + Rechte Pfeiltaste)","\u7FCC\u5E74\uFF08"+r+"\u30AD\u30FC + \u53F3\u77E2\u5370\u30AD\u30FC\uFF09","\u4E0B\u4E00\u5E74 ("+r+"\u9375\u52A0\u53F3\u65B9\u5411\u9375)"],previousDecade:["Previous Decade","\u4E0A\u4E00\u5E74\u4EE3","\u0E17\u0E28\u0E27\u0E23\u0E23\u0E29\u0E01\u0E48\u0E2D\u0E19\u0E2B\u0E19\u0E49\u0E32","Th\u1EADp k\u1EF7 tr\u01B0\u1EDBc","Dekad sebelumnya","Nakaraang dekada","Dekade sebelumnya","D\xe9cada anterior","Vorheriges Jahrzehnt","\u524D\u306E10\u5E74","\u4E0A\u4E00\u5E74\u4EE3"],nextDecade:["Next Decade","\u4E0B\u4E00\u5E74\u4EE3","\u0E17\u0E28\u0E27\u0E23\u0E23\u0E29\u0E2B\u0E19\u0E49\u0E32","Th\u1EADp k\u1EF7 ti\u1EBFp theo","Dekad depan","Susunod na dekada","Dekade selanjutnya","D\xe9cada siguiente","N\xe4chstes Jahrzehnt","\u6B21\u306E10\u5E74","\u4E0B\u4E00\u5E74\u4EE3"],previousCentury:["Previous Century","\u4E0A\u4E00\u4E16\u7EAA","\u0E28\u0E15\u0E27\u0E23\u0E23\u0E29\u0E01\u0E48\u0E2D\u0E19\u0E2B\u0E19\u0E49\u0E32","Th\u1EBF k\u1EF7 tr\u01B0\u1EDBc","Abad sebelumnya","Nakaraang siglo","Abad sebelumnya","Siglo anterior","Vorheriges Jahrhundert","\u524D\u306E\u4E16\u7D00","\u4E0A\u4E00\u4E16\u7D00"],nextCentury:["Next Century","\u4E0B\u4E00\u4E16\u7EAA","\u0E28\u0E15\u0E27\u0E23\u0E23\u0E29\u0E2B\u0E19\u0E49\u0E32","Th\u1EBF k\u1EF7 ti\u1EBFp theo","Abad depan","Susunod na siglo","Abad selanjutnya","Siglo siguiente","N\xe4chstes Jahrhundert","\u6B21\u306E\u4E16\u7D00","\u4E0B\u4E00\u4E16\u7D00"],time:["Time","\u65F6\u95F4","\u0E40\u0E27\u0E25\u0E32","Th\u1EDDi gian","Masa","Oras","Waktu","Hora","Zeit","\u6642\u9593","\u6642\u9593"],rotate:["Rotate","\u65CB\u8F6C","\u0E2B\u0E21\u0E38\u0E19","Xoay","Putar","Paikutin","Memutar","Rotar","Drehen","\u56DE\u8EE2","\u65CB\u8F49"]}},503114:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787),i=n(51272).h,o=r.__importStar(n(463313)),a=n(591829),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.themedRender=function(e){var n,o=t.props,a=o.count,s=o.prefixCls,u=o.style,c=o.status,l=o.showZero,d=o.text,f=o.dot,p=o.children,h=o.className,g=o.overflowCount,m=o.offsetX,v=o.offsetY,y=a;Number(a)>g?y=g+"+":!a&&l&&(y="0");var b=e(s+"-status",((n={})[s+"-status-"+(c||"default")]=c,n)),_={marginRight:-m+"px",marginTop:v+"px"};if(c){var C=e(s,h,s+"-standalone"),I=e(s+"-status-text");return i("span",{className:C,style:u},i("span",{className:b}),d&&i("span",{className:I},d))}if(!p){var E=e(s,h,s+"-standalone",s+"-count",s+"-count-standalone");return y&&i("span",{className:E,style:u},y)}var w=e(s,h);if(f)return i("span",{className:w},p,i("sup",{className:e(s+"-dot"),style:r.__assign(r.__assign({},u),_)}));var S=e(s+"-count",s+"-count-attach");return i("span",{className:w},p,y?i("sup",{className:S,style:r.__assign(r.__assign({},u),_)},y):null)},t}return r.__extends(t,e),t.prototype.render=function(){return a.consumeTheme(this.themedRender)},t}(o.Component);t.default=s,s.defaultProps={prefixCls:"dui-badge",showZero:!1,text:"",dot:!1,overflowCount:99,offsetX:0,offsetY:0}},14026:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Badge=void 0;var r=n(209787);n(896439).injectStyle("components/Badge/style/index.css",'[data-dui-1-25-1~="dui-badge"]{-webkit-box-sizing:border-box;box-sizing:border-box;margin:0;padding:0;position:relative;display:inline-block}[data-dui-1-25-1~="dui-badge-standalone"]{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[data-dui-1-25-1~="dui-badge-count"],[data-dui-1-25-1~="dui-badge-dot"]{position:absolute;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;right:0;border:1px solid #fff}[data-dui-1-25-1~="dui-badge-count"]{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;height:18px;min-width:18px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;border-radius:9px;padding:0 4px;font-size:12px;font-weight:500;white-space:nowrap;color:#fff;background:var(--critical-default,#ff4747)}[data-dui-1-25-1~="dui-badge-count-attach"]{top:-9px;-webkit-transform:translateX(50%);transform:translateX(50%)}[data-dui-1-25-1~="dui-badge-count-standalone"]{position:relative}[data-dui-1-25-1~="dui-badge-dot"]{top:-5px;background:var(--critical-default,#ff4747);-webkit-transform:translateX(50%);transform:translateX(50%)}[data-dui-1-25-1~="dui-badge-dot"],[data-dui-1-25-1~="dui-badge-status"]{border-radius:50%;width:10px;height:10px}[data-dui-1-25-1~="dui-badge-status"]{display:inline-block}[data-dui-1-25-1~="dui-badge-status-default"]{background:#d9d9d9}[data-dui-1-25-1~="dui-badge-status-success"]{background:#1890ff}[data-dui-1-25-1~="dui-badge-status-error"]{background:var(--critical-default,#ff4747)}[data-dui-1-25-1~="dui-badge-status-warning"]{background:#faad14}[data-dui-1-25-1~="dui-badge-status-text"]{color:rgba(0,0,0,.65);font-size:14px;margin-left:8px}');var i=r.__importDefault(n(503114));t.Badge=i.default,t.default=i.default},473479:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787),i=n(51272).h,o=r.__importStar(n(463313)),a=n(591829),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.themedRender=function(e){var n,o=t.props,a=o.prefixCls,s=o.className,u=o.style,c=o.type,l=o.size,d=o.disabled,f=o.disabledEffect,p=o.icon,h=o.testId,g=r.__rest(o,["prefixCls","className","style","type","size","disabled","disabledEffect","icon","testId"]),m=e(a,s,((n={})[a+"-type-"+c]=c,n[a+"-size-"+l]=l,n[a+"-with-icon"]=p,n[a+"-type-"+c+"-disabled"]=d,n[a+"-disabled-"+f]=d,n)),v=e(a+"-container"),y=e(a+"-icon");return i("button",r.__assign({},g,{className:m,style:u,disabled:d,"data-testid":h}),i("div",{className:v},p?"string"==typeof p?i("span",{className:y,style:{backgroundImage:'url("'+p+'")'}}):p:null,t.props.children))},t}return r.__extends(t,e),t.prototype.render=function(){return a.consumeTheme(this.themedRender)},t}(o.Component);t.default=s,s.defaultProps={prefixCls:"dui-button",type:"default",size:"default",disabledEffect:"default"}},320991:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;var r=n(209787).__importDefault(n(473479));t.Button=r.default,n(896439).injectStyle("components/Button/style/index.css",'[data-dui-1-25-1~="dui-button"]{outline:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;white-space:nowrap;border-radius:4px;border:1px solid transparent;font-size:14px;padding:0 29px;-webkit-tap-highlight-color:transparent}[data-dui-1-25-1~="dui-button-container"]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}[data-dui-1-25-1~="dui-button-type-default"]{background:var(--tsp-fill-medium,rgba(51,77,102,.08));color:var(--text-ultrastrong,rgba(0,0,0,.88))}[data-dui-1-25-1~="dui-button-type-default"]:hover{background:var(--tsp-fill-strong,rgba(61,82,102,.12))}[data-dui-1-25-1~="dui-button-type-default"]:active{background:var(--tsp-fill-ultrastrong,rgba(61,82,102,.16))}[data-dui-1-25-1~="dui-button-type-primary"]{background:var(--accent-default,#1e6fff);color:var(--text-white,#fff)}[data-dui-1-25-1~="dui-button-type-primary"]:hover{background:var(--accent-hover,#175ceb)}[data-dui-1-25-1~="dui-button-type-primary"]:active{background:var(--accent-pressed,#134ae0)}[data-dui-1-25-1~="dui-button-type-warning"]{background:var(--critical-default,#ff4747);color:#fff}[data-dui-1-25-1~="dui-button-type-warning"]:hover{background:var(--critical-hover,#eb3639)}[data-dui-1-25-1~="dui-button-type-warning"]:active{background:var(--critical-pressed,#e02424)}[data-dui-1-25-1~="dui-button-type-plain"]{background:var(--bg-lv3-default,#fff);color:var(--text-link,#175ceb)}[data-dui-1-25-1~="dui-button-type-plain"]:hover{background:var(--feedback-hover,rgba(51,77,102,.06))}[data-dui-1-25-1~="dui-button-type-plain"]:active{background:var(--feedback-active,rgba(51,77,102,.08))}[data-dui-1-25-1~="dui-button-type-golden"]{background:-webkit-gradient(linear,right top,left top,from(#fdc668),to(#fcdb9f));background:-webkit-linear-gradient(right,#fdc668,#fcdb9f);background:linear-gradient(270deg,#fdc668,#fcdb9f);border:none;color:rgba(0,0,0,.88)}[data-dui-1-25-1~="dui-button-type-golden"] [data-dui-1-25-1~="dui-button-container"]{margin:0 1px}[data-dui-1-25-1~="dui-button-type-golden"]:hover{background:-webkit-gradient(linear,left bottom,left top,from(rgba(0,0,0,.04)),to(rgba(0,0,0,.04))),-webkit-gradient(linear,right top,left top,from(#fdc668),to(#fcdb9f));background:-webkit-linear-gradient(bottom,rgba(0,0,0,.04),rgba(0,0,0,.04)),-webkit-linear-gradient(right,#fdc668,#fcdb9f);background:linear-gradient(0deg,rgba(0,0,0,.04),rgba(0,0,0,.04)),linear-gradient(270deg,#fdc668,#fcdb9f)}[data-dui-1-25-1~="dui-button-type-golden"]:active{background:-webkit-gradient(linear,left bottom,left top,from(rgba(0,0,0,.08)),to(rgba(0,0,0,.08))),-webkit-gradient(linear,right top,left top,from(#fdc668),to(#fcdb9f));background:-webkit-linear-gradient(bottom,rgba(0,0,0,.08),rgba(0,0,0,.08)),-webkit-linear-gradient(right,#fdc668,#fcdb9f);background:linear-gradient(0deg,rgba(0,0,0,.08),rgba(0,0,0,.08)),linear-gradient(270deg,#fdc668,#fcdb9f)}[data-dui-1-25-1~="dui-button-type-golden-dark"]{background:-webkit-linear-gradient(336.31deg,#454952 15.25%,#272a33 84.75%);background:linear-gradient(113.69deg,#454952 15.25%,#272a33 84.75%);border:none;color:#fae0a5}[data-dui-1-25-1~="dui-button-type-golden-dark"] [data-dui-1-25-1~="dui-button-container"]{margin:0 1px}[data-dui-1-25-1~="dui-button-type-golden-dark"]:hover{background:-webkit-linear-gradient(bottom,rgba(0,0,0,.16),rgba(0,0,0,.16)),-webkit-linear-gradient(336.31deg,#454952 15.25%,#272a33 84.75%);background:linear-gradient(0deg,rgba(0,0,0,.16),rgba(0,0,0,.16)),linear-gradient(113.69deg,#454952 15.25%,#272a33 84.75%)}[data-dui-1-25-1~="dui-button-type-golden-dark"]:active{background:-webkit-linear-gradient(bottom,rgba(0,0,0,.32),rgba(0,0,0,.32)),-webkit-linear-gradient(336.31deg,#454952 15.25%,#272a33 84.75%);background:linear-gradient(0deg,rgba(0,0,0,.32),rgba(0,0,0,.32)),linear-gradient(113.69deg,#454952 15.25%,#272a33 84.75%)}[data-dui-1-25-1~="dui-button-type-golden-outline"]{border-color:#db8f1c;color:#db8f1c;background:var(--bg-lv3-default,#fff)}[data-dui-1-25-1~="dui-button-type-golden-outline"]:hover{background:rgba(219,143,28,.1)}[data-dui-1-25-1~="dui-button-type-golden-outline"]:active{background:rgba(219,143,28,.2)}[data-dui-1-25-1~="dui-button"]:disabled{pointer-events:none;cursor:auto}[data-dui-1-25-1~="dui-button-disabled-default"]:disabled{color:var(--text-weak,rgba(0,0,0,.24));background:var(--tsp-fill-weak,rgba(51,77,102,.06));border-color:transparent}[data-dui-1-25-1~="dui-button-disabled-faded"]:disabled{opacity:.4}[data-dui-1-25-1~="dui-button-size-large"]{height:36px;min-width:156px;font-size:16px}[data-dui-1-25-1~="dui-button-size-default"]{height:36px}[data-dui-1-25-1~="dui-button-size-small"]{height:28px;padding:0 17px;font-size:12px}[data-dui-1-25-1~="dui-button-size-small"] [data-dui-1-25-1~="dui-button-container"]{line-height:26px}[data-dui-1-25-1~="dui-button-with-icon"]{padding:0 9px}[data-dui-1-25-1~="dui-button-icon"]{display:inline-block;width:18px;height:18px;background-size:contain;background-repeat:no-repeat;background-position:50%;margin-right:4px}'),t.default=r.default},314920:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderChildren=void 0;var r=n(209787),i=n(51272).h,o=r.__importStar(n(463313));t.renderChildren=function(e,t,n,a,s){var u=e.children,c=e.options||[],l=e.disabled,d=r.__assign({paddingBottom:18},s);return c.length?c.map(function(e,o){return"string"==typeof e?i(a,{key:o,value:e,onChange:n,checked:-1!==t.indexOf(e),disabled:l,style:r.__assign({},d)},e):i(a,r.__assign({},e,{key:o,value:e.value,onChange:n,checked:-1!==t.indexOf(e.value),disabled:e.disabled||l,style:r.__assign(r.__assign({},d),e.style)}),e.label)}):o.Children.map(u,function(e){return o.cloneElement(e,{checked:-1!==t.indexOf(e.props.value),onChange:n,disabled:e.props.disabled||l,style:r.__assign(r.__assign({},d),e.props.style)})})}},393430:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787),i=n(51272).h,o=r.__importStar(n(463313)),a=r.__importDefault(n(774012)),s=n(812503),u=r.__importDefault(n(9827)),c=n(49808),l=n(591829),d=n(752291),f=n(938205),p=n(501943),h=n(353767),g=r.__importDefault(n(156084)),m=r.__importDefault(n(384341)),v=n(779177),y={left:"0",top:"0"},b=120,_=240,C=["auto-outer","left-outer","right-outer"],I=m.default.isIOS||m.default.isIPadEmulatedMac||m.default.isIPad,E=100,w=80,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootDomRef=o.createRef(),t.dropContentRef=o.createRef(),t.forceRenderDom=!1,t.cancelPositionChangeChecker=null,t.resizeObserver=null,t.isInAnimation=!1,t.dropContentObserver=new MutationObserver(function(e){e.some(function(e){var t=e.addedNodes,n=e.removedNodes;return t.length||n.length})&&t.refreshDropContentMetric()}),t.state={visible:!1,dropContentMetrics:r.__assign({},y),actualPlacement:"bottom",actualAlignment:t.isOuterAlignment?"left-outer":"left"},t.refreshDropContentMetric=g.default(function(){t.removePreviousClampedSize(t.updateDropContentMetric)},20),t.updateDropContentMetric=function(){var e=t.rootDomRef.current,n=t.dropContentRef.current;if(e&&n){var i=e.getBoundingClientRect(),o=n.getBoundingClientRect(),a=t.calcHorizontalMetric(i,o),s=a.actualAlignment,u=a.metric,c=t.calcVerticalMetric(i,o),l=c.actualPlacement,d=c.metric,f=r.__assign(r.__assign({},u),d);t.setState({dropContentMetrics:f,actualPlacement:l,actualAlignment:s})}},t.hide=function(e){!(e&&t.consumeKeep(e))&&t.isVisible()&&(t.isControlled||t.restorePreviousFocus(),t.setStateVisible(!1))},t.show=function(e){t.forceRenderDom=!0,t.removePreviousClampedSize(function(){requestAnimationFrame(function(){t.forceRenderDom=!1,t.updateDropContentMetric(),e||t.setStateVisible(!0)})})},t.toggle=function(){if(!t.props.disabled){var e=!t.isVisible();e?t.show():t.hide()}},t.handleMouseEnter=function(){!t.props.disabled&&(clearTimeout(t.hideTimeout),clearTimeout(t.showTimeout),t.isVisible()||(t.showTimeout=setTimeout(t.show,E)))},t.handleMouseLeave=function(){t.props.disabled||t.isInAnimation||(clearTimeout(t.showTimeout),t.hideTimeout=setTimeout(function(){return!t.isInAnimation&&t.hide()},E))},t.handleKeydown=function(e){"Escape"===e.key?t.hide():"Tab"===e.key&&t.traverseFocus(e)},t.themedRender=function(e){var n,o,s,l=t.props,d=l.prefixCls,h=l.className,g=l.style,m=l.children,v=l.dropContent,y=l.disabled,_=l.dropContentStyle,C=l.dropContentClassName,I=l.zIndex,E=l.animated,w=l.trigger,S=l.destroyOnClose,D=l.containerDom,M=l.testId,T=l.dropContentTestId,A=l.containerFollowVisible,x=l.containerClassName,N=l.containerStyle,O=l.shouldHide,k=t.state,R=k.dropContentMetrics,L=k.actualPlacement,j=k.actualAlignment,P=t.isVisible(),B=t.context.zIndex,F=I||B,U=e(d,h,d+"-"+(P?"visible":"hidden"),((n={})[d+"-disabled"]=y,n)),G=e(d+"-content",C,d+"-content-"+L,d+"-content-"+j,d+"-content-"+(P?"visible":"hidden"),d+"-content-"+(t.isOuterAlignment?"outer":"inner"),((o={})[d+"-content-no-animation"]=!E,o)),W=e(d+"-container",x,((s={})[d+"-container-"+(P?"visible":"hidden")]=A,s)),Z=!t.forceRenderDom&&S&&!f.decideKeepDom.call(t,b,P);return i(u.default,{action:t.hide,disabled:!P,className:U,style:g,domRef:t.rootDomRef,testId:M,shouldTriggerAction:O},i("div",{onMouseEnter:"hover"===w?t.handleMouseEnter:void 0,onMouseLeave:"hover"===w?t.handleMouseLeave:void 0},i("div",{className:W,style:N,onClick:"click"===w?t.toggle:void 0},m),i(c.DropdownContext.Provider,{value:c.getDropdownContext({visible:P,zIndex:F+1})},i(p.DocumentDomContext.Consumer,null,function(e){return Z?null:a.default.createPortal(i("div",{className:G,style:r.__assign(r.__assign({zIndex:F},R),_),onClick:t.hide,ref:t.dropContentRef,onKeyDown:t.handleKeydown,tabIndex:-1,"data-testid":T},v),D||(null==e?void 0:e.body)||document.body)}))))},t}return r.__extends(t,e),t.getDerivedStateFromProps=function(e,t){return e.disabled?{visible:!1}:null},Object.defineProperty(t.prototype,"isOuterAlignment",{get:function(){return C.includes(this.props.alignment)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isControlled",{get:function(){return"boolean"==typeof this.props.visible},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.forceUpdate(),"function"==typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver(this.refreshDropContentMetric))},t.prototype.componentDidUpdate=function(e,t,n){var r=this,i=this.props.visible,o=this.isVisible(),a=this.prevVisible;this.prevVisible=o,!a&&o&&(i&&d.triggerMicroTask(function(){return r.show(!0)}),this.focusSelf(),this.handleEnteringAnimation(),this.addListeners()),a&&!o&&(this.isControlled&&this.restorePreviousFocus(),this.clearListeners())},t.prototype.addListeners=function(){var e,t,n;null==(e=this.resizeObserver)||e.observe(this.rootDomRef.current),null==(t=this.resizeObserver)||t.observe(this.dropContentRef.current),null==(n=this.cancelPositionChangeChecker)||n.call(this),this.props.disableScrollHide||(this.cancelPositionChangeChecker=v.checkPositionChange(this.rootDomRef.current,this.hide)),this.dropContentObserver.observe(this.dropContentRef.current,{subtree:!0,childList:!0})},t.prototype.clearListeners=function(){var e,t;null==(e=this.resizeObserver)||e.disconnect(),null==(t=this.cancelPositionChangeChecker)||t.call(this),this.dropContentObserver.disconnect()},t.prototype.componentWillUnmount=function(){this.clearListeners()},t.prototype.getSnapshotBeforeUpdate=function(){return this.dropContentRef.current},t.prototype.handleEnteringAnimation=function(){this.fixAnimationFlickeringOnIOS(),this.blockPointerEventsDuringAnimation()},t.prototype.blockPointerEventsDuringAnimation=function(){var e=this;this.isInAnimation=!0;var t=this.dropContentRef.current.style,n=t.pointerEvents;t.pointerEvents="none",setTimeout(function(){t.pointerEvents=n,e.isInAnimation=!1},_)},t.prototype.fixAnimationFlickeringOnIOS=function(){if(I){var e=this.dropContentRef.current.style;setTimeout(function(){var t=e.opacity,n=e.transform,r=e.transition;e.opacity="0.99",e.transform="translate(0)",e.transition="none",setTimeout(function(){e.opacity=t,e.transform=n,e.transition=r},0)},_)}},t.prototype.isVisible=function(){var e=this.props,t=e.visible;if(e.disabled)return!1;var n=this.state.visible;return"boolean"==typeof t?t:n},t.prototype.traverseFocus=function(e){var t=this.dropContentRef.current;t&&h.traverseFocusIn(t,e)},t.prototype.isFocusInside=function(){var e;return null==(e=this.dropContentRef.current)?void 0:e.contains(document.activeElement)},t.prototype.focusSelf=function(){var e=this;this.props.autoFocus&&this.isVisible()&&!this.isFocusInside()&&(h.saveFocus(),setTimeout(function(){var t;e.isFocusInside()||null==(t=e.dropContentRef.current)||t.focus()},_))},t.prototype.restorePreviousFocus=function(){var e=this.props,t=e.autoFocus,n=e.onRestoreFocus;t&&(null==n?void 0:n())!==!1&&h.restoreFocus()},t.prototype.removePreviousClampedSize=function(e){this.setState({dropContentMetrics:r.__assign(r.__assign({},this.state.dropContentMetrics),{height:void 0,width:void 0})},e)},t.prototype.calcHorizontalMetric=function(e,t){var n=this.props,r=n.alignment,i=n.matchWidth,o=n.viewportMargin,a=n.viewportBox,u=e.width,c=e.left,l=e.right,d=t.width,f=a||{},p=f.left,h=void 0===p?0:p,g=f.width,m=void 0===g?window.innerWidth:g,v=o,y=h+m-v,b=h+v,_=r;if("auto"===r){var C=y-c,I=l-b;_=d>C?C>=I?"left":"right":"left"}else"auto-outer"===r&&(_=c-d<b?"right-outer":"left-outer");var E={actualAlignment:_,metric:{}},w=function(){E.metric.left=s.castInto(E.metric.left,[b,y-(E.metric.width||d)])};if(i&&!this.isOuterAlignment)return E.metric.left=c,E.metric.width=u,w(),E;var S=m-2*v;return"left"===_?d>S?(E.metric.left=b,E.metric.width=S):c+d>y?E.metric.left=y-d:E.metric.left=c:"right"===_?d>S?(E.metric.left=b,E.metric.width=S):l-d<b?E.metric.left=b:E.metric.left=l-d:"center"===_?E.metric.left=c+(u-d)/2:"left-outer"===_?E.metric.left=c-d:"right-outer"===_&&(E.metric.left=l),w(),E},t.prototype.calcVerticalMetric=function(e,t){var n,r=this.props,i=r.placement,o=r.viewportMargin,a=r.viewportBox,s=e.bottom,u=e.top,c=e.height,l=t.height,d=o,f="bottom",p=this.isOuterAlignment,h=a||{},g=h.top,m=void 0===g?0:g,v=h.height,y=m+(void 0===v?window.innerHeight:v),b=0,_=m+d,C=y-d,I=function(){var e=p?s:u;return b=Math.max(_,e-l),f="top",n=e-b},E=function(){return n=Math.min(l,C-(b=p?u:s)),f="bottom",n},S=function(){return n=Math.min(l,C-_,c),b=u+(c-n)/2,f="bottom",n};return"top"===i||u<=_&&s>=C?I():"bottom"===i?E():"auto"===i&&(E()===l||I()===l||(E()>=I()?E():I())<w&&S()),{metric:{top:b+"px",height:n&&n+"px"},actualPlacement:f}},t.prototype.setStateVisible=function(e){this.setState({visible:e}),this.props.onVisibleChange(e)},t.prototype.consumeKeep=function(e){var t=e.nativeEvent,n=!!t._dui_dropdown_keep;return delete t._dui_dropdown_keep,n},t.prototype.render=function(){return l.consumeTheme(this.themedRender)},t.contextType=c.DropdownContext,t}(o.Component);t.default=S,S.defaultProps={prefixCls:"dui-dropdown",alignment:"auto",matchWidth:!1,disabled:!1,onVisibleChange:s.emptyFn,placement:"auto",animated:!0,trigger:"click",destroyOnClose:!0,autoFocus:!0,viewportMargin:2,shouldHide:s.trueFn}},399622:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787),i=n(51272).h,o=r.__importStar(n(463313)),a=n(591829),s=n(9827);function u(e){var t=e;t._dui_bypass_dropdown_keep||(t._dui_dropdown_keep=!0)}var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMouseUp=function(e){setTimeout(function(){t.context(!1)},0)},t.handleClick=function(e){var n=t.props,r=n.onClick,i=n.disabled;null==r||r(e);var o=e.nativeEvent;!0===i||"function"==typeof i&&i(e)||o._dui_bypass_dropdown_keep||(o._dui_dropdown_keep=!0)},t.handleMouseDown=function(e){t.context(!0)},t.themedRender=function(e){var n=t.props,o=n.prefixCls,a=n.className,s=n.style,u=n.children,c=(n.disabled,n.domRef),l=r.__rest(n,["prefixCls","className","style","children","disabled","domRef"]),d=e(o,a);return i("div",r.__assign({},l,{className:d,style:s,ref:c,onClick:t.handleClick,onMouseDown:t.handleMouseDown}),u)},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){document.addEventListener("mouseup",this.handleMouseUp)},t.prototype.componentWillUnmount=function(){document.removeEventListener("mouseup",this.handleMouseUp)},t.prototype.render=function(){return a.consumeTheme(this.themedRender)},t.contextType=s.TriggerContext,t.useKeep=u,t}(o.Component);t.default=c,c.defaultProps={prefixCls:"dui-dropdown-keep",disabled:!1}},49808:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDropdownContext=t.DropdownContext=void 0;var r=n(209787).__importStar(n(463313)),i=n(812503);t.DropdownContext=r.createContext({visible:!0,zIndex:9999}),t.getDropdownContext=i.createContextValueGetter()},298120:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dropdown=void 0;var r=n(209787),i=r.__importDefault(n(393430));t.Dropdown=i.default,n(896439).injectStyle("components/Dropdown/style/index.css",'[data-dui-1-25-1~="dui-dropdown-disabled"]{opacity:.6}@-webkit-keyframes dui-dropdown-slide-in-bottom{0%{opacity:0;-webkit-transform:scaleX(1) translateY(-20px);transform:scaleX(1) translateY(-20px)}to{opacity:1;-webkit-transform:scaleX(1) translate(0);transform:scaleX(1) translate(0)}}@keyframes dui-dropdown-slide-in-bottom{0%{opacity:0;-webkit-transform:scaleX(1) translateY(-20px);transform:scaleX(1) translateY(-20px)}to{opacity:1;-webkit-transform:scaleX(1) translate(0);transform:scaleX(1) translate(0)}}@-webkit-keyframes dui-dropdown-slide-in-top{0%{opacity:0;-webkit-transform:scaleX(1) translateY(20px);transform:scaleX(1) translateY(20px)}to{opacity:1;-webkit-transform:scaleX(1) translate(0);transform:scaleX(1) translate(0)}}@keyframes dui-dropdown-slide-in-top{0%{opacity:0;-webkit-transform:scaleX(1) translateY(20px);transform:scaleX(1) translateY(20px)}to{opacity:1;-webkit-transform:scaleX(1) translate(0);transform:scaleX(1) translate(0)}}[data-dui-1-25-1~="dui-dropdown"]{-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:inline-block;-webkit-tap-highlight-color:transparent}[data-dui-1-25-1~="dui-dropdown-container"]{border-radius:2px}[data-dui-1-25-1~="dui-dropdown-container-visible"]{background:var(--tsp-fill-medium,rgba(51,77,102,.08))}[data-dui-1-25-1~="dui-dropdown-content"]{-webkit-box-sizing:border-box;box-sizing:border-box;position:fixed;z-index:9999;-webkit-transition-property:opacity,visibility,-webkit-transform;transition-property:opacity,visibility,-webkit-transform;transition-property:opacity,transform,visibility;transition-property:opacity,transform,visibility,-webkit-transform;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-tap-highlight-color:transparent;-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-animation-duration:.24s;animation-duration:.24s}[data-dui-1-25-1~="dui-dropdown-content-bottom"]{-webkit-animation-name:dui-dropdown-slide-in-bottom;animation-name:dui-dropdown-slide-in-bottom}[data-dui-1-25-1~="dui-dropdown-content-top"]{-webkit-animation-name:dui-dropdown-slide-in-top;animation-name:dui-dropdown-slide-in-top}[data-dui-1-25-1~="dui-dropdown-content-left-outer"]{padding-right:5px}[data-dui-1-25-1~="dui-dropdown-content-right-outer"]{padding-left:5px}[data-dui-1-25-1~="dui-dropdown-content-inner"][data-dui-1-25-1~="dui-dropdown-content-bottom"]{padding-top:5px}[data-dui-1-25-1~="dui-dropdown-content-inner"][data-dui-1-25-1~="dui-dropdown-content-top"]{padding-bottom:5px}[data-dui-1-25-1~="dui-dropdown-content-visible"]{-webkit-transition-duration:.24s;transition-duration:.24s;visibility:visible;opacity:1;-webkit-transform:scaleX(1) translate(0);transform:scaleX(1) translate(0)}[data-dui-1-25-1~="dui-dropdown-content-hidden"]{-webkit-transition-duration:.12s;transition-duration:.12s;visibility:hidden;pointer-events:none}[data-dui-1-25-1~="dui-dropdown-content-hidden"][data-dui-1-25-1~="dui-dropdown-content-bottom"]{opacity:0;-webkit-transform:scaleX(1) translateY(-20px);transform:scaleX(1) translateY(-20px)}[data-dui-1-25-1~="dui-dropdown-content-hidden"][data-dui-1-25-1~="dui-dropdown-content-top"]{opacity:0;-webkit-transform:scaleX(1) translateY(20px);transform:scaleX(1) translateY(20px)}[data-dui-1-25-1~="dui-dropdown-content-no-animation"]{-webkit-transition-duration:0s;transition-duration:0s;-webkit-animation-duration:0s;animation-duration:0s}');var o=r.__importDefault(n(399622));i.default.Keep=o.default,t.default=i.default},83891:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormItemContext=void 0,t.FormItemContext=n(209787).__importStar(n(463313)).createContext({status:"default"})},185717:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787),i=n(51272).h,o=r.__importStar(n(463313)),a=n(812503),s=n(591829),u=n(83891),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.leftIconRef=o.createRef(),t.rightIconsRef=o.createRef(),t.state={value:t.props.defaultValue},t.handleChange=function(e){if(!t.props.disabled){var n=e.target.value;t.props.onChange(n,e),t.setState({value:n})}},t.preventLoseFocus=function(e){e.preventDefault()},t.handleClear=function(e){var n,r;null==(r=(n=t.props).onClickClear)||r.call(n,e),t.setState({value:""},function(){t.props.onChange("")})},t.handleIconKeyDown=function(e){return function(n){!t.props.disabled&&e&&[" ","Enter"].includes(n.key)&&(n.preventDefault(),e())}},t.themedRender=function(e){var n,o,a=t.props,s=a.prefixCls,u=a.className,c=a.style,l=a.disabled,d=a.underline,f=(a.icon,a.leftIcon),p=(a.onClickIcon,a.onClickLeftIcon),h=(a.onChange,a.inputStyle),g=(a.showClear,a.value),m=(a.defaultValue,a.inputRef),v=a.inputClassName,y=a.testId,b=a.errorTip,_=(a.iconClassName,a.iconStyle,r.__rest(a,["prefixCls","className","style","disabled","underline","icon","leftIcon","onClickIcon","onClickLeftIcon","onChange","inputStyle","showClear","value","defaultValue","inputRef","inputClassName","testId","errorTip","iconClassName","iconStyle"])),C=t.state.value,I=t.status,E="string"==typeof g?g:C,w=e(s,u,((n={})[s+"-disabled"]=l,n)),S=e(s+"-input",v,s+"-input-"+I,((o={})[s+"-input-underline"]=d,o)),D=e(s+"-error-text"),M=!!(E&&!l);return i("div",{className:w,style:c,"data-testid":y},t.renderSingleIcon({prop:f,description:"left",handler:p,ref:t.leftIconRef},e),i("input",r.__assign({className:S,style:r.__assign(r.__assign({},t.getIconPaddings()),h),onChange:t.handleChange,value:E,disabled:l,ref:m},_)),t.renderRightIcons(M,e),b&&i("div",{className:D},b))},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.forceUpdate()},Object.defineProperty(t.prototype,"status",{get:function(){return this.props.errorTip?"error":this.context.status},enumerable:!1,configurable:!0}),t.prototype.getIconPaddings=function(){var e=this.leftIconRef.current,t=this.rightIconsRef.current,n={},r=2;return e&&(n.paddingLeft=e.getBoundingClientRect().width+r+"px"),t&&(n.paddingRight=t.getBoundingClientRect().width+r+"px"),n},t.prototype.renderSingleIcon=function(e,t){var n,r=e.prop,o=e.description,a=e.handler,s=e.ref,u=e.style,c=e.className,l=this.props,d=l.prefixCls,f=l.underline,p=t(d+"-icon",c,((n={})[d+"-icon-"+o]=o,n[d+"-icon-clickable"]=a,n[d+"-icon-underline"]=f,n));return r?i("div",{className:p,onMouseDown:this.preventLoseFocus,onClick:a,ref:s,tabIndex:a?0:-1,onKeyDown:a?this.handleIconKeyDown(a):void 0,role:"button",style:u},"string"==typeof r?i("span",{className:t(d+"-icon-img"),style:{backgroundImage:'url("'+r+'")'}}):r):null},t.prototype.renderRightIcons=function(e,t){var n,r,o=this.props,a=o.prefixCls,s=o.showClear,u=o.icon,c=o.iconClassName,l=o.iconStyle,d=o.onClickIcon,f=o.underline,p=t(a+"-clear",((n={})[a+"-clear-visible"]=e,n[a+"-icon"]=!f,n[a+"-clear-underline"]=f,n)),h=t(a+"-icon-container",((r={})[a+"-icon-container-underline"]=f,r));return s||u?i("div",{className:h,ref:this.rightIconsRef},s?i("button",{className:p,onMouseDown:this.preventLoseFocus,onClick:this.handleClear}):null,this.renderSingleIcon({prop:u,handler:d,className:c,style:l},t)):null},t.prototype.render=function(){return s.consumeTheme(this.themedRender)},t.contextType=u.FormItemContext,t}(o.Component);t.default=c,c.defaultProps={prefixCls:"dui-input",onChange:a.emptyFn,showClear:!1,defaultValue:""}},374155:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787),i=n(51272).h,o=r.__importDefault(n(463313)),a=n(812503),s=n(591829),u=r.__importDefault(n(320991)),c=r.__importDefault(n(185717)),l=n(542686),d=n(230066),f=function(e){function t(t,n){var a,s=e.call(this,t,n)||this;s.inputRef=o.default.createRef(),s.refDom=function(e){s.inputRef.current=e;var t=s.props.inputRef;t&&("function"==typeof t?t(e):t.current=e)},s.handleIncrease=function(e){s.updateValue(s.calcSetpRounding(d.transStrToDecimalNum(s.props,s.state.inputValue)+s.state.step).toString(),!0,function(t){var n,r,i,o;null==(r=(n=s.props).onStep)||r.call(n,t,l.StepType.UP,e),null==(o=(i=s.props).onChange)||o.call(i,t)})},s.handleDecrease=function(e){s.updateValue(s.calcSetpRounding(d.transStrToDecimalNum(s.props,s.state.inputValue)-s.state.step).toString(),!0,function(t){var n,r,i,o;null==(r=(n=s.props).onStep)||r.call(n,t,l.StepType.DOWN,e),null==(o=(i=s.props).onChange)||o.call(i,t)})},s.handleInputChange=function(e,t){s.setState({inputValue:e,ignorePropChange:!0})},s.handleInputBlur=function(e){if(!s.isMiddleState(e.target.value))return void s.updateValue(s.state.inputValue,!1,function(){var t,n;null==(n=(t=s.props).onBlur)||n.call(t,e)});s.updateValue(s.state.prevValue,!1,function(){var t,n;null==(n=(t=s.props).onBlur)||n.call(t,e)})},s.handleKeyDown=function(e){"Enter"===e.key&&s.updateValue(s.state.inputValue,!1,function(e){var t,n;null==(n=(t=s.props).onEnter)||n.call(t,e)})},s.handleInputFocus=function(e){var t,n,r=e.target.value.length;setTimeout(function(e){return function(){e.setSelectionRange(r,r)}}(e.target),0),null==(n=(t=s.props).onFocus)||n.call(t,e)},s.updateValue=function(e,t,n){if(void 0===t&&(t=!1),!s.props.disabled){if(s.isMiddleState(e))return void s.setState({inputValue:e,ignorePropChange:!1});var r=d.transDecimalNum(d.calcValue(s.props,e),s.props.decimalPlaces);s.setState({inputValue:r,prevValue:r,ignorePropChange:!1},function(){var e,i;t||null==(i=(e=s.props).onChange)||i.call(e,d.transStrToDecimalNum(s.props,r)),null==n||n(d.transStrToDecimalNum(s.props,r))})}},s.themedRender=function(e){var t,n=s.props,o=n.prefixCls,a=(n.onEnter,n.onStep,n.onCorrection,n.decimalPlaces,n.defaultValue,n.unit),l=n.inputStyle,d=n.buttonStyle,f=n.buttonWrapStyle,p=n.buttonClassName,h=n.buttonWrapClassName,g=n.unitClassName,m=n.unitStyle,v=r.__rest(n,["prefixCls","onEnter","onStep","onCorrection","decimalPlaces","defaultValue","unit","inputStyle","buttonStyle","buttonWrapStyle","buttonClassName","buttonWrapClassName","unitClassName","unitStyle"]);return i("div",{className:""+o},i("div",{className:o+"-input-wrap"},i(c.default,r.__assign({},v,{type:"text",inputRef:s.refDom,value:""+s.state.inputValue,onChange:s.handleInputChange,onKeyDown:s.handleKeyDown,onBlur:s.handleInputBlur,onFocus:s.handleInputFocus,inputStyle:r.__assign({border:"none",textAlign:"right",paddingRight:"2px"},l)})),a&&i("div",{style:r.__assign({},m),className:e(o+"-input-unit",g,((t={})[o+"-input-unit-disabled"]=s.props.disabled,t))},a)),i("div",{style:r.__assign({},f),className:e(o+"-button-wrap",h)},i(u.default,{type:"plain",onClick:s.handleIncrease,disabled:s.props.disabled,className:e(o+"-button",p),style:r.__assign({},d)},i("div",{className:e(o+"-button-arrow "+o+"-button-arrow-up")})),i(u.default,{type:"plain",onClick:s.handleDecrease,disabled:s.props.disabled,className:e(o+"-button",p),style:r.__assign({},d)},i("div",{className:e(o+"-button-arrow "+o+"-button-arrow-down")}))))};var f=s.props.defaultValue?d.transDecimalNum(s.props.defaultValue,s.props.decimalPlaces):d.transDecimalNum(null!=(a=s.props.value)?a:d.DEFAULT_VALUE);return s.state={ignorePropChange:!1,step:s.props.step||d.DEFAULT_STEP,inputValue:f,prevValue:f},s}return r.__extends(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.value;return t.ignorePropChange?null:"number"==typeof n?{inputValue:d.transDecimalNum(d.calcValue(e,d.transDecimalNum(n)),e.decimalPlaces)}:null},t.calcValue=function(e,t){var n,r,i=d.transStrToDecimalNum(e,t),o=i;return i<(e.min||d.DEFAULT_MIN_MARGIN)&&(o=Math.max(e.min||d.DEFAULT_MIN_MARGIN,i),null==(n=e.onCorrection)||n.call(e,o,i,l.NumberCorrectionType.ExceedMin)),void 0===e.max||o>e.max&&(o=Math.min(e.max,o),null==(r=e.onCorrection)||r.call(e,o,i,l.NumberCorrectionType.ExceedMax)),o},t.prototype.isMiddleState=function(e){var t;return e===d.NEGATIVE||!e||(null==(t=e.endsWith)?void 0:t.call(e,d.DECIMAL))||isNaN(Number(e))},t.prototype.calcSetpRounding=function(e){if(this.props.stepRounding&&this.props.step&&this.props.decimalPlaces&&this.props.decimalPlaces>0){var t=Math.pow(10,this.props.decimalPlaces),n=1/this.props.step;return Math.round((Math.round(e*n)/n+Number.EPSILON)*t)/t}return e},t.prototype.render=function(){return s.consumeTheme(this.themedRender)},t}(o.default.Component);t.default=f,f.defaultProps={prefixCls:"dui-input-number",onChange:a.emptyFn,onEnter:a.emptyFn,onStep:a.emptyFn,onError:a.emptyFn,onBlur:a.emptyFn,defaultValue:d.DEFAULT_VALUE}},124089:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787),i=n(51272).h,o=r.__importDefault(n(463313)),a=r.__importDefault(n(185717)),s=n(591829),u="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZmlsbC1ydWxlPSJldmVub2RkIiBvcGFjaXR5PSIuNjM3Ij48cGF0aCBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS4yNSIgZD0iTTE1Ljk0NiA5LjIyOEE3LjcyIDcuNzIgMCAwIDAgMi4zNTEgOS4xM2E3LjcxNyA3LjcxNyAwIDAgMCAxMy41OTUuMDk4eiIvPjxwYXRoIHN0cm9rZT0iI2ZmZiIgZD0iTTkuMTUgMTIuMjAyYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnoiLz48L3N2Zz4=",c="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHBhdGggZD0iTTEuODU2IDEwLjc5NGwyLjIxMy0zLjMzTTYuNDE3IDEzbC45MTItMy43NDNtOC44NjcgMS41ODVsLTIuMDYtMy40MjdtLTIuNTcyIDUuNTkzbC0uOTM0LTMuNzZNMS44NTYgNmMyLjAzIDIuMzkzIDQuMzc0IDMuNjQ0IDcuMDMgMy43NTRzNS4wOS0xLjE0MiA3LjMxLTMuNzU0IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS4yNSIgb3BhY2l0eT0iLjY0MiIvPjwvc3ZnPg==",l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputRef=o.default.createRef(),t.state={passwordVisible:!1},t.refDom=function(e){t.inputRef.current=e;var n=t.props.inputRef;n&&("function"==typeof n?n(e):n.current=e)},t.togglePasswordVisibility=function(){var e=t.inputRef.current,n=e.selectionStart,r=e.selectionEnd;t.setState(function(e){return{passwordVisible:!e.passwordVisible}},function(){setTimeout(function(){e.setSelectionRange(n,r)},0)})},t.themedRender=function(e){var n=t.props,o=n.showToggle,s=n.prefixCls,l=r.__rest(n,["showToggle","prefixCls"]),d=t.state.passwordVisible,f=d?u:c;return i(a.default,r.__assign({icon:o?f:void 0,iconClassName:s+"-toggle",inputStyle:{letterSpacing:d?"2px":"4px"},onClickIcon:t.togglePasswordVisibility,type:d?"text":"password",inputRef:t.refDom},l))},t}return r.__extends(t,e),t.prototype.render=function(){return s.consumeTheme(this.themedRender)},t}(o.default.Component);t.default=l,l.defaultProps={prefixCls:"dui-input-password",showToggle:!0}},906406:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0;var r=n(209787),i=r.__importDefault(n(185717));t.Input=i.default;var o=r.__importDefault(n(374155)),a=r.__importDefault(n(124089));n(896439).injectStyle("components/Input/style/index.css",'[data-dui-1-25-1~="dui-input"]{-webkit-tap-highlight-color:transparent;position:relative}[data-dui-1-25-1~="dui-input-disabled"]{pointer-events:none}[data-dui-1-25-1~="dui-input-input"]{display:block;outline:none;font-size:14px;height:36px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:7px 11px;border:1px solid var(--border-medium,rgba(0,0,0,.08));border-radius:4px;-webkit-appearance:none;-moz-appearance:none;appearance:none;margin:0;color:var(--text-ultrastrong,rgba(0,0,0,.88));background:transparent}[data-dui-1-25-1~="dui-input-input"]:not([data-dui-1-25-1~="dui-input-input-underline"]):disabled{color:var(--text-weak,rgba(0,0,0,.24));border-color:var(--border-weak,rgba(0,0,0,.04))}[data-dui-1-25-1~="dui-input-input"]::-webkit-input-placeholder{color:var(--text-weak,rgba(0,0,0,.24));letter-spacing:normal}[data-dui-1-25-1~="dui-input-input"]::-moz-placeholder{color:var(--text-weak,rgba(0,0,0,.24));letter-spacing:normal}[data-dui-1-25-1~="dui-input-input"]:-ms-input-placeholder{color:var(--text-weak,rgba(0,0,0,.24));letter-spacing:normal}[data-dui-1-25-1~="dui-input-input"]::-ms-input-placeholder{color:var(--text-weak,rgba(0,0,0,.24));letter-spacing:normal}[data-dui-1-25-1~="dui-input-input"]::placeholder{color:var(--text-weak,rgba(0,0,0,.24));letter-spacing:normal}[data-dui-1-25-1~="dui-input-input"]:hover{border-color:var(--border-strong,rgba(0,0,0,.12))}[data-dui-1-25-1~="dui-input-input"]:focus{border-color:var(--accent-default,#1e6fff)}[data-dui-1-25-1~="dui-input-input-underline"]{padding:6px 0;border-color:transparent;border-bottom-color:var(--border-medium,rgba(0,0,0,.08));border-radius:0}[data-dui-1-25-1~="dui-input-input-underline"]:hover{border-color:transparent;border-bottom-color:var(--border-strong,rgba(0,0,0,.12))}[data-dui-1-25-1~="dui-input-input-underline"]:focus{border-color:transparent;border-bottom-color:var(--accent-default,#1e6fff)}[data-dui-1-25-1~="dui-input-input-underline"]:disabled{color:var(--text-weak,rgba(0,0,0,.24));border-bottom-color:var(--border-weak,rgba(0,0,0,.04))}[data-dui-1-25-1~="dui-input-input-error"],[data-dui-1-25-1~="dui-input-input-error"]:focus,[data-dui-1-25-1~="dui-input-input-error"]:hover{border-color:var(--critical-default,#ff4747)}[data-dui-1-25-1~="dui-input-input-error"][data-dui-1-25-1~="dui-input-input-underline"]{border-color:transparent;border-bottom-color:var(--critical-default,#ff4747)}[data-dui-1-25-1~="dui-input-clear"],[data-dui-1-25-1~="dui-input-icon"]{border:none;margin:0;padding:0;background:transparent;-webkit-tap-highlight-color:transparent}[data-dui-1-25-1~="dui-input-clear"]{display:inline-block;width:16px;height:16px;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'16\' height=\'16\'%3E%3Ccircle cx=\'8\' cy=\'8\' r=\'8\' fill=\'%233d5266\' fill-opacity=\'.16\'/%3E%3Cpath fill-rule=\'evenodd\' d=\'M10.833 10.832a.584.584 0 00.004-.814L8.822 8.002l2.015-2.02a.584.584 0 00-.004-.814.58.58 0 00-.814-.004L7.999 7.18l-2.02-2.02c-.209-.209-.592-.218-.814.004s-.218.605-.004.818l2.02 2.02-2.02 2.02a.59.59 0 00.004.814.593.593 0 00.814.004l2.02-2.02 2.02 2.015a.58.58 0 00.814-.004z\' fill=\'%23fff\'/%3E%3C/svg%3E");background-position:50%;background-repeat:no-repeat;visibility:hidden;cursor:pointer;-webkit-filter:var(--dui-invert-filter,none);filter:var(--dui-invert-filter,none)}[data-dui-1-25-1~="dui-input-clear-visible"]{visibility:visible}[data-dui-1-25-1~="dui-input-clear"]:hover{opacity:.5}[data-dui-1-25-1~="dui-input"]:not(:focus-within) [data-dui-1-25-1~="dui-input-clear"]{visibility:hidden}[data-dui-1-25-1~="dui-input-icon-container"],[data-dui-1-25-1~="dui-input-icon-left"]{position:absolute;height:100%;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}[data-dui-1-25-1~="dui-input-icon"],[data-dui-1-25-1~="dui-input-icon-container"]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}[data-dui-1-25-1~="dui-input-password-toggle"]{-webkit-filter:var(--dui-invert-filter,none);filter:var(--dui-invert-filter,none)}[data-dui-1-25-1~="dui-input-icon"]{width:39px;height:100%;border-radius:3px}[data-dui-1-25-1~="dui-input-icon-container"]{right:0}[data-dui-1-25-1~="dui-input-icon-container-underline"]>:not(:last-child){margin-right:7px}[data-dui-1-25-1~="dui-input-icon-underline"]{width:auto;height:auto}[data-dui-1-25-1~="dui-input-icon-clickable"]{cursor:pointer}[data-dui-1-25-1~="dui-input-icon-clickable"]:not([data-dui-1-25-1~="dui-input-icon-underline"]):not([data-dui-1-25-1~="dui-input-clear-underline"]):hover{background-color:var(--feedback-hover,rgba(51,77,102,.06))}[data-dui-1-25-1~="dui-input-icon-clickable"]:not([data-dui-1-25-1~="dui-input-icon-underline"]):not([data-dui-1-25-1~="dui-input-clear-underline"]):active{background-color:var(--feedback-active,rgba(51,77,102,.08))}[data-dui-1-25-1~="dui-input-icon-img"]{display:inline-block;width:16px;height:16px;background-size:cover;background-position:50%;background-repeat:no-repeat}[data-dui-1-25-1~="dui-input-icon-left"]{left:0}[data-dui-1-25-1~="dui-input-icon-right"]{height:100%;right:0}[data-dui-1-25-1~="dui-input-error-text"]{color:var(--text-error,#eb3639);font-size:12px;line-height:16px;position:absolute;top:100%;left:0;margin-top:4px}[data-dui-1-25-1~="dui-input-number"]{position:relative}[data-dui-1-25-1~="dui-input-number"] [data-dui-1-25-1~="dui-input"]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}[data-dui-1-25-1~="dui-input-number-input-wrap"]{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;padding-right:24px;border:1px solid var(--border-medium,rgba(0,0,0,.08));border-radius:4px;font-size:14px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;color:var(--text-ultrastrong,rgba(0,0,0,.88))}[data-dui-1-25-1~="dui-input-number-input-unit"],[data-dui-1-25-1~="dui-input-number-input-wrap"]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}[data-dui-1-25-1~="dui-input-number-input-unit"]{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}[data-dui-1-25-1~="dui-input-number-input-unit-disabled"]{color:var(--text-weak,rgba(0,0,0,.24))}[data-dui-1-25-1~="dui-input-number"] [data-dui-1-25-1~="dui-input-number-button"]{width:0;height:18px;padding:0 10px;border-top-left-radius:0;border-bottom-left-radius:0}[data-dui-1-25-1~="dui-input-number"] [data-dui-1-25-1~="dui-input-number-button"]:nth-child(odd){border-bottom-right-radius:0}[data-dui-1-25-1~="dui-input-number"] [data-dui-1-25-1~="dui-input-number-button"]:nth-child(2n){border-top-right-radius:0}[data-dui-1-25-1~="dui-input-number"] [data-dui-1-25-1~="dui-input-number-button-wrap"]{position:absolute;top:1px;right:1px;height:calc(100% - 2px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}[data-dui-1-25-1~="dui-input-number"] [data-dui-1-25-1~="dui-input-number-button-wrap"]:after,[data-dui-1-25-1~="dui-input-number"] [data-dui-1-25-1~="dui-input-number-button-wrap"]:before{content:"";position:absolute}[data-dui-1-25-1~="dui-input-number"] [data-dui-1-25-1~="dui-input-number-button-wrap"]:before{top:50%;width:22px;height:1px;border-top:1px solid var(--border-medium,rgba(0,0,0,.08))}[data-dui-1-25-1~="dui-input-number"] [data-dui-1-25-1~="dui-input-number-button-wrap"]:after{height:100%;width:1px;border-left:1px solid var(--border-medium,rgba(0,0,0,.08))}[data-dui-1-25-1~="dui-input-number-button-arrow"]{width:0;height:12px;padding:0 10px;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'16\' height=\'16\'%3E%3Cpath opacity=\'.4\' d=\'M5 6h6l-2.988 4z\'/%3E%3C/svg%3E");-webkit-filter:var(--dui-invert-filter,none);filter:var(--dui-invert-filter,none);background-position:50%}[data-dui-1-25-1~="dui-input-number-button-arrow-up"]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}'),i.default.Password=a.default,i.default.Number=o.default,t.default=i.default},542686:function(e,t){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.NumberCorrectionType=t.StepType=void 0,function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"}(n=t.StepType||(t.StepType={})),function(e){e[e.ExceedMax=0]="ExceedMax",e[e.ExceedMin=1]="ExceedMin",e[e.Other=2]="Other"}(r=t.NumberCorrectionType||(t.NumberCorrectionType={}))},230066:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DECIMAL=t.NEGATIVE=t.DEFAULT_VALUE=t.DEFAULT_MIN_MARGIN=t.DEFAULT_STEP=t.calcValue=t.transStrToDecimalNum=t.transDecimalNum=void 0;var r=n(542686);function i(e,t){return void 0===t?""+e:0===t?Math.floor(e).toFixed(t):e.toFixed(t)}function o(e,n){var o,a=Number(n);return isNaN(a)?(null==(o=e.onCorrection)||o.call(e,t.DEFAULT_VALUE,a,r.NumberCorrectionType.Other),t.DEFAULT_VALUE):Number(i(a,e.decimalPlaces))}function a(e,n){var i,a,s=o(e,n),u=s;return s<(e.min||t.DEFAULT_MIN_MARGIN)&&(u=Math.max(e.min||t.DEFAULT_MIN_MARGIN,s),null==(i=e.onCorrection)||i.call(e,u,s,r.NumberCorrectionType.ExceedMin)),void 0===e.max||u>e.max&&(u=Math.min(e.max,u),null==(a=e.onCorrection)||a.call(e,u,s,r.NumberCorrectionType.ExceedMax)),u}t.transDecimalNum=i,t.transStrToDecimalNum=o,t.calcValue=a,t.DEFAULT_STEP=.1,t.DEFAULT_MIN_MARGIN=0,t.DEFAULT_VALUE=0,t.NEGATIVE="-",t.DECIMAL="."},752726:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787),i=n(51272).h,o=r.__importStar(n(463313));n(896439).injectStyle("components/Loading/style/spin.css",'[data-dui-1-25-1~="dui-spin"]{position:relative;width:100%;height:100%}[data-dui-1-25-1~="dui-spin-container"]{position:absolute;left:50%;top:50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;width:48px;height:48px}[data-dui-1-25-1~="dui-spin-circle"]{border-radius:50%;width:100%;height:100%;-webkit-animation:dui-spin-rotate .8s linear infinite;animation:dui-spin-rotate .8s linear infinite;-webkit-box-sizing:border-box;box-sizing:border-box}[data-dui-1-25-1~="dui-spin-circle-light"]{border:4px solid hsla(0,0%,100%,.4);border-top-color:#fff}[data-dui-1-25-1~="dui-spin-circle-dark"]{border:4px solid rgba(0,0,0,.12);border-top-color:rgba(0,0,0,.32)}[data-dui-1-25-1~="dui-spin-circle-primary"]{border:4px solid rgba(30,111,255,.24);border-top:4px solid var(--accent-default,#1e6fff)}@-webkit-keyframes dui-spin-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes dui-spin-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}');var a=n(591829),s=48,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootRef=o.createRef(),t.themedRender=function(e){var n=t.props,r=n.prefixCls,o=n.className,a=n.style,s=n.type,u=n.circleClassName,c=n.circleStyle,l=e(r,o),d=e(r+"-circle",r+"-circle-"+s,u);return i("div",{className:l,style:a,ref:t.rootRef},i("div",{className:e(r+"-container"),style:t.calcContainerTransform()},i("div",{className:d,style:c})))},t}return r.__extends(t,e),t.prototype.calcContainerTransform=function(){var e=this.rootRef.current;if(e){var t=e.clientWidth,n=e.clientHeight,r=Math.min(t,n),i=r/s;return{transform:"translate(-50%,-50%) scale("+i+")"}}},t.prototype.componentDidMount=function(){this.forceUpdate()},t.prototype.render=function(){return a.consumeTheme(this.themedRender)},t}(o.PureComponent);t.default=u,u.defaultProps={prefixCls:"dui-spin",type:"dark"}},891851:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787),i=n(51272).h,o=r.__importStar(n(463313)),a=r.__importDefault(n(774012)),s=r.__importStar(n(240507)),u=r.__importDefault(n(9827)),c=n(812503),l=n(591829),d=n(879865),f=r.__importDefault(n(156084)),p={horizontal:"right",vertical:"bottom",height:0},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.popupRef=o.createRef(),t.anchorRef=o.createRef(),t.state={visible:!1,menu:null,location:{left:0,top:0},metrics:r.__assign({},p)},t.handleScroll=f.default(function(e){var n;null!=(n=t.popupRef.current)&&n.contains(e.target)||t.hide()},30),t.handleContextMenu=function(e){e.preventDefault();var n=t.props,i=n.menu,o=n.disabled,a=n.onVisibleChange;o||t.setState({menu:"function"==typeof i?i(e):i,visible:!1,location:{left:e.pageX,top:e.pageY},metrics:r.__assign(r.__assign({},t.state.metrics),{height:0})},function(){t.updatePopoutMetrics(),t.setState({visible:!0},function(){a(!0)})})},t.hide=function(){t.isVisible()&&t.setState({visible:!1},function(){t.props.onVisibleChange(!1)})},t.themedRender=function(e){var n,o=t.props,s=o.prefixCls,c=o.className,l=o.style,f=o.children,p=o.disabled,h=o.popupStyle,g=o.zIndex,m=o.popupClassName,v=t.isVisible(),y=e(s,c,((n={})[s+"-disabled"]=p,n)),b=t.state,_=b.location,C=_.left,I=_.top,E=b.menu,w=b.metrics,S=w.height,D=w.vertical,M=e(s+"-popup",m,s+"-popup-"+w.horizontal+"-"+D,s+"-popup-"+(v?"visible":"hidden"));return i(u.default,{action:t.hide},i("div",{className:y,style:l,onContextMenu:t.handleContextMenu,ref:t.anchorRef},f),a.default.createPortal(i(u.default,{className:M,style:r.__assign({left:C+"px",top:I+"px",height:S?S+"px":void 0,zIndex:g},h),action:t.hide,domRef:t.popupRef,disableContextMenu:!0},i(d.ContextMenuContext.Provider,{value:d.getContextMenuContext({visible:v,onClick:t.hide})},E)),document.body))},t}return r.__extends(t,e),t.getDerivedStateFromProps=function(e,t){return e.disabled?{visible:!1}:null},t.prototype.componentDidMount=function(){document.addEventListener("scroll",this.handleScroll,{passive:!0,capture:!0}),document.addEventListener("wheel",this.handleScroll)},t.prototype.componentWillUnmount=function(){document.removeEventListener("scroll",this.handleScroll,{capture:!0}),document.removeEventListener("wheel",this.handleScroll)},t.prototype.isVisible=function(){var e=this.props,t=e.visible;if(e.disabled)return!1;var n=this.state.visible;return"boolean"==typeof t?t:n},t.prototype.updatePopoutMetrics=function(){var e=this.props,t=e.popupBoundary,n=e.popupMargin,r=this.anchorRef.current,i=this.popupRef.current;if(i&&r){var o=this.state.location,a=o.left,s=o.top,u=a-window.pageXOffset,c=s-window.pageYOffset,l=0,d=window.innerWidth,f=0,p=window.innerHeight,h=r.getBoundingClientRect(),g=h.left,m=h.right,v=h.top,y=h.bottom;"container"===t&&(l=Math.max(l,g),d=Math.min(d,m),f=Math.max(f,v),p=Math.min(p,y)),l+=n,d-=n,f+=n,p-=n;var b=i.getBoundingClientRect(),_=b.width,C=b.height,I=u+_<=d||u<=(d+l)/2?"right":"left",E=p-c,w=c-f,S="bottom",D=0;C>E?C>w?E>=w?(S="bottom",D=E):(S="top",D=w):S="top":S="bottom";var M={horizontal:I,vertical:S,height:D};this.setState({metrics:M})}},t.prototype.render=function(){return l.consumeTheme(this.themedRender)},t}(o.Component);t.default=h,h.defaultProps={prefixCls:"dui-menu-contextmenu",disabled:!1,popupBoundary:"viewport",popupMargin:0,onVisibleChange:c.emptyFn},h.propTypes={prefixCls:s.string,style:s.object,className:s.string,menu:s.any,disabled:s.bool,popupStyle:s.object,popupClassName:s.string,visible:s.bool,popupBoundary:s.oneOf(["container","viewport"]),popupMargin:s.number,onVisibleChange:s.func,zIndex:s.number}},711147:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787),i=n(51272).h,o=r.__importDefault(n(463313)),a=n(591829),s=r.__importDefault(n(906406)),u=r.__importDefault(n(399622)),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.themedRender=function(e){var n=t.props,o=n.className,a=n.inputClassName,c=n.prefixCls,l=n.containerClassName,d=n.containerStyle,f=n.prefix,p=n.postfix,h=r.__rest(n,["className","inputClassName","prefixCls","containerClassName","containerStyle","prefix","postfix"]),g=e(c,o),m=e(c+"-input",a),v=e(c+"-container",l),y=e(c+"-prefix"),b=e(c+"-postfix");return i(u.default,{className:v,style:d},f&&i("div",{className:y},f),i(s.default,r.__assign({className:g,inputClassName:m},h)),p&&i("div",{className:b},p))},t}return r.__extends(t,e),t.prototype.render=function(){return a.consumeTheme(this.themedRender)},t}(o.default.Component);t.default=c,c.defaultProps={prefixCls:"dui-menu-input"}},288876:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787),i=n(51272).h,o=r.__importStar(n(463313)),a=n(812503),s=n(879865),u=r.__importDefault(n(399622)),c=n(591829),l=r.__importDefault(n(298120)),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.domRef=o.createRef(),t.state={actionActive:!1},t.refDom=function(e){t.domRef.current=e;var n=t.props.domRef,r=t.context.selectedItemDoms;t.isSelected()?null==r||r.add(e):null==r||r.delete(e),n&&("function"==typeof n?n(e):n.current=e)},t.handleClick=function(e){var n,r=t.context.clickHandler,i=t.props,o=i.disabled,a=i.onClick;e.detail&&(null==(n=t.domRef.current)||n.blur()),o||e.nativeEvent._dui_menu_item_action||!1!==a(e)&&(e.isPropagationStopped()||r(t.props.id))},t.handleKeyDown=function(e){var n,r=t.props,i=r.disabled,o=r.onKeyDown;!i&&!1!==o(e)&&[" ","Enter"].includes(e.key)&&(e.preventDefault(),null==(n=t.domRef.current)||n.click())},t.handleActionClick=function(e){e.nativeEvent._dui_menu_item_action=!0},t.handleToggleAction=function(e){t.setState({actionActive:e})},t.handleMouseEnter=function(e){var n=t.props,r=n.disabled,i=n.onMouseEnter;r||i(e)},t.handleMouseLeave=function(e){var n=t.props,r=n.disabled,i=n.onMouseLeave;r||i(e)},t.themedRender=function(e){var n,o=t.props,a=o.prefixCls,s=o.className,c=o.style,l=o.disabled,d=o.description,f=o.htmlId,p=o.containerClassName,h=o.containerStyle,g=o.testId,m=o.action,v=(o.id,o.children,o.icon,o.onClick,o.onKeyDown,o.selected,o.domRef,o.actionTriggersDropdownHide,o.onMouseEnter,o.onMouseLeave,o.actionAutoFocus,r.__rest(o,["prefixCls","className","style","disabled","description","htmlId","containerClassName","containerStyle","testId","action","id","children","icon","onClick","onKeyDown","selected","domRef","actionTriggersDropdownHide","onMouseEnter","onMouseLeave","actionAutoFocus"])),y=t.state.actionActive,b=t.context,_=b.itemStyle,C=b.itemClassName,I=t.isSelected(),E=e(a,s,C,((n={})[a+"-disabled"]=l,n[a+"-selected"]=I,n[a+"-with-action"]=m,n[a+"-with-action-active"]=y,n)),w=e(a+"-container",p);return i(u.default,{disabled:!l,className:w,style:h},i("li",r.__assign({className:E,style:r.__assign(r.__assign({},_),c),onClick:t.handleClick,ref:t.refDom,onMouseEnter:t.handleMouseEnter,onMouseLeave:t.handleMouseLeave,role:"menuitem","aria-disabled":l,"aria-checked":I,tabIndex:l?-1:0,onKeyDown:t.handleKeyDown,id:f,"data-testid":g},v),t.renderChildren(e),d?i("span",{className:e(a+"-description")},d):null,t.renderAdditionalAction(e)))},t}return r.__extends(t,e),t.prototype.isSelected=function(){return"boolean"==typeof this.props.selected?this.props.selected:-1!==this.context.selectedIds.indexOf(this.props.id)},t.prototype.renderChildren=function(e){var t=this.props,n=t.prefixCls,o=t.children,a=t.icon,s=t.iconClassName,u=t.iconStyle,c=a?"string"==typeof a?i("div",{className:e(n+"-icon",s),style:r.__assign({backgroundImage:'url("'+a+'")'},u)}):a:null,l="string"==typeof o?i("div",{className:e(n+"-text-container")},o):o;return c?i("div",{className:e(n+"-icon-container")},c,l):l},t.prototype.renderAdditionalAction=function(e){var t,n,r=this.props,o=r.prefixCls,a=r.action,s=r.actionTriggersDropdownHide,u=r.actionAutoFocus,c=this.state.actionActive;if(!a)return null;var d=e(o+"-action-wrapper",((t={})[o+"-action-wrapper-active"]=c,t)),f=e(o+"-action",((n={})[o+"-action-active"]=c,n));return i(l.default.Keep,{className:d,onClick:this.handleActionClick,disabled:s},i(l.default,{dropContent:a,alignment:"right-outer",dropContentClassName:e(o+"-action-content"),visible:c,onVisibleChange:this.handleToggleAction,autoFocus:u},i(l.default.Keep,{className:f})))},t.prototype.componentWillUnmount=function(){var e=this.context.selectedItemDoms,t=this.domRef.current;null==e||e.delete(t)},t.prototype.render=function(){return c.consumeTheme(this.themedRender)},t.contextType=s.MenuItemContext,t}(o.Component);t.default=d,d.defaultProps={prefixCls:"dui-menu-item",id:"",onMouseEnter:a.emptyFn,onMouseLeave:a.emptyFn,onClick:a.emptyFn,disabled:!1,onKeyDown:a.emptyFn,actionTriggersDropdownHide:!0}},270391:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787),i=n(51272).h,o=r.__importStar(n(463313)),a=n(812503),s=n(49808),u=n(879865),c=n(591829),l=n(353767),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listRef=o.createRef(),t.clickedIds=[],t.selectedItemDoms=new Set,t.handleClick=function(e){if(0!==t.clickedIds.length){var n=t.clickedIds.shift();t.clickedIds=[],t.props.onClick(n,e),t.context.onClick()}},t.handleItemClick=function(e){t.clickedIds.push(e)},t.handleContextMenu=function(e){e.preventDefault()},t.handleKeyDown=function(e){if(t.isVisible()){var n=t.listRef.current;"ArrowDown"===e.key?l.traverseFocusIn(n,e,!1):"ArrowUp"===e.key&&l.traverseFocusIn(n,e,!0)}},t.themedRender=function(e){var n,o=t.props,a=o.prefixCls,c=o.className,l=o.style,d=o.children,f=o.itemStyle,p=o.selectedIds,h=o.type,g=o.itemClassName,m=o.selectable,v=o.subMenuViewportMargin,y=o.testId,b=(o.onClick,o.visible,o.keyDownEventDom,r.__rest(o,["prefixCls","className","style","children","itemStyle","selectedIds","type","itemClassName","selectable","subMenuViewportMargin","testId","onClick","visible","keyDownEventDom"])),_=t.isVisible(),C=e(a,a+"-"+h,c,((n={})[a+"-hidden"]=!_,n[a+"-non-selectable"]=!m,n));return i(s.DropdownContext.Consumer,null,function(e){var n=e.visible;return i(u.MenuItemContext.Provider,{value:u.getMenuItemContext({itemStyle:f,itemClassName:g,clickHandler:t.handleItemClick,selectedIds:p,selectedItemDoms:t.selectedItemDoms})},i(u.SubMenuContext.Provider,{value:u.getSubMenuContext({zIndex:1e4,visible:n&&_,type:h,horizontalPlacement:"right",viewportMargin:v})},i("ul",r.__assign({className:C,style:l,onClick:t.handleClick,onContextMenu:t.handleContextMenu,role:"menu","aria-haspopup":!0,ref:t.listRef,"data-testid":y},b),d)))})},t}return r.__extends(t,e),Object.defineProperty(t.prototype,"keyDownDom",{get:function(){return void 0===this.props.keyDownEventDom?document:this.props.keyDownEventDom},enumerable:!1,configurable:!0}),t.prototype.isVisible=function(){return this.context.visible&&this.props.visible},t.prototype.scrollToSelected=function(){var e;null==(e=Array.from(this.selectedItemDoms.values())[0])||e.scrollIntoView({block:"nearest"})},t.prototype.componentDidMount=function(){var e;this.forceUpdate(),null==(e=this.keyDownDom)||e.addEventListener("keydown",this.handleKeyDown)},t.prototype.componentWillUnmount=function(){var e;null==(e=this.keyDownDom)||e.removeEventListener("keydown",this.handleKeyDown)},t.prototype.render=function(){return c.consumeTheme(this.themedRender)},t.contextType=u.ContextMenuContext,t}(o.Component);t.default=d,d.defaultProps={prefixCls:"dui-menu",onClick:a.emptyFn,selectedIds:[],visible:!0,type:"normal",selectable:!0,subMenuViewportMargin:2}},942953:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787),i=n(51272).h,o=r.__importStar(n(463313)),a=r.__importDefault(n(774012)),s=r.__importDefault(n(288876)),u=n(879865),c=r.__importDefault(n(399622)),l=n(591829),d=n(812503),f=n(353767),p={verticalPlacement:"bottom",horizontalPlacement:"right",location:{left:"0px",top:"0px"},forcedHeight:0},h=-2,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemRef=o.createRef(),t.popupWrapperRef=o.createRef(),t.popupContentRef=o.createRef(),t.state={visible:!1,metrics:r.__assign({},p)},t.handleMouseEnter=function(){clearTimeout(t.hideTimeout),t.props.disabled||t.isVisible()||(clearTimeout(t.showTimeout),t.showTimeout=setTimeout(function(){t.setState({metrics:r.__assign(r.__assign({},t.state.metrics),{forcedHeight:0})},function(){t.updatePopoutMetrics(),t.setStateVisible(!0)})},t.props.hoverDelay))},t.handleMouseLeave=function(e){!t.props.disabled&&e.relatedTarget&&(clearTimeout(t.showTimeout),t.hideTimeout=setTimeout(function(){return t.setStateVisible(!1)},t.props.hoverDelay))},t.handleLeavePage=function(){t.props.disabled||"hidden"!==document.visibilityState||t.setStateVisible(!1)},t.handleSubmenuClick=function(e){var n=t.props.onClick;return n?(!1!==n(e)&&(e.nativeEvent._dui_bypass_dropdown_keep=!0),!0):(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),!1)},t.handleSubMenuItemKeyDown=function(e){return!t.props.disabled&&([" ","Enter","ArrowRight"].includes(e.key)&&(t.handleMouseEnter(),e.preventDefault(),setTimeout(function(){var e=t.popupContentRef.current;e&&f.traverseFocusIn(e,null,!1)},50)),!1)},t.handleContentKeyDown=function(e){if(!t.props.disabled){var n,r=t.popupContentRef.current;e.stopPropagation(),["ArrowDown","ArrowUp"].includes(e.key)&&(e.nativeEvent.stopImmediatePropagation(),f.traverseFocusIn(r,e,"ArrowUp"===e.key)),"ArrowLeft"===e.key&&(t.setStateVisible(!1),null==(n=t.itemDom)||n.focus())}},t.themedRender=function(e){var n,o,l=t.props,d=l.prefixCls,f=l.className,p=l.style,h=l.children,g=l.id,m=l.title,v=l.disabled,y=l.popupStyle,b=l.popupClassName,_=l.zIndex,C=l.icon,I=l.selectable,E=l.type,w=l.description,S=l.selected,D=l.testId,M=l.popupTestId,T=l.onClick,A=l.containerDom,x=l.iconStyle,N=l.iconClassName,O=t.context,k=O.zIndex,R=O.type,L=t.state.metrics,j=L.location,P=L.verticalPlacement,B=L.forcedHeight,F=L.horizontalPlacement,U=_||k,G=t.isVisible(),W=e(d,f,((n={})[d+"-disabled"]=v,n[d+"-with-desc"]=w,n[d+"-clickable"]=T,n[d+"-visible"]=G,n)),Z=e(d+"-wrapper",d+"-wrapper-"+(G?"visible":"hidden-"+P)),V=E||R,H=e(d+"-content",b,d+"-content-"+V,((o={})[d+"-content-non-selectable"]=!I,o));return i(u.SubMenuContext.Provider,{value:u.getSubMenuContext({zIndex:U+1,visible:G,type:V,horizontalPlacement:F,viewportMargin:t.context.viewportMargin})},i("div",{onMouseEnter:t.handleMouseEnter,onMouseLeave:t.handleMouseLeave},i(c.default,null,i(s.default,{id:g,className:W,style:p,ref:t.itemRef,disabled:v,onClick:t.handleSubmenuClick,onKeyDown:t.handleSubMenuItemKeyDown,icon:C,iconStyle:x,iconClassName:N,description:w,selected:S,"data-testid":D},m||g)),a.default.createPortal(i("div",{className:Z,ref:t.popupWrapperRef,style:r.__assign(r.__assign({},j),{zIndex:U})},i("ul",{className:H,style:r.__assign({height:B?B+"px":void 0},y),ref:t.popupContentRef,role:"menu","aria-haspopup":!0,"aria-expanded":G,onKeyDown:t.handleContentKeyDown,"data-testid":M},h)),A||document.body)))},t}return r.__extends(t,e),t.getDerivedStateFromProps=function(e,t){return e.disabled?{visible:!1}:null},Object.defineProperty(t.prototype,"itemDom",{get:function(){var e;return null==(e=this.itemRef.current)?void 0:e.domRef.current},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){document.addEventListener("visibilitychange",this.handleLeavePage)},t.prototype.componentWillUnmount=function(){document.removeEventListener("visibilitychange",this.handleLeavePage),clearTimeout(this.hideTimeout),clearTimeout(this.showTimeout)},t.prototype.updatePopoutMetrics=function(){var e=this.itemDom;if(e){var t=this.popupWrapperRef.current;if(t){var n=window.innerWidth,r=window.innerHeight,i=e.getBoundingClientRect(),o=i.right,a=i.left,s=i.top,u=i.bottom,c=t.getBoundingClientRect(),l=c.width,d=c.height,f=this.context,p=f.horizontalPlacement,g=f.viewportMargin,m=[];o+l<n&&m.push("right"),a-l>0&&m.push("left");var v=m.includes(p)?p:m[0]||"right",y=g,b=r-s-y,_=u-y,C="bottom",I=0;d>=b?d>=_?b>=_?(C="bottom",I=b):(C="top",I=_):C="top":C="bottom";var E=window.pageXOffset+("right"===v?o+h:a-l-h),w=window.pageYOffset+("bottom"===C?s:u-(I||d)),S={verticalPlacement:C,horizontalPlacement:v,location:{left:E+"px",top:w+"px"},forcedHeight:I};this.setState({metrics:S})}}},t.prototype.isVisible=function(){var e=this.state.visible,t=this.context.visible,n=this.props.disabled;return t&&e&&!n},t.prototype.setStateVisible=function(e){var t=this;this.setState({visible:e},function(){t.props.onVisibleChange(e)})},t.prototype.render=function(){return l.consumeTheme(this.themedRender)},t.contextType=u.SubMenuContext,t}(o.Component);t.default=g,g.defaultProps={prefixCls:"dui-menu-submenu",id:"",disabled:!1,onVisibleChange:d.emptyFn,selectable:!0,hoverDelay:100}},879865:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContextMenuContext=t.ContextMenuContext=t.getSubMenuContext=t.SubMenuContext=t.getMenuItemContext=t.MenuItemContext=void 0;var r=n(209787).__importStar(n(463313)),i=n(812503);t.MenuItemContext=r.createContext({itemStyle:void 0,clickHandler:i.emptyFn,selectedIds:[]}),t.getMenuItemContext=i.createContextValueGetter(),t.SubMenuContext=r.createContext({zIndex:1e4,visible:!0,type:"normal",horizontalPlacement:"right",viewportMargin:2}),t.getSubMenuContext=i.createContextValueGetter(),t.ContextMenuContext=r.createContext({visible:!0,onClick:i.emptyFn}),t.getContextMenuContext=i.createContextValueGetter()},965104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Menu=void 0;var r=n(209787),i=r.__importDefault(n(270391));t.Menu=i.default;var o=r.__importDefault(n(288876)),a=r.__importDefault(n(942953)),s=r.__importDefault(n(891851)),u=r.__importDefault(n(711147));n(896439).injectStyle("components/Menu/style/index.css",'[data-dui-1-25-1~="dui-menu"],[data-dui-1-25-1~="dui-menu-submenu-content"]{-webkit-box-shadow:0 2px 12px 2px var(--dui-shadow-color,rgba(68,73,77,.16));box-shadow:0 2px 12px 2px var(--dui-shadow-color,rgba(68,73,77,.16));list-style:none;padding:8px 0;margin:0;border:1px solid var(--border-strong,rgba(0,0,0,.12));border-radius:4px;-webkit-tap-highlight-color:transparent;overflow-y:auto;overflow-x:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;height:100%;background-color:var(--bg-lv4-default,#fff)}[data-dui-1-25-1~="dui-menu-hidden"]{visibility:hidden}[data-dui-1-25-1~="dui-menu-item"]{position:relative;-webkit-box-sizing:content-box;box-sizing:content-box;white-space:nowrap;-webkit-transition:background-color .1s linear;transition:background-color .1s linear;padding:9px 16px 9px 28px;font-size:12px;height:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;color:var(--text-ultrastrong,rgba(0,0,0,.88));cursor:default}[data-dui-1-25-1~="dui-menu-item-disabled"]{opacity:.3;pointer-events:none}[data-dui-1-25-1~="dui-menu-item-icon-container"]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[data-dui-1-25-1~="dui-menu-item-with-action-active"] [data-dui-1-25-1~="dui-menu-item-icon-container"],[data-dui-1-25-1~="dui-menu-item-with-action"]:hover [data-dui-1-25-1~="dui-menu-item-icon-container"]{max-width:calc(100% - 24px)}[data-dui-1-25-1~="dui-menu-item-text-container"]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[data-dui-1-25-1~="dui-menu-item-icon"]{width:20px;height:20px;background-repeat:no-repeat;background-size:contain;background-position:50%;margin-right:8px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}[data-dui-1-25-1~="dui-menu-item-description"]{font-size:12px;color:var(--text-medium,rgba(0,0,0,.4));margin-left:10px}[data-dui-1-25-1~="dui-menu-item-disabled"] [data-dui-1-25-1~="dui-menu-item-description"]{color:var(--text-ultrastrong,rgba(0,0,0,.88))}[data-dui-1-25-1~="dui-menu-item-selected"]:before{content:"";position:absolute;display:inline-block;width:16px;height:16px;left:8px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);background-repeat:no-repeat;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'16\' height=\'16\'%3E%3Cpath d=\'M12.5 3l1.5.944L5.671 13l-.885-.957L2 9l1.5-1 2.215 2.22z\' fill=\'%231e6fff\' fill-rule=\'evenodd\'/%3E%3C/svg%3E");background-size:contain;background-position:50%}:not([data-dui-1-25-1~="dui-menu-item-disabled"])[data-dui-1-25-1~="dui-menu-item"]:focus,:not([data-dui-1-25-1~="dui-menu-item-disabled"])[data-dui-1-25-1~="dui-menu-item"]:hover{background-color:var(--feedback-hover,rgba(51,77,102,.06))}:not([data-dui-1-25-1~="dui-menu-item-disabled"])[data-dui-1-25-1~="dui-menu-item"]:active{background-color:var(--feedback-active,rgba(51,77,102,.08))}[data-dui-1-25-1~="dui-menu-item-action"]{width:24px;height:24px;border-radius:2px;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'24\' height=\'24\'%3E%3Cpath d=\'M7 11v2H5v-2h2zm6 0v2h-2v-2h2zm6 0v2h-2v-2h2z\' fill=\'%23464d5a\'/%3E%3C/svg%3E");background-position:50%;background-repeat:no-repeat;background-size:contain}[data-dui-1-25-1~="dui-menu-item-action-active"],[data-dui-1-25-1~="dui-menu-item-action"]:hover{background-color:rgba(0,0,0,.08)}[data-dui-1-25-1~="dui-menu-item-action-content"]{margin-top:-4px;margin-left:10px}[data-dui-1-25-1~="dui-menu-item-action-wrapper"]{height:24px;visibility:hidden}[data-dui-1-25-1~="dui-menu-item-action-wrapper-active"],[data-dui-1-25-1~="dui-menu-item"]:hover [data-dui-1-25-1~="dui-menu-item-action-wrapper"]{visibility:visible}[data-dui-1-25-1~="dui-menu-submenu"]:after{content:"";background:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'4\' height=\'6\'%3E%3Cpath d=\'M3.936 3.123L.374 5.95a.261.261 0 01-.31 0A.158.158 0 010 5.826V.174C0 .078.098 0 .22 0a.25.25 0 01.154.05l3.562 2.827a.15.15 0 010 .246z\' opacity=\'.4\'/%3E%3C/svg%3E");display:inline-block;width:4px;min-width:4px;height:6px;background-position:50%;background-size:cover;margin-left:24px;-webkit-filter:var(--dui-invert-filter,none);filter:var(--dui-invert-filter,none)}[data-dui-1-25-1~="dui-menu-submenu-visible"]{background-color:var(--feedback-hover,rgba(51,77,102,.06))}[data-dui-1-25-1~="dui-menu-submenu-with-desc"]:after{position:absolute;right:16px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);margin-left:0}[data-dui-1-25-1~="dui-menu-submenu-with-desc"] [data-dui-1-25-1~="dui-menu-item-description"]{margin-right:16px}:not([data-dui-1-25-1~="dui-menu-submenu-clickable"])[data-dui-1-25-1~="dui-menu-submenu"]:active{background-color:var(--feedback-hover,rgba(51,77,102,.06))}[data-dui-1-25-1~="dui-menu-submenu-wrapper"]{padding:0;background:transparent;position:absolute;-webkit-transition-property:visibility,opacity,-webkit-transform;transition-property:visibility,opacity,-webkit-transform;transition-property:visibility,opacity,transform;transition-property:visibility,opacity,transform,-webkit-transform;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1)}[data-dui-1-25-1~="dui-menu-submenu-wrapper-visible"]{visibility:visible;-webkit-transition-duration:.16s;transition-duration:.16s;opacity:1;-webkit-transform:scaleX(1) translate(0);transform:scaleX(1) translate(0)}[data-dui-1-25-1~="dui-menu-submenu-wrapper-hidden-bottom"],[data-dui-1-25-1~="dui-menu-submenu-wrapper-hidden-top"]{visibility:hidden;-webkit-transition-duration:.12s;transition-duration:.12s}[data-dui-1-25-1~="dui-menu-submenu-wrapper-hidden-bottom"]{opacity:0;-webkit-transform:scaleX(1) translateY(-5px);transform:scaleX(1) translateY(-5px)}[data-dui-1-25-1~="dui-menu-submenu-wrapper-hidden-top"]{opacity:0;-webkit-transform:scaleX(1) translateY(5px);transform:scaleX(1) translateY(5px)}[data-dui-1-25-1~="dui-menu-contextmenu-popup"]{position:absolute;z-index:9999;overflow-y:auto;overflow-x:hidden;-webkit-box-shadow:0 2px 12px 2px var(--dui-shadow-color,rgba(68,73,77,.16));box-shadow:0 2px 12px 2px var(--dui-shadow-color,rgba(68,73,77,.16))}[data-dui-1-25-1~="dui-menu-contextmenu-popup-hidden"]{visibility:hidden}[data-dui-1-25-1~="dui-menu-contextmenu-popup-left-top"]{-webkit-transform:translate(-100%,-100%);transform:translate(-100%,-100%)}[data-dui-1-25-1~="dui-menu-contextmenu-popup-left-bottom"]{-webkit-transform:translateX(-100%);transform:translateX(-100%)}[data-dui-1-25-1~="dui-menu-contextmenu-popup-right-top"]{-webkit-transform:translateY(-100%);transform:translateY(-100%)}[data-dui-1-25-1~="dui-menu"] [data-dui-1-25-1~="dui-menu-input-container"]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;color:var(--text-ultrastrong,rgba(0,0,0,.88))}[data-dui-1-25-1~="dui-menu"] [data-dui-1-25-1~="dui-menu-input-postfix"]{margin-left:4px}[data-dui-1-25-1~="dui-menu"] [data-dui-1-25-1~="dui-menu-input-prefix"]{margin-right:4px}[data-dui-1-25-1~="dui-menu"] [data-dui-1-25-1~="dui-menu-input-input"]{width:32px;height:20px;font-size:12px;padding:2px;text-align:center;border-radius:2px;border-color:var(--border-medium,rgba(0,0,0,.08))}[data-dui-1-25-1~="dui-menu-compact"],[data-dui-1-25-1~="dui-menu-submenu-content-compact"]{padding:6px 0;border:1px solid var(--border-strong,rgba(0,0,0,.12));-webkit-box-shadow:0 2px 12px 2px var(--dui-shadow-color,rgba(68,73,77,.16));box-shadow:0 2px 12px 2px var(--dui-shadow-color,rgba(68,73,77,.16))}[data-dui-1-25-1~="dui-menu-compact"] [data-dui-1-25-1~="dui-menu-item"],[data-dui-1-25-1~="dui-menu-submenu-content-compact"] [data-dui-1-25-1~="dui-menu-item"]{font-size:12px;height:12px;padding:8px 12px 8px 28px}[data-dui-1-25-1~="dui-menu-non-selectable"] [data-dui-1-25-1~="dui-menu-item"],[data-dui-1-25-1~="dui-menu-submenu-content-non-selectable"] [data-dui-1-25-1~="dui-menu-item"]{padding-left:16px}[data-dui-1-25-1~="dui-menu-non-selectable"] [data-dui-1-25-1~="dui-menu-item-selected"]:before,[data-dui-1-25-1~="dui-menu-submenu-content-non-selectable"] [data-dui-1-25-1~="dui-menu-item-selected"]:before{display:none}[data-dui-1-25-1~="dui-menu-submenu-content-with-icon"] [data-dui-1-25-1~="dui-menu-item"],[data-dui-1-25-1~="dui-menu-with-icon"] [data-dui-1-25-1~="dui-menu-item"]{height:12px}[data-dui-1-25-1~="dui-menu"]>[data-dui-1-25-1~="dui-tooltip-wrapper"]{display:block}'),i.default.Item=o.default,i.default.SubMenu=a.default,i.default.ContextMenu=s.default,i.default.Input=u.default,t.default=i.default},355953:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787),i=n(51272).h,o=r.__importStar(n(463313)),a=n(812503),s=n(591829),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ref=null,t.minLeft=0,t.minTop=0,t.setRef=function(e){t.ref=e},t.onMouseDown=function(e){if(null==(r=(n=t.props).onMouseDown)||r.call(n,e),!(!t.props.draggable||!t.ref||t.isFromInnerInput(e))){t.mouse=!0;var n,r,i=t.ref.getBoundingClientRect(),o=i.left,a=i.top,s=i.width,u=i.height,c=e.clientX,l=e.clientY;t.startLeft=o,t.startTop=a,t.startX=c,t.startY=l,t.maxLeft=window.innerWidth-s,t.maxTop=window.innerHeight-u,t.ref.style.userSelect="none",t.ref.parentElement.style.pointerEvents="auto"}},t.onMouseMove=function(e){if(t.mouse&&t.ref){var n=e.clientX,r=e.clientY,i=t.startLeft+n-t.startX,o=t.startTop+r-t.startY;i=Math.min(Math.max(t.minLeft,i),t.maxLeft),o=Math.min(Math.max(t.minTop,o),t.maxTop),t.ref.style.position="absolute",t.ref.style.left=i+"px",t.ref.style.top=o+"px"}},t.onMouseUp=function(e){if(t.ref){t.mouse=!1,t.ref.style.userSelect="auto",t.ref.parentElement.style.pointerEvents="";var n=t.props,r=n.onDragEnd,i=n.draggable;!0===i&&r(e)}},t.themedRender=function(e){var n=t.props,o=n.children,a=n.className,s=n.prefixCls,u=n.style,c=(n.onDragEnd,n.draggable,r.__rest(n,["children","className","prefixCls","style","onDragEnd","draggable"])),l=e(s,a);return i("div",r.__assign({},c,{className:l,style:u,ref:t.setRef,onMouseDown:t.onMouseDown,tabIndex:-1}),o)},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){document.body.addEventListener("mousemove",this.onMouseMove),document.body.addEventListener("mouseup",this.onMouseUp)},t.prototype.componentWillUnmount=function(){document.body.removeEventListener("mousemove",this.onMouseMove),document.body.removeEventListener("mouseup",this.onMouseUp)},t.prototype.isFromInnerInput=function(e){var t,n=e.target;return!!(/input|textarea/i.test(n.tagName)&&(null==(t=this.ref)?void 0:t.contains(n)))},t.prototype.render=function(){return s.consumeTheme(this.themedRender)},t}(o.Component);t.default=u,u.defaultProps={prefixCls:"dui-dragger",onDragEnd:a.emptyFn,onClick:a.emptyFn,draggable:!1}},165474:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODAL_TRANSITION_OUT_DURATION=void 0;var r=n(209787),i=n(51272).h,o=r.__importStar(n(463313)),a=r.__importDefault(n(774012)),s=n(812503),u=r.__importDefault(n(320991)),c=r.__importDefault(n(355953)),l=n(938205),d=n(865701),f=n(591829),p=n(875883),h=n(186433),g=n(353767),m=n(302230);t.MODAL_TRANSITION_OUT_DURATION=240;var v=300,y=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.draggerRef=o.createRef(),n.footerRef=o.createRef(),n.isComposing=!1,n.mouseDownTarget=null,n.handleClose=function(e){var t=n.props,r=t.onClose,i=t.onCancel;if(t.visible){var o=r||i;o(e)}},n.handleMaskClick=function(e){var t,r=n.props,i=r.maskClosable,o=r.onClickMask;null!=(t=n.draggerDom)&&t.contains(n.mouseDownTarget)||(!0===i&&n.handleClose(e),o(e))},n.handleDraggerClick=function(e){e.stopPropagation()},n.handleDraggerMouseDown=function(e){n.mouseDownTarget=e.target},n.handleCompositionStart=function(){n.isComposing=!0},n.handleCompositionEnd=function(){n.isComposing=!1},n.handleKeyDown=function(e){var t,r=n.props,i=r.visible,o=r.footer,a=r.okDisabled,s=r.cancelText,u=r.closable;if(i&&!n.isComposing){if("Tab"===e.key)return void n.traverseFocus(e);!o&&null!==o&&(a||"Enter"!==e.key||(null==(t=n.footerRef.current)?void 0:t.contains(document.activeElement))?(s||u)&&"Escape"===e.key&&n.handleClose():n.handleClickOk())}},n.handleClickOk=function(e){var t=n.props,r=t.visible,i=t.onOk,o=t.okDisabled;r&&!o&&i(e)},n.handleClickCancel=function(e){var t=n.props,r=t.visible,i=t.onCancel;r&&i(e)},n.handleClickAction=function(e){var t=n.props,r=t.visible,i=t.onClickAction;r&&i(e)},n.clearMouseDownTarget=function(){setTimeout(function(){n.mouseDownTarget=null},0)},n.themedRender=function(e){var o,s,u=n.props,f=u.prefixCls,h=u.className,g=u.style,m=u.title,v=u.visible,y=u.maskStyle,b=u.maskClassName,_=u.mask,C=u.draggable,I=u.onDragEnd,E=u.destroyOnClose,w=u.zIndex,S=u.containerDom,D=u.header,M=u.testId,T=u.icon,A=e(f,h,f+"-"+(v?"visible":"hidden"),((o={})[f+"-with-icon"]=T,o)),x=e(f+"-mask",b,f+"-mask-"+(v?"visible":"hidden"),((s={})[f+"-mask-display"]=_,s[f+"-mask-in-container"]=S!==document.body,s));return S&&(!E||l.decideKeepDom.call(n,t.MODAL_TRANSITION_OUT_DURATION,v))?a.default.createPortal(i(d.ContainerContext.Provider,{value:n.draggerDom},i(p.PreventScrollPenetrateContainer,{className:x,style:r.__assign({zIndex:w},y),onClick:n.handleMaskClick,"aria-hidden":!v},i(c.default,{className:A,style:g,draggable:C,ref:n.draggerRef,"data-testid":M,onDragEnd:I,onClick:n.handleDraggerClick,onKeyDown:n.handleKeyDown,onMouseDown:n.handleDraggerMouseDown,onCompositionStart:n.handleCompositionStart,onCompositionEnd:n.handleCompositionEnd},n.renderClose(e),n.renderIcon(e),D?i("div",{className:e(f+"-header")},D):null,null!==m?i("div",{className:e(f+"-title")},m):null,n.renderContent(e),n.renderFooter(e)))),S):null},n}return r.__extends(n,e),Object.defineProperty(n.prototype,"draggerDom",{get:function(){var e;return null==(e=this.draggerRef.current)?void 0:e.ref},enumerable:!1,configurable:!0}),n.prototype.isFocusInside=function(){var e;return null==(e=this.draggerDom)?void 0:e.contains(document.activeElement)},n.prototype.focusSelf=function(){var e=this,t=this.props,n=t.visible,r=t.autoFocus;n&&r&&!this.isFocusInside()&&(g.saveFocus(),setTimeout(function(){var t;e.isFocusInside()||null==(t=e.draggerDom)||t.focus()},v))},n.prototype.restorePreviousFocus=function(){var e=this.props,t=e.visible,n=e.autoFocus;!t&&n&&g.restoreFocus()},n.prototype.traverseFocus=function(e){var t=this.draggerDom;t&&g.traverseFocusIn(t,e)},n.prototype.componentDidMount=function(){this.forceUpdate(),this.focusSelf();var e=this.props,t=e.visible,n=e.mask,r=e.containerDom;p.toggleGlobalScrollEvents(!!(t&&n)),null==r||r.addEventListener("click",this.clearMouseDownTarget)},n.prototype.componentDidUpdate=function(e){e.visible?this.restorePreviousFocus():this.focusSelf();var t=this.props,n=t.visible,r=t.mask;p.toggleGlobalScrollEvents(!!(n&&r))},n.prototype.componentWillUnmount=function(){var e;p.toggleGlobalScrollEvents(!1),null==(e=this.props.containerDom)||e.removeEventListener("click",this.clearMouseDownTarget)},n.prototype.renderAction=function(e){var t,n,r=this.props,a=r.prefixCls,s=r.action,c=r.actionButtonType;return s?(null!==s&&"object"==typeof s?o.isValidElement(s)?t=s:("text"in s&&(t=s.text),"icon"in s&&(n=s.icon)):t=s,i(h.WithStylusClick,{clickHandler:this.handleClickAction},c?i(u.default,{icon:n,type:c},t):i("button",{className:e(a+"-footer-action")},n?"string"==typeof n?i("div",{className:e(a+"-footer-action-icon"),style:{backgroundImage:'url("'+n+'")'}}):n:null,t?"string"==typeof t?i("div",{className:e(a+"-footer-action-text")},t):t:null))):null},n.prototype.renderFooter=function(e){var t=this.props,n=t.prefixCls,r=t.footer,a=t.okText,s=t.cancelText,c=t.okDisabled,l=t.okButtonType,d=t.footerLayout,f=t.footerDirection,p=t.footerClassName,g=t.footerStyle;if(null===r)return null;if(r)return r;var m=s?i(h.WithStylusClick,{clickHandler:this.handleClickCancel},i(u.default,null,s)):null,v=i(h.WithStylusClick,{clickHandler:this.handleClickOk},i(u.default,{className:e(n+"-footer-ok"),type:l,disabled:c},a)),y=this.renderAction(e),b=e(n+"-footer",n+"-footer-"+d,p),_="mac"===f?i(o.Fragment,null,y,m,v):i(o.Fragment,null,v,y,m);return i("div",{className:b,style:g,ref:this.footerRef},_)},n.prototype.renderContent=function(e){var t,n=this.props,r=n.prefixCls,o=n.title,a=n.content,s=n.children;return i("div",{className:e(r+"-content",((t={})[r+"-content-empty-title"]=""===o,t))},a||s)},n.prototype.renderClose=function(e){var t=this.props,n=t.prefixCls,r=t.closable,o=t.close;return r?i(h.WithStylusClick,{clickHandler:this.handleClose},o?i("div",{className:e(n+"-close-container")},o):i("div",{className:e(n+"-close")})):null},n.prototype.renderIcon=function(e){var t=this.props,n=t.prefixCls,r=t.icon;if(!r)return null;var a=e(n+"-icon");return o.isValidElement(r)?i("div",{className:a},r):"string"==typeof r?i("div",{className:a,style:{backgroundImage:'url("'+r+'")'}}):i("div",{className:e(n+"-icon",n+"-icon-default")})},n.prototype.render=function(){return f.consumeTheme(this.themedRender)},n}(o.Component);t.default=y,y.defaultProps={prefixCls:"dui-modal",title:"",content:"",footer:"",onCancel:s.emptyFn,onOk:s.emptyFn,cancelText:m.i18n("cancel"),okText:m.i18n("ok"),mask:!0,maskClosable:!1,closable:!0,onDragEnd:s.emptyFn,destroyOnClose:!1,onClickMask:s.emptyFn,action:"",onClickAction:s.emptyFn,containerDom:"undefined"!=typeof document?document.body:void 0,okDisabled:!1,okButtonType:"primary",footerLayout:"default",footerDirection:"mac",autoFocus:!0}},914199:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787).__importStar(n(165474)),i=n(233726);t.default=n(812503).wrapWithConfigDefaults(function(e){return e.onClose=e.onClose||e.onCancel,i.showWithTransition({Component:r.default,transitionDuration:r.MODAL_TRANSITION_OUT_DURATION,autoClose:!1,props:e,forcedProps:{destroyOnClose:!0},injectClosePropNames:["onOk","onCancel","onClickAction","onClose"],contexts:e.contexts})})},905252:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var r=n(209787),i=r.__importDefault(n(165474));t.Modal=i.default;var o=r.__importDefault(n(914199));n(896439).injectStyle("components/Modal/style/index.css",'@-webkit-keyframes dui-modal-fade-in{0%{opacity:0}to{opacity:1}}@keyframes dui-modal-fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes dui-modal-pop-up{0%{opacity:0;-webkit-transform:scale3d(.9,.9,1);transform:scale3d(.9,.9,1)}to{opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes dui-modal-pop-up{0%{opacity:0;-webkit-transform:scale3d(.9,.9,1);transform:scale3d(.9,.9,1)}to{opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1)}}[data-dui-1-25-1~="dui-modal"]{position:relative;width:400px;-webkit-box-sizing:border-box;box-sizing:border-box;padding:17px 24px 24px;border-radius:8px;pointer-events:auto;-webkit-animation:dui-modal-pop-up .3s cubic-bezier(.4,0,.2,1);animation:dui-modal-pop-up .3s cubic-bezier(.4,0,.2,1);-webkit-tap-highlight-color:transparent;-webkit-box-shadow:0 6px 32px 2px var(--dui-shadow-color,rgba(68,73,77,.16)),0 0 0 1px rgba(0,0,0,.04),0 4px 6px 2px rgba(0,0,0,.04);box-shadow:0 6px 32px 2px var(--dui-shadow-color,rgba(68,73,77,.16)),0 0 0 1px rgba(0,0,0,.04),0 4px 6px 2px rgba(0,0,0,.04);cursor:default;background-color:var(--bg-lv4-default,#fff)}[data-dui-1-25-1~="dui-modal-hidden"],[data-dui-1-25-1~="dui-modal-visible"]{-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-property:opacity,visibility,-webkit-transform;transition-property:opacity,visibility,-webkit-transform;transition-property:opacity,transform,visibility;transition-property:opacity,transform,visibility,-webkit-transform}[data-dui-1-25-1~="dui-modal-visible"]{opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1);-webkit-transition-duration:.3s;transition-duration:.3s}[data-dui-1-25-1~="dui-modal-hidden"]{opacity:0;-webkit-transform:scale3d(.9,.9,1);transform:scale3d(.9,.9,1);-webkit-transition-duration:.24s;transition-duration:.24s}[data-dui-1-25-1~="dui-modal-with-icon"]{padding-left:56px}[data-dui-1-25-1~="dui-modal-with-icon"] [data-dui-1-25-1~="dui-modal-footer"]{margin-left:-32px}[data-dui-1-25-1~="dui-modal-mask"]{position:fixed;z-index:9998;top:0;left:0;right:0;bottom:0;opacity:1;pointer-events:none;-webkit-animation:dui-modal-fade-in .3s cubic-bezier(.4,0,.2,1);animation:dui-modal-fade-in .3s cubic-bezier(.4,0,.2,1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}[data-dui-1-25-1~="dui-modal-mask-in-container"]{position:absolute}[data-dui-1-25-1~="dui-modal-mask-display"]{pointer-events:auto;background-color:var(--dui-mask-color,hsla(0,0%,100%,.65))}[data-dui-1-25-1~="dui-modal-mask-visible"]{opacity:1;visibility:visible;-webkit-transition:all .3s cubic-bezier(.4,0,.2,1);transition:all .3s cubic-bezier(.4,0,.2,1)}[data-dui-1-25-1~="dui-modal-mask-hidden"]{opacity:0;visibility:hidden;-webkit-transition:all .24s cubic-bezier(.4,0,.2,1);transition:all .24s cubic-bezier(.4,0,.2,1)}[data-dui-1-25-1~="dui-modal-close"]{border-radius:4px}[data-dui-1-25-1~="dui-modal-close"]:before{content:"";position:absolute;left:0;right:0;top:0;bottom:0;background-size:contain;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'24\' height=\'24\'%3E%3Cpath fill=\'%23464d5a\' d=\'M17 7.714L12.714 12 17 16.286l-.714.714L12 12.714 7.714 17 7 16.286 11.286 12 7 7.714 7.714 7 12 11.286 16.286 7z\'/%3E%3C/svg%3E");background-position:50%;background-repeat:no-repeat;border-radius:inherit;-webkit-filter:var(--dui-invert-filter,none);filter:var(--dui-invert-filter,none)}[data-dui-1-25-1~="dui-modal-close"]:hover{background-color:var(--feedback-hover,rgba(51,77,102,.06))}[data-dui-1-25-1~="dui-modal-close"]:active{background-color:var(--feedback-active,rgba(51,77,102,.08))}[data-dui-1-25-1~="dui-modal-close"],[data-dui-1-25-1~="dui-modal-close-container"]{position:absolute;z-index:1;width:24px;height:24px;top:16px;right:20px}[data-dui-1-25-1~="dui-modal-icon"]{width:20px;height:20px;position:absolute;left:24px;top:26px;background-position:50%;background-size:contain;background-repeat:no-repeat}[data-dui-1-25-1~="dui-modal-icon-default"]{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'20\' height=\'20\'%3E%3Ccircle cx=\'10\' cy=\'10\' r=\'8.5\' fill=\'%230080f8\'/%3E%3Cpath fill-rule=\'evenodd\' d=\'M10 5a1 1 0 100 2 1 1 0 100-2zm0 4a1 1 0 00-1 1v4a1 1 0 102 0v-4a1 1 0 00-1-1z\' fill=\'%23fff\'/%3E%3C/svg%3E")}[data-dui-1-25-1~="dui-modal-header"]{margin-bottom:16px}[data-dui-1-25-1~="dui-modal-title"]{font-weight:600;font-size:16px;margin-bottom:17px;line-height:22px;padding-right:24px}[data-dui-1-25-1~="dui-modal-content"],[data-dui-1-25-1~="dui-modal-title"]{color:var(--text-ultrastrong,rgba(0,0,0,.88))}[data-dui-1-25-1~="dui-modal-content"]{font-size:14px;height:-webkit-max-content;height:-moz-max-content;height:max-content;min-height:88px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;word-break:break-word}[data-dui-1-25-1~="dui-modal-content-empty-title"]{margin-top:28px;min-height:60px}[data-dui-1-25-1~="dui-modal-footer"]{margin-top:24px;position:relative}[data-dui-1-25-1~="dui-modal-footer"],[data-dui-1-25-1~="dui-modal-footer-action"]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}[data-dui-1-25-1~="dui-modal-footer-action"]{border:none;margin:0;padding:0;background:transparent;-webkit-tap-highlight-color:transparent;cursor:default;font-size:12px;color:var(--text-strong,rgba(0,0,0,.64));-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[data-dui-1-25-1~="dui-modal-footer-action-icon"]{display:inline-block;width:16px;height:16px;margin-right:6px;background-size:contain;background-position:50%;background-repeat:no-repeat}[data-dui-1-25-1~="dui-modal-footer-action-text"]{border-top:1px solid transparent;border-bottom:1px solid transparent}[data-dui-1-25-1~="dui-modal-footer-action"]:hover [data-dui-1-25-1~="dui-modal-footer-action-text"]{border-bottom-color:var(--text-strong,rgba(0,0,0,.64))}[data-dui-1-25-1~="dui-modal-footer-default"]{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[data-dui-1-25-1~="dui-modal-footer-default"]>:nth-last-child(3){margin-right:auto}[data-dui-1-25-1~="dui-modal-footer-default"]>:last-child{margin-left:var(--Space-space_medium_m,16px)}[data-dui-1-25-1~="dui-modal-footer-stretch"]{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[data-dui-1-25-1~="dui-modal-footer-stretch"]>*{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}[data-dui-1-25-1~="dui-modal-footer-stretch"]>:not(:first-child){margin-left:var(--Space-space_medium_m,16px)}'),i.default.confirm=o.default,t.default=i.default},460623:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787),i=n(51272).h,o=r.__importStar(n(463313)),a=r.__importStar(n(240507)),s=n(812503),u=n(314920),c=r.__importDefault(n(199053)),l=n(591829),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={value:t.props.defaultValue},t.handleSingleChange=function(e,n){t.props.disabled||(t.setState({value:n.target.value}),t.props.onChange(n.target.value,n))},t.themedRender=function(e){var n=t.props,r=n.prefixCls,o=n.className,a=n.style,s=n.itemStyle;return i("div",{className:e(r,o),style:a},u.renderChildren(t.props,[t.state.value],t.handleSingleChange,c.default,s))},t}return r.__extends(t,e),t.getDerivedStateFromProps=function(e,t){return"value"in e?{value:e.value}:null},t.prototype.render=function(){return l.consumeTheme(this.themedRender)},t}(o.Component);t.default=d,d.defaultProps={prefixCls:"dui-radio-group",disabled:!1,onChange:s.emptyFn},d.propTypes={prefixCls:a.string,style:a.object,className:a.string,options:a.array,disabled:a.bool,defaultValue:a.any,value:a.any,onChange:a.func,itemStyle:a.object,children:a.node}},199053:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787),i=n(51272).h,o=r.__importStar(n(463313)),a=n(812503),s=n(591829),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={checked:!!t.props.defaultChecked},t.handleChange=function(e,n){var i=t.props;if(!i.disabled){var o=null!=n?n:e.target.checked;"checked"in i||t.setState({checked:o}),i.onChange(o,{target:r.__assign(r.__assign({},i),{checked:o}),stopPropagation:e.stopPropagation.bind(e),preventDefault:e.preventDefault.bind(e),nativeEvent:e.nativeEvent})}},t.handleClick=function(e){t.isChecked||t.handleChange(e,!0)},t.themedRender=function(e){var n,a,s=t.props,u=s.prefixCls,c=s.className,l=s.style,d=s.children,f=s.disabled,p=s.hollow,h=s.labelClassName,g=s.labelStyle,m=s.iconClassName,v=s.iconStyle,y=s.labelClickable,b=r.__rest(s,["prefixCls","className","style","children","disabled","hollow","labelClassName","labelStyle","iconClassName","iconStyle","labelClickable"]),_=t.isChecked,C=e(u,c,u+"-"+(p?"hollow":"normal"),((n={})[u+"-multi-line"]=o.Children.count(d)>1,n[u+"-checked"]=_,n[u+"-disabled"]=f,n)),I=e(u+"-input",((a={})[u+"-input-full"]=y,a)),E=e(u+"-icon",m),w=e(u+"-label",h);return i("div",{className:C,style:l},i("span",{className:E,style:v,onClick:t.handleClick}),i("div",{className:w,style:g},d),i("input",r.__assign({},b,{type:"radio",className:I,onChange:t.handleChange})))},t}return r.__extends(t,e),Object.defineProperty(t.prototype,"isChecked",{get:function(){return"checked"in this.props?this.props.checked:this.state.checked},enumerable:!1,configurable:!0}),t.prototype.render=function(){return s.consumeTheme(this.themedRender)},t}(o.Component);t.default=u,u.defaultProps={prefixCls:"dui-radio",onChange:a.emptyFn,hollow:!0,labelClickable:!0}},959496:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Radio=void 0;var r=n(209787),i=r.__importDefault(n(199053));t.Radio=i.default;var o=r.__importDefault(n(460623));n(896439).injectStyle("components/Radio/style/index.css",'[data-dui-1-25-1~="dui-radio"]{position:relative;padding-left:24px;font-size:14px;line-height:20px;color:var(--text-ultrastrong,rgba(0,0,0,.88));-webkit-tap-highlight-color:transparent}[data-dui-1-25-1~="dui-radio-disabled"]{pointer-events:none}[data-dui-1-25-1~="dui-radio-multi-line"]{padding-left:24px}[data-dui-1-25-1~="dui-radio-icon"]{position:absolute;left:0;top:2px;width:16px;height:16px;border:1px solid var(--border-ultrastrong,rgba(0,0,0,.16));border-radius:50%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}[data-dui-1-25-1~="dui-radio-normal"]:active [data-dui-1-25-1~="dui-radio-icon"]{background-color:var(--feedback-active,rgba(51,77,102,.08))}[data-dui-1-25-1~="dui-radio-checked"] [data-dui-1-25-1~="dui-radio-icon"]{border-color:var(--accent-default,#1e6fff)}[data-dui-1-25-1~="dui-radio-hollow"][data-dui-1-25-1~="dui-radio-checked"] [data-dui-1-25-1~="dui-radio-icon"]:after{content:"";display:block;width:6px;height:6px;border-radius:50%;background-color:var(--accent-default,#1e6fff)}[data-dui-1-25-1~="dui-radio-normal"][data-dui-1-25-1~="dui-radio-checked"] [data-dui-1-25-1~="dui-radio-icon"]{border-width:5px}[data-dui-1-25-1~="dui-radio-normal"][data-dui-1-25-1~="dui-radio-checked"]:active [data-dui-1-25-1~="dui-radio-icon"]{border-color:var(--accent-pressed,#134ae0)}[data-dui-1-25-1~="dui-radio-disabled"] [data-dui-1-25-1~="dui-radio-label"]{opacity:.36}[data-dui-1-25-1~="dui-radio-disabled"] [data-dui-1-25-1~="dui-radio-icon"]{border-color:#e9ebed}[data-dui-1-25-1~="dui-radio-disabled"][data-dui-1-25-1~="dui-radio-checked"] [data-dui-1-25-1~="dui-radio-icon"]:after{background-color:#e9ebed}[data-dui-1-25-1~="dui-radio-input"]{position:absolute;margin:0;opacity:0;left:0;top:0;width:16px;height:20px;cursor:default}[data-dui-1-25-1~="dui-radio-input-full"]{width:100%;height:100%}@media (hover:hover){[data-dui-1-25-1~="dui-radio-normal"]:hover [data-dui-1-25-1~="dui-radio-icon"]{background-color:var(--feedback-hover,rgba(51,77,102,.06))}[data-dui-1-25-1~="dui-radio-checked"]:hover [data-dui-1-25-1~="dui-radio-icon"],[data-dui-1-25-1~="dui-radio-hollow"]:hover [data-dui-1-25-1~="dui-radio-icon"]{border-color:var(--accent-default,#1e6fff)}[data-dui-1-25-1~="dui-radio-normal"][data-dui-1-25-1~="dui-radio-checked"]:hover [data-dui-1-25-1~="dui-radio-icon"]{border-color:var(--accent-hover,#175ceb)}[data-dui-1-25-1~="dui-radio-disabled"]:hover [data-dui-1-25-1~="dui-radio-icon"]{border-color:#e9ebed}}'),i.default.Group=o.default,t.default=i.default},192169:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787),i=n(51272).h,o=r.__importStar(n(463313)),a=r.__importStar(n(240507)),s=n(865701),u=n(591829),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ref=o.createRef(),t.themedRender=function(e){var n=t.props,o=n.prefixCls,a=n.className,u=n.style,c=n.children;return i("div",{className:e(o,a),style:r.__assign({position:"relative"},u),ref:t.ref},i(s.ContainerContext.Provider,{value:t.ref.current},c))},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.forceUpdate()},t.prototype.render=function(){return u.consumeTheme(this.themedRender)},t}(o.Component);t.default=c,c.defaultProps={prefixCls:"dui-snackbar-container"},c.propTypes={prefixCls:a.string,style:a.object,className:a.string}},896848:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787),i=n(51272).h,o=r.__importStar(n(463313)),a=r.__importDefault(n(774012)),s=n(812503),u=n(938205),c=r.__importDefault(n(752726)),l=n(865701),d=n(591829),f=n(94413),p=n(612501),h=n(302230),g=function(e){function t(){var t,n=e.apply(this,arguments)||this;return n.selfRef=o.createRef(),n.disableAutoFocus=s.isBrowser&&(null==(t=window.__dui_disable_auto_focus_map__)?void 0:t.Snackbar)||!1===n.props.autoFocus,n.handleClickAction=function(){n.getEffectiveProps().onClickAction(),n.handleClose()},n.handleClickClose=function(){n.getEffectiveProps().onClickClose(),n.handleClose()},n.handleClose=function(){n.getEffectiveProps().onClose()},n.themedRender=function(e){var t,o=n.getEffectiveProps(),s=o.prefixCls,c=o.className,l=o.style,d=o.action,h=o.children,g=o.message,m=o.visible,v=o.closable,y=o.type,b=o.zIndex,_=o.showIcon,C=o.testId,I=o.emphasize,E="top",w=e(s+"-message");if(!u.decideKeepDom.call(n,p.SNACKBAR_LEAVING_TRANSITION_DURATION,m))return null;var S=n.getContainerDom(),D=e(s,c,s+"-"+E,s+"-"+y,((t={})[s+"-emphasize"]=I,t[s+"-with-icon"]=_&&!n.renderUserSetIcon(e),t[s+"-hidden"]=!m,t[s+"-in-container"]=S!==document.body,t));return a.default.createPortal(i("div",{className:D,style:r.__assign({zIndex:b,marginTop:f.getMarginTop(n)+"px"},l),ref:n.selfRef,role:"alert","aria-live":"assertive","aria-atomic":!0,"data-testid":C},n.renderIcon(e),i("span",{className:w},h||g),d||v?i("span",{className:e(s+"-controls")},n.renderAction(e),n.renderClose(e)):null),S)},n}return r.__extends(t,e),t.prototype.getContainerDom=function(){return s.isDom(this.context)?this.context:this.getEffectiveProps().containerDom},t.prototype.getEffectiveProps=function(){var e=this.props,t=e.type,n=e.emphasize;return["error","warning"].includes(t)?"warning"===t?r.__assign(r.__assign({},this.props),{type:"error",emphasize:!1}):"error"===t&&void 0===n?r.__assign(r.__assign({},this.props),{type:"error",emphasize:!0}):this.props:this.props},t.prototype.componentDidMount=function(){this.handleEffect()},t.prototype.componentDidUpdate=function(){this.handleEffect()},t.prototype.handleEffect=function(){f.updateVisibleSnackbars(this)},t.prototype.renderUserSetIcon=function(e){var t=this.getEffectiveProps(),n=t.prefixCls,r=t.type,a=t.showIcon,s=t.icon;if(!a||!s)return null;if(o.isValidElement(s))return i("div",{className:e(n+"-icon-container")},s);if("object"==typeof s){var u=s[this.props.type]||s[r];return i("div",{className:e(n+"-icon-container")},u)}return null},t.prototype.renderAction=function(e){var t=this,n=this.getEffectiveProps(),r=n.prefixCls,o=n.action;return o?Array.isArray(o)&&o.length>0&&o[0].text?i("span",{className:e(r+"-actions")},o.map(function(n,o){return i("button",{key:o,className:e(r+"-action"),onClick:function(){var e;null==(e=n.onClick)||e.call(n),t.handleClose()},autoFocus:!t.disableAutoFocus&&0===o},n.text)})):i("button",{className:e(r+"-action"),onClick:this.handleClickAction,autoFocus:!this.disableAutoFocus},o):null},t.prototype.renderIcon=function(e){var t=this.getEffectiveProps(),n=t.prefixCls,r=t.spinType,o=t.type;if(!t.showIcon)return null;var a=this.renderUserSetIcon(e);return a||("loading"===o?i(c.default,{type:r,className:e(n+"-loading-indicator"),circleClassName:e(n+"-loading-indicator-circle")}):null)},t.prototype.renderClose=function(e){var t=this.getEffectiveProps(),n=t.prefixCls;return t.closable?i("button",{className:e(n+"-close"),onClick:this.handleClickClose,"aria-label":h.i18n("close")}):null},t.prototype.render=function(){return d.consumeTheme(this.themedRender)},t.contextType=l.ContainerContext,t}(o.Component);t.default=g,g.defaultProps={prefixCls:"dui-snackbar",onClickAction:s.emptyFn,closable:!1,type:"info",onClose:s.emptyFn,showIcon:!0,containerDom:"undefined"!=typeof document?document.body:void 0,spinType:"primary",onClickClose:s.emptyFn,autoFocus:!0}},612501:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SNACKBAR_LEAVING_TRANSITION_DURATION=void 0,t.SNACKBAR_LEAVING_TRANSITION_DURATION=200},865701:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerContext=void 0,t.ContainerContext=n(209787).__importStar(n(463313)).createContext(null)},869243:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Snackbar=void 0;var r=n(209787),i=r.__importDefault(n(896848));t.Snackbar=i.default,n(896439).injectStyle("components/Snackbar/style/index.css",'@-webkit-keyframes dui-snackbar-slide-in{0%{opacity:0;-webkit-transform:translate(-50%,-20px);transform:translate(-50%,-20px)}to{opacity:1;-webkit-transform:translate(-50%);transform:translate(-50%)}}@keyframes dui-snackbar-slide-in{0%{opacity:0;-webkit-transform:translate(-50%,-20px);transform:translate(-50%,-20px)}to{opacity:1;-webkit-transform:translate(-50%);transform:translate(-50%)}}@-webkit-keyframes dui-snackbar-slide-in-container{0%{opacity:0;-webkit-transform:translate(-50%,-10px);transform:translate(-50%,-10px)}to{opacity:1;-webkit-transform:translate(-50%);transform:translate(-50%)}}@keyframes dui-snackbar-slide-in-container{0%{opacity:0;-webkit-transform:translate(-50%,-10px);transform:translate(-50%,-10px)}to{opacity:1;-webkit-transform:translate(-50%);transform:translate(-50%)}}[data-dui-1-25-1~="dui-snackbar"]{-webkit-box-sizing:border-box;box-sizing:border-box;position:fixed;z-index:10000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;left:50%;height:40px;border-radius:4px;padding:10px 10px 10px 12px;-webkit-box-shadow:0 4px 20px 0 rgba(0,0,0,.08);box-shadow:0 4px 20px 0 rgba(0,0,0,.08);border:1px solid rgba(0,0,0,.08);background-color:var(--bg-lv4-default,#fff);color:var(--text-ultrastrong,rgba(0,0,0,.88));font-size:14px;white-space:nowrap;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-animation:dui-snackbar-slide-in .4s cubic-bezier(.4,0,.2,1);animation:dui-snackbar-slide-in .4s cubic-bezier(.4,0,.2,1);-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform;-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1)}[data-dui-1-25-1~="dui-snackbar-with-icon"]:before{content:"";display:inline-block;background-position:50%;background-repeat:no-repeat;background-size:contain}[data-dui-1-25-1~="dui-snackbar-icon-container"],[data-dui-1-25-1~="dui-snackbar-with-icon"]:before{width:20px;height:20px;margin-right:8px}[data-dui-1-25-1~="dui-snackbar-info"]:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'20\' height=\'20\' fill-rule=\'evenodd\'%3E%3Ccircle cx=\'10\' cy=\'10\' r=\'8\' fill=\'%231e6fff\'/%3E%3Cg fill=\'%23fff\'%3E%3Cpath d=\'M11.778 14.89V14h-.9V8.668H8.223v.89h.888V14h-.89v.89h3.556z\'/%3E%3Ccircle cx=\'10\' cy=\'6.444\' r=\'1.333\'/%3E%3C/g%3E%3C/svg%3E")}[data-dui-1-25-1~="dui-snackbar-error"]:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'20\' height=\'20\'%3E%3Cpath fill=\'%23ff4747\' d=\'M10 2a8 8 0 110 16 8 8 0 110-16zm0 10.222a1.333 1.333 0 100 2.665 1.333 1.333 0 000-2.664zm1.333-7.1H8.667l.444 6.22h1.778l.444-6.222z\' fill-rule=\'evenodd\'/%3E%3C/svg%3E")}[data-dui-1-25-1~="dui-snackbar-success"]:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'20\' height=\'20\' fill-rule=\'evenodd\'%3E%3Ccircle cx=\'10\' cy=\'10\' r=\'8\' fill=\'%2300d689\'/%3E%3Cpath fill=\'%23fff\' d=\'M7.47 9.167l1.645 1.646 4.126-4.125 1.178 1.178-5.303 5.303-2.824-2.824L7.47 9.167z\'/%3E%3C/svg%3E")}[data-dui-1-25-1~="dui-snackbar-error"][data-dui-1-25-1~="dui-snackbar-emphasize"]:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'20\' height=\'20\'%3E%3Cpath fill=\'%23fff\' d=\'M10 2a8 8 0 110 16 8 8 0 110-16zm0 10.222a1.333 1.333 0 100 2.665 1.333 1.333 0 000-2.664zm1.333-7.1H8.667l.444 6.22h1.778l.444-6.222z\' fill-rule=\'evenodd\'/%3E%3C/svg%3E")}[data-dui-1-25-1~="dui-snackbar-emphasize"]{color:var(--bg-lv1-default,#fff);border-color:transparent}[data-dui-1-25-1~="dui-snackbar-emphasize"]:before{-webkit-filter:brightness(1.2);filter:brightness(1.2)}[data-dui-1-25-1~="dui-snackbar-emphasize"][data-dui-1-25-1~="dui-snackbar-info"]{background-color:var(--accent-default,#1e6fff)}[data-dui-1-25-1~="dui-snackbar-emphasize"][data-dui-1-25-1~="dui-snackbar-success"]{background-color:var(--success-default,#00d689)}[data-dui-1-25-1~="dui-snackbar-emphasize"][data-dui-1-25-1~="dui-snackbar-error"]{background-color:var(--critical-default,#ff4747)}[data-dui-1-25-1~="dui-snackbar-emphasize"][data-dui-1-25-1~="dui-snackbar-loading"]{background-color:var(--accent-default,#1e6fff)}[data-dui-1-25-1~="dui-snackbar-loading"]:before{content:none}[data-dui-1-25-1~="dui-snackbar-loading-indicator"]{width:16px;height:16px;margin:0 10px 0 2px}[data-dui-1-25-1~="dui-snackbar-loading-indicator-circle"]{border-width:6px}[data-dui-1-25-1~="dui-snackbar-hidden"]{opacity:0;-webkit-transform:translateX(-50%) translateY(-20px);transform:translateX(-50%) translateY(-20px)}[data-dui-1-25-1~="dui-snackbar-top"]{top:105px}[data-dui-1-25-1~="dui-snackbar-bottom"]{bottom:105px}[data-dui-1-25-1~="dui-snackbar-in-container"]{-webkit-animation-name:dui-snackbar-slide-in-container;animation-name:dui-snackbar-slide-in-container;position:absolute;top:14px}[data-dui-1-25-1~="dui-snackbar-in-container"][data-dui-1-25-1~="dui-snackbar-hidden"]{-webkit-transform:translate(-50%,-10px);transform:translate(-50%,-10px)}[data-dui-1-25-1~="dui-snackbar-message"]{color:inherit}[data-dui-1-25-1~="dui-snackbar-controls"]{margin-left:12px;line-height:20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[data-dui-1-25-1~="dui-snackbar-controls"]>:not(:last-child){margin-right:10px}[data-dui-1-25-1~="dui-snackbar-action"],[data-dui-1-25-1~="dui-snackbar-close"]{display:inline-block;border-radius:2px;cursor:pointer;border:none;margin:0;padding:0;background:transparent;-webkit-tap-highlight-color:transparent}[data-dui-1-25-1~="dui-snackbar-action"]:hover,[data-dui-1-25-1~="dui-snackbar-close"]:hover{background-color:var(--feedback-hover,rgba(51,77,102,.06))}[data-dui-1-25-1~="dui-snackbar-action"]:active,[data-dui-1-25-1~="dui-snackbar-close"]:active{background-color:var(--feedback-active,rgba(51,77,102,.08))}[data-dui-1-25-1~="dui-snackbar-actions"]>:not(:first-child){margin-left:7px}[data-dui-1-25-1~="dui-snackbar-action"]{color:var(--text-link,#175ceb);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 4px;font-weight:500;font-size:14px}[data-dui-1-25-1~="dui-snackbar-emphasize"] [data-dui-1-25-1~="dui-snackbar-action"],[data-dui-1-25-1~="dui-snackbar-emphasize"] [data-dui-1-25-1~="dui-snackbar-close"]{color:var(--bg-lv1-default,#fff)}[data-dui-1-25-1~="dui-snackbar-emphasize"] [data-dui-1-25-1~="dui-snackbar-action"]:hover,[data-dui-1-25-1~="dui-snackbar-emphasize"] [data-dui-1-25-1~="dui-snackbar-close"]:hover{background-color:hsla(0,0%,100%,.24)}[data-dui-1-25-1~="dui-snackbar-emphasize"] [data-dui-1-25-1~="dui-snackbar-action"]:active,[data-dui-1-25-1~="dui-snackbar-emphasize"] [data-dui-1-25-1~="dui-snackbar-close"]:active{background-color:hsla(0,0%,100%,.4)}[data-dui-1-25-1~="dui-snackbar-close"]{width:20px;height:20px;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'16\' height=\'16\'%3E%3Cpath fill=\'%2381868f\' fill-rule=\'evenodd\' d=\'M8.63 8L13 12.368l-.632.632L8 8.63 3.632 13 3 12.368 7.368 8 3 3.632 3.632 3 8 7.368 12.368 3l.632.632L8.63 8z\'/%3E%3C/svg%3E");background-position:50%;background-size:16px;background-repeat:no-repeat}[data-dui-1-25-1~="dui-snackbar-emphasize"] [data-dui-1-25-1~="dui-snackbar-close"]{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'16\' height=\'16\'%3E%3Cpath fill=\'%23fff\' fill-rule=\'evenodd\' d=\'M8.63 8L13 12.368l-.632.632L8 8.63 3.632 13 3 12.368 7.368 8 3 3.632 3.632 3 8 7.368 12.368 3l.632.632L8.63 8z\'/%3E%3C/svg%3E")}');var o=r.__importDefault(n(371057)),a=r.__importDefault(n(192169)),s=n(94413);i.default.show=o.default,i.default.closeAll=s.closeAll,i.default.closeById=s.closeById,i.default.hasVisibleInstances=s.hasVisibleInstances,i.default.Container=a.default,t.default=i.default},94413:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasVisibleInstances=t.closeById=t.closeAll=t.getMarginTop=t.updateVisibleSnackbars=void 0;var n=50;function r(e){var t=e.getContainerDom();return t.__dui_visible_snackbars__=t.__dui_visible_snackbars__||[],t.__dui_visible_snackbars__}function i(e){return r(e).findIndex(function(t){return t.instance===e})}function o(e){var t=r(e),n=e.props.id;if(n){var i=t.findIndex(function(e){return e.instance.props.id===n});if(i>=0)return t[i]}var o=t.findIndex(function(e){return e.instance.props.autoClose});return o>=0?t[o]:null}function a(e){var t=o(e);if(t)return t.marginTop;var i=r(e).map(function(e){return e.marginTop}).sort(function(e,t){return e-t});if(0===i.length)return 0;for(var a=0;a<i.length;a++){var s=n*a;if(s!==i[a])return s}return i[i.length-1]+n}t.updateVisibleSnackbars=function(e){var t=e.props.visible,n=i(e),s=r(e);if(t&&-1===n){var u=o(e);null==u||u.instance.handleClose(),s.push({instance:e,marginTop:a(e)});var c=new CustomEvent("dui-snackbar-show",{detail:e.props});document.dispatchEvent(c)}t||-1===n||s.splice(n,1)},t.getMarginTop=function(e){var t=i(e),n=r(e);return -1!==t?n[t].marginTop:a(e)},t.closeAll=function(e){var t=document.body.__dui_visible_snackbars__;null==t||t.filter(function(t){var n=t.instance.props,r=n.autoClose,i=n.closable;return e||r||i}).forEach(function(e){return e.instance.handleClose()})},t.closeById=function(e){var t=document.body.__dui_visible_snackbars__;null==t||t.filter(function(t){return t.instance.props.id===e}).forEach(function(e){return e.instance.handleClose()})},t.hasVisibleInstances=function(){var e;return!!(null==(e=document.body.__dui_visible_snackbars__)?void 0:e.length)}},371057:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787).__importDefault(n(896848)),i=n(233726),o=n(812503),a=n(612501);t.default=o.wrapWithConfigDefaults(function(e){var t=e.autoClose,n=void 0===t||t;return e.autoClose=n,i.showWithTransition({Component:r.default,transitionDuration:a.SNACKBAR_LEAVING_TRANSITION_DURATION,autoClose:n,props:e,injectClosePropNames:["onClose"],contexts:e.contexts})})},667081:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787),i=n(51272).h,o=r.__importStar(n(463313)),a=r.__importDefault(n(774012)),s=n(812503),u=r.__importDefault(n(9827)),c=n(591829),l=n(938205),d=n(779177),f=8,p=4,h=2,g=2,m=200,v={position:{left:"0px",top:"0px"},effectivePlacement:"bottom"},y={top:"translate(-50%, -50%) rotate(225deg)",bottom:"translate(-50%, 50%) rotate(45deg)",left:"translate(-50%, -50%) rotate(135deg)",right:"translate(50%, -50%) rotate(-45deg)"},b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootRef=o.createRef(),t.overlayContainerRef=o.createRef(),t.forceRenderDom=!1,t.cancelPositionChangeChecker=null,t.state=r.__assign({currentVisible:!!t.props.defaultVisible},v),t.show=function(){t.props.disabled||(t.forceRenderDom=!0,t.setState(v,function(){t.runVisibleEffects(),t.setStateVisible(!0),t.forceRenderDom=!1}))},t.hide=function(){clearTimeout(t.showTimeout),t.isVisible()&&t.setStateVisible(!1)},t.toggle=function(){t.props.disabled||(t.isVisible()?t.hide():t.show())},t.handleClickAnchor=function(){var e=t.props,n=e.trigger,r=e.hideOnClick;"click"===n?t.toggle():"hover"===n&&r&&t.hide()},t.handleMouseDownAnchor=function(){var e=t.props,n=e.trigger;e.hideOnMouseDown&&"hover"===n&&t.hide()},t.handleMouseEnter=function(){clearTimeout(t.hideTimeout),clearTimeout(t.showTimeout),t.showTimeout=setTimeout(t.show,"object"==typeof t.props.hoverDelay?t.props.hoverDelay.show:t.props.hoverDelay)},t.handleMouseLeave=function(){clearTimeout(t.showTimeout),t.hideTimeout=setTimeout(t.hide,"object"==typeof t.props.hoverDelay?t.props.hoverDelay.hide:t.props.hoverDelay)},t.themedRender=function(e){var n,o=t.props,s=o.className,c=o.style,d=o.prefixCls,f=o.children,p=o.overlayClassName,h=o.overlayStyle,g=o.trigger,v=o.offset,y=o.zIndex,b=o.containerClassName,_=o.containerStyle,C=o.destroyOnClose,I=o.overlayHoverable,E=o.containerDom,w=t.state.effectivePlacement,S=e(d,s,d+"-wrapper"),D=e(d+"-content",p),M=r.__assign(r.__assign({},h),{transform:"translate"+("top"===w||"bottom"===w?"X":"Y")+"("+v+"px)"}),T=t.isVisible(),A=e(d+"-container",b,((n={})[d+"-container-visible"]=T,n)),x=!t.forceRenderDom&&C&&!l.decideKeepDom.call(t,m,T),N="";return"hover"===g&&(N=I?"outer":"inner"),i(u.default,{className:S,style:c,action:t.hide,disabled:"click"!==g},i("div",{onMouseEnter:"outer"===N?t.handleMouseEnter:void 0,onMouseLeave:"outer"===N?t.handleMouseLeave:void 0,ref:t.rootRef},i("div",{onClick:t.handleClickAnchor,onMouseDown:t.handleMouseDownAnchor,onMouseEnter:"inner"===N?t.handleMouseEnter:void 0,onMouseLeave:"inner"===N?t.handleMouseLeave:void 0},f),x?null:a.default.createPortal(i("div",{className:A,ref:t.overlayContainerRef,style:r.__assign(r.__assign({zIndex:y},_),t.state.position)},i("div",{className:D,style:M,"aria-atomic":!0,"aria-live":"assertive"},t.renderTitle(e)),t.renderArrow(e)),E||document.body)))},t}return r.__extends(t,e),t.getDerivedStateFromProps=function(e,t){return e.disabled?{currentVisible:!1}:null},t.prototype.componentDidMount=function(){this.isVisible()&&this.runVisibleEffects()},t.prototype.componentWillUnmount=function(){var e;null==(e=this.cancelPositionChangeChecker)||e.call(this),clearTimeout(this.showTimeout),clearTimeout(this.hideTimeout)},t.prototype.componentDidUpdate=function(e){var t;!e.visible&&this.props.visible&&this.runVisibleEffects(),this.isVisible()||null==(t=this.cancelPositionChangeChecker)||t.call(this)},t.prototype.isVisible=function(){var e=this.props,t=e.visible;if(e.disabled)return!1;var n=this.state.currentVisible;return"boolean"==typeof t?t:n},t.prototype.setStateVisible=function(e){this.setState({currentVisible:e}),this.props.onVisibleChange(e)},t.prototype.runVisibleEffects=function(){var e=this;this.setState(this.calcOverlayMetrics(),function(){requestAnimationFrame(function(){var t;null==(t=e.cancelPositionChangeChecker)||t.call(e),e.cancelPositionChangeChecker=d.checkPositionChange(e.rootRef.current,e.hide)})})},t.prototype.calcStartPositionByAlignment=function(e,t,n){switch(this.props.alignment){case"start":return e;case"center":return(e+t-n)/2;case"end":return t-n;default:return 0}},t.prototype.calcOverlayMetrics=function(){var e=this.rootRef.current,t=this.overlayContainerRef.current;if(!e||!t)return v;var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=this.props.placement;if("string"==typeof i)return{position:this.calcOverlayPositionByPlacement(n,r,i).position,effectivePlacement:i};for(var o=0,a=i;o<a.length;o++){var s=a[o],u=this.calcOverlayPositionByPlacement(n,r,s),c=u.position;if(u.canFitIn)return{position:c,effectivePlacement:s}}return{position:this.calcOverlayPositionByPlacement(n,r,i[0]).position,effectivePlacement:i[0]}},t.prototype.calcOverlayPositionByPlacement=function(e,t,n){var r=e.left,i=e.right,o=e.top,a=e.bottom,u=t.width,c=t.height,l=this.props,d=l.containerOffsetX,m=l.containerOffsetY,v=l.showArrow,y=d,b=m,_=p+(v?h:0);("bottom"===n||"top"===n)&&(y+=this.calcStartPositionByAlignment(r,i,u)),"left"===n&&(y+=r-_-u),"right"===n&&(y+=i+_);var C=s.castInto(y,[g,innerWidth-u-g]);("left"===n||"right"===n)&&(b+=this.calcStartPositionByAlignment(o,a,c)),"top"===n&&(b+=o-f-c),"bottom"===n&&(b+=a+f);var I=s.castInto(b,[g,innerHeight-c-g]);return{position:{left:C+"px",top:I+"px"},canFitIn:C===y&&I===b}},t.prototype.renderArrow=function(e){var t=this.props,n=t.arrowOffsetX,o=t.arrowOffsetY,a=t.showArrow,s=t.prefixCls,u=t.arrowClassName,c=t.arrowStyle;if(!a)return null;var l=this.state.effectivePlacement,d=e(s+"-arrow",u,s+"-arrow-"+l),f="translate("+n+"px, "+o+"px) "+y[l];return i("div",{className:d,style:r.__assign({transform:f},c)})},t.prototype.renderTitle=function(e){var t=this.props,n=t.prefixCls,r=t.title;return Array.isArray(r)&&r.every(function(e){return"string"==typeof e})?i("div",{className:e(n+"-title-multiline")},r.map(function(e,t){return i("div",{key:t},e)})):r},t.prototype.render=function(){return c.consumeTheme(this.themedRender)},t}(o.Component);t.default=b,b.defaultProps={prefixCls:"dui-tooltip",title:"",placement:"bottom",trigger:"hover",onVisibleChange:s.emptyFn,disabled:!1,offset:0,containerOffsetX:0,containerOffsetY:0,destroyOnClose:!0,alignment:"center",hoverDelay:400,hideOnClick:!1,hideOnMouseDown:!1,overlayHoverable:!0,arrowOffsetX:0,arrowOffsetY:0}},289602:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tooltip=void 0;var r=n(209787);n(896439).injectStyle("components/Tooltip/style/index.css",'@-webkit-keyframes dui-tooltip-fade-in{0%{opacity:0}to{opacity:1}}@keyframes dui-tooltip-fade-in{0%{opacity:0}to{opacity:1}}[data-dui-1-25-1~="dui-tooltip-wrapper"]{display:inline-block;position:relative}[data-dui-1-25-1~="dui-tooltip-container"]{position:fixed;visibility:hidden;-webkit-transition-property:opacity,visibility;transition-property:opacity,visibility;-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-transition-timing-function:linear;transition-timing-function:linear;z-index:10002;opacity:0;-webkit-animation:dui-tooltip-fade-in .2s linear;animation:dui-tooltip-fade-in .2s linear;font-size:medium}[data-dui-1-25-1~="dui-tooltip-container-visible"]{visibility:visible;opacity:1}[data-dui-1-25-1~="dui-tooltip-content"]{display:inline-block;padding:7px 12px;font-size:12px;line-height:18px;border:1px solid rgba(0,0,0,.1);border-radius:4px;color:var(--text-ultrastrong,rgba(0,0,0,.88));-webkit-box-shadow:0 6px 32px 2px var(--dui-shadow-color,rgba(68,73,77,.16)),0 4px 6px 2px rgba(0,0,0,.04);box-shadow:0 6px 32px 2px var(--dui-shadow-color,rgba(68,73,77,.16)),0 4px 6px 2px rgba(0,0,0,.04);word-break:break-word;background-color:var(--bg-lv4-default,#fff)}[data-dui-1-25-1~="dui-tooltip-title-multiline"]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;line-height:16px}[data-dui-1-25-1~="dui-tooltip-arrow"]{position:absolute;border-top-left-radius:3px;border:1px solid rgba(0,0,0,.1);border-right:none;border-bottom:none;pointer-events:none;width:8px;height:8px;background:-webkit-linear-gradient(315deg,var(--bg-lv4-default,#fff) 50%,transparent 0);background:linear-gradient(135deg,var(--bg-lv4-default,#fff) 50%,transparent 0)}[data-dui-1-25-1~="dui-tooltip-arrow-top"]{margin-top:-1px;top:100%;left:50%}[data-dui-1-25-1~="dui-tooltip-arrow-right"]{margin-right:-1px;top:50%;right:100%}[data-dui-1-25-1~="dui-tooltip-arrow-bottom"]{margin-bottom:-1px;bottom:100%;left:50%}[data-dui-1-25-1~="dui-tooltip-arrow-left"]{margin-left:-1px;top:50%;left:100%}');var i=r.__importDefault(n(667081));t.Tooltip=i.default,t.default=i.default},9827:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TriggerContext=void 0;var r=n(209787),i=n(51272).h,o=r.__importStar(n(463313)),a=n(812503),s=r.__importDefault(n(684875)),u=n(501943),c=r.__importDefault(n(957699));t.TriggerContext=o.createContext(a.emptyFn);var l=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.shouldCancel=!1,t.captureTrigger=function(e){t.props.disabled||setTimeout(function(){t.trigger(e)},0)},t.cancel=function(e){if(!t.props.disabled){var n=e.nativeEvent;n._dui_trigger_instances?n._dui_trigger_instances.push(t):n._dui_trigger_instances=[t]}},t.generateCancelSetter=c.default(function(e){return function(n){e(n),t.shouldCancel=n}}),t}return r.__extends(n,e),n.prototype.componentDidMount=function(){this.doc.addEventListener("click",this.captureTrigger,!0),this.props.disableContextMenu||this.doc.addEventListener("contextmenu",this.captureTrigger,!0)},n.prototype.componentWillUnmount=function(){this.doc.removeEventListener("click",this.captureTrigger,!0),this.props.disableContextMenu||this.doc.removeEventListener("contextmenu",this.captureTrigger,!0)},Object.defineProperty(n.prototype,"doc",{get:function(){return this.context||document},enumerable:!1,configurable:!0}),n.prototype.trigger=function(e){var t=this.props,n=t.disabled,r=t.action,i=t.shouldTriggerAction;if(!n&&!this.shouldCancel){if(e._dui_trigger_instances){var o=e._dui_trigger_instances.indexOf(this);if(-1!==o){e._dui_trigger_instances.splice(o,1),0===e._dui_trigger_instances.length&&delete e._dui_trigger_instances;return}}i(e)&&r()}},n.prototype.render=function(){var e=this,n=this.props,o=n.prefixCls,a=n.className,u=n.style,c=n.children,l=n.domRef,d=n.disableContextMenu,f=n.testId,p=(n.disabled,n.action,n.shouldTriggerAction,r.__rest(n,["prefixCls","className","style","children","domRef","disableContextMenu","testId","disabled","action","shouldTriggerAction"])),h=s.default(o,a);return i(t.TriggerContext.Consumer,null,function(n){return i(t.TriggerContext.Provider,{value:e.generateCancelSetter(n)},i("div",r.__assign({className:h,style:u,onClickCapture:e.cancel,onContextMenuCapture:d?void 0:e.cancel,ref:l,"data-testid":f},p),c))})},n.contextType=u.DocumentDomContext,n}(o.Component);t.default=l,l.defaultProps={prefixCls:"dui-trigger",action:a.emptyFn,shouldTriggerAction:a.trueFn,disabled:!1,disableContextMenu:!1}},779177:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkPositionChange=void 0;var r=n(812503),i=100;t.checkPositionChange=function(e,t){if(!e)return r.emptyFn;var n=e.getBoundingClientRect(),o=setInterval(function(){var r=e.getBoundingClientRect();(Math.abs(n.left-r.left)>1||Math.abs(n.top-r.top)>1)&&t(),n=r},i);return function(){return clearInterval(o)}}},51272:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.h=t.isScopedAttributeDisabled=void 0;var r=n(209787),i=n(463313),o=r.__importDefault(n(363458)),a=n(812503);function s(e,n){for(var a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];var u=n;return(null==n?void 0:n.className)&&"string"==typeof e&&!t.isScopedAttributeDisabled&&(u[o.default]=n.className),i.createElement.apply(void 0,r.__spreadArray([e,u],a))}t.isScopedAttributeDisabled=function e(){var e,t;return"object"==typeof window&&(e=window.__dui_disable_scoped_attribute__),"object"==typeof n.g&&(t=n.g.__dui_disable_scoped_attribute__),!!(e||t)}(),a.isBrowser&&(window.__dui_disable_auto_focus_map__=window.__dui_disable_auto_focus_map__||{}),t.h=s},501943:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentDomContext=void 0,t.DocumentDomContext=n(209787).__importStar(n(463313)).createContext(null)},353767:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restoreFocus=t.saveFocus=t.traverseFocusIn=void 0;var n=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'];function r(e){return Array.prototype.slice.call(e.querySelectorAll(n))}t.traverseFocusIn=function(e,t,n){void 0===n&&(n=null==t?void 0:t.shiftKey);var i,o=r(e);if(0!==o.length){var a=o.indexOf(document.activeElement);if(a<0)i=o[0];else{var s=(a+(n?-1:1)+o.length)%o.length;i=o[s]}i.focus(),i.scrollIntoView({block:"nearest",inline:"nearest"}),null==t||t.preventDefault()}};var i=null;function o(){null==i||i.focus(),i=null}t.saveFocus=function(){i=document.activeElement},t.restoreFocus=function(){i&&("BUTTON"===i.tagName?setTimeout(o,0):o())}},812503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createContextValueGetter=t.shallowEqual=t.isBrowser=t.isDom=t.wrapWithConfigDefaults=t.inject=t.assert=t.isIE=t.createStringParamFunc=t.canBeDivided=t.roundByStep=t.castInto=t.nullFn=t.trueFn=t.falseFn=t.emptyFn=void 0;var r,i=n(209787),o=i.__importDefault(n(957699));function a(e,t){if(e<0)return-a(-e,t);var n=e%t;return n<t/2?e-n:e-n+t}function s(e,t){if(e===t)return!0;if(typeof e!==typeof t||"object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(function(n){return e[n]===t[n]})}t.emptyFn=function(){},t.falseFn=function(){return!1},t.trueFn=function(){return!0},t.nullFn=function(){return null},t.castInto=function(e,t){return e>t[1]?t[1]:e<t[0]?t[0]:e},t.roundByStep=a,t.canBeDivided=function(e,t){var n=e/t;return(0|n)===n},t.createStringParamFunc=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.map(function(e){return Number(e)});return e.apply(void 0,r)}},t.isIE=function(){if("boolean"==typeof r)return r;var e=navigator.userAgent;return r=!!(/compatible/.test(e)&&/MSIE/.test(e))||!!(/Trident/.test(e)&&/rv:11\.0/.test(e))},t.assert=function(e,t){e||console.error(t)},t.inject=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(null,n);return!1!==i&&t(),i}},t.wrapWithConfigDefaults=function(e){var t={},n=function(n){return e(i.__assign(i.__assign({},t),n))};return n.configDefaults=function(e){t=e},n},t.isDom=function(e){return e&&"object"==typeof e&&1===e.nodeType},t.isBrowser="undefined"!=typeof window&&"undefined"!=typeof document,t.shallowEqual=s,t.createContextValueGetter=function(){return o.default(function(e){return e},function(e,t){return s(e[0],t[0])})}},938205:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decideKeepDom=void 0,t.decideKeepDom=function(e,t){var n=this,r=!t&&this._ALC_HELPER_prevVisible;return this._ALC_HELPER_prevVisible=t,!!t||!!r&&(setTimeout(function(){n.forceUpdate()},e),!0)}},752291:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerMicroTask=void 0;var n=null,r=null,i=1;if("undefined"!=typeof document){var o=new MutationObserver(function(){null==n||n(),n=null});r=document.createElement("div"),o.observe(r,{attributes:!0})}t.triggerMicroTask=function(e){r?(n=e,r.setAttribute("data-dui-micro-task",String(i++))):Promise.resolve().then(e)}},668984:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),"function"!=typeof String.prototype.repeat&&(String.prototype.repeat=function(e){if(this==null)throw TypeError("can't convert "+this+" to object");var t=""+this;if((e*=1)!=e&&(e=0),e<0)throw RangeError("repeat count must be non-negative");if(e==1/0)throw RangeError("repeat count must be less than infinity");if(e=Math.floor(e),0==t.length||0==e)return"";if(t.length*e>=0x10000000)throw RangeError("repeat count must not overflow maximum string size");var n=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+t.substring(0,n-t.length)}),"function"!=typeof String.prototype.padStart&&(String.prototype.padStart=function(e,t){return(e|=0,t=String(void 0!==t?t:" "),this.length>e)?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))}),"function"!=typeof Array.prototype.fill&&(Array.prototype.fill=function(e){if(this==null)throw TypeError("this is null or not defined");for(var t=Object(this),n=t.length>>>0,r=arguments[1],i=0|r,o=i<0?Math.max(n+i,0):Math.min(i,n),a=arguments[2],s=void 0===a?n:0|a,u=s<0?Math.max(n+s,0):Math.min(s,n);o<u;)t[o]=e,o++;return t}),"undefined"!=typeof Element&&"function"!=typeof Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),Array.prototype.findIndex||(Array.prototype.findIndex=function(e){if(this==null)throw TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=t[i];if(e.call(r,o,i,t))return i;i++}return -1}),Array.prototype.includes||(Array.prototype.includes=function(e,t){if(this==null)throw TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;var i=0|t,o=Math.max(i>=0?i:r-Math.abs(i),0);function a(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}for(;o<r;){if(a(n[o],e))return!0;o++}return!1})},875883:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleGlobalScrollEvents=t.PreventScrollPenetrateContainer=t.preventSelfScrollPenetrate=void 0;var r=n(209787),i=n(51272).h,o=r.__importStar(n(463313)),a=10;function s(e,t,n){if(void 0===t&&(t="y"),void 0===n&&(n=null),e&&!e.__preventSelfScrollPenetrate){var r,i,o=null,a=function(e){o=null;var t=e.touches[0];r=t.screenX,i=t.screenY},s=function(a){var s=a.touches[0],u=s.screenX-r,c=s.screenY-i,l="x"===t&&0===e.scrollLeft,d="x"===t&&e.scrollLeft===e.scrollWidth-e.offsetWidth,f="y"===t&&0===e.scrollTop,p="y"===t&&e.scrollTop===e.scrollHeight-e.offsetHeight,h="x"===t?u>0&&l||u<0&&d:c>0&&f||c<0&&p,g=l||f?"lower":d||p?"upper":null;h?(a.cancelable&&a.preventDefault(),o!==g&&(e.dispatchEvent(new TouchEvent("touchstart",a)),o=g),n===g&&a.stopPropagation()):a.stopPropagation()};e.addEventListener("touchstart",a),e.addEventListener("touchmove",s,{passive:!1}),e.__preventSelfScrollPenetrate=!0}}function u(e,t,n,r){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-r,2))}t.preventSelfScrollPenetrate=s,t.PreventScrollPenetrateContainer=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.domRef=o.createRef(),t.isInnerScroll=!1,t.startScreenX=-1,t.startScreenY=-1,t.handleTouchStart=function(e){var n=t.domRef.current;if(n){var r=e.composedPath(),i=e.touches[0];t.startScreenX=i.screenX,t.startScreenY=i.screenY;for(var o=0,a=r;o<a.length;o++){var u=a[o];if(!n.contains(u)){t.isInnerScroll=!1;return}if(u.scrollHeight>u.clientHeight){t.isInnerScroll=!0,s(u);return}}t.isInnerScroll=!1}},t.handleTouchMove=function(e){if(!t.isInnerScroll){var n=e.touches[0];!("stylus"===n.touchType&&u(t.startScreenX,t.startScreenY,n.screenX,n.screenY)<a)&&e.cancelable&&e.preventDefault()}},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.domRef.current;e.addEventListener("touchstart",this.handleTouchStart),e.addEventListener("touchmove",this.handleTouchMove,{passive:!1})},t.prototype.render=function(){return i("div",r.__assign({},this.props,{ref:this.domRef}),this.props.children)},t}(o.Component);var c="";t.toggleGlobalScrollEvents=function(e){e&&!c&&(c=document.documentElement.style.overflow||"initial",document.documentElement.style.overflow="hidden"),!e&&c&&(document.documentElement.style.overflow=c,c="")}},233726:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showWithTransition=void 0;var r=n(209787),i=n(51272).h,o=r.__importDefault(n(774012)),a=n(812503);function s(e,t){return e.reduce(function(e,t){return i(t.provider,{value:t.value},e)},t)}t.showWithTransition=function(e){var t,n=e.Component,u=e.transitionDuration,c=e.autoClose,l=e.props,d=e.forcedProps,f=e.injectClosePropNames,p=void 0===f?[]:f,h=e.deepInjectClose,g=void 0===h?[]:h,m=e.contexts,v=document.createElement("div");document.body.appendChild(v);var y=!1;p.forEach(function(e){_(l,e)}),g.forEach(function(e){var t=e[0],n=e[1];if(Array.isArray(t))return void t.forEach(function(e){return _(e,n)});_(t,n)});var b=r.__assign(r.__assign(r.__assign({},l),d),{visible:!0});function _(e,t){var n=e[t]||a.emptyFn;e[t]=a.inject(n,I)}function C(e){y||E(b=r.__assign(r.__assign(r.__assign(r.__assign({},b),e),d),{visible:!0}))}function I(){y||(y=!0,clearTimeout(t),E(b=r.__assign(r.__assign({},b),{visible:!1})),setTimeout(function(){o.default.unmountComponentAtNode(v),v.remove()},u+20))}function E(e){var t=(null==m?void 0:m.length)?s(m,i(n,r.__assign({},e))):i(n,r.__assign({},e));o.default.render(t,v)}return E(b),c&&(t=setTimeout(I,l.duration||2e3)),{update:C,close:I}}},896439:function(e,t,n){"use strict";r={value:!0},t.injectStyle=void 0;var r,i=n(209787).__importDefault(n(97366)),o=n(51272),a=n(812503),s="1",u=new(function(){function e(){var e=a.isBrowser?window:n.g;e.__dui_style_registry__=e.__dui_style_registry__||{},this.registry=e.__dui_style_registry__}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.registry).length},enumerable:!1,configurable:!0}),e.prototype.set=function(e,t){this.registry[e]=t},e.prototype.get=function(e){return this.registry[e]},e.prototype.add=function(e,t){this.registry[e]||(this.registry[e]=[]),this.registry[e].push(t)},e}());t.injectStyle=function(e,t){var n=i.default+"-"+e,r=o.isScopedAttributeDisabled?e:n,c=!!(a.isBrowser&&document.head.querySelector('style[data-dui-key="'+r+'"]')||!a.isBrowser);if(Array.isArray(u.get(n))&&c){u.add(n,s),l(n);return}u.set(n,[s]);var p=f(e);if(p.length>1&&d(e,p),a.isBrowser){var h=document.createElement("style");h.setAttribute("type","text/css"),h.setAttribute("data-dui-key",r),h.innerText=t,document.head.appendChild(h)}else if("function"==typeof injectContentBeforeRoot){var h='<style type="text/css" data-dui-key="'+r+'">'+t+"</style>";injectContentBeforeRoot(h)}};var c=3e3;function l(e){if(a.isBrowser&&u.length&&Array.isArray(u.get(e))){var t=u.get(e).length;setTimeout(function(){u.get(e).length>t||console.warn("[DUI] "+e+" \u91CD\u590D\u5F15\u5165\u4E86 "+t+" \u6B21")},c)}}function d(e,t){a.isBrowser&&setTimeout(function(){f(e).length>t.length||console.warn("[DUI] "+e+" \u5B58\u5728\u591A\u4E2A\u7248\u672C:  "+t.join("  "))},c)}function f(e){return u.length?Object.getOwnPropertyNames(u.registry).filter(function(t){return -1!==t.indexOf(e)}).map(function(e){return e.split("-")[0]}):[]}},186433:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WithStylusClick=t.StylusAdapter=void 0;var r,i=n(209787),o=i.__importDefault(n(463313)),a=i.__importDefault(n(384341));!function(e){e.direct="direct",e.stylus="stylus"}(r||(r={}));var s=function(){function e(){}return e.supportStylus=function(e,t){if(this.isIPadStylusTouch(e)){if("touchstart"===e.nativeEvent.type){this.startPos=[e.changedTouches[0].clientX,e.changedTouches[0].clientY];return}if("touchend"===e.nativeEvent.type){var n=[e.changedTouches[0].clientX,e.changedTouches[0].clientY];this.isEqualPos(this.startPos,n)&&t&&t(),e.preventDefault()}}},e.startPos=[0,0],e.isIPadStylusTouch=function(e){return a.default.isIPad&&e.changedTouches[0]&&e.changedTouches[0].touchType===r.stylus},e.isEqualPos=function(e,t){return Math.abs(e[0]-t[0])<10&&Math.abs(e[1]-t[1])<10},e}();t.StylusAdapter=s,t.WithStylusClick=function(e){var t=e.children,n=e.clickHandler;return o.default.cloneElement(t,{onClick:n,onTouchStart:function(e){return s.supportStylus(e,n)},onTouchEnd:function(e){return s.supportStylus(e,n)}})}},591829:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createThemedClassNames=t.consumeTheme=void 0;var r=n(209787),i=n(51272).h,o=r.__importStar(n(463313)),a=r.__importDefault(n(684875)),s=r.__importDefault(n(384341));n(668984),n(896439).injectStyle("common/global.css","[data-dui-1-25-1]{font-family:-apple-system,PingFang SC,Microsoft YaHei,Source Han Sans SC,Noto Sans CJK SC,WenQuanYi Micro Hei,sans-serif,TdocsUncommon}[data-dui-1-25-1]:focus{outline:none}.__DARK__{--dui-mask-color:rgba(0,0,0,0.65);--dui-shadow-color:rgba(0,0,0,0.16);--dui-invert-filter:invert() hue-rotate(180deg) brightness(120%) grayscale()}"),!s.default.isMac||s.default.isIPadEmulatedMac||s.default.isFirefox||n(896439).injectStyle("common/anti-alias.css",'[data-dui-1-25-1]{-webkit-font-smoothing:antialiased}[data-dui-1-25-1~="dui-button"]{font-weight:500}');var u=o.createContext(null);function c(e,t){if(!t||!e)return t;var n=t.split(/\s+/);return n.concat.apply(n,n.map(function(t){return e[t]}).filter(function(e){return e})).join(" ")}function l(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return c(e,a.default.apply(void 0,t))}}t.consumeTheme=function(e){return i(u.Consumer,null,function(t){return e(l(t))})},t.createThemedClassNames=l,t.default=u},175139:function(e,t,n){!function(t,n){e.exports=n()}("undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,()=>(()=>{"use strict";var e={15:(e,t,n)=>{var r=n(9481),i=n(7128),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},98:(e,t,n)=>{var r=n(1069),i=n(5839),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a function")}},109:e=>{e.exports={}},405:(e,t,n)=>{var r=n(8552),i=n(2503),o=n(1069),a=n(6915),s=n(5759),u=n(6450),c=function(){},l=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=r(d.exec),p=!d.test(c),h=function(e){if(!o(e))return!1;try{return l(c,[],e),!0}catch(e){return!1}},g=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(d,u(e))}catch(e){return!0}};g.sham=!0,e.exports=!l||i(function(){var e;return h(h.call)||!h(Object)||!h(function(){e=!0})||e})?g:h},452:(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function d(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,{ACCOUNT_TYPE:()=>G,ALL_LOCAL_FILES_DB_NAME:()=>Y,BIND_TYPE:()=>Z,BaseChangeModel:()=>Q,DB_NAME:()=>z,DB_NAME_TESTENV:()=>K,DOCUMENT_DATA_TYPE:()=>j,DOCUMENT_POLICY:()=>N,DOCUMENT_RESOURCE_CACHE_STATUS:()=>k,DOCUMENT_STATUS:()=>O,DOCUMENT_TYPE:()=>A,DOCUMENT_TYPE_DESC:()=>x,DOCUMENT_TYPE_DESC_MAP:()=>F,DOCUMENT_TYPE_MAP:()=>B,DRIVE_TYPE:()=>P,DocumentData:()=>q,DocumentEntity:()=>X,DocumentId:()=>J,DocumentStatus:()=>$,DriveData:()=>ee,LIST_INFO_TYPE:()=>R,LIST_TYPE:()=>L,OfflineData:()=>et,PadInfo:()=>en,TABLE_NAME:()=>U,UserInfo:()=>er,VipLevel:()=>H,VipType:()=>V}),n(8603),n(3672),n(1825),n(9209),n(864),n(6618),n(8996);var p=n(5959),h=n(8038);let g=function(e){function t(t,n){for(var r=this,i=t,o={cause:n};o.cause&&o.cause instanceof Error;)i=t+"\n	\u2192 "+n,o=o.cause;return(r=e.call(this,i)||this).cause=n,r.name=r.constructor.name,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(r,r.constructor):r.stack=Error().stack,Object.setPrototypeOf(r,r.constructor.prototype),r}return(0,p.C6)(t,e),t}(Error),m=function(e,t){return function(n){function r(r,i){var o=n.call(this,r||t||"",i)||this;return o.name=e,Object.setPrototypeOf(o,o.constructor.prototype),o}return(0,p.C6)(r,n),r}(g)},v=function(e,t){return function(n){function r(r,i){var o=n.call(this,t(r),i)||this;return o.name=e,Object.setPrototypeOf(o,o.constructor.prototype),o}return(0,p.C6)(r,n),r}(g)};m("AssertionError","the asserted condition is invalid"),v("UnimplementedError",function(e){return e?"called with arguments: "+JSON.stringify(e):"called with nothing"}),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(0,p.C6)(t,e),t.prototype.isQuotaExceeded=function(){return this.message.includes("QuotaExceededError")}}(v("DatabaseConnectError",function(e){return"failed to connect to database '"+e+"'."})),v("CollectionNotFoundError",function(e){return"model '"+e+"' is not registered, please register it before use it."}),v("DataMigrationError",function(e){return"failed to perform data migration, versionChange: "+e.oldVersion+" -> "+e.newVersion+"."}),v("IncorrectTransactionModeError",function(e){return"use error transaction type["+e+"]."});var y=v("NoTableInfoError",function(e){return"'"+e+"' is not a valid model with table info injected, please ensure the model class is decorated by @table(), @field() etc."}),b=m("EmptyTableInfoError","table without any field declare, please define model use [field] decorator."),_=(v("InvalidWhereInValueError",function(e){return"there is an error in your where clause of field '"+e.path+"'."+e.op+", the value must be an array."}),v("UnsupportedWhereOperatorError",function(e){return"unsupported where operator '"+e+"', current supported operators are >, >=, <, <=, =, !=, in, nin."}),m("OrderByKeyError","can not order value that is not Key: 'Key = number | string | Date | BufferSource | Key[]'."),v("DatabaseInternalError",function(e){return"there is an internal error of database, reason: "+e+"."}),v("QueryJobError",function(e){return"failed to execute query job, reason: "+e+"."}),v("PluginError",function(e){return'an error has occurred on plugin "'+e.name+'"": '+e.message+"."}),m("TransactionCommitError","failed to commit transaction."),m("UpdateMigrationChangeInfoError","failed to update migration change info"),v("ExecuteDataUpgradeError",function(e){return"failed to execute data upgrade on collection '"+e+"'."}),v("UnexpectedClosedError",function(e){return"database "+e+" is unexpectedly closed by browser, this could happen when disk is unavailable or the page is shutdown."}),Symbol.for("TABLE_KEY"));let C=function(){function e(){}return e.saveTableInfo=function(e,t){Object.defineProperty(t,_,{configurable:!0,value:(0,p.Cl)({},e)})},e.getTableInfo=function(e){return e[_]},e.getFirstTableInfoAlongPrototypeChain=function(e){var t=Object.assign({},this.getTableInfo(e));return t.properties=new Map(t.properties),t},e.getTableName=function(e){var t=this.getTableInfo(e.prototype);if(!(null==t?void 0:t.tableName))throw new y(e.name);return t.tableName},e.addTablePropertyInfo=function(t,n){var r=e.getOrCreateTableInfo(t);if(r.properties.has(n.name)){var i=r.properties.get(n.name);Object.assign(n,i)}r.properties.set(n.name,n),this.saveTableInfo(r,t)},e.createPropertyInfo=function(e,t){return{name:e,alias:t,isUnionKey:!1}},e.convertTableInfoToSchema=function(e){if(!e.tableName)return null;var t,n=(0,p.fX)([],(0,p.zs)(e.properties.values())),r=n.filter(function(e){return e.isIndex}).map(function(e){var t,n;return{name:null!=(t=e.alias)?t:e.name,path:null!=(n=e.alias)?n:e.name,unique:e.isUnique}});return t=!e.autoIncrement&&e.keyPath?{path:1===e.keyPath.length?e.keyPath[0]:e.keyPath}:{generator:h.Zi.AutoIncrement},{properties:n.map(function(e){var t;return null!=(t=e.alias)?t:e.name}),indices:r,key:t,name:e.tableName}},e.createDefaultTableInfo=function(){return{tableName:null,autoIncrement:!0,properties:new Map}},e.getOrCreateTableInfo=function(t){if(Object.prototype.hasOwnProperty.call(t,_))return t[_];var n=e.createDefaultTableInfo(),r=t[_];return r&&(n.properties=new Map((0,p.fX)((0,p.fX)([],(0,p.zs)(r.properties)),(0,p.zs)(n.properties)))),e.saveTableInfo(n,t),n},e}(),I=function(){function e(){}return e.revealSchema=function(e){var t=C.getTableInfo(e.prototype);return t?C.convertTableInfoToSchema(t):null},e}(),E=function(){return function(e,t){var n=C.createPropertyInfo(t);n.isPrimaryKey=!0,C.addTablePropertyInfo(e,n)}},w=function(e){return function(t,n){var r=C.createPropertyInfo(n);r.isIndex=!0,r.isUnique=!!(null==e?void 0:e.unique),C.addTablePropertyInfo(t,r)}},S=function(e){return function(t,n){var r=C.createPropertyInfo(n,e);C.addTablePropertyInfo(t,r)}},D=function(e,t){return function(n){var r=C.getFirstTableInfoAlongPrototypeChain(n.prototype);if(!r)throw new b;r.tableName=e;var i=function(e,t){if(null==e?void 0:e.key)return"string"==typeof e.key?[e.key]:e.key;var n=t.filter(function(e){return e.isPrimaryKey}).map(function(e){var t;return null!=(t=e.alias)?t:e.name});return n.length>0?n:void 0}(t,(0,p.fX)([],(0,p.zs)(r.properties.values())));r.keyPath=i,r.autoIncrement=void 0===r.keyPath,C.saveTableInfo(r,n.prototype)}};!function(e){e[e.unknown=-1]="unknown",e[e.doc=0]="doc",e[e.sheet=1]="sheet",e[e.form=2]="form",e[e.folder=3]="folder",e[e.slide=4]="slide",e[e.note=5]="note",e[e.pdf=6]="pdf",e[e.miniProgram=7]="miniProgram",e[e.smartCanvas=8]="smartCanvas",e[e.smartSheet=9]="smartSheet",e[e.unknow=10]="unknow",e[e.resume=11]="resume",e[e.board=12]="board",e[e.drawing=89]="drawing",e[e.mind=90]="mind",e[e.flowchart=91]="flowchart",e[e.file=100]="file",e[e.drive=101]="drive",e[e.sogoSpeech=102]="sogoSpeech",e[e.addon=110]="addon"}(A||(A={})),function(e){e.doc="doc",e.sheet="sheet",e.form="form",e.slide="slide",e.smartSheet="smartSheet",e.smartCanvas="smartCanvas",e.flowchart="flowchart",e.mind="mind",e.pdf="pdf",e.drive="document"}(x||(x={}));var M,T,A,x,N,O,k,R,L,j,P,B=(o(M={},x.doc,A.doc),o(M,x.sheet,A.sheet),o(M,x.slide,A.slide),o(M,x.smartSheet,A.smartSheet),o(M,x.smartCanvas,A.smartCanvas),o(M,x.flowchart,A.flowchart),o(M,x.mind,A.mind),o(M,x.pdf,A.pdf),o(M,x.drive,A.drive),M),F=(o(T={},A.doc,x.doc),o(T,A.sheet,x.sheet),o(T,A.slide,x.slide),o(T,A.smartSheet,x.smartSheet),o(T,A.smartCanvas,x.smartCanvas),o(T,A.flowchart,x.flowchart),o(T,A.mind,x.mind),o(T,A.pdf,x.pdf),o(T,A.drive,x.drive),T);!function(e){e[e.private=0]="private",e[e.partialShare=1]="partialShare",e[e.canRead=2]="canRead",e[e.canEdit=3]="canEdit"}(N||(N={})),function(e){e.new="new",e.local="local",e.deleted="deleted",e.normal="normal"}(O||(O={})),function(e){e.NONE="none",e.SUCCESS="success",e.FAIL="fail",e.ERROR="error"}(k||(k={})),function(e){e[e.file=1]="file",e[e.folder=2]="folder"}(R||(R={})),function(e){e[e.trash=3]="trash",e[e.share=4]="share",e[e.myDoc=5]="myDoc",e[e.recent=6]="recent",e[e.start=7]="start"}(L||(L={})),function(e){e.init="init",e.document="document",e.workbook="workbook",e.chunk="chunk",e.accepted="accepted",e.missChange="misschange",e.newChange="newchange",e.committing="commiting",e.waiting="watting",e.queue="queue"}(j||(j={})),function(e){e.drive="drive",e.attachment="attachment"}(P||(P={}));var U,G,W,Z,V,H,z="TencentDocs",Y="all-local-files/TencentDocs",K="TencentDocs_TestEnv";!function(e){e.documentStatus="DocumentStatus",e.documentEntities="DocumentEntities",e.newDocumentIds="NewDocumentIds",e.padinfo="PadInfo",e.offlineData="OfflineData",e.documentData="DocumentData",e.Users="Users",e.driveData="DriveData"}(U||(U={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.QQ=1]="QQ",e[e.WX=2]="WX",e[e.WORK=3]="WORK",e[e.EMAIL=4]="EMAIL",e[e.PHONE=8]="PHONE",e[e.WORK_COMBINATION=9]="WORK_COMBINATION",e[e.TOWER=10]="TOWER",e[e.ROBOT=11]="ROBOT",e[e.QFYF=12]="QFYF",e[e.OPEN=13]="OPEN",e[e.MEETING=14]="MEETING"}(G||(G={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WECHAT=4]="WECHAT",e[e.WEWORK=3]="WEWORK"}(W||(W={})),function(e){e.BINDING="BINDING",e.UNBIND="UNBIND"}(Z||(Z={})),function(e){e.NORMAL="NORMAL",e.SUPER="SUPER",e.SUPER_PLUS="SUPER_PLUS",e.NONE="NONE",e.EXPIRED="EXPIRED"}(V||(V={})),function(e){e[e.NORMAL=2]="NORMAL",e[e.SUPER=3]="SUPER",e[e.SUPER_PLUS=4]="SUPER_PLUS",e[e.NONE=1]="NONE",e[e.EXPIRED=0]="EXPIRED"}(H||(H={}));var Q=function(e){l(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=f(t);return e=n?Reflect.construct(r,arguments,f(this).constructor):r.apply(this,arguments),d(this,e)});function i(e){var t,n,o,s,u,c,l;return a(this,i),(t=r.call(this)).isDefaultChunk=!1,t.uid=e.uid,t.type=e.type,t.data=e.data,t.dataVersion=e.dataVersion,t.docType=e.docType,t.subId=e.subId,t.secretId=e.secretId,t.version=e.version,t.globalPadId=e.globalPadId,t.taskId=null!=(n=e.taskId)?n:t.getTaskId(),t.isDefaultChunk=null!=(o=e.isDefaultChunk)&&o,t.chunkId=null!=(s=e.chunkId)?s:0,t.docStatus=null!=(u=e.docStatus)?u:O.normal,t.createTimestamp=null!=(c=e.createTimestamp)?c:Date.now(),t.lastModifyTimestamp=null!=(l=e.lastModifyTimestamp)?l:Date.now(),t.key=t.getKey(),t.subGlobalPadId=e.subGlobalPadId,t.subDocType=e.subDocType,t}return u(i,[{key:"getTaskId",value:function(){return Math.ceil(0x80000000*Math.random())}},{key:"getKey",value:function(){return this.type===j.init?"".concat(this.globalPadId,"_").concat(this.subId,"_").concat(this.uid):this.type===j.document?"".concat(this.globalPadId,"_").concat(this.uid,"_version_").concat(this.version):this.type===j.workbook?"".concat(this.globalPadId,"_").concat(this.subId,"_").concat(this.uid,"_version_").concat(this.version):this.type===j.chunk?"".concat(this.globalPadId,"_").concat(this.subId,"_").concat(this.chunkId,"_").concat(this.uid,"_version_").concat(this.version):"".concat(this.globalPadId,"_").concat(this.subId,"_").concat(this.uid,"_taskId_").concat(this.taskId)}}]),i}(I);(0,p.Cg)([E(),(0,p.Sn)("design:type",String)],Q.prototype,"key",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",String)],Q.prototype,"secretId",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",String)],Q.prototype,"globalPadId",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",String)],Q.prototype,"subGlobalPadId",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",Number)],Q.prototype,"subDocType",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",Number)],Q.prototype,"version",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",String)],Q.prototype,"type",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",String)],Q.prototype,"uid",void 0),(0,p.Cg)([w(),S("subSheetId"),(0,p.Sn)("design:type",String)],Q.prototype,"subId",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",Number)],Q.prototype,"chunkId",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Number)],Q.prototype,"taskId",void 0),(0,p.Cg)([S("_data"),(0,p.Sn)("design:type",String)],Q.prototype,"data",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Number)],Q.prototype,"docType",void 0),(0,p.Cg)([S("padStatus"),(0,p.Sn)("design:type",String)],Q.prototype,"docStatus",void 0),(0,p.Cg)([S("createTime"),(0,p.Sn)("design:type",Number)],Q.prototype,"createTimestamp",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Number)],Q.prototype,"lastModifyTimestamp",void 0),(0,p.Cg)([S("dver"),(0,p.Sn)("design:type",String)],Q.prototype,"dataVersion",void 0),(0,p.Cg)([S("default"),(0,p.Sn)("design:type",Object)],Q.prototype,"isDefaultChunk",void 0);var q=function(e){l(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=f(t);return e=n?Reflect.construct(r,arguments,f(this).constructor):r.apply(this,arguments),d(this,e)});function i(){return a(this,i),r.apply(this,arguments)}return u(i)}(Q);q=(0,p.Cg)([D(U.documentData)],q);var X=function(e){l(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=f(t);return e=n?Reflect.construct(r,arguments,f(this).constructor):r.apply(this,arguments),d(this,e)});function i(){return a(this,i),r.apply(this,arguments)}return u(i)}(I);(0,p.Cg)([E(),(0,p.Sn)("design:type",String)],X.prototype,"key",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Object)],X.prototype,"data",void 0),X=(0,p.Cg)([D(U.documentEntities)],X);var J=function(e){l(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=f(t);return e=n?Reflect.construct(r,arguments,f(this).constructor):r.apply(this,arguments),d(this,e)});function i(){var e;return a(this,i),(e=r.apply(this,arguments)).isCreated=!1,e}return u(i)}(I);(0,p.Cg)([E(),(0,p.Sn)("design:type",String)],J.prototype,"globalPadId",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",String)],J.prototype,"secretId",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Number)],J.prototype,"documentType",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",String)],J.prototype,"localPadId",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Object)],J.prototype,"isCreated",void 0),J=(0,p.Cg)([D(U.newDocumentIds)],J);var $=function(e){l(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=f(t);return e=n?Reflect.construct(r,arguments,f(this).constructor):r.apply(this,arguments),d(this,e)});function i(){var e;return a(this,i),(e=r.apply(this,arguments)).lastSyncTimestamp=0,e}return u(i)}(I);(0,p.Cg)([E(),(0,p.Sn)("design:type",String)],$.prototype,"globalPadId",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",String)],$.prototype,"secretId",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",String)],$.prototype,"uid",void 0),(0,p.Cg)([S("lastSyncTime"),(0,p.Sn)("design:type",Object)],$.prototype,"lastSyncTimestamp",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Number)],$.prototype,"lastErrorTimestamp",void 0),$=(0,p.Cg)([D(U.documentStatus)],$);var ee=function(e){l(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=f(t);return e=n?Reflect.construct(r,arguments,f(this).constructor):r.apply(this,arguments),d(this,e)});function i(){return a(this,i),r.apply(this,arguments)}return u(i)}(I);(0,p.Cg)([E(),(0,p.Sn)("design:type",String)],ee.prototype,"driveId",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",String)],ee.prototype,"fileId",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",String)],ee.prototype,"objKey",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",String)],ee.prototype,"secretId",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",String)],ee.prototype,"uid",void 0),(0,p.Cg)([S("type"),(0,p.Sn)("design:type",String)],ee.prototype,"type",void 0),(0,p.Cg)([S("lastRequestTime"),(0,p.Sn)("design:type",Number)],ee.prototype,"lastRequestTime",void 0),(0,p.Cg)([S("fileInfo"),(0,p.Sn)("design:type",Object)],ee.prototype,"fileInfo",void 0),(0,p.Cg)([S("previewInfo"),(0,p.Sn)("design:type",Object)],ee.prototype,"previewInfo",void 0),ee=(0,p.Cg)([D(U.driveData)],ee);var et=function(e){l(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=f(t);return e=n?Reflect.construct(r,arguments,f(this).constructor):r.apply(this,arguments),d(this,e)});function i(){return a(this,i),r.apply(this,arguments)}return u(i)}(Q);et=(0,p.Cg)([D(U.offlineData)],et);var en=function(e){l(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=f(t);return e=n?Reflect.construct(r,arguments,f(this).constructor):r.apply(this,arguments),d(this,e)});function i(){var e;return a(this,i),(e=r.apply(this,arguments)).addListTimestamp=0,e.attribute=null,e.docPolicy=N.private,e.docPrivilege=null,e.folderPolicy=0,e.folderPrivilege=null,e.isManualOffline=!1,e.isOfflineCache=!1,e.hasSnapShot=!1,e.isAddedToMy=0,e.isCollected=0,e.isOwner=1,e.isPinned=0,e.isShortcut=0,e.isUserChangeTitle=!1,e.lastCollectTimestamp=0,e.lastDeleteTimestamp=0,e.parents=[],e.cacheStatus=0,e}return u(i)}(I);(0,p.Cg)([E(),(0,p.Sn)("design:type",String)],en.prototype,"key",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",String)],en.prototype,"secretId",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",String)],en.prototype,"globalPadId",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",String)],en.prototype,"uid",void 0),(0,p.Cg)([S("add_list_ts"),(0,p.Sn)("design:type",Object)],en.prototype,"addListTimestamp",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Object)],en.prototype,"attribute",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Number)],en.prototype,"childrenLength",void 0),(0,p.Cg)([S("client_version"),(0,p.Sn)("design:type",String)],en.prototype,"clientVersion",void 0),(0,p.Cg)([S("create_ts"),(0,p.Sn)("design:type",Number)],en.prototype,"createTimestamp",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",String)],en.prototype,"creator",void 0),(0,p.Cg)([S("creator_domain"),(0,p.Sn)("design:type",String)],en.prototype,"creatorDomain",void 0),(0,p.Cg)([S("doc_icon"),(0,p.Sn)("design:type",String)],en.prototype,"icon",void 0),(0,p.Cg)([S("doc_policy"),(0,p.Sn)("design:type",Number)],en.prototype,"docPolicy",void 0),(0,p.Cg)([S("doc_privilege"),(0,p.Sn)("design:type",Object)],en.prototype,"docPrivilege",void 0),(0,p.Cg)([S("doc_thumbnail"),(0,p.Sn)("design:type",String)],en.prototype,"thumbnail",void 0),(0,p.Cg)([S("doc_type"),(0,p.Sn)("design:type",Number)],en.prototype,"docType",void 0),(0,p.Cg)([S("doc_type_desc"),(0,p.Sn)("design:type",String)],en.prototype,"docTypeDesc",void 0),(0,p.Cg)([S("doc_url"),(0,p.Sn)("design:type",String)],en.prototype,"url",void 0),(0,p.Cg)([S("domain_id"),(0,p.Sn)("design:type",String)],en.prototype,"domainId",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",String)],en.prototype,"dver",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",String)],en.prototype,"folder",void 0),(0,p.Cg)([S("folder_id"),(0,p.Sn)("design:type",String)],en.prototype,"folderId",void 0),(0,p.Cg)([S("folder_policy"),(0,p.Sn)("design:type",Object)],en.prototype,"folderPolicy",void 0),(0,p.Cg)([S("folder_privilege"),(0,p.Sn)("design:type",Object)],en.prototype,"folderPrivilege",void 0),(0,p.Cg)([S("isDelete"),(0,p.Sn)("design:type",Boolean)],en.prototype,"isDeleted",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Object)],en.prototype,"isManualOffline",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Boolean)],en.prototype,"isMyCreated",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Boolean)],en.prototype,"isMydoc",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Object)],en.prototype,"isOfflineCache",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Boolean)],en.prototype,"isRencent",void 0),(0,p.Cg)([S("isShareme"),(0,p.Sn)("design:type",Boolean)],en.prototype,"isShareToMe",void 0),(0,p.Cg)([S("isSnapShot"),(0,p.Sn)("design:type",Object)],en.prototype,"hasSnapShot",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Boolean)],en.prototype,"isStar",void 0),(0,p.Cg)([S("is_added_my"),(0,p.Sn)("design:type",Object)],en.prototype,"isAddedToMy",void 0),(0,p.Cg)([S("is_collected"),(0,p.Sn)("design:type",Object)],en.prototype,"isCollected",void 0),(0,p.Cg)([S("is_owner"),(0,p.Sn)("design:type",Object)],en.prototype,"isOwner",void 0),(0,p.Cg)([S("is_pinned"),(0,p.Sn)("design:type",Object)],en.prototype,"isPinned",void 0),(0,p.Cg)([S("is_shortcut"),(0,p.Sn)("design:type",Object)],en.prototype,"isShortcut",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Object)],en.prototype,"isUserChangeTitle",void 0),(0,p.Cg)([S("lastSyncTime"),(0,p.Sn)("design:type",Number)],en.prototype,"lastSyncTimestamp",void 0),(0,p.Cg)([S("last_browse_ts"),(0,p.Sn)("design:type",Number)],en.prototype,"lastBrowseTimestamp",void 0),(0,p.Cg)([S("last_collect_ts"),(0,p.Sn)("design:type",Object)],en.prototype,"lastCollectTimestamp",void 0),(0,p.Cg)([S("last_delete_ts"),(0,p.Sn)("design:type",Object)],en.prototype,"lastDeleteTimestamp",void 0),(0,p.Cg)([S("last_modify_ts"),(0,p.Sn)("design:type",Number)],en.prototype,"lastModifyTimestamp",void 0),(0,p.Cg)([S("last_modify_nick"),(0,p.Sn)("design:type",String)],en.prototype,"lastModifyNick",void 0),(0,p.Cg)([S("last_modify_uid"),(0,p.Sn)("design:type",String)],en.prototype,"lastModifyUid",void 0),(0,p.Cg)([S("last_pinned_ts"),(0,p.Sn)("design:type",Number)],en.prototype,"lastPinnedTimestamp",void 0),(0,p.Cg)([S("list_info_type"),(0,p.Sn)("design:type",Number)],en.prototype,"listInfoType",void 0),(0,p.Cg)([S("list_type"),(0,p.Sn)("design:type",Number)],en.prototype,"listType",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Boolean)],en.prototype,"offlineCommiting",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Boolean)],en.prototype,"offlineCommitSuccessd",void 0),(0,p.Cg)([S("origin_folder_id"),(0,p.Sn)("design:type",String)],en.prototype,"originFolderId",void 0),(0,p.Cg)([S("owner_nick"),(0,p.Sn)("design:type",String)],en.prototype,"ownerNick",void 0),(0,p.Cg)([S("owner_uid"),(0,p.Sn)("design:type",String)],en.prototype,"ownerUid",void 0),(0,p.Cg)([S("pad_id"),(0,p.Sn)("design:type",String)],en.prototype,"padId",void 0),(0,p.Cg)([S("parent_folder_id"),(0,p.Sn)("design:type",String)],en.prototype,"parentFolderId",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Array)],en.prototype,"parents",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Number)],en.prototype,"privilege",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",String)],en.prototype,"status",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",String)],en.prototype,"title",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Number)],en.prototype,"type",void 0),(0,p.Cg)([S("uncommit"),(0,p.Sn)("design:type",Boolean)],en.prototype,"hasLocalChanges",void 0),(0,p.Cg)([S("doc_sub_type"),(0,p.Sn)("design:type",Number)],en.prototype,"docSubType",void 0),(0,p.Cg)([S("official_auth_info"),(0,p.Sn)("design:type",String)],en.prototype,"officialAuthInfo",void 0),(0,p.Cg)([S("personalize_info"),(0,p.Sn)("design:type",String)],en.prototype,"personalizeInfo",void 0),(0,p.Cg)([S("nativeEngineStatusRecord"),(0,p.Sn)("design:type",String)],en.prototype,"nativeEngineStatusRecord",void 0),(0,p.Cg)([S("nativeEngineDocPrivilege"),(0,p.Sn)("design:type",String)],en.prototype,"nativeEngineDocPrivilege",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",String)],en.prototype,"data",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",String)],en.prototype,"ext",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Boolean)],en.prototype,"isOfflineCacheByNative",void 0),(0,p.Cg)([S("mime_type"),(0,p.Sn)("design:type",String)],en.prototype,"mimeType",void 0),(0,p.Cg)([S("owner_vip_info"),(0,p.Sn)("design:type",String)],en.prototype,"ownerVipInfo",void 0),(0,p.Cg)([S("documentResourceCacheStatus"),(0,p.Sn)("design:type",String)],en.prototype,"documentResourceCacheStatus",void 0),(0,p.Cg)([S("cache_status"),(0,p.Sn)("design:type",Object)],en.prototype,"cacheStatus",void 0),(0,p.Cg)([S("cache_status_ts"),(0,p.Sn)("design:type",Number)],en.prototype,"cacheStatusTs",void 0),en=(0,p.Cg)([D(U.padinfo)],en);var er=function(e){l(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=f(t);return e=n?Reflect.construct(r,arguments,f(this).constructor):r.apply(this,arguments),d(this,e)});function i(e){var t,n,o,s;return a(this,i),(t=r.call(this)).docId=e.docId,t.pageType=e.pageType,t.updateTime=e.updateTime,t.tinyId=e.tinyId,t.wedriveUin=e.wedriveUin,t.wedocOpenId=e.wedocOpenId,t.nowUserIndex=null!=(n=e.nowUserIndex)?n:"",t.corpId=e.corpId,t.corpName=e.corpName,t.englishName=e.englishName,t.loginType=e.loginType,t.uidSource=e.uidSource,t.uin=e.uin,t.userId=e.userId,t.userName=e.userName,t.userPic=e.userPic,t.settings=e.settings,t.bindUserInfo=null!=(o=e.bindUserInfo)?o:{type:Z.UNBIND,userName:"",userPic:"",accountType:G.UNKNOWN},t.vipUserInfo=null!=(s=e.vipUserInfo)?s:{type:V.NONE,vipLevel:H.NONE,beginTime:0,endTime:0},t.key="".concat(t.pageType,"-").concat(t.docId,"-").concat(t.tinyId),t}return u(i)}(I);(0,p.Cg)([E(),(0,p.Sn)("design:type",String)],er.prototype,"key",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",String)],er.prototype,"tinyId",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",String)],er.prototype,"nowUserIndex",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",String)],er.prototype,"docId",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",String)],er.prototype,"pageType",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",String)],er.prototype,"wedriveUin",void 0),(0,p.Cg)([w(),(0,p.Sn)("design:type",String)],er.prototype,"wedocOpenId",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",String)],er.prototype,"corpId",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",String)],er.prototype,"corpName",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",String)],er.prototype,"englishName",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Number)],er.prototype,"loginType",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",String)],er.prototype,"openId",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Number)],er.prototype,"uidSource",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",String)],er.prototype,"uin",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",String)],er.prototype,"userId",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",String)],er.prototype,"userName",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",String)],er.prototype,"userPic",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",String)],er.prototype,"updateTime",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Object)],er.prototype,"settings",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Object)],er.prototype,"bindUserInfo",void 0),(0,p.Cg)([S(),(0,p.Sn)("design:type",Object)],er.prototype,"vipUserInfo",void 0),er=(0,p.Cg)([D(U.Users),(0,p.Sn)("design:paramtypes",[Object])],er)},529:(e,t,n)=>{var r=n(5008),i=n(405),o=n(6154),a=n(891)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(i(t=e.constructor)&&(t===s||r(t.prototype))||o(t)&&null===(t=t[a]))&&(t=void 0),void 0===t?s:t}},581:(e,t,n)=>{var r=n(9060),i=n(2503),o=n(7439);e.exports=!r&&!i(function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},634:(e,t,n)=>{var r=n(3741),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o("Can't set "+i(e)+" as a prototype")}},819:(e,t,n)=>{var r=n(5917);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},847:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},864:(e,t,n)=>{var r=n(8552),i=n(3744),o=Date.prototype,a="Invalid Date",s="toString",u=r(o[s]),c=r(o.getTime);String(new Date(NaN))!==a&&i(o,s,function(){var e=c(this);return e==e?u(this):a})},891:(e,t,n)=>{var r=n(7880),i=n(9481),o=n(9881),a=n(7128),s=n(4375),u=n(1768),c=r.Symbol,l=i("wks"),d=u?c.for||c:c&&c.withoutSetter||a;e.exports=function(e){return o(l,e)||(l[e]=s&&o(c,e)?c[e]:d("Symbol."+e)),l[e]}},942:(e,t,n)=>{var r=n(7880),i=n(7259).f,o=n(9539),a=n(3744),s=n(2449),u=n(2996),c=n(7940);e.exports=function(e,t){var n,l,d,f,p,h=e.target,g=e.global,m=e.stat;if(n=g?r:m?r[h]||s(h,{}):r[h]&&r[h].prototype)for(l in t){if(f=t[l],d=e.dontCallGetSet?(p=i(n,l))&&p.value:n[l],!c(g?l:h+(m?".":"#")+l,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;u(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),a(n,l,f,e)}}},945:(e,t,n)=>{var r=n(9589),i=n(6154),o=n(8109),a=n(6246),s=n(2150),u=n(891),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,u=a(e,l);if(u){if(void 0===t&&(t="default"),!i(n=r(u,e,t))||o(n))return n;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},1002:(e,t,n)=>{var r=n(8552),i=n(98);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},1069:e=>{var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},1161:(e,t,n)=>{var r=n(9060),i=n(3990),o=n(9897),a=n(3327),s=n(8765),u=n(8168);t.f=r&&!i?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),i=u(t),c=i.length,l=0;c>l;)o.f(e,n=i[l++],r[n]);return e}},1684:(e,t,n)=>{var r=n(6915),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},1768:(e,t,n)=>{e.exports=n(4375)&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},1825:(e,t,n)=>{var r=n(942),i=n(5759),o=n(9025),a=n(7038),s=n(9076),u=n(3327),c=n(6154),l=n(4160),d=n(2503),f=i("Reflect","construct"),p=Object.prototype,h=[].push,g=d(function(){function e(){}return!(f(function(){},[],e)instanceof e)}),m=!d(function(){f(function(){})}),v=g||m;r({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(e,t){s(e),u(t);var n=arguments.length<3?e:s(arguments[2]);if(m&&!g)return f(e,t,n);if(e===n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return o(h,r,t),new(o(a,e,r))}var i=n.prototype,d=l(c(i)?i:p),v=o(e,d,t);return c(v)?v:d}})},2150:(e,t,n)=>{var r=n(9589),i=n(1069),o=n(6154),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!o(s=r(n,e))||i(n=e.valueOf)&&!o(s=r(n,e))||"string"!==t&&i(n=e.toString)&&!o(s=r(n,e)))return s;throw new a("Can't convert object to primitive value")}},2328:(e,t,n)=>{var r=n(8552),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},2357:(e,t,n)=>{var r,i,o,a=n(6118),s=n(7880),u=n(6154),c=n(9539),l=n(9881),d=n(6901),f=n(15),p=n(109),h="Object already initialized",g=s.TypeError,m=s.WeakMap;if(a||d.state){var v=d.state||(d.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,r=function(e,t){if(v.has(e))throw new g(h);return t.facade=e,v.set(e,t),t},i=function(e){return v.get(e)||{}},o=function(e){return v.has(e)}}else{var y=f("state");p[y]=!0,r=function(e,t){if(l(e,y))throw new g(h);return t.facade=e,c(e,y,t),t},i=function(e){return l(e,y)?e[y]:{}},o=function(e){return l(e,y)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw new g("Incompatible receiver, "+e+" required");return n}}}},2449:(e,t,n)=>{var r=n(7880),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},2503:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},2655:(e,t,n)=>{var r=n(7880).navigator,i=r&&r.userAgent;e.exports=i?String(i):""},2903:(e,t,n)=>{var r,i,o=n(7880),a=n(2655),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},2996:(e,t,n)=>{var r=n(9881),i=n(6671),o=n(7259),a=n(9897);e.exports=function(e,t,n){for(var s=i(t),u=a.f,c=o.f,l=0;l<s.length;l++){var d=s[l];r(e,d)||n&&r(n,d)||u(e,d,c(t,d))}}},2998:(e,t,n)=>{var r=n(819),i=Math.min;e.exports=function(e){var t=r(e);return t>0?i(t,0x1fffffffffffff):0}},3153:(e,t,n)=>{var r=n(945),i=n(8109);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},3164:(e,t,n)=>{n.r(t),n.d(t,{DataActionType:()=>i,KeyCompareOp:()=>f.qI,KeyGenerator:()=>f.Zi,MIGRATION_ASSIST_TABLE_SCHEMA:()=>a,QueryAggregateType:()=>u,QueryExpType:()=>s,SchemaActionType:()=>r,SchemaDiffUtils:()=>h,SortOrder:()=>c,TransactionMode:()=>d,UNLIMITED:()=>l,WhereOperator:()=>o,equalsKeyPaths:()=>f.xu,getKeyByPath:()=>f.KA,isKey:()=>f.m0}),function(e){e.CreateCollection="create-collection",e.DropCollection="drop-collection",e.CreateIndex="create-index",e.DropIndex="drop-index"}(r||(r={})),function(e){e.MoveProperty="move-property",e.DropProperty="drop-property",e.ReplaceProperty="replace-property",e.ClearData="clear-data",e.ReplaceData="replace-data"}(i||(i={}));var r,i,o,a={name:"alloy_db_schema_table",indices:[],key:{path:"name"},properties:[]};!function(e){e.Equals="=",e.NotEquals="!=",e.GreaterThan=">",e.GreaterOrEqualThan=">=",e.LessThan="<",e.LessOrEqualThan="<=",e.In="in",e.NotIn="nin"}(o||(o={}));var s,u,c,l=void 0;!function(e){e.OR="or",e.AND="and",e.FILTER="filter",e.NONE="none",e.ALL="all"}(s||(s={})),function(e){e.ENTRIES="entries",e.VALUES="values",e.KEYS="keys",e.COUNT="count"}(u||(u={})),function(e){e.DESCENDING="desc",e.ASCENDING="asc"}(c||(c={}));var d,f=n(8038),p=n(5959),h=function(){function e(){}return e.collectionDiff=function(e,t){if(e.name!==t.name)throw Error("can not compare collection schema with different name");var n={collection:e.name},r=t.indices.filter(function(t){return!e.indices.some(function(e){return e.name===t.name})}),i=e.indices.filter(function(e){return!t.indices.some(function(t){return t.name===e.name})});return(r.length||i.length)&&(n.index={added:(0,p.fX)([],(0,p.zs)(r)),deleted:(0,p.fX)([],(0,p.zs)(i))}),n},e.databaseDiff=function(e,t){var n,r,i=this.getCompareMap(e,t),o={added:[],deleted:[],different:[]};try{for(var a=(0,p.Ju)(i.values()),s=a.next();!s.done;s=a.next()){var u=s.value;if(!u.oldValue||u.newValue)if(u.oldValue||!u.newValue){if(u.oldValue&&u.newValue){var c=this.collectionDiff(u.oldValue,u.newValue);if(!c.index)continue;o.different.push(c)}}else o.added.push(u.newValue);else o.deleted.push(u.oldValue)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o},e.getCompareMap=function(e,t){var n,r,i,o,a=new Map;try{for(var s=(0,p.Ju)(t.collections),u=s.next();!u.done;u=s.next()){var c=u.value;(l=a.get(c.name)||{}).newValue=c,a.set(c.name,l)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}try{for(var l,d=(0,p.Ju)(e.collections),f=d.next();!f.done;f=d.next())c=f.value,(l=a.get(c.name)||{}).oldValue=c,a.set(c.name,l)}catch(e){i={error:e}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return a},e}();!function(e){e.READ_ONLY="readonly",e.READ_WRITE="readwrite",e.VERSION_CHANGE="versionchange"}(d||(d={}))},3309:e=>{e.exports=function(e){return null==e}},3327:(e,t,n)=>{var r=n(6154),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not an object")}},3509:(e,t,n)=>{e.exports=n(5759)("document","documentElement")},3520:(e,t,n)=>{e.exports=n(8552)(1..valueOf)},3660:(e,t,n)=>{var r=n(8552),i=n(9881),o=n(8765),a=n(8761).indexOf,s=n(109),u=r([].push);e.exports=function(e,t){var n,r=o(e),c=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&u(l,n);for(;t.length>c;)i(r,n=t[c++])&&(~a(l,n)||u(l,n));return l}},3672:(e,t,n)=>{var r=n(942),i=n(7880),o=n(9303);r({global:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)},3741:(e,t,n)=>{var r=n(6154);e.exports=function(e){return r(e)||null===e}},3744:(e,t,n)=>{var r=n(1069),i=n(9897),o=n(8195),a=n(2449);e.exports=function(e,t,n,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:t;if(r(n)&&o(n,c,s),s.global)u?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(u=!0):delete e[t]}catch(e){}u?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},3765:(e,t,n)=>{var r=n(529);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},3990:(e,t,n)=>{var r=n(9060),i=n(2503);e.exports=r&&i(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},4071:(e,t,n)=>{var r=n(1069),i=n(6154),o=n(5039);e.exports=function(e,t,n){var a,s;return o&&r(a=t.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(e,s),e}},4160:(e,t,n)=>{var r,i=n(3327),o=n(1161),a=n(847),s=n(109),u=n(3509),c=n(7439),l=n(15),d="prototype",f="script",p=l("IE_PROTO"),h=function(){},g=function(e){return"<"+f+">"+e+"</"+f+">"},m=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}v="undefined"!=typeof document?document.domain&&r?m(r):(t=c("iframe"),n="java"+f+":",t.style.display="none",u.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F):m(r);for(var e,t,n,i=a.length;i--;)delete v[d][a[i]];return v()};s[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h[d]=i(e),n=new h,h[d]=null,n[p]=e):n=v(),void 0===t?n:o.f(n,t)}},4375:(e,t,n)=>{var r=n(2903),i=n(2503),o=n(7880).String;e.exports=!!Object.getOwnPropertySymbols&&!i(function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41})},4430:(e,t,n)=>{var r=n(2998);e.exports=function(e){return r(e.length)}},4563:(e,t,n)=>{var r=n(7316),i=n(6915);e.exports=r?({}).toString:function(){return"[object "+i(this)+"]"}},4759:(e,t,n)=>{e.exports=n(7880)},4925:(e,t)=>{var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor;t.f=r&&!n.call({1:2},1)?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},5008:(e,t,n)=>{var r=n(2328);e.exports=Array.isArray||function(e){return"Array"===r(e)}},5039:(e,t,n)=>{var r=n(1002),i=n(6154),o=n(5150),a=n(634);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return o(n),a(r),i(n)&&(t?e(n,r):n.__proto__=r),n}}():void 0)},5150:(e,t,n)=>{var r=n(3309),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},5501:(e,t)=>{t.f=Object.getOwnPropertySymbols},5554:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChangeStorage=void 0,t.ChangeStorage=function(){function e(){}return e.prototype.getChanges=function(e,t,i){return n(this,void 0,void 0,function(){var n;return r(this,function(r){return n=e.where({uid:t.uid,secretId:t.secretId,subGlobalPadId:t.subGlobalPadId,subDocType:{in:t.subDocType},type:{in:t.types},docType:t.docType,dataVersion:t.dataVersion,subId:{in:t.subId?[].concat(t.subId):void 0},chunkId:{in:t.chunkId?[].concat(t.chunkId):void 0},version:{">=":null==i?void 0:i.startVersion,"<=":null==i?void 0:i.endVersion}}),(null==i?void 0:i.orderPath)&&n.orderBy(i.orderPath,i.sortOrder),(null==i?void 0:i.limit)&&n.take(i.limit),[2,n.values()]})})},e.prototype.upsertChanges=function(e,t){return n(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,e.bulkUpsert(t)];case 1:return n.sent(),[2]}})})},e.prototype.deleteChanges=function(e,t){return n(this,void 0,void 0,function(){var n,i,o,a,s,u,c;return r(this,function(r){switch(r.label){case 0:return n=t.uid,i=t.secretId,o=t.globalPadId,a=t.types,s=t.taskIds,u=t.subGlobalPadId,c=t.subDocType,[4,e.where({uid:n,secretId:i,globalPadId:o,subGlobalPadId:u,subDocType:{in:c},type:{in:a},taskId:{in:s},version:{">":t.startVersion||Number.MIN_SAFE_INTEGER,"<":t.endVersion||Number.MAX_SAFE_INTEGER}}).clear()];case 1:return r.sent(),[2]}})})},e}()},5657:(e,t,n)=>{var r=n(9060),i=n(9881),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===(function(){}).name,c=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},5696:(e,t,n)=>{e.exports=!n(2503)(function(){var e=(function(){}).bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})},5759:(e,t,n)=>{var r=n(7880),i=n(1069);e.exports=function(e,t){var n;return arguments.length<2?i(n=r[e])?n:void 0:r[e]&&r[e][t]}},5839:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},5853:e=>{var t=TypeError;e.exports=function(e){if(e>0x1fffffffffffff)throw t("Maximum allowed index exceeded");return e}},5917:e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},5959:(e,t,n)=>{n.d(t,{C6:()=>i,Cg:()=>a,Cl:()=>o,Ju:()=>u,Sn:()=>s,fX:()=>l,zs:()=>c});var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError},6118:(e,t,n)=>{var r=n(7880),i=n(1069),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},6154:(e,t,n)=>{var r=n(1069);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},6246:(e,t,n)=>{var r=n(98),i=n(3309);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},6450:(e,t,n)=>{var r=n(8552),i=n(1069),o=n(6901),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},6618:(e,t,n)=>{var r=n(942),i=n(2503),o=n(5008),a=n(6154),s=n(9421),u=n(4430),c=n(5853),l=n(9e3),d=n(3765),f=n(8605),p=n(891),h=n(2903),g=p("isConcatSpreadable"),m=h>=51||!i(function(){var e=[];return e[g]=!1,e.concat()[0]!==e}),v=function(e){if(!a(e))return!1;var t=e[g];return void 0!==t?!!t:o(e)};r({target:"Array",proto:!0,arity:1,forced:!m||!f("concat")},{concat:function(e){var t,n,r,i,o,a=s(this),f=d(a,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(v(o=-1===t?a:arguments[t]))for(c(p+(i=u(o))),n=0;n<i;n++,p++)n in o&&l(f,p,o[n]);else c(p+1),l(f,p++,o);return f.length=p,f}})},6671:(e,t,n)=>{var r=n(5759),i=n(8552),o=n(8856),a=n(5501),s=n(3327),u=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?u(t,n(e)):t}},6901:(e,t,n)=>{var r=n(7331),i=n(7880),o=n(2449),a="__core-js_shared__",s=e.exports=i[a]||o(a,{});(s.versions||(s.versions=[])).push({version:"3.41.0",mode:r?"pure":"global",copyright:"\xa9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6915:(e,t,n)=>{var r=n(7316),i=n(1069),o=n(2328),a=n(891)("toStringTag"),s=Object,u="Arguments"===o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?n:u?o(t):"Object"===(r=o(t))&&i(t.callee)?"Arguments":r}},7038:(e,t,n)=>{var r=n(8552),i=n(98),o=n(6154),a=n(9881),s=n(7848),u=n(5696),c=Function,l=r([].concat),d=r([].join),f={};e.exports=u?c.bind:function(e){var t=i(this),n=t.prototype,r=s(arguments,1),u=function(){var n=l(r,s(arguments));return this instanceof u?function(e,t,n){if(!a(f,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";f[t]=c("C,a","return new C("+d(r,",")+")")}return f[t](e,n)}(t,n.length,n):t.apply(e,n)};return o(n)&&(u.prototype=n),u}},7074:(e,t,n)=>{var r=n(8552),i=n(5150),o=n(1684),a=n(7972),s=r("".replace),u=RegExp("^["+a+"]+"),c=RegExp("(^|[^"+a+"])["+a+"]+$"),l=function(e){return function(t){var n=o(i(t));return 1&e&&(n=s(n,u,"")),2&e&&(n=s(n,c,"$1")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},7128:(e,t,n)=>{var r=n(8552),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},7188:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.OfflineEditService=void 0;var a=n(3164),s=n(452),u=n(8330),c=n(5554);t.OfflineEditService=function(){var e;function t(){this.changeStorage=new c.ChangeStorage}return t.prototype.deleteAndUpsertChanges=function(e,t){return i(this,arguments,void 0,function(e,t){var n,u=this,c=e.condition,l=e.idOption,d=e.offlineDataList;return o(this,function(e){switch(e.label){case 0:return n=r({uid:l.uid,secretId:l.secretId},c),[4,t[0].transaction([s.OfflineData],a.TransactionMode.READ_WRITE,function(e){return i(u,void 0,void 0,function(){var t;return o(this,function(r){switch(r.label){case 0:return[4,(t=e.collection(s.OfflineData)).where({uid:n.uid,secretId:n.secretId,subGlobalPadId:n.subGlobalPadId,type:{in:n.types},subDocType:{in:n.subDocType}}).clear()];case 1:return r.sent(),(null==d?void 0:d.length)?(d.forEach(function(e){return Object.setPrototypeOf(e,s.OfflineData.prototype)}),[4,t.bulkUpsert(d)]):[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})})];case 1:return e.sent(),[2]}})})},t.prototype.getOfflineDataChanges=function(e,t){return i(this,arguments,void 0,function(e,t){var n,r=e.storageOption,i=e.queryOption;return o(this,function(e){switch(e.label){case 0:return n=t[0].collection(s.OfflineData),[4,this.changeStorage.getChanges(n,r,i)];case 1:return[2,e.sent()]}})})},t.prototype.getDocumentChanges=function(e,t){return i(this,arguments,void 0,function(e,t){var n,r=e.storageOption,i=e.queryOption;return o(this,function(e){return n=t[0].collection(s.DocumentData),[2,this.changeStorage.getChanges(n,r,i)]})})},t.prototype.deleteDocumentChanges=function(e,t){return i(this,arguments,void 0,function(e,t){var n,r=e.option;return o(this,function(e){return n=t[0].collection(s.DocumentData),[2,this.changeStorage.deleteChanges(n,r)]})})},t.prototype.upsertOfflineDataChanges=function(e,t){return i(this,arguments,void 0,function(e,t){var n,r=e.changes,i=void 0===r?[]:r;return o(this,function(e){return n=t[0].collection(s.OfflineData),i.forEach(function(e){return Object.setPrototypeOf(e,s.OfflineData.prototype)}),[2,this.changeStorage.upsertChanges(n,i)]})})},t.prototype.deleteOfflineDataChanges=function(e,t){return i(this,arguments,void 0,function(e,t){var n,r=e.option;return o(this,function(e){return n=t[0].collection(s.OfflineData),[2,this.changeStorage.deleteChanges(n,r)]})})},t.serviceName=null==(e=u.name.split("/"))?void 0:e[1],t.serviceVersion=u.version,t}()},7259:(e,t,n)=>{var r=n(9060),i=n(9589),o=n(4925),a=n(8780),s=n(8765),u=n(3153),c=n(9881),l=n(581),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=u(t),l)try{return d(e,t)}catch(e){}if(c(e,t))return a(!i(o.f,e,t),e[t])}},7316:(e,t,n)=>{var r={};r[n(891)("toStringTag")]="z",e.exports="[object z]"===String(r)},7331:e=>{e.exports=!1},7439:(e,t,n)=>{var r=n(7880),i=n(6154),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},7848:(e,t,n)=>{e.exports=n(8552)([].slice)},7880:function(e,t,n){var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},7940:(e,t,n)=>{var r=n(2503),i=n(1069),o=/#|\.prototype\./,a=function(e,t){var n=u[s(e)];return n===l||n!==c&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},7972:e=>{e.exports="	\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF"},8038:(e,t,n)=>{var r,i;function o(e){return"number"==typeof e&&!Number.isNaN(e)||"string"==typeof e||e instanceof Date&&!Number.isNaN(e.getTime())||e instanceof ArrayBuffer||ArrayBuffer.isView(e)||Array.isArray(e)&&e.every(o)}function a(e,t){var n=e;return Array.isArray(t)?t.map(function(e){return n[e]}):n[t]}function s(e,t){return Array.isArray(e)?Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return s(e,t[n])}):e===t}n.d(t,{KA:()=>a,Zi:()=>r,m0:()=>o,qI:()=>i,xu:()=>s}),function(e){e.AutoIncrement="auto-increment"}(r||(r={})),function(e){e.Equals="=",e.GreaterThan=">",e.GreaterOrEqualThan=">=",e.LessThan="<",e.LessOrEqualThan="<="}(i||(i={}))},8109:(e,t,n)=>{var r=n(5759),i=n(1069),o=n(9905),a=n(1768),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,s(e))}},8168:(e,t,n)=>{var r=n(3660),i=n(847);e.exports=Object.keys||function(e){return r(e,i)}},8195:(e,t,n)=>{var r=n(8552),i=n(2503),o=n(1069),a=n(9881),s=n(9060),u=n(5657).CONFIGURABLE,c=n(6450),l=n(2357),d=l.enforce,f=l.get,p=String,h=Object.defineProperty,g=r("".slice),m=r("".replace),v=r([].join),y=s&&!i(function(){return 8!==h(function(){},"length",{value:8}).length}),b=String(String).split("String"),_=e.exports=function(e,t,n){"Symbol("===g(p(t),0,7)&&(t="["+m(p(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||u&&e.name!==t)&&(s?h(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&a(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=d(e);return a(r,"source")||(r.source=v(b,"string"==typeof t?t:"")),e};Function.prototype.toString=_(function(){return o(this)&&f(this).source||c(this)},"toString")},8330:e=>{e.exports=JSON.parse('{"name":"@tencent/dw-offline-edit-service","version":"1.0.4","description":"> TODO: description","author":"huihuidi <huihuidi@tencent.com>","homepage":"","license":"ISC","main":"lib/index.js","types":"lib/types/index.d.ts","directories":{"lib":"lib","test":"__tests__"},"files":["lib"],"publishConfig":{"registry":"https://mirrors.tencent.com/npm/"},"repository":{"type":"git","url":"https://git.woa.com/grapepeng/desktop-worker.git"},"scripts":{"test":"node ./__tests__/dw-offline-edit-service.test.js","build":"cross-env NODE_ENV=production webpack","dev":"cross-env NODE_ENV=development webpack","dev:watch":"cross-env NODE_ENV=development webpack --watch"},"gitHead":"0099349aed9f0b5e0480ca94c9c5d13f05e404d4"}')},8552:(e,t,n)=>{var r=n(5696),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);e.exports=r?a:function(e){return function(){return o.apply(e,arguments)}}},8603:(e,t,n)=>{var r=n(7316),i=n(3744),o=n(4563);r||i(Object.prototype,"toString",o,{unsafe:!0})},8605:(e,t,n)=>{var r=n(2503),i=n(891),o=n(2903),a=i("species");e.exports=function(e){return o>=51||!r(function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},8761:(e,t,n)=>{var r=n(8765),i=n(9746),o=n(4430),a=function(e){return function(t,n,a){var s=r(t),u=o(s);if(0===u)return!e&&-1;var c,l=i(a,u);if(e&&n!=n){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},8765:(e,t,n)=>{var r=n(8983),i=n(5150);e.exports=function(e){return r(i(e))}},8780:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},8856:(e,t,n)=>{var r=n(3660),i=n(847).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},8983:(e,t,n)=>{var r=n(8552),i=n(2503),o=n(2328),a=Object,s=r("".split);e.exports=i(function(){return!a("z").propertyIsEnumerable(0)})?function(e){return"String"===o(e)?s(e,""):a(e)}:a},8996:(e,t,n)=>{var r=n(942),i=n(7331),o=n(9060),a=n(7880),s=n(4759),u=n(8552),c=n(7940),l=n(9881),d=n(4071),f=n(9905),p=n(8109),h=n(945),g=n(2503),m=n(8856).f,v=n(7259).f,y=n(9897).f,b=n(3520),_=n(7074).trim,C="Number",I=a[C],E=s[C],w=I.prototype,S=a.TypeError,D=u("".slice),M=u("".charCodeAt),T=c(C,!I(" 0o1")||!I("0b1")||I("+0x1")),A=function(e){var t,n=arguments.length<1?0:I(function(e){var t=h(e,"number");return"bigint"==typeof t?t:function(e){var t,n,r,i,o,a,s,u,c=h(e,"number");if(p(c))throw new S("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2){if(43===(t=M(c=_(c),0))||45===t){if(88===(n=M(c,2))||120===n)return NaN}else if(48===t){switch(M(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=(o=D(c,2)).length,s=0;s<a;s++)if((u=M(o,s))<48||u>i)return NaN;return parseInt(o,r)}}return+c}(t)}(e));return f(w,t=this)&&g(function(){b(t)})?d(Object(n),this,A):n};A.prototype=w,T&&!i&&(w.constructor=A),r({global:!0,constructor:!0,wrap:!0,forced:T},{Number:A});var x=function(e,t){for(var n,r=o?m(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;r.length>i;i++)l(t,n=r[i])&&!l(e,n)&&y(e,n,v(t,n))};i&&E&&x(s[C],E),(T||i)&&x(s[C],I)},9e3:(e,t,n)=>{var r=n(9060),i=n(9897),o=n(8780);e.exports=function(e,t,n){r?i.f(e,t,o(0,n)):e[t]=n}},9025:(e,t,n)=>{var r=n(5696),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},9060:(e,t,n)=>{e.exports=!n(2503)(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},9076:(e,t,n)=>{var r=n(405),i=n(5839),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a constructor")}},9209:(e,t,n)=>{var r=n(942),i=n(8552),o=Date,a=i(o.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return a(new o)}})},9303:(e,t,n)=>{var r=n(9897).f,i=n(9881),o=n(891)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},9421:(e,t,n)=>{var r=n(5150),i=Object;e.exports=function(e){return i(r(e))}},9481:(e,t,n)=>{var r=n(6901);e.exports=function(e,t){return r[e]||(r[e]=t||{})}},9539:(e,t,n)=>{var r=n(9060),i=n(9897),o=n(8780);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9589:(e,t,n)=>{var r=n(5696),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},9746:(e,t,n)=>{var r=n(819),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},9881:(e,t,n)=>{var r=n(8552),i=n(9421),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},9897:(e,t,n)=>{var r=n(9060),i=n(581),o=n(3990),a=n(3327),s=n(3153),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";t.f=r?o?function(e,t,n){if(a(e),t=s(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var r=l(e,t);r&&r[p]&&(e[t]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:d in n?n[d]:r[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(a(e),t=s(t),a(n),i)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},9905:(e,t,n)=>{e.exports=n(8552)({}.isPrototypeOf)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(7188);Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.OfflineEditService}})})(),r})())},3852:function(e,t,n){!function(t,r){e.exports=r(n(451831),n(363534),n(766829),n(702898),n(717457),n(455501),n(602337))}("undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,(e,t,n,r,i,o,a)=>(()=>{"use strict";var s={38:t=>{t.exports=e},217:e=>{e.exports=t},231:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.DWServiceDispatcher=void 0;var o=n(988),a=n(38),s=n(602),u=n(259),c=n(855),l=n(217),d=n(590),f=n(438),p=n(891);t.DWServiceDispatcher=function(){var e;function t(){}return t.run=function(e,t,n){return r(this,void 0,void 0,function(){var r,o;return i(this,function(i){return r=e.serviceName,o=e.serviceVersion,[2,Promise.race([this.handleRun(e,t,n),new Promise(function(e,n){return setTimeout(function(){setTimeout(function(){n(Error("DWServiceDispatcher\u8D85\u65F6. serviceName: ".concat(r,", serviceVersion: ").concat(o,", method:  ").concat(t)))},1)},1e4)})])]})})},t.handleRun=function(e,t,n){return r(this,arguments,void 0,function(e,t,n){var r,a,s,u,c,l,d,f,p,h,g,m=this,v=n.params,y=n.storageManagerConfigList,b=n.dbType,_=void 0===b?this.isSupportClientDB()?o.DBEngineType.nativeDB:o.DBEngineType.indexDB:b;return i(this,function(n){switch(n.label){case 0:if(n.trys.push([0,6,,7]),r=e.serviceName,a=e.serviceVersion,!(null==y?void 0:y[0]))throw Error("Param [storageManagerConfigList] must contain config");return s=void 0,_===o.DBEngineType.nativeDB&&this.checkDwServiceAvailable()?(null==(d=window.log)||d.info("DWServiceDispatcher requestDesktopWorker. name: ".concat(r," version: ").concat(a," method: ").concat(t)),[4,(null==(f=null==window?void 0:window.mqq)?void 0:f.requestDesktopWorker)({serviceName:r,version:a,method:t,params:v,storageList:y})]):[3,2];case 1:if((s=n.sent()).code)throw null==(p=window.log)||p.error("DWServiceDispatcher requestDesktopWorker error! name: ${serviceName} version: ${serviceVersion} method: ${method as string}",s),Error(s.data);return[3,5];case 2:return u=new e,null==(h=window.log)||h.info("DWServiceDispatcher handle. name: ".concat(r," version: ").concat(a," method: ").concat(t)),[4,Promise.all(y.map(function(e){return m.getStorage(_,e)}))];case 3:return c=n.sent().map(function(e){var t=e.storage;if(!e.isAvailable)throw Error("storage not available!");return t}),[4,u[t](v,c)];case 4:s={code:0,data:n.sent()},n.label=5;case 5:return[2,s.data];case 6:throw l=n.sent(),console.error("DWServiceDispatcher ".concat(String(t)," error: ").concat(l)),null==(g=null==window?void 0:window.log)||g.error("DWServiceDispatcher ".concat(String(t)," error: ").concat(l)),l;case 7:return[2]}})})},t.checkDBAvailable=function(e,t){return r(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return e===o.DBEngineType.nativeDB&&this.checkDwServiceAvailable()?[2,!0]:[4,this.getStorage(e,{databaseName:t})];case 1:return[2,n.sent().isAvailable]}})})},t.checkDwServiceAvailable=function(){var e,t,n,r,i,o=(i=null==(n=null==(t=null==(e=window.ToggleConfig)?void 0:e.find(function(e){return"210"===e.id}))?void 0:t.status)||n,(null==(r=null==window?void 0:window.mqq)?void 0:r.requestDesktopWorker)&&i);return this.checkDwServiceAvailable=function(){return o},o},t.getStorage=function(e,t){return r(this,void 0,void 0,function(){var n,r,o,a,u;return i(this,function(i){return n=null!=(u=t.databaseName)?u:s.DB_NAME,r="".concat(n,"/").concat(e),(o=this.dbCacheMap.get(r))?[2,o]:(a=this.createStorage(t,e),this.dbCacheMap.set(r,a),[2,a])})})},t.createStorage=function(e,t){return r(this,void 0,void 0,function(){var n,r,l,d,p,h,g,m,v=this;return i(this,function(i){switch(i.label){case 0:n=null!=(g=e.databaseName)?g:s.DB_NAME,(h={})[o.DBEngineType.indexDB]=u.default,h[o.DBEngineType.nativeDB]=c.default,r=h[t],d={storage:l=new a.default({name:n,version:f.DATABASE_VERSION,engine:new r,databaseSchema:f.DATABASE_SCHEMA,disableAutoOpen:e.disableAutoOpen,plugins:this.getPlugins(e),supportCompatibleOpen:!0}),isAvailable:!0},l.events.onVersionChange(function(){var e;l.close(),d.isAvailable=!1,null==(e=null==window?void 0:window.log)||e.error("DWServiceDispatcher Storage Version Change. dbName: ".concat(n,", type: ").concat(o.DBEngineType[t]," .")),v.emit(o.DWDispacherEventName.VersionChange,n,t)}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,l.open()];case 2:return i.sent(),d.isAvailable=!0,[3,4];case 3:return p=i.sent(),null==(m=window.log)||m.error(p),d.isAvailable=!1,[3,4];case 4:return[2,d]}})})},t.getPlugins=function(e){var t=[];if(e.logger){var n=new l.default({logger:e.logger,disabled:!!e.disabled,verbose:!!e.verbose});t.push(n)}return e.monitorReporter&&t.push((0,d.getMonitorPlugin)(e.monitorReporter)),t},t.isSupportClientDB=function(){var e,t=!!(null==(e=/_tdocFlag\/(\d+)/.exec(navigator.userAgent))?void 0:e[1])&&(2&parseInt(e[1],10))>0;return this.isSupportClientDB=function(){return t},t},e=t,t.dbCacheMap=new Map,t.eventEmitter=new p.EventEmitter,t.on=e.eventEmitter.on.bind(e.eventEmitter),t.emit=e.eventEmitter.emit.bind(e.eventEmitter),t}()},259:e=>{e.exports=n},438:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DATABASE_VERSION=t.DATABASE_SCHEMA=void 0,t.DATABASE_SCHEMA='{"name":"unknown","collections":[{"name":"DocumentData","key":{"path":"key"},"indices":[{"name":"secretId","path":"secretId","unique":false},{"name":"globalPadId","path":"globalPadId","unique":false},{"name":"subGlobalPadId","path":"subGlobalPadId","unique":false},{"name":"subDocType","path":"subDocType","unique":false},{"name":"version","path":"version","unique":false},{"name":"type","path":"type","unique":false},{"name":"uid","path":"uid","unique":false},{"name":"subId","path":"subSheetId","unique":false},{"name":"chunkId","path":"chunkId","unique":false}],"properties":["key","secretId","globalPadId","subGlobalPadId","subDocType","version","type","uid","subId","chunkId","taskId","data","docType","docStatus","createTimestamp","lastModifyTimestamp","dataVersion","isDefaultChunk"]},{"name":"DocumentEntities","key":{"path":"key"},"indices":[],"properties":["key","data"]},{"name":"NewDocumentIds","key":{"path":"globalPadId"},"indices":[],"properties":["globalPadId","secretId","documentType","localPadId","isCreated"]},{"name":"DocumentStatus","key":{"path":"globalPadId"},"indices":[{"name":"secretId","path":"secretId","unique":false},{"name":"uid","path":"uid","unique":false}],"properties":["globalPadId","secretId","uid","lastSyncTimestamp","lastErrorTimestamp"]},{"name":"DriveData","key":{"path":"driveId"},"indices":[{"name":"fileId","path":"fileId","unique":false},{"name":"objKey","path":"objKey","unique":false},{"name":"secretId","path":"secretId","unique":false},{"name":"uid","path":"uid","unique":false}],"properties":["driveId","fileId","objKey","secretId","uid","type","lastRequestTime","fileInfo","previewInfo"]},{"name":"OfflineData","key":{"path":"key"},"indices":[{"name":"secretId","path":"secretId","unique":false},{"name":"globalPadId","path":"globalPadId","unique":false},{"name":"subGlobalPadId","path":"subGlobalPadId","unique":false},{"name":"subDocType","path":"subDocType","unique":false},{"name":"version","path":"version","unique":false},{"name":"type","path":"type","unique":false},{"name":"uid","path":"uid","unique":false},{"name":"subId","path":"subSheetId","unique":false},{"name":"chunkId","path":"chunkId","unique":false}],"properties":["key","secretId","globalPadId","subGlobalPadId","subDocType","version","type","uid","subId","chunkId","taskId","data","docType","docStatus","createTimestamp","lastModifyTimestamp","dataVersion","isDefaultChunk"]},{"name":"PadInfo","key":{"path":"key"},"indices":[{"name":"secretId","path":"secretId","unique":false},{"name":"globalPadId","path":"globalPadId","unique":false},{"name":"uid","path":"uid","unique":false}],"properties":["key","secretId","globalPadId","uid","addListTimestamp","attribute","childrenLength","clientVersion","createTimestamp","creator","creatorDomain","icon","docPolicy","docPrivilege","thumbnail","docType","docTypeDesc","url","domainId","dver","folder","folderId","folderPolicy","folderPrivilege","isDeleted","isManualOffline","isMyCreated","isMydoc","isOfflineCache","isRencent","isShareToMe","hasSnapShot","isStar","isAddedToMy","isCollected","isOwner","isPinned","isShortcut","isUserChangeTitle","lastSyncTimestamp","lastBrowseTimestamp","lastCollectTimestamp","lastDeleteTimestamp","lastModifyTimestamp","lastModifyNick","lastModifyUid","lastPinnedTimestamp","listInfoType","listType","offlineCommiting","offlineCommitSuccessd","originFolderId","ownerNick","ownerUid","padId","parentFolderId","parents","privilege","status","title","type","hasLocalChanges","docSubType","officialAuthInfo","personalizeInfo","nativeEngineStatusRecord","nativeEngineDocPrivilege","data","ext","isOfflineCacheByNative","mimeType","ownerVipInfo","documentResourceCacheStatus","cacheStatus","cacheStatusTs"]},{"name":"Users","key":{"path":"key"},"indices":[{"name":"tinyId","path":"tinyId","unique":false},{"name":"nowUserIndex","path":"nowUserIndex","unique":false},{"name":"docId","path":"docId","unique":false},{"name":"pageType","path":"pageType","unique":false},{"name":"wedriveUin","path":"wedriveUin","unique":false},{"name":"wedocOpenId","path":"wedocOpenId","unique":false}],"properties":["key","tinyId","nowUserIndex","docId","pageType","wedriveUin","wedocOpenId","corpId","corpName","englishName","loginType","openId","uidSource","uin","userId","userName","userPic","updateTime","settings","bindUserInfo","vipUserInfo"]}]}',t.DATABASE_VERSION=5},441:e=>{e.exports=r},590:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getMonitorPlugin=function(e){return new r.default({onEvent:function(t){e.report(i,{action:t.action,module:t.module,retCode:t.actionExecuteState,cost:t.cost,time:t.time.getTime(),errorMsg:t.errorMsg})}})};var r=n(441),i="storageActionResultAndCost"},602:e=>{e.exports=i},855:e=>{e.exports=o},891:e=>{e.exports=a},988:(e,t)=>{var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.DWDispacherEventName=t.DBEngineType=void 0,function(e){e[e.indexDB=1]="indexDB",e[e.nativeDB=2]="nativeDB"}(n||(t.DBEngineType=n={})),function(e){e.VersionChange="VersionChange"}(r||(t.DWDispacherEventName=r={}))}},u={};function c(e){var t=u[e];if(void 0!==t)return t.exports;var n=u[e]={exports:{}};return s[e].call(n.exports,n,n.exports,c),n.exports}var l={};return(()=>{var e=l;Object.defineProperty(e,"__esModule",{value:!0}),e.DWDispacherEventName=e.DBEngineType=e.default=void 0;var t=c(231);Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.DWServiceDispatcher}});var n=c(988);Object.defineProperty(e,"DBEngineType",{enumerable:!0,get:function(){return n.DBEngineType}}),Object.defineProperty(e,"DWDispacherEventName",{enumerable:!0,get:function(){return n.DWDispacherEventName}})})(),l})())},695522:function(e,t,n){!function(t,r){e.exports=r(n(451831),n(363534),n(766829),n(702898),n(717457),n(455501),n(602337))}("undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,(e,t,n,r,i,o,a)=>(()=>{"use strict";var s={38:t=>{t.exports=e},217:e=>{e.exports=t},231:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.DWServiceDispatcher=void 0;var o=n(988),a=n(38),s=n(602),u=n(259),c=n(855),l=n(217),d=n(590),f=n(438),p=n(891);t.DWServiceDispatcher=function(){var e;function t(){}return t.run=function(e,t,n){return r(this,void 0,void 0,function(){var r,o;return i(this,function(i){return r=e.serviceName,o=e.serviceVersion,[2,Promise.race([this.handleRun(e,t,n),new Promise(function(e,n){return setTimeout(function(){setTimeout(function(){n(Error("DWServiceDispatcher\u8D85\u65F6. serviceName: ".concat(r,", serviceVersion: ").concat(o,", method:  ").concat(t)))},1)},1e4)})])]})})},t.handleRun=function(e,t,n){return r(this,arguments,void 0,function(e,t,n){var r,a,s,u,c,l,d,f,p,h,g,m=this,v=n.params,y=n.storageManagerConfigList,b=n.dbType,_=void 0===b?this.isSupportClientDB()?o.DBEngineType.nativeDB:o.DBEngineType.indexDB:b;return i(this,function(n){switch(n.label){case 0:if(n.trys.push([0,6,,7]),r=e.serviceName,a=e.serviceVersion,!(null==y?void 0:y[0]))throw Error("Param [storageManagerConfigList] must contain config");return s=void 0,_===o.DBEngineType.nativeDB&&this.checkDwServiceAvailable()?(null==(d=window.log)||d.info("DWServiceDispatcher requestDesktopWorker. name: ".concat(r," version: ").concat(a," method: ").concat(t)),[4,(null==(f=null==window?void 0:window.mqq)?void 0:f.requestDesktopWorker)({serviceName:r,version:a,method:t,params:v,storageList:y})]):[3,2];case 1:if((s=n.sent()).code)throw null==(p=window.log)||p.error("DWServiceDispatcher requestDesktopWorker error! name: ${serviceName} version: ${serviceVersion} method: ${method as string}",s),Error(s.data);return[3,5];case 2:return u=new e,null==(h=window.log)||h.info("DWServiceDispatcher handle. name: ".concat(r," version: ").concat(a," method: ").concat(t)),[4,Promise.all(y.map(function(e){return m.getStorage(_,e)}))];case 3:return c=n.sent().map(function(e){var t=e.storage;if(!e.isAvailable)throw Error("storage not available!");return t}),[4,u[t](v,c)];case 4:s={code:0,data:n.sent()},n.label=5;case 5:return[2,s.data];case 6:throw l=n.sent(),console.error("DWServiceDispatcher ".concat(String(t)," error: ").concat(l)),null==(g=null==window?void 0:window.log)||g.error("DWServiceDispatcher ".concat(String(t)," error: ").concat(l)),l;case 7:return[2]}})})},t.checkDBAvailable=function(e,t){return r(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return e===o.DBEngineType.nativeDB&&this.checkDwServiceAvailable()?[2,!0]:[4,this.getStorage(e,{databaseName:t})];case 1:return[2,n.sent().isAvailable]}})})},t.checkDwServiceAvailable=function(){var e,t,n,r,i,o=(i=null==(n=null==(t=null==(e=window.ToggleConfig)?void 0:e.find(function(e){return"210"===e.id}))?void 0:t.status)||n,(null==(r=null==window?void 0:window.mqq)?void 0:r.requestDesktopWorker)&&i);return this.checkDwServiceAvailable=function(){return o},o},t.getStorage=function(e,t){return r(this,void 0,void 0,function(){var n,r,o,a,u;return i(this,function(i){return n=null!=(u=t.databaseName)?u:s.DB_NAME,r="".concat(n,"/").concat(e),(o=this.dbCacheMap.get(r))?[2,o]:(a=this.createStorage(t,e),this.dbCacheMap.set(r,a),[2,a])})})},t.createStorage=function(e,t){return r(this,void 0,void 0,function(){var n,r,l,d,p,h,g,m,v,y,b,_,C,I,E,w,S,D,M=this;return i(this,function(i){switch(i.label){case 0:r=void 0===(n=e.timeout)?2e4:n,d=null!=(l=e.databaseName)?l:s.DB_NAME,(v={})[o.DBEngineType.indexDB]=u.default,v[o.DBEngineType.nativeDB]=c.default,p=v[t],g={storage:h=new a.default({name:d,version:f.DATABASE_VERSION,engine:new p,databaseSchema:f.DATABASE_SCHEMA,disableAutoOpen:e.disableAutoOpen,plugins:this.getPlugins(e),supportCompatibleOpen:!0}),isAvailable:!0},h.events.onVersionChange(function(){var e;h.close(),g.isAvailable=!1,null==(e=null==window?void 0:window.log)||e.error("DWServiceDispatcher Storage Version Change. dbName: ".concat(d,", type: ").concat(o.DBEngineType[t]," .")),M.emit(o.DWDispacherEventName.VersionChange,d,t)}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Promise.race([h.open(),new Promise(function(e,t){setTimeout(function(){t(Error("Storage open timeout. dbName: ".concat(d)))},r)})])];case 2:return i.sent(),g.isAvailable=!0,[3,4];case 3:m=i.sent(),g.isAvailable=!1,null==(y=window.log)||y.error(m);try{null==(b=window.log)||b.error(null==m?void 0:m.name),null==(_=window.log)||_.error(null==m?void 0:m.message),null==(C=window.log)||C.error(null==m?void 0:m.stack),null==(I=window.log)||I.error(null==(E=null==m?void 0:m.cause)?void 0:E.message),null==(w=window.log)||w.error(null==(S=null==m?void 0:m.cause)?void 0:S.stack)}catch(e){null==(D=window.log)||D.error(e)}return[3,4];case 4:return[2,g]}})})},t.getPlugins=function(e){var t=[];if(e.logger){var n=new l.default({logger:e.logger,disabled:!!e.disabled,verbose:!!e.verbose});t.push(n)}return e.monitorReporter&&t.push((0,d.getMonitorPlugin)(e.monitorReporter)),t},t.isSupportClientDB=function(){var e,t=!!(null==(e=/_tdocFlag\/(\d+)/.exec(navigator.userAgent))?void 0:e[1])&&(2&parseInt(e[1],10))>0;return this.isSupportClientDB=function(){return t},t},e=t,t.dbCacheMap=new Map,t.eventEmitter=new p.EventEmitter,t.on=e.eventEmitter.on.bind(e.eventEmitter),t.emit=e.eventEmitter.emit.bind(e.eventEmitter),t}()},259:e=>{e.exports=n},438:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DATABASE_VERSION=t.DATABASE_SCHEMA=void 0,t.DATABASE_SCHEMA='{"name":"unknown","collections":[{"name":"DocumentData","key":{"path":"key"},"indices":[{"name":"secretId","path":"secretId","unique":false},{"name":"globalPadId","path":"globalPadId","unique":false},{"name":"subGlobalPadId","path":"subGlobalPadId","unique":false},{"name":"subDocType","path":"subDocType","unique":false},{"name":"version","path":"version","unique":false},{"name":"type","path":"type","unique":false},{"name":"uid","path":"uid","unique":false},{"name":"subId","path":"subSheetId","unique":false},{"name":"chunkId","path":"chunkId","unique":false}],"properties":["key","secretId","globalPadId","subGlobalPadId","subDocType","version","type","uid","subId","chunkId","taskId","data","docType","docStatus","createTimestamp","lastModifyTimestamp","dataVersion","isDefaultChunk"]},{"name":"DocumentEntities","key":{"path":"key"},"indices":[],"properties":["key","data"]},{"name":"NewDocumentIds","key":{"path":"globalPadId"},"indices":[],"properties":["globalPadId","secretId","documentType","localPadId","isCreated"]},{"name":"DocumentStatus","key":{"path":"globalPadId"},"indices":[{"name":"secretId","path":"secretId","unique":false},{"name":"uid","path":"uid","unique":false}],"properties":["globalPadId","secretId","uid","lastSyncTimestamp","lastErrorTimestamp"]},{"name":"DriveData","key":{"path":"driveId"},"indices":[{"name":"fileId","path":"fileId","unique":false},{"name":"objKey","path":"objKey","unique":false},{"name":"secretId","path":"secretId","unique":false},{"name":"uid","path":"uid","unique":false}],"properties":["driveId","fileId","objKey","secretId","uid","type","lastRequestTime","fileInfo","previewInfo"]},{"name":"OfflineData","key":{"path":"key"},"indices":[{"name":"secretId","path":"secretId","unique":false},{"name":"globalPadId","path":"globalPadId","unique":false},{"name":"subGlobalPadId","path":"subGlobalPadId","unique":false},{"name":"subDocType","path":"subDocType","unique":false},{"name":"version","path":"version","unique":false},{"name":"type","path":"type","unique":false},{"name":"uid","path":"uid","unique":false},{"name":"subId","path":"subSheetId","unique":false},{"name":"chunkId","path":"chunkId","unique":false}],"properties":["key","secretId","globalPadId","subGlobalPadId","subDocType","version","type","uid","subId","chunkId","taskId","data","docType","docStatus","createTimestamp","lastModifyTimestamp","dataVersion","isDefaultChunk"]},{"name":"PadInfo","key":{"path":"key"},"indices":[{"name":"secretId","path":"secretId","unique":false},{"name":"globalPadId","path":"globalPadId","unique":false},{"name":"uid","path":"uid","unique":false}],"properties":["key","secretId","globalPadId","uid","addListTimestamp","attribute","childrenLength","clientVersion","createTimestamp","creator","creatorDomain","icon","docPolicy","docPrivilege","thumbnail","docType","docTypeDesc","url","domainId","dver","folder","folderId","folderPolicy","folderPrivilege","isDeleted","isManualOffline","isMyCreated","isMydoc","isOfflineCache","isRencent","isShareToMe","hasSnapShot","isStar","isAddedToMy","isCollected","isOwner","isPinned","isShortcut","isUserChangeTitle","lastSyncTimestamp","lastBrowseTimestamp","lastCollectTimestamp","lastDeleteTimestamp","lastModifyTimestamp","lastModifyNick","lastModifyUid","lastPinnedTimestamp","listInfoType","listType","offlineCommiting","offlineCommitSuccessd","originFolderId","ownerNick","ownerUid","padId","parentFolderId","parents","privilege","status","title","type","hasLocalChanges","docSubType","officialAuthInfo","personalizeInfo","nativeEngineStatusRecord","nativeEngineDocPrivilege","data","ext","isOfflineCacheByNative","mimeType","ownerVipInfo","documentResourceCacheStatus","cacheStatus","cacheStatusTs"]},{"name":"Users","key":{"path":"key"},"indices":[{"name":"tinyId","path":"tinyId","unique":false},{"name":"nowUserIndex","path":"nowUserIndex","unique":false},{"name":"docId","path":"docId","unique":false},{"name":"pageType","path":"pageType","unique":false},{"name":"wedriveUin","path":"wedriveUin","unique":false},{"name":"wedocOpenId","path":"wedocOpenId","unique":false}],"properties":["key","tinyId","nowUserIndex","docId","pageType","wedriveUin","wedocOpenId","corpId","corpName","englishName","loginType","openId","uidSource","uin","userId","userName","userPic","updateTime","settings","bindUserInfo","vipUserInfo"]}]}',t.DATABASE_VERSION=5},441:e=>{e.exports=r},590:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getMonitorPlugin=function(e){return new r.default({onEvent:function(t){e.report(i,{action:t.action,module:t.module,retCode:t.actionExecuteState,cost:t.cost,time:t.time.getTime(),errorMsg:t.errorMsg})}})};var r=n(441),i="storageActionResultAndCost"},602:e=>{e.exports=i},855:e=>{e.exports=o},891:e=>{e.exports=a},988:(e,t)=>{var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.DWDispacherEventName=t.DBEngineType=void 0,function(e){e[e.indexDB=1]="indexDB",e[e.nativeDB=2]="nativeDB"}(n||(t.DBEngineType=n={})),function(e){e.VersionChange="VersionChange"}(r||(t.DWDispacherEventName=r={}))}},u={};function c(e){var t=u[e];if(void 0!==t)return t.exports;var n=u[e]={exports:{}};return s[e].call(n.exports,n,n.exports,c),n.exports}var l={};return(()=>{var e=l;Object.defineProperty(e,"__esModule",{value:!0}),e.DWDispacherEventName=e.DBEngineType=e.default=void 0;var t=c(231);Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.DWServiceDispatcher}});var n=c(988);Object.defineProperty(e,"DBEngineType",{enumerable:!0,get:function(){return n.DBEngineType}}),Object.defineProperty(e,"DWDispacherEventName",{enumerable:!0,get:function(){return n.DWDispacherEventName}})})(),l})())},553729:function(e,t,n){"use strict";n.d(t,{G6:function(){return p},Jq:function(){return C},XM:function(){return I},bY:function(){return _},dl:function(){return l},h3:function(){return S},iv:function(){return d},v0:function(){return k}});var r,i=(function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=Object.create((t&&t.prototype instanceof m?t:m).prototype);return i._invoke=function(e,t,n){var r=d;return function(i,o){if(r===p)throw Error("Generator is already running");if(r===h){if("throw"===i)throw o;return x()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?h:f,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(e,n,new T(r||[])),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",g={};function m(){}function v(){}function y(){}var b={};u(b,o,function(){return this});var _=Object.getPrototypeOf,C=_&&_(_(A([])));C&&C!==n&&r.call(C,o)&&(b=C);var I=y.prototype=m.prototype=Object.create(b);function E(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;function i(n,o,a,s){var u=l(e[n],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then(function(e){i("next",e,a,s)},function(e){i("throw",e,a,s)}):t.resolve(d).then(function(e){c.value=e,a(c)},function(e){return i("throw",e,a,s)})}s(u.arg)}this._invoke=function(e,r){function o(){return new t(function(t,n){i(e,r,t,n)})}return n=n?n.then(o,o):o()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return g;n.method="throw",n.arg=TypeError("The iterator does not provide a 'throw' method")}return g}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,g)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function A(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:x}}function x(){return{value:t,done:!0}}return v.prototype=y,u(I,"constructor",y),u(y,"constructor",v),v.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(I),e},e.awrap=function(e){return{__await:e}},E(w.prototype),u(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},E(I),u(I,s,"Generator"),u(I,o,function(){return this}),u(I,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(r={exports:{}},r.exports),r.exports);function o(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){try{if("object"===("undefined"==typeof WebAssembly?"undefined":a(WebAssembly))&&"function"==typeof WebAssembly.validate)return WebAssembly.validate(e)}catch(e){}return!1}var u,c,l,d,f,p,h,g=[function(){try{if("object"===("undefined"==typeof WebAssembly?"undefined":a(WebAssembly))&&"function"==typeof WebAssembly.instantiate){var e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly.Module)return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}catch(e){}return!1}(),s(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,127,2,14,1,2,106,115,6,109,101,109,111,114,121,2,0,1,3,2,1,0,10,10,1,8,0,65,0,254,18,0,0,11])),s(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,7,1,5,0,254,3,0,11,0,10,4,110,97,109,101,2,3,1,0,0]))].every(function(e){return!0===e}),m="formula_calculate_api_wasm.20251105_141926.js",v="formula_calculate_api_wasm.20251105_141926.wasm",y="formula_calculate_api_asmjs.20251105_141926.js",b="formula_calculate_api_asmjs.20251105_141926.js.gz";function _(e,t){var n=new e;return t.forEach(function(e){n.push_back(e)}),n}!function(e){e[e.Default=0]="Default",e[e.External=1]="External",e[e.ImportRange=2]="ImportRange"}(u||(u={})),function(e){e[e.VerticalValue=0]="VerticalValue",e[e.ArrayValue=1]="ArrayValue"}(c||(c={})),function(e){e[e.PBDEFAULT=0]="PBDEFAULT",e[e.Bool=1]="Bool",e[e.Number=2]="Number",e[e.Error=3]="Error",e[e.String=4]="String",e[e.Formula=5]="Formula",e[e.RichString=6]="RichString",e[e.Date=7]="Date"}(l||(l={})),function(e){e[e.kUnknown=0]="kUnknown",e[e.kString=1]="kString",e[e.kFunction=2]="kFunction",e[e.kSheet=3]="kSheet",e[e.kCellRange=4]="kCellRange",e[e.kCellCol=5]="kCellCol",e[e.kCellRow=6]="kCellRow",e[e.kCellSingle=7]="kCellSingle",e[e.kNumber=8]="kNumber",e[e.kBool=9]="kBool",e[e.kError=10]="kError",e[e.kVariable=11]="kVariable",e[e.kSpace=12]="kSpace",e[e.kOperator=13]="kOperator",e[e.kWorkbookName=14]="kWorkbookName"}(d||(d={})),function(e){e[e.VERBOSE=0]="VERBOSE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.FATAL=5]="FATAL"}(f||(f={})),function(e){e[e.None=0]="None",e[e.NumberError=1]="NumberError",e[e.DivisionByZero=2]="DivisionByZero",e[e.NotAvailable=3]="NotAvailable",e[e.ValueError=4]="ValueError",e[e.RefError=5]="RefError",e[e.Null=6]="Null",e[e.UnknownName=7]="UnknownName",e[e.UnknownFunction=8]="UnknownFunction",e[e.Spill=9]="Spill",e[e.IllegalChar=10]="IllegalChar",e[e.IllegalArgument=11]="IllegalArgument",e[e.IllegalUnion=12]="IllegalUnion",e[e.ParameterExceeded=13]="ParameterExceeded",e[e.ParameterMissing=14]="ParameterMissing",e[e.CellNoValue=15]="CellNoValue",e[e.GettingData=16]="GettingData",e[e.Circle=17]="Circle",e[e.IncompatibleData=18]="IncompatibleData",e[e.NotAvailableInView=19]="NotAvailableInView",e[e.ArrayDataOversize=20]="ArrayDataOversize",e[e.ExternalDataOversize=21]="ExternalDataOversize",e[e.TooManySubProcess=22]="TooManySubProcess",e[e.TargetNotExisted=23]="TargetNotExisted",e[e.GroupNotAuthorized=24]="GroupNotAuthorized",e[e.TargetNotViewable=25]="TargetNotViewable",e[e.TargetUncopiable=26]="TargetUncopiable",e[e.PrivateRangeDetected=27]="PrivateRangeDetected",e[e.ProtectRangeDetected=28]="ProtectRangeDetected",e[e.UncopiableRangeDetected=29]="UncopiableRangeDetected",e[e.SubSheetNotExisted=30]="SubSheetNotExisted",e[e.SubSheetTypeNotSupported=31]="SubSheetTypeNotSupported",e[e.NestedArrayFormulaNotSupported=32]="NestedArrayFormulaNotSupported",e[e.EnhancedAbilityNotSupported=33]="EnhancedAbilityNotSupported",e[e.MeetBoolWhenCollecting=34]="MeetBoolWhenCollecting",e[e.MeetStringWhenCollecting=35]="MeetStringWhenCollecting",e[e.MeetBlankWhenCollecting=36]="MeetBlankWhenCollecting",e[e.MeetEmptyWhenCollecting=37]="MeetEmptyWhenCollecting",e[e.ParamMustBeRange=38]="ParamMustBeRange",e[e.ParamShouldBePaired=39]="ParamShouldBePaired",e[e.ParamShouldBeGreaterThan=40]="ParamShouldBeGreaterThan",e[e.ParamShouldBeGreaterThanOrEqual=41]="ParamShouldBeGreaterThanOrEqual",e[e.ParamShouldBeLessThan=42]="ParamShouldBeLessThan",e[e.ParamShouldBeLessThanOrEqual=43]="ParamShouldBeLessThanOrEqual",e[e.ArraySizeNotEqual=44]="ArraySizeNotEqual",e[e.ArrayCannotBeEmpty=45]="ArrayCannotBeEmpty",e[e.RangeSizeNotEqual=46]="RangeSizeNotEqual",e[e.RangeOutOfBounds=47]="RangeOutOfBounds",e[e.ConvertToDoubleError=48]="ConvertToDoubleError",e[e.ConvertToDateError=49]="ConvertToDateError",e[e.LookupValueNotFound=50]="LookupValueNotFound",e[e.DateShouldBeOnOrBeforeOtherDate=51]="DateShouldBeOnOrBeforeOtherDate",e[e.CalcFail=52]="CalcFail",e[e.TableRefNotSupportedForSS=100]="TableRefNotSupportedForSS",e[e.MissingFieldIdInFilterForSS=101]="MissingFieldIdInFilterForSS",e[e.ConvertErrorForSS=102]="ConvertErrorForSS",e[e.CalculationTimeOutForSS=103]="CalculationTimeOutForSS"}(p||(p={})),function(e){e[e.PBDEFAULT=0]="PBDEFAULT",e[e.Error=1]="Error",e[e.Null=2]="Null",e[e.Div0=3]="Div0",e[e.Value=4]="Value",e[e.Ref=5]="Ref",e[e.Name=6]="Name",e[e.Num=7]="Num",e[e.Na=8]="Na",e[e.Spill=9]="Spill",e[e.Calc=10]="Calc",e[e.GettingData=11]="GettingData",e[e.Loading=12]="Loading",e[e.ParamsError=13]="ParamsError",e[e.ParamsMissing=14]="ParamsMissing",e[e.ParamsExceeded=15]="ParamsExceeded",e[e.NotViewable=16]="NotViewable",e[e.IncompatibleData=17]="IncompatibleData",e[e.NotAvailableInView=18]="NotAvailableInView"}(h||(h={})),function(e){e[e.kFunction=0]="kFunction",e[e.kCellRange=1]="kCellRange",e[e.kCell=2]="kCell",e[e.kR1C1RefCells=3]="kR1C1RefCells",e[e.kLiteralString=4]="kLiteralString",e[e.kLiteralNumber=5]="kLiteralNumber",e[e.kLiteralBool=6]="kLiteralBool",e[e.kLiteralError=7]="kLiteralError",e[e.kLiteralArray=8]="kLiteralArray",e[e.kLiteralEmpty=9]="kLiteralEmpty",e[e.kOperator=10]="kOperator",e[e.kVariable=11]="kVariable",e[e.kInvalidRef=12]="kInvalidRef",e[e.kD2VectorNodes=13]="kD2VectorNodes",e[e.kArrayNodes=14]="kArrayNodes",e[e.kFunctionParams=15]="kFunctionParams",e[e.kUnKnow=16]="kUnKnow"}(C||(C={})),function(e){e[e.String=0]="String",e[e.Number=1]="Number",e[e.Boolean=2]="Boolean",e[e.Error=3]="Error"}(I||(I={})),function(e){e[e.None=0]="None",e[e.Image=1]="Image"}(E||(E={})),function(e){e.Asm="asm",e.Wasm="wasm"}(S||(S={}));var C,I,E,w,S,D,M="",T="";function A(e){var t,n,r,i,o,a;return e?(D=e,null==(t=null==w?void 0:w.log)||t.info("formulaCalculateApi","use ".concat(e),null==(n=null==self?void 0:self.navigator)?void 0:n.userAgent),e===S.Wasm?M:T):g?(D=S.Wasm,null==(r=null==w?void 0:w.log)||r.info("formulaCalculateApi","use wasm",null==(i=null==self?void 0:self.navigator)?void 0:i.userAgent),M):(D=S.Asm,null==(o=null==w?void 0:w.log)||o.info("formulaCalculateApi","use asm",null==(a=null==self?void 0:self.navigator)?void 0:a.userAgent),T)}function x(e){return o(this,void 0,void 0,i.mark(function t(){return i.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t,n){var r,i=document.createElement("script"),o=A(e);i.src=o,null==(r=null==w?void 0:w.log)||r.info("formulaCalculateApi","script.src",o),document.head.appendChild(i),i.onload=function(){t(window.Module)},i.onerror=function(){n()}}));case 1:case"end":return t.stop()}},t)}))}function N(e){var t;return o(this,void 0,void 0,i.mark(function n(){return i.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return null==(t=null==w?void 0:w.log)||t.info("formulaCalculateApi","load url",A(e)),importScripts(A(e)),n.abrupt("return",self.Module);case 3:case"end":return n.stop()}},n)}))}function O(e){return o(this,void 0,void 0,i.mark(function t(){var n=this;return i.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){return o(n,void 0,void 0,i.mark(function n(){var r,o,a;return i.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope)){n.next=8;break}return null==(r=null==w?void 0:w.log)||r.info("formulaCalculateApi","enter workThread"),n.next=5,N(e);case 5:a=n.sent,n.next=12;break;case 8:return null==(o=null==w?void 0:w.log)||o.info("formulaCalculateApi","enter mainThread"),n.next=11,x(e);case 11:a=n.sent;case 12:t(a);case 14:case"end":return n.stop()}},n)}))}));case 1:case"end":return t.stop()}},t)}))}function k(e){var t,n;return o(this,void 0,void 0,i.mark(function r(){var o,a,s,u,c,l;return i.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return w=e,s=(a=R(e.loadScriptPrefixUrl)).wasmJsUrl,u=a.asmJsUrl,M=s,T=u,r.prev=4,r.next=7,O(null==e?void 0:e.loadType);case 7:return o=r.sent,r.next=10,o();case 10:return(c=r.sent).getResultByFormulaString("",""),r.abrupt("return",c);case 15:if(r.prev=15,r.t0=r.catch(4),null==(t=null==w?void 0:w.log)||t.error("formulaCalculateApi","load ".concat(D," fail"),null===r.t0||void 0===r.t0?void 0:r.t0.message),D!==S.Asm){r.next=20;break}throw r.t0;case 20:return r.prev=21,r.next=24,O(S.Asm);case 24:return o=r.sent,r.next=27,o();case 27:return l=r.sent,r.abrupt("return",l);case 31:throw r.prev=31,r.t1=r.catch(21),null==(n=null==w?void 0:w.log)||n.error("formulaCalculateApi","load asm fail",null===r.t1||void 0===r.t1?void 0:r.t1.message),r.t1;case 35:case"end":return r.stop()}},r,null,[[4,15],[21,31]])}))}function R(e){var t="".concat(e).concat(m),n="".concat(e).concat(b),r="".concat(e).concat(y);return{wasmJsUrl:t,wasmUrl:"".concat(e).concat(v),asmJsUrl:r,asmJsGzUrl:n}}},882081:function(e,t,n){"use strict";function r(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})}function i(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}n.d(t,{UL:function(){return o},Ue:function(){return p},pu:function(){return f},xx:function(){return h}});var o,a=function(){if("object"==typeof performance&&"function"==typeof performance.now)return function(){return performance.now()};var e=Date,t=e.now();return function(){return e.now()-t}}(),s=function(){function e(){var e=this;this.isMessageLoopRunning=!1,this.performWorkUntilDeadline=function(t){return r(e,void 0,void 0,function(){var e,n,r;return i(this,function(i){switch(i.label){case 0:return this.deadline=t,this.scheduledHostCallback?(e=a(),n=(null==t?void 0:t.didTimeout)||!1,[4,this.scheduledHostCallback(n,e)]):[3,2];case 1:return i.sent()?null==(r=window.requestIdleCallback)||r.call(window,this.performWorkUntilDeadline,{timeout:500}):(this.isMessageLoopRunning=!1,this.scheduledHostCallback=void 0),[3,3];case 2:this.isMessageLoopRunning=!1,i.label=3;case 3:return[2]}})})}}return e.prototype.shouldYieldToHost=function(e){void 0===e&&(e=0);var t,n,r,i,o=null==(n=null==(t=this.deadline)?void 0:t.timeRemaining)?void 0:n.call(t);if(void 0!==o&&o<e)return!0;var a=navigator;return!!(null==(i=null==(r=null==a?void 0:a.scheduling)?void 0:r.isInputPending)?void 0:i.call(r))},e.prototype.requestHostCallback=function(e){if("function"!=typeof window.requestIdleCallback)throw Error("requestIdleCallback undefined when use ExecutorIdleCallback!");this.scheduledHostCallback=e,this.isMessageLoopRunning||(this.isMessageLoopRunning=!0,window.requestIdleCallback(this.performWorkUntilDeadline,{timeout:500}))},e}(),u=function(){function e(){}return e.prototype.shouldYieldToHost=function(){return!1},e.prototype.requestHostCallback=function(e){var t=this;this.scheduledHostCallback?setTimeout(function(){return t.requestHostCallback(e)},0):(this.scheduledHostCallback=e,setTimeout(function(){return t.flushCallback()},0))},e.prototype.flushCallback=function(){return r(this,void 0,void 0,function(){var e,t,n=this;return i(this,function(r){switch(r.label){case 0:if(!this.scheduledHostCallback)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),e=a(),[4,this.scheduledHostCallback(!1,e)];case 2:return r.sent(),this.scheduledHostCallback=void 0,[3,4];case 3:throw t=r.sent(),setTimeout(function(){return n.flushCallback()},0),t;case 4:return[2]}})})},e}(),c=function(){function e(){var t=this;this.maxYieldInterval=300,this.yieldInterval=10,this.deadline=0,this.isMessageLoopRunning=!1,e.UUID+=1,this.key=""+e.UUID,l.get().onMessage(this.key,function(){t.performWorkUntilDeadline()})}return e.prototype.shouldYieldToHost=function(){var e,t,n=navigator;if(void 0!==(null==(e=null==n?void 0:n.scheduling)?void 0:e.isInputPending)){var r=n.scheduling,i=a();return i>=this.deadline&&(!!(null==(t=r.isInputPending)?void 0:t.call(r))||i>=this.maxYieldInterval)}return a()>=this.deadline},e.prototype.requestHostCallback=function(e){this.scheduledHostCallback=e,this.isMessageLoopRunning||(this.isMessageLoopRunning=!0,l.get().postMessage(this.key))},e.prototype.performWorkUntilDeadline=function(){return r(this,void 0,void 0,function(){var e,t;return i(this,function(n){switch(n.label){case 0:return this.scheduledHostCallback?(e=a(),this.deadline=e+this.yieldInterval,[4,this.scheduledHostCallback(!1,e)]):[3,2];case 1:t=n.sent();try{t?l.get().postMessage(this.key):(this.isMessageLoopRunning=!1,this.scheduledHostCallback=void 0)}catch(e){throw l.get().postMessage(this.key),e}return[3,3];case 2:this.isMessageLoopRunning=!1,n.label=3;case 3:return[2]}})})},e.UUID=0,e}(),l=function(){function e(){var e=this;this.callbacks=new Map,this.channel=new MessageChannel,this.port=this.channel.port2,this.channel.port1.onmessage=function(t){var n=t.data,r=e.callbacks.get(n);"function"==typeof r?r():null==console||console.warn("non callback found by "+n)}}return e.get=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.onMessage=function(e,t){this.callbacks.set(e,t)},e.prototype.postMessage=function(e){this.port.postMessage(e)},e}(),d=function(){function e(){this.heap=[]}return e.prototype.push=function(e){var t=this.heap.length;this.heap.push(e),this.siftUp(e,t)},e.prototype.peek=function(){return this.heap[0]},e.prototype.pop=function(){var e=this.heap[0];if(void 0!==e){var t=this.heap.pop();return t&&t!==e&&(this.heap[0]=t,this.siftDown(t,0)),e}},e.prototype.size=function(){return this.heap.length},e.prototype.clear=function(){this.heap=[]},e.prototype.siftUp=function(e,t){for(var n=t;;){var r=n-1>>>1,i=this.heap[r];if(!(void 0!==i&&this.compare(i,e)>0))return;this.heap[r]=e,this.heap[n]=i,n=r}},e.prototype.siftDown=function(e,t){for(var n=t,r=this.heap.length;n<r;){var i=2*(n+1)-1,o=this.heap[i],a=i+1,s=this.heap[a];if(void 0!==o&&this.compare(o,e)<0)void 0!==s&&this.compare(s,o)<0?(this.heap[n]=s,this.heap[a]=e,n=a):(this.heap[n]=o,this.heap[i]=e,n=i);else{if(!(void 0!==s&&this.compare(s,e)<0))return;this.heap[n]=s,this.heap[a]=e,n=a}}},e.prototype.compare=function(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id},e}();!function(e){e[e.hight=1]="hight",e[e.normal=2]="normal",e[e.low=3]="low",e[e.idle=4]="idle"}(o||(o={}));var f=new(function(){function e(){var e=this;this.highPriorityTimeout=0,this.normalPriorityTimeout=2e3,this.lowPriorityTimeout=5e3,this.idlePriorityTimeout=0x3fffffff,this.taskIdCounter=1,this.isSchedulerPaused=!1,this.isPerformingWork=!1,this.flushWork=function(t,n){return r(e,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return e.trys.push([0,,2,3]),[4,this.workLoop(t,n)];case 1:return[2,e.sent()];case 2:return this.currentTask=void 0,this.isPerformingWork=!1,[7];case 3:return[2]}})})},this.workLoop=function(t,n){return r(e,void 0,void 0,function(){var e,r,o,a,s,u;return i(this,function(i){switch(i.label){case 0:e=n,this.currentTask=this.taskQueue.peek(),i.label=1;case 1:return!this.currentTask||this.isSchedulerPaused?[3,5]:(o=(r=this.currentTask).expirationTime,a=r.minTime,o>e&&(t||this.executor.shouldYieldToHost(a))?[3,5]:"function"!=typeof(s=this.currentTask.callback)?[3,3]:(this.currentTask.callback=void 0,[4,s()]));case 2:return"function"==typeof(u=i.sent())?this.currentTask.callback=u:this.currentTask===this.taskQueue.peek()&&this.taskQueue.pop(),[3,4];case 3:this.taskQueue.pop(),i.label=4;case 4:return this.currentTask=this.taskQueue.peek(),[3,1];case 5:return[2,!!this.currentTask]}})})},this.taskQueue=new d,this.executor=this.createHostExecutor()}return e.prototype.scheduleTask=function(e,t){var n,r=a();switch((null==t?void 0:t.priority)||o.idle){case o.hight:n=this.highPriorityTimeout;break;case o.normal:n=this.normalPriorityTimeout;break;case o.low:n=this.lowPriorityTimeout;break;case o.idle:default:n=this.idlePriorityTimeout}var i=null==t?void 0:t.minTime;void 0===i&&(i=1),this.taskIdCounter+=1;var s={id:this.taskIdCounter,expirationTime:r+n,sortIndex:r+n,minTime:i,callback:e};return this.taskQueue.push(s),this.isPerformingWork||this.executor.requestHostCallback(this.flushWork),s},e.prototype.cancelTask=function(e){e.callback=void 0},e.prototype.clearPendingTasks=function(){this.taskQueue.clear()},e.prototype.pause=function(){this.isSchedulerPaused=!0},e.prototype.continue=function(){this.isSchedulerPaused=!1,this.isPerformingWork||this.executor.requestHostCallback(this.flushWork)},e.prototype.createHostExecutor=function(){try{if("function"==typeof(null==window?void 0:window.requestIdleCallback))return new s;if("undefined"!=typeof MessageChannel)return new c}catch(e){null==console||console.info("use polyfill executor")}return new u},e}()),p=function(){function e(e,t){var n=this;this.initFun=e,this.idleHandle=f.scheduleTask(function(){n.value=n.initFun()},t)}return e.prototype.getValue=function(){return void 0===this.value&&(this.cancelIdleInit(),this.value=this.initFun()),this.value},e.prototype.setValue=function(e){this.cancelIdleInit(),this.value=e},e.prototype.cancelIdleInit=function(){this.idleHandle&&(f.cancelTask(this.idleHandle),this.idleHandle=void 0)},e}(),h=new(function(){function e(){var e=this;this.highPriorityTimeout=0,this.normalPriorityTimeout=2e3,this.lowPriorityTimeout=5e3,this.idlePriorityTimeout=0x3fffffff,this.taskIdCounter=1,this.isSchedulerPaused=!1,this.isPerformingWork=!1,this.flushWork=function(t,n){return r(e,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return e.trys.push([0,,2,3]),[4,this.workLoop(t,n)];case 1:return[2,e.sent()];case 2:return this.currentTask=void 0,this.isPerformingWork=!1,[7];case 3:return[2]}})})},this.workLoop=function(t,n){return r(e,void 0,void 0,function(){var e,r,o,a,s,u,c;return i(this,function(i){switch(i.label){case 0:e=n,r=this.getHigherQueue(),this.currentTask=r.peek(),i.label=1;case 1:return!this.currentTask||this.isSchedulerPaused?[3,5]:(a=(o=this.currentTask).expirationTime,s=o.minTime,a>e&&(t||this.executor.shouldYieldToHost(s))?[3,5]:"function"!=typeof(u=this.currentTask.callback)?[3,3]:(this.currentTask.callback=void 0,[4,u()]));case 2:return"function"==typeof(c=i.sent())?this.currentTask.callback=c:this.currentTask===r.peek()&&r.pop(),[3,4];case 3:r.pop(),i.label=4;case 4:return this.currentTask=r.peek(),[3,1];case 5:return[2,!!this.currentTask]}})})},this.highTaskQueue=new d,this.normalTaskQueue=new d,this.lowTaskQueue=new d,this.idleTaskQueue=new d,this.executor=this.createHostExecutor()}return e.prototype.scheduleTask=function(e,t){var n,r=a(),i=(null==t?void 0:t.priority)||o.idle;switch(i){case o.hight:n=this.highPriorityTimeout;break;case o.normal:n=this.normalPriorityTimeout;break;case o.low:n=this.lowPriorityTimeout;break;case o.idle:default:n=this.idlePriorityTimeout}var s=null==t?void 0:t.minTime;void 0===s&&(s=1),this.taskIdCounter+=1;var u={id:this.taskIdCounter,expirationTime:r+n,sortIndex:r+n,minTime:s,callback:e};return this.pushTask(u,i),this.isPerformingWork||this.executor.requestHostCallback(this.flushWork),u},e.prototype.cancelTask=function(e){e.callback=void 0},e.prototype.clearPendingTasks=function(){this.highTaskQueue.clear(),this.normalTaskQueue.clear(),this.lowTaskQueue.clear(),this.idleTaskQueue.clear()},e.prototype.pause=function(){this.isSchedulerPaused=!0},e.prototype.continue=function(){this.isSchedulerPaused=!1,this.isPerformingWork||this.executor.requestHostCallback(this.flushWork)},e.prototype.pushTask=function(e,t){switch(t){case o.hight:this.highTaskQueue.push(e);break;case o.normal:this.normalTaskQueue.push(e);break;case o.low:this.lowTaskQueue.push(e);break;case o.idle:default:this.idleTaskQueue.push(e)}},e.prototype.getHigherQueue=function(){return this.highTaskQueue.size()>0?this.highTaskQueue:this.normalTaskQueue.size()>0?this.normalTaskQueue:this.lowTaskQueue.size()>0?this.lowTaskQueue:this.idleTaskQueue},e.prototype.createHostExecutor=function(){try{if("undefined"!=typeof MessageChannel)return new c}catch(e){null==console||console.info("use polyfill executor")}return new u},e}())},182240:function(e,t,n){"use strict";n.d(t,{Hr:function(){return f},ZP:function(){return D}});var r,i,o,a,s,u,c=function(){function e(){this._listeners={}}return e.prototype._hasEventListener=function(e,t){return void 0!==this._listeners[e]&&this._listeners[e].indexOf(t)>-1},e.prototype.addEventListener=function(e,t){this._hasEventListener(e,t)||(void 0===this._listeners[e]&&(this._listeners[e]=[]),this._listeners[e].push(t))},e.prototype.removeEventListener=function(e,t){if(this._hasEventListener(e,t)){var n=this._listeners[e].indexOf(t);this._listeners[e].splice(n,1)}},e.prototype.dispatchEvent=function(e,t){if(void 0!==this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},e}(),l=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=new(function(e){function t(){var t=e.call(this)||this;return t._queue=[],t._taskStack=[],t._count=0,t}return l(t,e),t.prototype._runTask=function(){this.dispatchEvent("runTask")},t.prototype._overTask=function(){this._queue.push(this._parse()),this._taskStack=[],this._count=0,this._queue.length>5&&(this._queue=this._queue.slice(-5)),this.dispatchEvent("overTask")},t.prototype._parse=function(){for(var e,t,n=[],r=[],i=0;i<this._taskStack.length;i++)if((t=this._taskStack[i]).sub=[],void 0===n[0]||n[0].id!==t.id||n[0].type===t.type)(e=n[0]?n[0].sub:r).push(t),n.unshift(t);else{var o=n.shift();o.time=t.end-o.start,o.start=o.start,delete o.type}return r},Object.defineProperty(t.prototype,"queue",{get:function(){return this._queue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"task",{get:function(){return this._queue[this._queue.length-1]},enumerable:!0,configurable:!0}),t.prototype.start=function(e){0===this._count&&this._runTask(),this._count++,this._taskStack.push({id:e,start:Date.now(),type:0})},t.prototype.end=function(e){this._taskStack.push({id:e,end:Date.now(),type:1}),this._count--,0===this._count&&this._overTask()},t.prototype.clear=function(){if(0!==this._count)return void console.warn("\u5806\u6808\u8BB0\u5F55\u6267\u884C\u8FC7\u7A0B\u4E2D\u65E0\u6CD5\u6E05\u9664");this._queue.length=0},t}(c)),f=function(e,t){if(!t){var n=void 0;try{if(n=e.toString().match(/^(function)\s(\w+)[\(\s]/),"[object Array]"!==Object.prototype.toString.apply(n))return console.warn("proxy function error"),e}catch(t){return console.warn("proxy function error",t),e}if(null===n)return e;t=n[2]}return"string"!=typeof t?e:function(){d.start(""+t);var n=e.apply(this,arguments);return d.end(""+t),n}};!function(e){e.REGISTER="jank_register",e.HEARTBEAT="jank_heartbeat",e.ASK_AMOUNT="jank_ask_amount",e.UNREGISTER="jank_unregister"}(r||(r={})),function(e){e.CONFIRM="jank_confirm",e.HEARTBEAT="jank_heartbeat",e.REPLY_AMOUNT="jank_reply_amount"}(i||(i={}));var p=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e[e.UNINIT=0]="UNINIT",e[e.RUNNING=1]="RUNNING",e[e.FINISH=2]="FINISH"}(o||(o={}));var h=function(e){function t(){var t=e.call(this)||this;return t._status=o.UNINIT,t._controller=null,t._resolve=null,t._reject=null,t._handleMessage=function(e){var n=e.data;switch(n.type){case i.CONFIRM:break;case i.HEARTBEAT:t._heartbeat();break;case i.REPLY_AMOUNT:t._replyAmount(n.data);break;default:console.error("unknown response message in tabs amount")}},t._handleBeforeunload=function(){t._unregister()},t}return p(t,e),t.prototype._sendMessage=function(e){this._controller&&this._controller.postMessage&&this._controller.postMessage(e)},t.prototype._replyAmount=function(e){void 0===e&&this._reject("unknown error"),0===e.retcode?this._resolve(e.result):this._reject(e.result),this._resolve=null,this._reject=null},t.prototype._register=function(){this._sendMessage({type:r.REGISTER})},t.prototype._unregister=function(){this._sendMessage({type:r.UNREGISTER})},t.prototype._heartbeat=function(){this._sendMessage({type:r.HEARTBEAT})},t.prototype._askAmount=function(){this._sendMessage({type:r.ASK_AMOUNT})},t.prototype._addEventListener=function(){navigator.serviceWorker&&navigator.serviceWorker.addEventListener("message",this._handleMessage),window.addEventListener("beforeunload",this._handleBeforeunload)},t.prototype.start=function(){return this._status!=o.UNINIT?void console.error("only can start tabs amount once"):navigator.serviceWorker?navigator.serviceWorker.controller?(this._controller=navigator.serviceWorker.controller,void(this._status=o.RUNNING,this._register(),this._addEventListener())):void console.error("please register service by business code"):void console.error("can't use service-worker in this client")},t.prototype.end=function(){this._status=o.FINISH,this._unregister()},t.prototype.amount=function(){var e=this;return null!==this._resolve||null!==this._reject?Promise.reject("repeat request"):(this._askAmount(),new Promise(function(t,n){e._resolve=t,e._reject=n}))},t}(c),g=JSON.parse('{"HeartbeatConfig":{"jankLimit":1000,"TriggerLimit":10,"StopOnPageHidden":true},"PageActiveConfig":{"Limit":180000}}'),m=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(e){function t(t){var n=e.call(this)||this;return n._handleVisibilityChange=function(){var e=document[a];"hidden"===e?n.stop():n.start(),n.dispatchEvent("pageVisiableChange",e)},n._tick=function(){var e=Date.now()-n._preHeartBeatTime;e>n._app.config.HeartbeatConfig.jankLimit?(n._triggerTimes++,n.dispatchEvent("jank",e)):n.dispatchEvent("heart",e),"finish"!==n._status&&"stop"!==n._status&&n._checkNextTick()},n._app=t,n._status="uninit",n._preHeartBeatTime=0,n._timeoutTimer=null,n._triggerTimes=0,n}return m(t,e),t.prototype._init=function(){if(this._app.config.HeartbeatConfig.StopOnPageHidden){if(void 0!==document.hidden)s="visibilitychange",a="visibilityState";else if(void 0!==document.mozHidden)s="mozvisibilitychange",a="mozVisibilityState";else if(void 0!==document.msHidden)s="msvisibilitychange",a="msVisibilityState";else{if(void 0===document.webkitHidden)return;s="webkitvisibilitychange",a="webkitVisibilityState"}document.addEventListener(s,this._handleVisibilityChange)}},t.prototype._checkNextTick=function(){if(0!==this._app.config.HeartbeatConfig.TriggerLimit&&this._triggerTimes>=this._app.config.HeartbeatConfig.TriggerLimit){this._status="finish";return}this._preHeartBeatTime=Date.now(),this._timeoutTimer=requestAnimationFrame(this._tick)},t.prototype.start=function(){if(!this._app.config.HeartbeatConfig.StopOnPageHidden||!document.hidden){if(("uninit"===this._status&&this._init(),"finish"!==this._status)&&"run"!==this._status){if(this._timeoutTimer)return void console.warn("[jank] timeout exist");this._status="run",this._checkNextTick()}}},t.prototype.stop=function(){"finish"!==this._status&&"stop"!==this._status&&(cancelAnimationFrame(this._timeoutTimer),this._timeoutTimer=null,this._status="stop")},t}(c),y=navigator.userAgent.toLowerCase(),b="pc"===function(){return/(android)/.test(y)?"android":/(iphone|ipad|ipod)/.test(y)?"ios":"pc"}(),_=function(){function e(e){var t=this;this._timer=0,this._lastActive=0,this._check=function(){b?document.body.addEventListener("mousemove",t._handle):document.body.addEventListener("touchstart",t._handle)},this._handle=function(){b?document.body.removeEventListener("mousemove",t._handle):document.body.removeEventListener("touchstart",t._handle),t.start()},this._app=e,this._timeInterval=this._app.config.PageActiveConfig.Limit}return e.prototype.start=function(){this._lastActive=Date.now(),this._timer=setTimeout(this._check,this._timeInterval)},e.prototype.stop=function(){clearTimeout(this._timer)},e.prototype.lastActive=function(){return this._lastActive},e}(),C=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return t.HeartbeatConfig&&Object.assign(g.HeartbeatConfig,t.HeartbeatConfig),t.PageActiveConfig&&Object.assign(g.PageActiveConfig,t.PageActiveConfig),n._config=Object.assign(g,t),n._initHeartbeatMonitor(),n._initPageActiveMonitor(),n._initTabsAmountMonitor(),n._traceStack=d,n}return C(t,e),t.prototype._initHeartbeatMonitor=function(){this._heartbeatMonitor=new v(this)},t.prototype._initPageActiveMonitor=function(){this._pageActiveMonitor=new _(this)},t.prototype._initTabsAmountMonitor=function(){this._tabsAmountMonitor=new h},Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heartbeatMonitor",{get:function(){return this._heartbeatMonitor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageActiveMonitor",{get:function(){return this._pageActiveMonitor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabsAmountMonitor",{get:function(){return this._tabsAmountMonitor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"traceStack",{get:function(){return this._traceStack},enumerable:!0,configurable:!0}),t}(c);!function(e){e.MONITOR="monitor",e.CLOSE="close"}(u||(u={}));var E={key:"jank_heartbeat"},w=500,S=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.stack=[],n._status=u.CLOSE,n._jankTimes=0,n._handleHeart=function(e){n.stack=[],n.log(E),n.dispatchEvent("heart",e);var t=n.pageActiveMonitor.lastActive();Date.now()-t>n._config.PageActiveConfig.Limit&&n.closeMonitor()},n._handleJank=function(e){n.dispatchEvent("jank",{jankTime:e,stack:n.stack,position:n._calcJankPosition()}),n._jankTimes=n._jankTimes+1;var t=n.pageActiveMonitor.lastActive(),r=Date.now();(n._jankTimes>=n._config.HeartbeatConfig.TriggerLimit||r-t>n._config.PageActiveConfig.Limit)&&n.closeMonitor()},n._handlePageVisiableChange=function(e){"hidden"===e?n.closeMonitor():n.startMonitor(),n.dispatchEvent("pageVisiableChange",e)},n._config=Object.assign(g,t),n._sdk=new I(n._config),n._sdk.heartbeatMonitor.addEventListener("jank",n._handleJank),n._sdk.heartbeatMonitor.addEventListener("heart",n._handleHeart),n._sdk.heartbeatMonitor.addEventListener("pageVisiableChange",n._handlePageVisiableChange),n}S(t,e),t.prototype.log=function(e){this._status===u.MONITOR&&(this.stack.length>w&&this.stack.shift(),this.stack.push({jankLogOptions:e,time:new Date().getTime()}))},t.prototype.startMonitor=function(){this._jankTimes>=this._config.HeartbeatConfig.TriggerLimit||(this._status=u.MONITOR,this.stack=[],this.log(E),this._sdk.heartbeatMonitor.start(),this._sdk.pageActiveMonitor.start())},t.prototype.closeMonitor=function(){this._sdk.heartbeatMonitor.stop(),this._sdk.pageActiveMonitor.stop(),this.stack=[],this._status=u.CLOSE},t.prototype._calcJankPosition=function(){for(var e,t=this.stack,n=0;n<t.length;n++){var r=t[n],i=t[n+1];if(n===t.length-1)break;i.time-r.time>this._config.HeartbeatConfig.jankLimit&&(e=n)}return e},Object.defineProperty(t.prototype,"jankSDK",{get:function(){return this._sdk},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._sdk.config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heartbeatMonitor",{get:function(){return this._sdk.heartbeatMonitor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageActiveMonitor",{get:function(){return this._sdk.pageActiveMonitor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabsAmountMonitor",{get:function(){return this._sdk.tabsAmountMonitor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"traceStack",{get:function(){return this._sdk.traceStack},enumerable:!0,configurable:!0})}(c);var D=I},674607:function(e,t,n){"use strict";n.d(t,{Yd:function(){return C}});var r,i=n(209787),o=new Map;function a(e){return function(t){t.prototype.appenderOptions=e,o.set(e.name,{provide:t})}}var s=new Map,u=function(){function e(){}return e.get=function(e,t){var n=e;return s.has(e)||(n="basic",console.warn("".concat(e," layout doesn't exists"))),new(s.get(n)).provide(null!=t?t:{})},e}(),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(t,e),t.prototype.write=function(e){var t=e.level;return t.isGreaterThanOrEqualTo("ERROR")?console.error.apply(console,this.layout(e)):t.isEqualTo("WARN")?console.warn.apply(console,this.layout(e)):t.isEqualTo("INFO")?console.info.apply(console,this.layout(e)):console.log.apply(console,this.layout(e))},t=(0,i.__decorate)([a({name:"console"})],t)}(function(){function e(){this.config={},this.appenderOptions={name:""},this.configure({})}return e.prototype.configure=function(e){var t;if(Object.assign(this.config,e),e.layout){this.useLayout=u.get(e.layout.type,e.layout);return}this.useLayout=u.get(null!=(t=this.appenderOptions.defaultLayout)?t:"basic")},e.prototype.layout=function(e){return this.useLayout.transform(e)},e}());function l(e){return function(t){s.set(e.name,{provide:t})}}var d=function(e){var t=/(%?)(%([jds]))/g,n=Array.prototype.slice.call(arguments,1);return n.length&&(e=e.replace(t,function(e,t,r,i){var o=n.shift();switch(i){case"s":o=""+o;break;case"d":o=Number(o);break;case"j":o=JSON.stringify(o)}return t?(n.unshift(o),e):o})),n.length&&(e+=" "+n.join(" ")),""+(e=e.replace(/%{2,2}/g,"%"))};function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=e;return Array.isArray(r)||(r=(0,i.__spreadArray)([r],t,!0)),d.apply(void 0,r)}function p(e){var t=Math.abs(e),n=String(Math.floor(t/60)),r=String(t%60);return 1===n.length&&(n="0".concat(n)),1===r.length&&(r="0".concat(r)),e<0?"+".concat(n).concat(r):"-".concat(n).concat(r)}function h(e,t){void 0===t&&(t="yyyy-MM-ddThh:mm:ss.SSS");var n="".concat(e.getDate()).padStart(2,"0"),r="".concat(e.getMonth()+1).padStart(2,"0"),i="".concat(e.getFullYear()).padStart(2,"0"),o="".concat(i).substring(2,4),a=t.indexOf("yyyy")>-1?i:o,s="".concat(e.getHours()).padStart(2,"0"),u="".concat(e.getMinutes()).padStart(2,"0"),c="".concat(e.getSeconds()).padStart(2,"0"),l="".concat(e.getMilliseconds()).padStart(3,"0"),d=p(e.getTimezoneOffset());return t.replace(/dd/g,n).replace(/MM/g,r).replace(/y{1,4}/g,a).replace(/hh/g,s).replace(/mm/g,u).replace(/ss/g,c).replace(/SSS/g,l).replace(/O/g,d)}var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(t,e),t.prototype.transform=function(e){var t=f("[%s] [%s] [%s] - ",h(e.startTime),e.formatedLevel,e.categoryName);return"string"==typeof e.data?[t+e.data]:[t,e.data]},t=(0,i.__decorate)([l({name:"basic"})],t)}(function(){return function(){}}()),m=function(){function e(e,t,n,r){this._categoryName=e,this._level=t,this._data=n,this._context=r,this._startTime=new Date}return Object.defineProperty(e.prototype,"startTime",{get:function(){return this._startTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"categoryName",{get:function(){return this._categoryName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"formatedLevel",{get:function(){return this.level.toString().padEnd(5," ")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data.length>1?this._data:this._data[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),e}(),v=function(){function e(e,t){this.level=e,this.levelStr=t,this.level=e,this.levelStr=t}return e.getLevel=function(t,n){return t instanceof e?t:"string"==typeof t?r[t.toUpperCase()]||n:this.getLevel(t.toString())},e.prototype.toString=function(){return this.levelStr},e.prototype.isLessThanOrEqualTo=function(t){return this.level<=e.getLevel(t).level},e.prototype.isGreaterThanOrEqualTo=function(t){return this.level>=e.getLevel(t).level},e.prototype.isEqualTo=function(t){return this.level===e.getLevel(t).level},e}();function y(){return r}r={ALL:new v(Number.MIN_VALUE,"ALL"),TRACE:new v(5e3,"TRACE"),DEBUG:new v(1e4,"DEBUG"),INFO:new v(2e4,"INFO"),WARN:new v(3e4,"WARN"),ERROR:new v(4e4,"ERROR"),FATAL:new v(5e4,"FATAL"),MARK:new v(0x20000000000000,"MARK"),OFF:new v(Number.MAX_VALUE,"OFF")};var b=function(){function e(){this.appenders=new Map,this.levels=new Map}return Object.defineProperty(e.prototype,"size",{get:function(){return this.appenders.size},enumerable:!1,configurable:!0}),e.prototype.has=function(e){return this.appenders.has(e)},e.prototype.get=function(e){return this.appenders.get(e)},e.prototype.set=function(e,t){if(!o.has(e)){var n=Error("Appender ".concat(e," doesn't exists. Check your configuration:\n").concat(JSON.stringify(t),"\n"));throw n.name="UNKNOW_APPENDER",n}var r=new(o.get(e)).provide(t);return this.appenders.set(e,{instance:r,config:t}),this.levels.clear(),this},e.prototype.delete=function(e){var t=this.appenders.delete(e);return t&&this.levels.clear(),t},e.prototype.clear=function(){this.appenders.clear(),this.levels.clear()},e.prototype.forEach=function(e,t){this.appenders.forEach(e,t)},e.prototype.byLogLevel=function(e){var t=e.toString();if(this.levels.has(t))return this.levels.get(t);var n=this.toArray().filter(function(t){return!t.config.levels||t.config.levels.find(function(t){return t.toUpperCase()===e.toString()})}).map(function(e){return e.instance});return this.levels.set(e.toString(),n),n},e.prototype.toArray=function(){var e=[];return this.appenders.forEach(function(t){return e.push(t)}),e},e}(),_="ALL",C=function(){function e(e){this.name=e,this.appenders=new b}return e.createStack=function(){var e,t=(null!=(e=Error().stack)?e:"").replace("Error\n","").split("\n");return t[0].indexOf("Logger.")>-1&&t.splice(0,1),t[0].indexOf("Logger.")>-1&&t.splice(0,1),t.join("\n")},Object.defineProperty(e.prototype,"level",{get:function(){return this.currentLevel?this.currentLevel.toString():v.getLevel(_).toString()},set:function(e){this.currentLevel=v.getLevel(e,_)},enumerable:!1,configurable:!0}),e.prototype.use=function(e,t){return this.appenders.set(e,(0,i.__assign)({layout:{type:"basic"},levels:["trace","debug","info","warn","error","fatal"]},t)),this},e.prototype.isLevelEnabled=function(e){return this.currentLevel?this.currentLevel.isLessThanOrEqualTo(e):v.getLevel(_).isLessThanOrEqualTo(e)},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.write(y().DEBUG,e)},e.prototype.trace=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r="\n".concat(e.createStack(),"\n");return t.push(r),this.write(y().TRACE,t)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.write(y().INFO,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.write(y().WARN,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.write(y().ERROR,e)},e.prototype.fatal=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.write(y().FATAL,e)},e.prototype.write=function(e,t){if(!this.isLevelEnabled(e))return this;var n=new m(this.name,e,t,this.context);return this.appenders.byLogLevel(e).forEach(function(e){e.write(n)}),this},e}();a({name:"console"})(c),l({name:"basic"})(g)},538904:function(e,t,n){"use strict";n.d(t,{b$:function(){return f},KU:function(){return d}});var r=n(745396);let i=()=>window[r.LH];var o=n(209787);class a{constructor(e){this.handlers=new Map,this.closed=!1,this.subscribe=(e,t)=>{var n;if(this.isClosed())throw Error("channel is closed");let r=null!=(n=this.handlers.get(e))?n:[];return r.push(t),this.handlers.set(e,r),()=>{let n=this.handlers.get(e).filter(e=>e!==t);this.handlers.set(e,n)}},this.publish=(e,...t)=>{if(this.isClosed())throw Error("channel is closed");i().transport.publish({token:this.token,eventName:e,args:t})},this.fire=(e,...t)=>{var n;null==(n=this.handlers.get(e))||n.forEach(e=>null==e?void 0:e(...t))},this.close=()=>{this.unsubscribe(),this.handlers.clear(),this.closed=!0},this.isClosed=()=>this.closed,this.unsubscribe=()=>{},this.token=e,this.unsubscribe=i().transport.subscribe(e,({eventName:e,args:t})=>this.fire(e,...t))}}var s=a;class u{constructor(e){this.closed=!1,this.subscribe=(e,t)=>{if(this.isClosed())throw Error("channel is closed");return i().transport.subscribe(this.token,e,t)},this.publish=(e,...t)=>{if(this.isClosed())throw Error("channel is closed");i().transport.publish({token:this.token,eventName:e,args:t})},this.fire=()=>{},this.close=()=>{this.unsubscribe(),this.closed=!0},this.isClosed=()=>this.closed,this.unsubscribe=()=>{i().transport.unsubscribe(this.token)},this.token=e}}var c=u;class l{constructor(e){this.protocols=e}static create(e,t){let n=new l(e);return n.init(t),n}init(e){let t=this;for(let n of Object.keys(this.protocols))try{this.registerServiceBroker(n,e)}catch(e){t[n]={version:0}}}registerServiceBroker(e,t){let n=this,r=i();if(!r)throw Error("missing mega broker in global context");let{protocol:a,broker:u}=r.loadProtocol(e),{apis:l,channels:d,version:f}=a;for(let t of(n[e]={version:f},l))n[e][t]=u[t];for(let r of d)n[e][r]=(...e)=>(0,o.__awaiter)(this,void 0,void 0,function*(){let{token:n}=yield u[r](...e);return t?new c(n):new s(n)})}}var d=l,f=function(e={}){return Object.assign({},e)}},745396:function(e,t,n){"use strict";n.d(t,{LH:function(){return r}});let r="__MEGA_BROKER__";!function(e){["__MEGA_INTERNAL_API__",e].join(":")}("loadProtocol")},818818:function(e,t,n){"use strict";n.d(t,{Cz:function(){return w},m6:function(){return O},$F:function(){return A},lG:function(){return f},t6:function(){return b},U9:function(){return j},V4:function(){return r},DB:function(){return M},SZ:function(){return o},e8:function(){return E},iP:function(){return L},Qg:function(){return y},CV:function(){return C},GM:function(){return m},J_:function(){return x},SH:function(){return v},Nm:function(){return N}}),function(e){e.Save="SAVE",e.SaveAs="SAVE_AS",e.SaveByE2E="SAVE_BY_E2E",e.AutoSaveByUser="AUTO_SAVE_BY_USER",e.AutoSave="AUTO_SAVE",e.Rename="RENAME"}(r||(r={})),function(e){e.ConvertOnlineSave="convertOnlineSave",e.LocalSave="localSave",e.Save4Close="save4Close"}(i||(i={})),function(e){e.CloseTab="close-tab",e.ContentModified="content-modified",e.UpdateTitle="update-title",e.TimeTrack="time-track",e.Save="save",e.Apply="apply",e.ApplyResult="apply_result"}(o||(o={})),function(e){e.Current="current",e.AutoSave="auto-save",e.Origin="origin"}(a||(a={}));var r,i,o,a,s,u,c,l,d,f,p,h,g,m,v,y,b,_,C,I,E,w,S,D,M,T,A,x,N,O,k=n(745396);!function(e){e.Play="play",e.Pause="pause",e.Stop="stop",e.Close="close",e.TogglePause="toggle-pause",e.ToggleMute="toggle-mute",e.SetVolume="set-volume",e.SetPosition="set-position",e.SetRate="set-rate",e.SetTime="set-time",e.SetMute="set-mute",e.FrameSetup="frame-setup",e.FrameReady="frame-ready",e.TimeChanged="time-changed",e.LengthChanged="length-changed",e.PositionChanged="position-changed",e.Opening="opening",e.Playing="playing",e.Paused="paused",e.Stopped="stopped",e.Backward="backward",e.Buffering="buffering",e.EncounteredError="encountered-error",e.EndReached="end-reached",e.Forward="forward",e.FrameCleanup="frame-cleanup",e.MediaChanged="media-changed",e.NothingSpecial="nothing-special",e.PausableChanged="pausable-changed",e.SeekableChanged="seekable-changed",e.LogMessage="log-message"}(s||(s={})),k.LH,function(e){e.Head="head",e.Chunk="chunk",e.End="end",e.Abort="abort",e.FatalError="fatal-error",e.CaptureError="capture-error",e.RequestAbort="abort"}(u||(u={})),function(e){e.ReadCache="read-cache"}(c||(c={})),function(e){e.JSONSaved="json-saved",e.DocumentSaved="document-saved",e.Cancel="cancel",e.Abort="abort",e.FatalError="fatal-error",e.CaptureError="capture-error"}(l||(l={})),function(e){e[e.None=0]="None",e[e.IOShareViolationError=4003]="IOShareViolationError",e[e.IONotFoundError=4004]="IONotFoundError",e[e.IOUnauthorizedAccessError=4005]="IOUnauthorizedAccessError",e[e.IOUnavailableError=4006]="IOUnavailableError",e[e.DocumentEncryptedError=4001]="DocumentEncryptedError",e[e.DocumentBrokenPackageError=4021]="DocumentBrokenPackageError",e[e.DocumentBrokenOOXMLError=4022]="DocumentBrokenOOXMLError",e[e.OutOfSpaceError=4013]="OutOfSpaceError",e[e.MissingConverterError=5e3]="MissingConverterError",e[e.UnsupportedSystemEnvironmentError=5001]="UnsupportedSystemEnvironmentError",e[e.ComponentFetchError=5002]="ComponentFetchError",e[e.ComponentExecuteError=5003]="ComponentExecuteError",e[e.UnexpectedFormatConvertError=5004]="UnexpectedFormatConvertError",e[e.UnexpectedProcessKilledError=5005]="UnexpectedProcessKilledError",e[e.UnexpectedOutputFormatError=5006]="UnexpectedOutputFormatError",e[e.UIModelError=5007]="UIModelError",e[e.UnexpectedInputIOError=5008]="UnexpectedInputIOError",e[e.UnexpectedInputFormatError=5009]="UnexpectedInputFormatError",e[e.UnexpectedFormatConvertNoEndError=5010]="UnexpectedFormatConvertNoEndError",e[e.UnsupportedAppEnvironmentError=5011]="UnsupportedAppEnvironmentError",e[e.CacheDataIOError=5012]="CacheDataIOError",e[e.UnknownError=5120]="UnknownError"}(d||(d={})),function(e){e[e.ErrorUnknown=23e3]="ErrorUnknown",e[e.ImageUploadError=23005]="ImageUploadError",e[e.ImageDownloadError=23006]="ImageDownloadError"}(f||(f={})),function(e){e.InstallProgress="install-progress",e.InstallError="install-error",e.Installed="installed",e.Uninstalled="uninstalled",e.UninstallError="uninstall-error"}(p||(p={})),function(e){e.WillRetrieveManifest="will-retrieve-manifest",e.WillDownload="will-download",e.WillValidate="will-validate",e.WillUnarchive="will-unarchive",e.WillInstall="will-install",e.DidInstall="did-install"}(h||(h={})),function(e){e.DLL="dll",e.Executable="executable",e.Asset="asset",e.Addon="addon"}(g||(g={})),function(e){e.Next="next",e.Chunk="chunk",e.End="end",e.Error="error"}(m||(m={})),function(e){e.Saved="saved",e.Cancel="cancel",e.Error="error"}(v||(v={})),function(e){e.NotSupported="not-supported",e.StatError="stat-error"}(y||(y={}));let R=2e4;!function(e){e[e.kSuccess=0]="kSuccess",e[e.kUnknownDocsType=14001]="kUnknownDocsType",e[e.kFileNotExist=14002]="kFileNotExist",e[e.kInvalidFilesystem=14003]="kInvalidFilesystem",e[e.kFilesystemEmitError=14004]="kFilesystemEmitError",e[e.kTreewalkerEmitError=14005]="kTreewalkerEmitError",e[e.kInvalidRefResolver=14006]="kInvalidRefResolver",e[e.kInvalidPackageContext=14007]="kInvalidPackageContext",e[e.kInvalidPartContext=14008]="kInvalidPartContext",e[e.kInvalidPackageDescriptor=14009]="kInvalidPackageDescriptor",e[e.kInvalidPartDescriptor=14010]="kInvalidPartDescriptor",e[e.kInvalidPackageStrategy=14011]="kInvalidPackageStrategy",e[e.kInvalidPartStrategy=14012]="kInvalidPartStrategy",e[e.kInvalidAssetPart=14013]="kInvalidAssetPart",e[e.kPasswordRequired=14014]="kPasswordRequired",e[e.kInvalidPassword=14015]="kInvalidPassword",e[e.kInvalidEncryptionContext=14016]="kInvalidEncryptionContext",e[e.kInvalidImportConfig=14017]="kInvalidImportConfig",e[e.kInvalidNamespaceWhenSeekSectpr=14018]="kInvalidNamespaceWhenSeekSectpr",e[e.kImportCancel=14019]="kImportCancel",e[e.kNotSupported=14020]="kNotSupported",e[e.kInvalidImportCache=14021]="kInvalidImportCache",e[e.kInvalidSheetRef=14022]="kInvalidSheetRef",e[e.kInvalidDrawRef=14023]="kInvalidDrawRef",e[e.kInvalidChartRef=14024]="kInvalidChartRef",e[e.kLostRequiredData=14025]="kLostRequiredData",e[e.kInvalidPivotTableRef=14026]="kInvalidPivotTableRef",e[e.kEmptySheetCell=14027]="kEmptySheetCell",e[e.kInvalidSheetId=14028]="kInvalidSheetId",e[e.kSheetDimensionLimited=14029]="kSheetDimensionLimited",e[e.kPresentationPrNotEnough=14030]="kPresentationPrNotEnough",e[e.kSlideMasterNotFound=14031]="kSlideMasterNotFound",e[e.kSlideChunkPageEmptyError=1077]="kSlideChunkPageEmptyError",e[e.processSigKill=R]="processSigKill"}(b||(b={})),function(e){e[e.ErrorUnknown=23e3]="ErrorUnknown",e[e.ErrorBusy=23001]="ErrorBusy",e[e.ErrorNotEntity=23002]="ErrorNotEntity",e[e.ErrorPermittion=23003]="ErrorPermittion",e[e.ErrorDirPermission=23004]="ErrorDirPermission",e[e.ErrorConverterInstall=23090]="ErrorConverterInstall"}(_||(_={})),function(e){e[e.ErrorUnknown=23e3]="ErrorUnknown",e[e.DomainError=23001]="DomainError",e[e.RequestParseError=23002]="RequestParseError",e[e.IOResultParseError=23003]="IOResultParseError",e[e.FileNoExist=23004]="FileNoExist",e[e.ImageUploadError=23005]="ImageUploadError",e[e.ImageDownloadError=23006]="ImageDownloadError",e[e.FileReadFailed=23007]="FileReadFailed",e[e.NotImplemented=23999]="NotImplemented"}(C||(C={})),function(e){e[e.processSigKill=R]="processSigKill",e[e.kUnknownDocsType=15001]="kUnknownDocsType",e[e.kInvalidFileHandle=15002]="kInvalidFileHandle",e[e.kRequiredVisitor=15003]="kRequiredVisitor",e[e.kInvalidPartStrategy=15004]="kInvalidPartStrategy",e[e.kEmptyDataContent=15005]="kEmptyDataContent",e[e.kLostPartVisitor=15006]="kLostPartVisitor",e[e.kExportPBToXFailed=15007]="kExportPBToXFailed",e[e.kEmbedFontFileNotExist=15008]="kEmbedFontFileNotExist",e[e.kEmbedFontOriginFileOpenError=15009]="kEmbedFontOriginFileOpenError",e[e.kEmbedFontDstFileOpenError=15010]="kEmbedFontDstFileOpenError",e[e.kInvalidOOXMLNode=15011]="kInvalidOOXMLNode",e[e.kEncryptFileFailed=15012]="kEncryptFileFailed",e[e.kExportCancel=15013]="kExportCancel",e[e.kInvalidSheetModel=15014]="kInvalidSheetModel",e[e.kInvalidWorksheetId=15015]="kInvalidWorksheetId",e[e.kInvalidWorksheetChartData=15016]="kInvalidWorksheetChartData",e[e.kInvalidPivotTable=15017]="kInvalidPivotTable",e[e.kInvalidPivotCacheDefinitions=15018]="kInvalidPivotCacheDefinitions",e[e.kInvalidPivotCacheRecords=15019]="kInvalidPivotCacheRecords",e[e.kInvalidSheetPivotTable=15020]="kInvalidSheetPivotTable",e[e.kInvalidSheetSharedStringCache=15021]="kInvalidSheetSharedStringCache",e[e.kInvalidSheetFrozenProperty=15022]="kInvalidSheetFrozenProperty",e[e.kInvalidSheetChart=15023]="kInvalidSheetChart",e[e.kInvalidSheetComment=15024]="kInvalidSheetComment",e[e.kAllWorksheetAreHidden=15025]="kAllWorksheetAreHidden",e[e.kInvalidSlideModel=15026]="kInvalidSlideModel",e[e.kEmptySlideViewPr=15027]="kEmptySlideViewPr",e[e.kEmptyTableStyleList=15028]="kEmptyTableStyleList",e[e.kEmptyPresPros=15029]="kEmptyPresPros",e[e.kInvalidSlideId=15030]="kInvalidSlideId",e[e.kInvalidSlideMasterId=15031]="kInvalidSlideMasterId",e[e.kInvalidNotesSlideId=15032]="kInvalidNotesSlideId",e[e.kNotesMasterNotFound=15033]="kNotesMasterNotFound",e[e.kInvalidSlideSection=15034]="kInvalidSlideSection",e[e.kSlideTableNotFound=15035]="kSlideTableNotFound"}(I||(I={}));let L=Object.assign(Object.assign({},b),C),j=Object.assign(Object.assign({},I),C);!function(e){e[e.Word=0]="Word",e[e.Excel=1]="Excel",e[e.Form=2]="Form",e[e.Slide=4]="Slide",e[e.PDF=6]="PDF",e[e.MIND=90]="MIND",e[e.FLOWCHART=91]="FLOWCHART"}(E||(E={})),function(e){e.FINISH_LOAD="FINISH_LOAD",e.FINISH_DISPLAY="FINISH_DISPLAY",e.BEGIN_DUMP="BEGIN_DUMP",e.MOBILE_PERFERMANCE="MOBILE_PERFERMANCE"}(w||(w={})),function(e){e.CAN_VIEW="can_view",e.CAN_INTERACT="can_interact",e.CAN_EDIT="can_edit"}(S||(S={})),function(e){e.Complete="complete",e.ReadCache="read-cache"}(D||(D={})),function(e){e.Data="data",e.Abort="abort",e.ConverterError="converter-error",e.ContinueWithPassword="continue-with-password",e.DesktopError="desktop-error",e.MobileError="mobile-error"}(M||(M={})),function(e){e[e.SlideFile=0]="SlideFile"}(T||(T={})),function(e){e.Head="head",e.Chunk="chunk",e.End="end",e.Abort="abort",e.Error="error",e.ContinueWithPassword="continue-with-password",e.Info="info"}(A||(A={})),function(e){e.JSONSaved="json-saved",e.DocumentSaved="document-saved",e.Cancel="cancel",e.Abort="abort",e.ConverterError="converter-error",e.DesktopError="desktop-error",e.MobileError="mobile-error"}(x||(x={})),function(e){e.PARSE_HTML="parse_html",e.INIT_LOCAL_EDIT="init_local_edit",e.ENGINE_INSTALLED="engine_installed",e.FIRST_CHUNK_FETCHED="first_chunk_fetched",e.ALL_CHUNKS_FETCHED="all_chunks_fetched",e.CAN_VIEW="can_view",e.CAN_INTERACT="can_interact",e.CAN_EDIT="can_edit"}(N||(N={})),function(e){e.BEGIN_DUMP="begin_dump",e.FINISH_DUMP="finish_dump"}(O||(O={}))},503693:function(e,t,n){"use strict";n.d(t,{yE:function(){return s},cg:function(){return i},uZ:function(){return c},zV:function(){return g},pF:function(){return d},O3:function(){return f},q9:function(){return p},g6:function(){return r},Kl:function(){return a},As:function(){return u},IA:function(){return m},Ze:function(){return y},ot:function(){return h},zU:function(){return l},qW:function(){return o}}),function(e){e.CreateCollection="create-collection",e.DropCollection="drop-collection",e.CreateIndex="create-index",e.DropIndex="drop-index"}(r||(r={})),function(e){e.MoveProperty="move-property",e.DropProperty="drop-property",e.ReplaceProperty="replace-property",e.ClearData="clear-data",e.ReplaceData="replace-data"}(i||(i={}));var r,i,o,a,s,u,c,l,d,f={name:"alloy_db_schema_table",indices:[],key:{path:"name"},properties:[]};!function(e){e.Equals="=",e.NotEquals="!=",e.GreaterThan=">",e.GreaterOrEqualThan=">=",e.LessThan="<",e.LessOrEqualThan="<=",e.In="in",e.NotIn="nin"}(o||(o={}));var p=void 0;function h(e){return"number"==typeof e&&!Number.isNaN(e)||"string"==typeof e||e instanceof Date&&!Number.isNaN(e.getTime())||e instanceof ArrayBuffer||ArrayBuffer.isView(e)||Array.isArray(e)&&e.every(h)}function g(e,t){var n=e;return Array.isArray(t)?t.map(function(e){return n[e]}):n[t]}function m(e,t){return Array.isArray(e)?Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return m(e,t[n])}):e===t}!function(e){e.OR="or",e.AND="and",e.FILTER="filter",e.NONE="none",e.ALL="all"}(a||(a={})),function(e){e.ENTRIES="entries",e.VALUES="values",e.KEYS="keys",e.COUNT="count"}(s||(s={})),function(e){e.DESCENDING="desc",e.ASCENDING="asc"}(u||(u={})),function(e){e.AutoIncrement="auto-increment"}(c||(c={})),function(e){e.Equals="=",e.GreaterThan=">",e.GreaterOrEqualThan=">=",e.LessThan="<",e.LessOrEqualThan="<="}(l||(l={}));var v=n(209787),y=function(){function e(){}return e.collectionDiff=function(e,t){if(e.name!==t.name)throw Error("can not compare collection schema with different name");var n={collection:e.name},r=t.indices.filter(function(t){return!e.indices.some(function(e){return e.name===t.name})}),i=e.indices.filter(function(e){return!t.indices.some(function(t){return t.name===e.name})});return(r.length||i.length)&&(n.index={added:(0,v.__spreadArray)([],(0,v.__read)(r)),deleted:(0,v.__spreadArray)([],(0,v.__read)(i))}),n},e.databaseDiff=function(e,t){var n,r,i=this.getCompareMap(e,t),o={added:[],deleted:[],different:[]};try{for(var a=(0,v.__values)(i.values()),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.oldValue&&!u.newValue){o.deleted.push(u.oldValue);continue}if(!u.oldValue&&u.newValue){o.added.push(u.newValue);continue}if(u.oldValue&&u.newValue){var c=this.collectionDiff(u.oldValue,u.newValue);if(!c.index)continue;o.different.push(c)}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o},e.getCompareMap=function(e,t){var n,r,i,o,a=new Map;try{for(var s=(0,v.__values)(t.collections),u=s.next();!u.done;u=s.next()){var c=u.value,l=a.get(c.name)||{};l.newValue=c,a.set(c.name,l)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}try{for(var d=(0,v.__values)(e.collections),f=d.next();!f.done;f=d.next()){var c=f.value,l=a.get(c.name)||{};l.oldValue=c,a.set(c.name,l)}}catch(e){i={error:e}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return a},e}();!function(e){e.READ_ONLY="readonly",e.READ_WRITE="readwrite",e.VERSION_CHANGE="versionchange"}(d||(d={}))},915757:function(e,t,n){"use strict";n.d(t,{ZK:function(){return s},sH:function(){return o},zF:function(){return a}});var r=n(209787),i=function(e){function t(t,n){for(var r=this,i=t,o={cause:n};o.cause&&o.cause instanceof Error;)i=t+"\n	\u2192 "+n,o=o.cause;return(r=e.call(this,i)||this).cause=n,r.name=r.constructor.name,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(r,r.constructor):r.stack=Error().stack,Object.setPrototypeOf(r,r.constructor.prototype),r}return(0,r.__extends)(t,e),t}(Error),o={withDefaultMessage:function(e,t){return function(n){function i(r,i){var o=n.call(this,r||t||"",i)||this;return o.name=e,Object.setPrototypeOf(o,o.constructor.prototype),o}return(0,r.__extends)(i,n),i}(i)},withMessageCreator:function(e,t){return function(n){function i(r,i){var o=n.call(this,t(r),i)||this;return o.name=e,Object.setPrototypeOf(o,o.constructor.prototype),o}return(0,r.__extends)(i,n),i}(i)}};o.withDefaultMessage("AssertionError","the asserted condition is invalid");var a=o.withMessageCreator("UnimplementedError",function(e){return e?"called with arguments: "+JSON.stringify(e):"called with nothing"}),s=function(e){}},766829:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var r,i,o=n(209787),a=n(737033),s=n.n(a),u=n(571227),c=n.n(u),l=n(766123),d=n.n(l),f=function(e,t){return t.some(function(t){return e instanceof t})};function p(){return r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h(){return i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var g=new WeakMap,m=new WeakMap,v=new WeakMap,y=new WeakMap,b=new WeakMap;function _(e){var t=new Promise(function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",o)},i=function(){t(D(e.result)),r()},o=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(function(t){t instanceof IDBCursor&&g.set(t,e)}).catch(function(){}),b.set(t,e),t}function C(e){if(!m.has(e)){var t=new Promise(function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=function(){t(),r()},o=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});m.set(e,t)}}var I={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return m.get(e);if("objectStoreNames"===t)return e.objectStoreNames||v.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return D(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function E(e){I=e(I)}function w(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?h().includes(e)?function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(M(this),n),D(g.get(this))}:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return D(e.apply(M(this),n))}:function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=e.call.apply(e,[M(this),t].concat(r));return v.set(o,t.sort?t.sort():[t]),D(o)}}function S(e){return"function"==typeof e?w(e):(e instanceof IDBTransaction&&C(e),f(e,p()))?new Proxy(e,I):e}function D(e){if(e instanceof IDBRequest)return _(e);if(y.has(e))return y.get(e);var t=S(e);return t!==e&&(y.set(e,t),b.set(t,e)),t}var M=function(e){return b.get(e)};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){s()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,o=n.blocking,a=n.terminated,s=indexedDB.open(e,t),u=D(s);return i&&s.addEventListener("upgradeneeded",function(e){i(D(s.result),e.oldVersion,e.newVersion,D(s.transaction))}),r&&s.addEventListener("blocked",function(){return r()}),u.then(function(e){a&&e.addEventListener("close",function(){return a()}),o&&e.addEventListener("versionchange",function(){return o()})}).catch(function(){}),u}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.blocked,r=indexedDB.deleteDatabase(e);return n&&r.addEventListener("blocked",function(){return n()}),D(r).then(function(){})}var O=["get","getKey","getAll","getAllKeys","count"],k=["put","add","delete","clear"],R=new Map;function L(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t){if(R.get(t))return R.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=k.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||O.includes(n))){var o=function(){var e=c()(d().mark(function e(t){var o,a,s,u,c,l,f=arguments;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(s=(a=this.transaction(t,i?"readwrite":"readonly")).store,c=Array((u=f.length)>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(o=s)[n].apply(o,c),i&&a.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return R.set(t,o),o}}}E(function(e){return A(A({},e),{},{get:function(t,n,r){return L(t,n)||e.get(t,n,r)},has:function(t,n){return!!L(t,n)||e.has(t,n)}})});var j=n(503693),P=function(){function e(e,t,n,r){var i,o=this;this.mode=e,this.proxyCursor=t,this.direction=n,this.engineAspects=r,this.delete=void 0,this.update=void 0,e!==j.pF.READ_ONLY&&(this.delete=function(){return o.getProxyCursorWithMode().delete()},this.update=function(e){return o.getProxyCursorWithMode().update(e)}),(null==(i=this.engineAspects)?void 0:i.cursor)&&this.applyAspectPatch()}return e.prototype[Symbol.asyncIterator]=function(){return new B(this)},e.prototype.next=function(){return(0,o.__awaiter)(this,void 0,void 0,function(){var e;return(0,o.__generator)(this,function(t){switch(t.label){case 0:return[4,this.proxyCursor.continue()];case 1:if(!(e=t.sent()))return[2,null];return this.proxyCursor=e,[2,this]}})})},e.prototype.value=function(){return this.proxyCursor.value},e.prototype.getProxyCursorWithMode=function(){return this.proxyCursor},e.prototype.applyAspectPatch=function(){var e,t=null==(e=this.engineAspects)?void 0:e.cursor;if(this.mode!==j.pF.READ_ONLY){var n=this;null==t||t.delete.patch(n,"delete"),null==t||t.update.patch(n,"update")}null==t||t.next.patch(this,"next"),null==t||t.value.patch(this,"value")},e}(),B=function(){function e(e){this.currentCursor=e}return e.prototype[Symbol.asyncIterator]=function(){return this},e.prototype.next=function(){return(0,o.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,o.__generator)(this,function(n){switch(n.label){case 0:if(!this.currentCursor)return[2,{value:void 0,done:!0}];return e=this.currentCursor.value(),t=this,[4,this.currentCursor.next()];case 1:return t.currentCursor=n.sent(),[2,{value:e,done:!1}]}})})},e}(),F=function(){function e(e,t,n,r){this.table=e,this.proxyIndex=t,this.mode=n,this.engineAspects=r,this.name=t.name,this.keyPath=t.keyPath,this.unique=t.unique,(null==r?void 0:r.index)&&this.applyAspectPatch()}return e.prototype.getAll=function(e){return this.proxyIndex.getAll(e)},e.prototype.getAllKeys=function(e,t){return this.proxyIndex.getAllKeys(e,t)},e.prototype.get=function(e){return this.proxyIndex.get(e)},e.prototype.openCursor=function(e,t){return(0,o.__awaiter)(this,void 0,void 0,function(){var n;return(0,o.__generator)(this,function(r){switch(r.label){case 0:return[4,this.proxyIndex.openCursor(e,t)];case 1:if(!(n=r.sent()))return[2,null];return[2,new P(this.mode,n,null!=t?t:"next")]}})})},e.prototype.applyAspectPatch=function(){var e,t=null==(e=this.engineAspects)?void 0:e.index,n=this;null==t||t.get.patch(n,"get"),null==t||t.getAll.patch(n,"getAll"),null==t||t.getAllKeys.patch(n,"getAllKeys"),null==t||t.openCursor.patch(n,"openCursor")},e}(),U=function(){function e(e,t,n,r){this.mode=e,this.objectStore=t,this.engineAspects=n,this.transaction=r,this.createIndex=void 0,this.delete=void 0,this.bulkDelete=void 0,this.clear=void 0,this.insert=void 0,this.upsert=void 0,this.deleteIndex=void 0,this.bulkUpsert=void 0,this.keyPath=t.keyPath,this.autoIncrement=t.autoIncrement,this.tableName=t.name,this.indexNames=(0,o.__spreadArray)([],(0,o.__read)(t.indexNames)),this.initWriteFun(e),(null==n?void 0:n.table)&&this.applyAspectPatch()}return e.prototype.query=function(){throw Error("query Method is not support for IDB.")},e.prototype.supports=function(e){return!["query","bulkDelete"].includes(e)},e.prototype.index=function(e){return new F(this,this.objectStore.index(e),this.mode,this.engineAspects)},e.prototype.getAll=function(e){return this.objectStore.getAll(e)},e.prototype.getAllKeys=function(e,t){return this.objectStore.getAllKeys(e,t)},e.prototype.get=function(e){var t;return null!=(t=this.objectStore.get(e))?t:null},e.prototype.openCursor=function(e,t){return(0,o.__awaiter)(this,void 0,void 0,function(){var n;return(0,o.__generator)(this,function(r){switch(r.label){case 0:return[4,this.objectStore.openCursor(e,t)];case 1:if(!(n=r.sent()))return[2,null];return[2,new P(this.mode,n,null!=t?t:"next")]}})})},e.prototype.initWriteFun=function(e){var t=this;e===j.pF.VERSION_CHANGE&&(this.createIndex=this.createIndexFun,this.deleteIndex=function(e){return t.getProxyObjectStoreWithMode().deleteIndex(e)}),e!==j.pF.READ_ONLY&&(this.delete=function(e){return t.getProxyObjectStoreWithMode().delete(e)},this.bulkDelete=function(e){throw Error("bulkDelete Method is not support for IDB.")},this.clear=function(){return t.getProxyObjectStoreWithMode().clear()},this.insert=function(e){return t.getProxyObjectStoreWithMode().add(e)},this.upsert=function(e){return t.getProxyObjectStoreWithMode().put(e)},this.bulkUpsert=function(e){var n=t.getProxyObjectStoreWithMode();return Promise.all(e.reduce(function(e,t){return e.push(n.put(t)),e},[]))})},e.prototype.createIndexFun=function(e,t,n){return new F(this,this.getProxyObjectStoreWithMode().createIndex(e,t,n),this.mode)},e.prototype.getProxyObjectStoreWithMode=function(){return this.objectStore},e.prototype.applyAspectPatch=function(){var e,t=null==(e=this.engineAspects)?void 0:e.table;if(this.mode===j.pF.READ_ONLY){null==t||t.get.patch(this,"get"),null==t||t.getAll.patch(this,"getAll"),null==t||t.getAllKeys.patch(this,"getAllKeys"),null==t||t.index.patch(this,"index"),null==t||t.openCursor.patch(this,"openCursor");return}this.mode===j.pF.VERSION_CHANGE&&(null==t||t.createIndex.patch(this,"createIndex"),null==t||t.deleteIndex.patch(this,"deleteIndex")),null==t||t.delete.patch(this,"delete"),null==t||t.insert.patch(this,"insert"),null==t||t.upsert.patch(this,"upsert"),null==t||t.bulkUpsert.patch(this,"bulkUpsert"),null==t||t.clear.patch(this,"clear")},e}(),G=function(){function e(e,t){this.proxyTransaction=e,this.engineAspects=t,this.tables=e.objectStoreNames,this.mode=e.mode,(null==t?void 0:t.transaction)&&this.applyAspectPatch()}return e.prototype.table=function(e){var t=this.proxyTransaction.objectStore(e);return new U(this.mode,t,this.engineAspects,this)},e.prototype.commit=function(){return(0,o.__awaiter)(this,void 0,void 0,function(){var e;return(0,o.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.proxyTransaction.done];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),[2,!1];case 3:return[2,!0]}})})},e.prototype.rollback=function(){return(0,o.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,o.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,1,,6]),this.proxyTransaction.abort(),[3,6];case 1:e=n.sent(),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,this.proxyTransaction.done];case 3:return n.sent(),[3,5];case 4:return t=n.sent(),[2,!0];case 5:return[2,!1];case 6:return[2,!0]}})})},e.prototype.applyAspectPatch=function(){var e,t=null==(e=this.engineAspects)?void 0:e.transaction,n=this;null==t||t.commit.patch(n,"commit"),null==t||t.rollback.patch(n,"rollback"),null==t||t.table.patch(n,"table")},e}(),W=function(){function e(e,t){this.idbDatabase=e,this.engineAspect=t,this.name=e.name,this.version=e.version,this.tableNames=(0,o.__spreadArray)([],(0,o.__read)(e.objectStoreNames)),this.engineAspect&&this.applyAspectPatch()}return e.prototype.setVersionChangeListener=function(e){this.idbDatabase.addEventListener("versionchange",function(t){e(t.oldVersion,t.newVersion)})},e.prototype.close=function(){this.idbDatabase.close()},e.prototype.createTable=function(e,t){var n=this.idbDatabase.createObjectStore(e,t);return new U(j.pF.VERSION_CHANGE,n)},e.prototype.deleteTable=function(e){this.idbDatabase.deleteObjectStore(e)},e.prototype.transaction=function(e,t){return(0,o.__awaiter)(this,void 0,void 0,function(){return(0,o.__generator)(this,function(n){return[2,new G(this.idbDatabase.transaction(e,t),this.engineAspect)]})})},e.prototype.table=function(e,t){return(0,o.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,o.__generator)(this,function(i){return r=new G(n=this.idbDatabase.transaction([e],t)),[2,new U(t,n.objectStore(e),this.engineAspect,r)]})})},e.prototype.applyAspectPatch=function(){var e,t=null==(e=this.engineAspect)?void 0:e.database;null==t||t.deleteTable.patch(this,"deleteTable"),null==t||t.createTable.patch(this,"createTable"),null==t||t.transaction.patch(this,"transaction"),null==t||t.table.patch(this,"table"),null==t||t.close.patch(this,"close")},e}();function Z(e,t){return e<t?-1:+(e>t)}var V=function(e,t){var n=typeof e,r=typeof t;if(isNaN(e)||isNaN(t))return indexedDB.cmp(e,t);if(n===r){if("number"===n||"bigint"===n)return e-t;if("string"===n)return Z(e,t)}return e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():indexedDB.cmp(e,t)},H=n(915757).sH.withDefaultMessage("IndexedDB is missing in global context. Consider using `indexeddbshim` for better compatibility or `fake-indexeddb` in your test environment."),z=function(){function e(){if("undefined"==typeof indexedDB)throw new H;this.cmp=V}return e.prototype.deleteDB=function(e){return(0,o.__awaiter)(this,void 0,void 0,function(){return(0,o.__generator)(this,function(t){return[2,N(e)]})})},e.prototype.setAspects=function(e){this.engineAspects=e,this.engineAspects.openDB.patch(this,"openDB"),this.engineAspects.deleteDB.patch(this,"deleteDB")},e.prototype.openDB=function(e,t,n,r){return(0,o.__awaiter)(this,void 0,void 0,function(){var t=this;return(0,o.__generator)(this,function(i){switch(i.label){case 0:return[4,x(e,n,{upgrade:function(e,n,i,o){var a;null==(a=null==r?void 0:r.upgrade)||a.call(r,new W(e,t.engineAspects),n,i,new G(o))},blocked:function(){var e;return null==(e=null==r?void 0:r.blocked)?void 0:e.call(r)},blocking:function(){var e;return null==(e=null==r?void 0:r.blocking)?void 0:e.call(r)},terminated:function(){var e;return null==(e=null==r?void 0:r.terminated)?void 0:e.call(r)}})];case 1:return[2,new W(i.sent(),this.engineAspects)]}})})},e}()},455501:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r,i,o,a,s=n(209787),u=n(503693);!function(e){e.INIT="init",e.GET="get",e.GET_ALL="getAll",e.DELETE="delete",e.INSERT="set",e.UPDATE="update",e.UPDATE_MUTIL_TABLE_DATA="updateMultiTableData",e.BEGIN_TRANSACTION="beginTransaction",e.COMMIT_TRANSACTION="commitTransaction",e.ROLLBACK_TRANSACTION="rollbackTransaction"}(r||(r={})),function(e){e[e.IN=0]="IN",e[e.LOWER_BOUND=1]="LOWER_BOUND",e[e.UPPER_BOUND=2]="UPPER_BOUND",e[e.BOUND=3]="BOUND",e[e.ONLY=4]="ONLY",e[e.NOT_IN=5]="NOT_IN"}(i||(i={})),function(e){e[e.INCREASE=0]="INCREASE",e[e.DECREASE=1]="DECREASE",e[e.INCREASE_BY_TEXT=2]="INCREASE_BY_TEXT",e[e.DECREASE_BY_TEXT=3]="DECREASE_BY_TEXT"}(o||(o={}));var c=n(444553),l=function(){function e(){}return e.send=function(t){return(0,s.__awaiter)(this,void 0,void 0,function(){return(0,s.__generator)(this,function(n){return[2,Promise.race([new Promise(function(e){var n;(null==(n=null==window?void 0:window.tdocs)?void 0:n.clientDatabaseRequest)?window.tdocs.clientDatabaseRequest(t).then(e).catch(function(t,n){e({err_code:n,err_msg:t})}):c.nativeRequest.invoke({schema:"jsapi",namespace:"docx",method:"clientDatabaseRequest",params:t,removeCallback:!0,callback:function(t){e(t)}})}),new Promise(function(t){setTimeout(function(){t({err_msg:"req timeout",err_code:e.timeoutErrorCode})},e.timeout)})])]})})},e.timeout=1e4,e.timeoutErrorCode="100002",e}(),d="_",f=function(){function e(){}return e.getDBKeyFromKeyPath=function(e){return"string"==typeof e?e:e.join(d)},e.normalizeUnionKeyValue=function(e){return Array.isArray(e)?JSON.stringify(e):e},e.getKeyFromValue=function(e,t){if("object"!=typeof e)return e;var n=e;if("string"==typeof t)return n[t];var r=[];return t.forEach(function(e){r.push(n[e])}),r},e.addUnionKeyIfNeed=function(t,n){if("string"==typeof n)return t;var r=(0,s.__assign)({},t),i=e.getDBKeyFromKeyPath(n),o=[];return n.forEach(function(e){return o.push(r[e])}),r[i]=e.normalizeUnionKeyValue(o),r},e.deleteUnionKeyIfNeed=function(t,n){if("string"==typeof n)return t;var r=(0,s.__assign)({},t);return r[e.getDBKeyFromKeyPath(n)]=void 0,r},e}(),p=function(){function e(e,t,n,r,i){var o;this.direction=n,this.mode=r,this.engineAspects=i,this.delete=void 0,this.update=void 0,this.cursor=0,this.engineTable=t,this.values=this.preProcessedData(e),this.isPositiveDirection()||(this.cursor=this.values.length-1),r!==u.pF.READ_ONLY&&(this.delete=this.deleteData,this.update=this.updateData),(null==(o=this.engineAspects)?void 0:o.cursor)&&this.applyAspectPatch()}return e.prototype.next=function(){return(0,s.__awaiter)(this,void 0,void 0,function(){var e;return(0,s.__generator)(this,function(t){return(e=this.cursor+(this.isPositiveDirection()?1:-1))<0||e>this.values.length-1?[2,null]:(this.cursor=e,[2,this])})})},e.prototype.value=function(){return this.values[this.cursor]},e.prototype[Symbol.asyncIterator]=function(){return new h(this)},e.prototype.deleteData=function(){var e=f.getKeyFromValue(this.value(),this.engineTable.keyPath);return this.engineTable.delete(e)},e.prototype.updateData=function(e){return this.engineTable.upsert(e)},e.prototype.isPositiveDirection=function(){return"next"===this.direction||"nextunique"===this.direction},e.prototype.isUniqueDirection=function(){return"nextunique"===this.direction||"prevunique"===this.direction},e.prototype.preProcessedData=function(e){return this.isUniqueDirection()?(0,s.__spreadArray)([],(0,s.__read)(new Set(e))):e},e.prototype.applyAspectPatch=function(){var e,t=null==(e=this.engineAspects)?void 0:e.cursor;if(this.mode!==u.pF.READ_ONLY){var n=this;null==t||t.delete.patch(n,"delete"),null==t||t.update.patch(n,"update")}null==t||t.next.patch(this,"next"),null==t||t.value.patch(this,"value")},e}(),h=function(){function e(e){this.currentCursor=e}return e.prototype[Symbol.asyncIterator]=function(){return this},e.prototype.next=function(){return(0,s.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,s.__generator)(this,function(n){switch(n.label){case 0:if(!this.currentCursor)return[2,{value:void 0,done:!0}];return e=this.currentCursor.value(),t=this,[4,this.currentCursor.next()];case 1:return t.currentCursor=n.sent(),[2,{value:e,done:!1}]}})})},e}(),g=n(915757),m=g.sH.withMessageCreator("UnSupportError Error",function(e){return"client db does not support "+e}),v=g.sH.withMessageCreator("openDBError",function(e){return"open db error in database , msg: "+e}),y=g.sH.withMessageCreator("tableNotExist",function(e){return e+" is not exist in the database"}),b=g.sH.withMessageCreator("indexNotExist",function(e){return e+" is not exist in the table"}),_=g.sH.withDefaultMessage("WhereOrUnsupportedError","multiple where clause is not supported in native engine"),C=g.sH.withMessageCreator("DBOperationError",function(e){return"query or write db has error, msg: "+e});function I(e,t){var n=t.collections.filter(function(t){return t.name===e});if(!n.length)throw new y(e);return n[0]}function E(e,t,n){if(e.err_code||e.err_msg){var r=new C("has error in "+t+" opt, code: "+e.err_code+" msg: "+e.err_msg);throw null==n||n(r),r}}var w=function(){function e(){this.conditions=[],this.limitCount=Number.MAX_VALUE,this.offsetCount=0,this.orders=[]}return e.prototype.addKeyQueryCondition=function(e,t){var n=this;if("string"==typeof e)return this.addCondition(e,t);if(t instanceof Array)return this.addCondition(f.getDBKeyFromKeyPath(e),f.normalizeUnionKeyValue(t));if(!(t instanceof IDBKeyRange))throw Error("unsupported key: "+t);var r=t.upper,i=t.upperOpen,o=t.lower,a=t.lowerOpen;return e.forEach(function(t,s){var u=null==o?void 0:o[s],c=null==r?void 0:r[s];if(void 0===u&&void 0===c)throw Error("key range query param has error, keyPath: "+e+" lower: "+o+", upper: "+r);void 0!==u&&void 0!==c?n.addCondition(t,IDBKeyRange.bound(u,c,a,i)):void 0!==u?n.addCondition(t,IDBKeyRange.lowerBound(u,a)):n.addCondition(t,IDBKeyRange.upperBound(c,i))}),this},e.prototype.addCondition=function(e,t,n){void 0===n&&(n=i.ONLY);var r,o=n;return t instanceof IDBKeyRange?void 0!==t.lower&&void 0!==t.upper?(o=i.BOUND,r={lower:t.lower,upper:t.upper,lowerOpen:t.lowerOpen,upperOpen:t.upperOpen}):void 0!==t.lower?(o=i.LOWER_BOUND,r={lower:t.lower,open:t.lowerOpen}):(o=i.UPPER_BOUND,r={upper:t.upper,open:t.upperOpen}):r=t,this.conditions.push({type:o,column:e,value:r}),this},e.prototype.setLimit=function(e){return this.limitCount=e,this},e.prototype.setOffset=function(e){return this.offsetCount=e,this},e.prototype.addOrder=function(e,t){var n=o.INCREASE;t===u.As.DESCENDING&&(n=o.DECREASE),this.orders.push({key:e,type:n})},e.prototype.build=function(){return{_conditions:this.conditions,_limitCount:this.limitCount,_offsetCount:this.offsetCount,_orders:this.orders}},e}(),S=function(){function e(e,t,n,r,i){var o,a=this;this.dbName=e,this.table=t,this.mode=r,this.engineAspects=i,this.name=n.name,this.keyPath=n.path,this.unique=null!=(o=n.unique)&&o,this.transaction=t.transaction,this.reqErrorObserver=function(e){var t;return null==(t=a.transaction)?void 0:t.notifyTransactionFail(e)},(null==i?void 0:i.index)&&this.applyAspectPatch()}return e.prototype.getAll=function(e,t){return(0,s.__awaiter)(this,void 0,void 0,function(){var n,i,o=this;return(0,s.__generator)(this,function(a){switch(a.label){case 0:return n={command:r.GET_ALL,dbName:this.dbName,tableName:this.table.tableName,where:e?new w().addKeyQueryCondition(this.keyPath,e).setLimit(null!=t?t:Number.MAX_VALUE).build():void 0},[4,this.sendRequest(n)];case 1:if(E(i=a.sent(),"getAll",this.reqErrorObserver),!i.result)return[2,[]];return[2,i.result.map(function(e){return f.deleteUnionKeyIfNeed(e,o.table.keyPath)})]}})})},e.prototype.getAllKeys=function(e,t){return(0,s.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,s.__generator)(this,function(i){switch(i.label){case 0:return[4,this.getAll(null!=e?e:void 0,t)];case 1:if(!(n=i.sent()))return[2,[]];return[2,n.map(function(e){return f.getKeyFromValue(e,r.table.keyPath)})]}})})},e.prototype.get=function(e){return(0,s.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,s.__generator)(this,function(i){switch(i.label){case 0:return t={command:r.GET,dbName:this.dbName,tableName:this.table.tableName,where:new w().addKeyQueryCondition(this.keyPath,e).build()},[4,this.sendRequest(t)];case 1:if(E(n=i.sent(),"get",this.reqErrorObserver),n.result)return[2,f.deleteUnionKeyIfNeed(n.result,this.table.keyPath)];return[2,null]}})})},e.prototype.openCursor=function(e,t){return(0,s.__awaiter)(this,void 0,void 0,function(){var n;return(0,s.__generator)(this,function(r){switch(r.label){case 0:return[4,this.getAll(e)];case 1:if(!(n=r.sent()))return[2,null];return[2,new p(n,this.table,null!=t?t:"next",this.mode)]}})})},e.prototype.sendRequest=function(e){(null==(t=this.transaction)?void 0:t.transactionID)&&(e.transaction=this.transaction.transactionID);var t,n,r=l.send(e);return null==(n=this.transaction)||n.addResponsePromise(r),r},e.prototype.applyAspectPatch=function(){var e,t=null==(e=this.engineAspects)?void 0:e.index,n=this;null==t||t.get.patch(n,"get"),null==t||t.getAll.patch(n,"getAll"),null==t||t.getAllKeys.patch(n,"getAllKeys"),null==t||t.openCursor.patch(n,"openCursor")},e}(),D=function(){function e(e,t,n,r,i){var o,a,s,u=this;this.dbName=e,this.collectionSchema=t,this.mode=n,this.engineAspects=r,this.transaction=i,this.createIndex=void 0,this.delete=void 0,this.bulkDelete=void 0,this.clear=void 0,this.insert=void 0,this.upsert=void 0,this.deleteIndex=void 0,this.bulkUpsert=void 0,this.keyPath=null!=(a=null==(o=t.key)?void 0:o.path)?a:[],this.autoIncrement=!!(null==(s=t.key)?void 0:s.generator),this.tableName=t.name,this.indexNames=t.indices.map(function(e){return f.getDBKeyFromKeyPath(e.path)}),this.initWriteFun(n),this.reqErrorObserver=function(e){var t;return null==(t=u.transaction)?void 0:t.notifyTransactionFail(e)},(null==r?void 0:r.table)&&this.applyAspectPatch()}return e.prototype.query=function(e,t){return(0,s.__awaiter)(this,void 0,void 0,function(){var n,i,o,a=this;return(0,s.__generator)(this,function(c){switch(c.label){case 0:return n={command:r.GET_ALL,dbName:this.dbName,tableName:this.tableName,where:this.getClientQueryCondition(e)},[4,this.sendRequest(n)];case 1:if(E(i=c.sent(),"query",this.reqErrorObserver),!i.result||!i.result.length)return[2,[]];if(o=i.result.map(function(e){return[f.getKeyFromValue(e,a.keyPath),f.deleteUnionKeyIfNeed(e,a.keyPath)]}),t===u.yE.COUNT)return[2,o.length];if(t===u.yE.KEYS)return[2,o.map(function(e){return(0,s.__read)(e,1)[0]})];if(t===u.yE.VALUES)return[2,o.map(function(e){return(0,s.__read)(e,2)[1]})];return[2,o]}})})},e.prototype.supports=function(){return!0},e.prototype.index=function(e){var t=this.collectionSchema.indices.filter(function(t){return t.name===e});if(!t.length)throw new b(e);return new S(this.dbName,this,t[0],this.mode,this.engineAspects)},e.prototype.getAll=function(e,t){return(0,s.__awaiter)(this,void 0,void 0,function(){var n,i,o=this;return(0,s.__generator)(this,function(a){switch(a.label){case 0:return n={command:r.GET_ALL,dbName:this.dbName,tableName:this.tableName,where:e?new w().addKeyQueryCondition(this.keyPath,e).setLimit(null!=t?t:Number.MAX_VALUE).build():void 0},[4,this.sendRequest(n)];case 1:if(E(i=a.sent(),"getAll",this.reqErrorObserver),!i.result||!i.result.length)return[2,[]];return[2,i.result.map(function(e){return f.deleteUnionKeyIfNeed(e,o.keyPath)})]}})})},e.prototype.getAllKeys=function(e,t){return(0,s.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,s.__generator)(this,function(i){switch(i.label){case 0:return[4,this.getAll(null!=e?e:void 0,t)];case 1:if(!(n=i.sent()))return[2,[]];return[2,n.map(function(e){return f.getKeyFromValue(e,r.keyPath)})]}})})},e.prototype.get=function(e){return(0,s.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,s.__generator)(this,function(i){switch(i.label){case 0:return t={command:r.GET,dbName:this.dbName,tableName:this.tableName,where:new w().addKeyQueryCondition(this.keyPath,e).build()},[4,this.sendRequest(t)];case 1:if(E(n=i.sent(),"get",this.reqErrorObserver),n.result)return[2,f.deleteUnionKeyIfNeed(n.result,this.keyPath)];return[2,null]}})})},e.prototype.openCursor=function(e,t){return(0,s.__awaiter)(this,void 0,void 0,function(){var n;return(0,s.__generator)(this,function(r){switch(r.label){case 0:return[4,this.getAll(e)];case 1:if(!(n=r.sent()))return[2,null];return[2,new p(n,this,null!=t?t:"next",this.mode,this.engineAspects)]}})})},e.prototype.initWriteFun=function(e){var t=this;e===u.pF.VERSION_CHANGE&&(this.createIndex=this.createIndexFun,this.deleteIndex=function(e){}),e!==u.pF.READ_ONLY&&(this.delete=this.deleteData,this.bulkDelete=this.bulkDeleteData,this.clear=this.deleteData,this.insert=this.insertAndUpdate,this.upsert=function(e){return t.insertAndUpdate(e,!0)},this.bulkUpsert=this.bulkUpsertData)},e.prototype.createIndexFun=function(e,t){var n=this.collectionSchema.indices.filter(function(t){return t.name===e});if(!n.length)throw new b(e);return new S(this.dbName,this,n[0],this.mode)},e.prototype.bulkDeleteData=function(e){return(0,s.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,s.__generator)(this,function(o){switch(o.label){case 0:return t=e.map(function(e){return f.normalizeUnionKeyValue(e)}),n={command:r.DELETE,dbName:this.dbName,tableName:this.tableName,where:e?new w().addCondition(f.getDBKeyFromKeyPath(this.keyPath),t,i.IN).build():void 0},[4,this.sendRequest(n)];case 1:return E(o.sent(),"bulkDelete",this.reqErrorObserver),[2]}})})},e.prototype.bulkUpsertData=function(e){return(0,s.__awaiter)(this,void 0,void 0,function(){var t,n,i=this;return(0,s.__generator)(this,function(o){switch(o.label){case 0:return t=e.map(function(e){return f.addUnionKeyIfNeed(e,i.keyPath)}).map(function(e){return{tableName:i.tableName,data:e}}),n={command:r.UPDATE_MUTIL_TABLE_DATA,dbName:this.dbName,multiData:t},[4,this.sendRequest(n)];case 1:return E(o.sent(),"bulkUpsert",this.reqErrorObserver),[2,e.map(function(e){return f.getKeyFromValue(e,i.keyPath)})]}})})},e.prototype.insertAndUpdate=function(e,t){return(0,s.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,s.__generator)(this,function(o){switch(o.label){case 0:return n=f.addUnionKeyIfNeed(e,this.keyPath),i={command:t?r.UPDATE:r.INSERT,dbName:this.dbName,tableName:this.tableName,data:n},[4,this.sendRequest(i)];case 1:return E(o.sent(),t?"upsert":"insert",this.reqErrorObserver),[2,f.getKeyFromValue(e,this.keyPath)]}})})},e.prototype.deleteData=function(e){return(0,s.__awaiter)(this,void 0,void 0,function(){var t;return(0,s.__generator)(this,function(n){switch(n.label){case 0:return t={command:r.DELETE,dbName:this.dbName,tableName:this.tableName,where:e?new w().addKeyQueryCondition(this.keyPath,e).build():void 0},[4,this.sendRequest(t)];case 1:return E(n.sent(),e?"delete":"clear",this.reqErrorObserver),[2]}})})},e.prototype.sendRequest=function(e){(null==(t=this.transaction)?void 0:t.transactionID)&&(e.transaction=this.transaction.transactionID);var t,n,r=l.send(e);return null==(n=this.transaction)||n.addResponsePromise(r),r},e.prototype.getClientQueryCondition=function(e){var t,n,r,o,a,c=new w;if(e.whereClauses.length>1)throw new _;if(!e.whereClauses.length)return c.build();var l=(0,s.__read)(e.whereClauses,1)[0];try{for(var d=(0,s.__values)(Object.entries(l)),p=d.next();!p.done;p=d.next()){var h=(0,s.__read)(p.value,2),g=h[0],m=h[1];if((0,u.ot)(m)){c.addKeyQueryCondition(g,m);continue}if(!this.isEmptyPredicate(m)){var v=m[u.qW.In];Array.isArray(v)&&c.addCondition(f.getDBKeyFromKeyPath(g),v.map(f.normalizeUnionKeyValue),i.IN);var y=m[u.qW.NotIn];Array.isArray(y)&&c.addCondition(f.getDBKeyFromKeyPath(g),y.map(f.normalizeUnionKeyValue),i.NOT_IN);try{for(var b=(r=void 0,(0,s.__values)(Object.entries(m))),C=b.next();!C.done;C=b.next()){var I=(0,s.__read)(C.value,2),E=I[0],S=I[1];if(void 0!==S){if(E===u.qW.NotEquals){c.addCondition(f.getDBKeyFromKeyPath(g),[f.normalizeUnionKeyValue(S)],i.NOT_IN);continue}var D=(a={},a[u.qW.Equals]=IDBKeyRange.only(S),a[u.qW.GreaterThan]=IDBKeyRange.lowerBound(S,!0),a[u.qW.GreaterOrEqualThan]=IDBKeyRange.lowerBound(S,!1),a[u.qW.LessThan]=IDBKeyRange.upperBound(S,!0),a[u.qW.LessOrEqualThan]=IDBKeyRange.upperBound(S,!1),a)[E];void 0!==D&&c.addKeyQueryCondition(g,D)}}}catch(e){r={error:e}}finally{try{C&&!C.done&&(o=b.return)&&o.call(b)}finally{if(r)throw r.error}}}}}catch(e){t={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}return void 0!==e.limit&&c.setLimit(e.limit),c.setOffset(e.offset),void 0!==e.order&&c.addOrder(f.getDBKeyFromKeyPath(e.order.path),e.order.type),c.build()},e.prototype.isEmptyPredicate=function(e){return!e||Object.values(e).every(function(e){return void 0===e})},e.prototype.applyAspectPatch=function(){var e,t=null==(e=this.engineAspects)?void 0:e.table;null==t||t.get.patch(this,"get"),null==t||t.getAll.patch(this,"getAll"),null==t||t.getAllKeys.patch(this,"getAllKeys"),null==t||t.index.patch(this,"index"),null==t||t.openCursor.patch(this,"openCursor"),this.mode===u.pF.VERSION_CHANGE&&(null==t||t.createIndex.patch(this,"createIndex"),null==t||t.deleteIndex.patch(this,"deleteIndex")),(this.mode===u.pF.READ_WRITE||this.mode===u.pF.VERSION_CHANGE)&&(null==t||t.delete.patch(this,"delete"),null==t||t.insert.patch(this,"insert"),null==t||t.upsert.patch(this,"upsert"),null==t||t.clear.patch(this,"clear"),null==t||t.query.patch(this,"query"),null==t||t.bulkDelete.patch(this,"bulkDelete"),null==t||t.bulkUpsert.patch(this,"bulkUpsert"))},e}();!function(e){e.ACTIVE="active",e.COMMITTING="committing",e.COMPLETED="completed"}(a||(a={}));var M=function(){function e(e,t,n,r,i,o){var a=this;this.tables=e,this.dbName=t,this.dbSchema=n,this.transactionID=r,this.mode=i,this.engineAspects=o,this.reqSeqFactory=function(){var e=0;return function(){return e+=1}}(),this.dbRequestSeqAndResponseMap=new Map,this.transactionStatus="active",this.autoCommitTimerId=null,this.onTransactionDonePromiseResolve=function(){},this.onTransactionDonePromiseReject=function(){},this.waitingTransactionDonePromise=new Promise(function(e,t){a.onTransactionDonePromiseResolve=e,a.onTransactionDonePromiseReject=t}),(null==o?void 0:o.transaction)&&this.applyAspectPatch(),this.tryToAutoCommit()}return e.prototype.notifyTransactionFail=function(e){this.onTransactionDonePromiseReject(e),this.clearAutoCommitTimer()},e.prototype.waitForTransactionDone=function(){return this.waitingTransactionDonePromise},e.prototype.addResponsePromise=function(e){var t=this,n=this.reqSeqFactory();this.clearAutoCommitTimer(),this.dbRequestSeqAndResponseMap.set(n,e),e.then(function(){t.dbRequestSeqAndResponseMap.delete(n),t.tryToAutoCommit()})},e.prototype.table=function(e){return new D(this.dbName,I(e,this.dbSchema),this.mode,this.engineAspects,this)},e.prototype.commit=function(e){var t,n,i,o;return(0,s.__awaiter)(this,void 0,void 0,function(){var a,u;return(0,s.__generator)(this,function(s){switch(s.label){case 0:if(this.clearAutoCommitTimer(),"active"!==this.transactionStatus)return e||null==(n=null==(t=window.log)?void 0:t.report)||n.call(t,"transaction_repeat_error",{query:{sessionId:null==(o=null==(i=window.log)?void 0:i.var)?void 0:o.sessionId}}),[2,!0];if(!this.transactionID)return this.onTransactionDonePromiseResolve(),[2,!0];return a={command:r.COMMIT_TRANSACTION,dbName:this.dbName,transaction:this.transactionID},this.transactionStatus="committing",[4,l.send(a)];case 1:if(u=s.sent(),this.transactionStatus="completed",u.err_code||u.err_msg)return this.onTransactionDonePromiseReject(),[2,!1];return this.onTransactionDonePromiseResolve(),[2,!0]}})})},e.prototype.rollback=function(){return(0,s.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,s.__generator)(this,function(n){switch(n.label){case 0:if(!this.transactionID)return this.onTransactionDonePromiseResolve(),[2,!0];return e={command:r.ROLLBACK_TRANSACTION,dbName:this.dbName,transaction:this.transactionID},[4,l.send(e)];case 1:if((t=n.sent()).err_code||t.err_msg)return this.onTransactionDonePromiseReject(),[2,!1];return this.onTransactionDonePromiseResolve(),[2,!0]}})})},e.prototype.applyAspectPatch=function(){var e,t=null==(e=this.engineAspects)?void 0:e.transaction,n=this;null==t||t.commit.patch(n,"commit"),null==t||t.rollback.patch(n,"rollback"),null==t||t.table.patch(n,"table")},e.prototype.tryToAutoCommit=function(){var e=this;0===this.dbRequestSeqAndResponseMap.size&&null===this.autoCommitTimerId&&(this.autoCommitTimerId=setTimeout(function(){0===e.dbRequestSeqAndResponseMap.size&&"active"===e.transactionStatus&&e.commit(!0)}))},e.prototype.clearAutoCommitTimer=function(){null!==this.autoCommitTimerId&&(clearTimeout(this.autoCommitTimerId),this.autoCommitTimerId=null)},e}(),T=function(){function e(e,t,n,r,i,o){this.isSupportTransactions=i,this.engineAspects=o,this.schema=e,this.name=t,this.version=n,this.tableNames=r,(null==o?void 0:o.database)&&this.applyAspectPatch()}return e.prototype.setVersionChangeListener=function(){},e.prototype.close=function(){},e.prototype.createTable=function(e){return new D(this.name,I(e,this.schema),u.pF.VERSION_CHANGE,this.engineAspects)},e.prototype.deleteTable=function(){},e.prototype.transaction=function(e,t){return(0,s.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,s.__generator)(this,function(o){switch(o.label){case 0:if(!this.isSupportTransactions||t===u.pF.READ_ONLY)return[2,new M(e,this.name,this.schema,void 0,null!=t?t:u.pF.READ_ONLY,this.engineAspects)];return n={command:r.BEGIN_TRANSACTION,dbName:this.name},[4,l.send(n)];case 1:return E(i=o.sent(),"startTransaction"),[2,new M(e,this.name,this.schema,i.result,null!=t?t:u.pF.READ_ONLY,this.engineAspects)]}})})},e.prototype.table=function(e,t){return(0,s.__awaiter)(this,void 0,void 0,function(){return(0,s.__generator)(this,function(n){return[2,new D(this.name,I(e,this.schema),t,this.engineAspects)]})})},e.prototype.applyAspectPatch=function(){var e,t=null==(e=this.engineAspects)?void 0:e.database;null==t||t.deleteTable.patch(this,"deleteTable"),null==t||t.createTable.patch(this,"createTable"),null==t||t.transaction.patch(this,"transaction"),null==t||t.table.patch(this,"table"),null==t||t.close.patch(this,"close")},e}(),A=function(e,t){return e===t?0:e>t?1:-1},x=function(){function e(){this.cmp=A}return e.prototype.deleteDB=function(e){return(0,s.__awaiter)(this,void 0,void 0,function(){return(0,s.__generator)(this,function(e){return[2]})})},e.prototype.setAspects=function(e){this.engineAspects=e,e.openDB.patch(this,"openDB"),e.deleteDB.patch(this,"deleteDB")},e.prototype.openDB=function(e,t,n,i){var o,a,c,d;return(0,s.__awaiter)(this,void 0,void 0,function(){var f,p,h,g;return(0,s.__generator)(this,function(s){switch(s.label){case 0:return[4,l.send({command:r.INIT,dbName:e,table:this.getTableInfo(t)})];case 1:if((f=s.sent()).err_msg||f.err_code)throw new v(e+" errCode: "+f.err_code+", errMsg: "+f.err_msg);return[4,this.getDBExistTableNames(e)];case 2:if(h=new T(t,e,null!=n?n:0,p=s.sent(),null!=(a=null==(o=f.result)?void 0:o.supportTransaction)&&a,this.engineAspects),!(null==(c=f.result)?void 0:c.dbSchemaChange)||!(null==i?void 0:i.upgrade))return[2,h];return[4,h.transaction(p,u.pF.VERSION_CHANGE)];case 3:return g=s.sent(),null==(d=null==i?void 0:i.upgrade)||d.call(i,h,0,null!=n?n:null,g),[4,g.waitForTransactionDone()];case 4:return s.sent(),[2,h]}})})},e.prototype.getDBExistTableNames=function(e){var t;return(0,s.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,s.__generator)(this,function(o){switch(o.label){case 0:return[4,l.send({dbName:e,command:r.GET_ALL,tableName:u.O3.name})];case 1:if((n=o.sent()).err_code||n.err_msg||!(null==(t=n.result)?void 0:t.length))return[2,[]];return i=n.result,[2,(0,s.__spreadArray)((0,s.__spreadArray)([],(0,s.__read)(i)),[u.O3]).map(function(e){return e.name})]}})})},e.prototype.getTableInfo=function(e){return e?e.collections.map(function(e){if(!(null==(t=e.key)?void 0:t.path))throw new m("key autoIncrement");var t,n=e.indices.map(function(e){if(e.path instanceof Array)throw new m("union index");return f.getDBKeyFromKeyPath(e.path)});return e.key.path instanceof Array&&e.key.path.forEach(function(e){n.push(e)}),{tableName:e.name,keyName:f.getDBKeyFromKeyPath(e.key.path),indexs:(0,s.__spreadArray)([],(0,s.__read)(new Set(n)))}}):[]},e}()},363534:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r,i=n(209787),o=n(503693),a=n(915757),s=n(451831),u=500;!function(e){e.pending="[PENDING]",e.success="[SUCCESS]",e.failure="[FAILURE]",e.slow="[SLOW]"}(r||(r={}));var c=Symbol("begin"),l=function(e){return"["+e+"]"},d=function(e,t){return e+"/"+t},f=function(e,t){return"["+e+"."+t+"]"},p=function(e){var t=Array.isArray(e)?e:Object.keys(e).filter(function(t){return void 0!==e[t]}).map(function(t){return t+"="+e[t]});return t.length?(0,i.__spreadArray)(["args:"],(0,i.__read)(t)):[]},h=function(e){return"[-* "+e+"]"},g=function(){var e=Date.now();return function(){var t=Date.now(),n="+"+(t-e)+"ms";return e=t,n}},m=function(){function e(e){var t=this,n=void 0===e?{logger:console,verbose:!1,disabled:!1,prefix:""}:e,a=n.logger,s=void 0===a?console:a,l=n.disabled,d=void 0!==l&&l,h=n.verbose,g=void 0!==h&&h,m=n.prefix,v=void 0===m?"":m;this.name="LoggerPlugin",this.formatQueryConditionsExp=function(e){if(e.type===o.Kl.AND||e.type===o.Kl.OR){if(!e.exps.length)return;return e.exps.map(t.formatQueryConditionsExp).filter(Boolean).map(function(t){return e.type===o.Kl.OR&&e.exps.length>1?"("+t+")":t}).join(e.type===o.Kl.AND?" AND ":" OR ")}return e.type===o.Kl.FILTER?t.formatPredicate(e.path,e.predicate):e.type},this.formatPredicate=function(e,t){return Object.keys(t).filter(function(e){return void 0!==t[e]}).map(function(n){return e+" "+n+" "+JSON.stringify(t[n])}).join(" AND ")},this.logMethodBegin=function(e,n,o,a){var s;e.timings.set(c,new Date),(s=t.logger).info.apply(s,(0,i.__spreadArray)([t.prefix,r.pending,f(n,o)],(0,i.__read)(p(a))))},this.logMethodEnd=function(e,n,o,a,s){var l,d,h,g,m=e.timings.get(c)||new Date,v=f(n,o),y=Date.now()-m.getTime(),b="cost="+y+"ms",_=y>=u;if(s.error)return void(l=t.logger).error.apply(l,(0,i.__spreadArray)([t.prefix,r.failure,f(n,o),b,null==(h=s.error)?void 0:h.message,null==(g=s.error)?void 0:g.stack],(0,i.__read)(p(a))));(d=t.logger)[_?"warn":"info"].apply(d,(0,i.__spreadArray)((0,i.__spreadArray)((0,i.__spreadArray)((0,i.__spreadArray)([t.prefix,r.success],(0,i.__read)(_?[r.slow]:[])),[v,b]),(0,i.__read)(p(a))),["result:",s.data]))},this.logger=s,this.disabled=d,this.verbose=g,this.prefix=v}return e.prototype.register=function(e){!this.disabled&&(this.prefix=this.prefix||l(e.name),this.hookPrimaryKeyQueries(e),this.hookConditionQueries(e),this.hookDataManipulationQueries(e),this.hookEvents(e),this.hookMigration(e),this.verbose&&this.hookEngine(e))},e.prototype.dispose=function(e){throw new a.zF({storage:e})},e.prototype.hookMigration=function(e){var t=this,n=function(e,n,r){void 0===r&&(r="migration"),e.before(function(e){t.logMethodBegin(e,r,n,e.args)}).after(function(e){t.logMethodEnd(e,r,n,e.args,{data:e.return,error:e.error})})};n(e.aspects.migration.buildMigration,"buildMigration"),n(e.aspects.migration.executeDataMigration,"executeDataMigration"),n(e.aspects.migration.executeSchemaMigration,"executeSchemaMigration"),n(e.aspects.migration.updateMigrationChangeInfo,"updateMigrationChangeInfo"),n(e.aspects.migration.prepareAutoUpgradeHandler,"prepareAutoUpgradeHandler"),n(e.aspects.migration.log,"innerLog"),n(e.aspects.migration.actionExecutor.executeSchemaAction,"executeSchemaAction"),n(e.aspects.migration.actionExecutor.executeDataAction,"executeDataAction")},e.prototype.hookEngine=function(e){var t=this,n=function(e,n,r){e.before(function(e){t.logMethodBegin(e,n,r,e.args)}).after(function(e){t.logMethodEnd(e,n,r,e.args,{data:e.return,error:e.error})})},r=e.aspects.engine;n(r.openDB,"engine","openDB"),n(r.deleteDB,"engine","deleteDB"),this.hookEngineDatabase(r.database,n),this.hookEngineTable(r.table,n),this.hookEngineTransaction(r.transaction,n),this.hookEngineIndex(r.index,n),this.hookEngineCursor(r.cursor,n)},e.prototype.hookEngineDatabase=function(e,t){var n=d("engine","database");t(e.close,n,"close"),t(e.table,n,"table"),t(e.transaction,n,"transaction"),t(e.createTable,n,"createTable"),t(e.deleteTable,n,"deleteTable")},e.prototype.hookEngineTransaction=function(e,t){var n=d("engine","transaction");t(e.commit,n,"commit"),t(e.rollback,n,"rollback"),t(e.table,n,"table")},e.prototype.hookEngineIndex=function(e,t){var n=d("engine","index");t(e.get,n,"get"),t(e.getAll,n,"getAll"),t(e.getAllKeys,n,"getAllKeys"),t(e.openCursor,n,"openCursor")},e.prototype.hookEngineCursor=function(e,t){var n=d("engine","cursor");t(e.delete,n,"delete"),t(e.update,n,"update"),t(e.next,n,"next"),t(e.value,n,"value")},e.prototype.hookEngineTable=function(e,t){var n=d("engine","table");t(e.clear,n,"clear"),t(e.get,n,"get"),t(e.delete,n,"delete"),t(e.getAll,n,"getAll"),t(e.getAllKeys,n,"getAllKeys"),t(e.index,n,"index"),t(e.insert,n,"insert"),t(e.upsert,n,"upsert"),t(e.createIndex,n,"createIndex"),t(e.deleteIndex,n,"deleteIndex"),t(e.openCursor,n,"openCursor"),t(e.query,n,"query"),t(e.bulkDelete,n,"bulkDelete"),t(e.bulkUpsert,n,"bulkUpsert")},e.prototype.hookPrimaryKeyQueries=function(e){var t=this,n=function(e,n){e.before(function(e){t.logMethodBegin(e,e.this.name,n,{key:e.args[0]})}).after(function(e){t.logMethodEnd(e,e.this.name,n,{key:e.args[0]},{data:e.return,error:e.error})})};n(e.aspects.collection.get,"get"),n(e.aspects.collection.has,"has"),n(e.aspects.collection.delete,"delete")},e.prototype.hookConditionQueries=function(e){var t=this,n=function(e,n){e.before(function(e){t.logMethodBegin(e,e.this.name,n,t.formatQueryConditions(e.this.conditions()))}).after(function(e){t.logMethodEnd(e,e.this.name,n,t.formatQueryConditions(e.this.conditions()),{data:e.return,error:e.error})})};n(e.aspects.collection.count,"count"),n(e.aspects.collection.entries,"entries"),n(e.aspects.collection.keys,"keys"),n(e.aspects.collection.values,"values"),n(e.aspects.collection.first,"first"),n(e.aspects.collection.last,"last"),n(e.aspects.collection.clear,"clear"),n(e.aspects.collection.update,"update")},e.prototype.hookDataManipulationQueries=function(e){var t=this,n=function(e,n){e.before(function(e){t.logMethodBegin(e,e.this.name,n,e.args)}).after(function(e){t.logMethodEnd(e,e.this.name,n,e.args,{data:e.return,error:e.error})})};n(e.aspects.collection.insert,"insert"),n(e.aspects.collection.upsert,"upsert"),n(e.aspects.collection.bulkInsert,"bulkInsert"),n(e.aspects.collection.bulkUpsert,"bulkUpsert")},e.prototype.hookEvents=function(e){var t=this,n=g();e.events.onBootstrapStart(function(){t.logger.info(t.prefix,h(s.StorageEvent.BootstrapStart),n())}),e.events.onBootstrapEnd(function(){t.logger.info(t.prefix,h(s.StorageEvent.BootstrapEnd),n())}),e.events.onSchemaMigrationStart(function(){t.logger.info(t.prefix,h(s.StorageEvent.SchemaMigrationStart),n())}),e.events.onSchemaMigrationEnd(function(){t.logger.info(t.prefix,h(s.StorageEvent.SchemaMigrationEnd),n())}),e.events.onRegisterModel(function(e){var r,o=e.schema;return(r=t.logger).info.apply(r,(0,i.__spreadArray)((0,i.__spreadArray)([t.prefix,h(s.StorageEvent.RegisterModel)],(0,i.__read)(p({schema:JSON.stringify(o)}))),[n()]))}),e.events.onRegisterPlugin(function(e){var r,o=e.name;return(r=t.logger).info.apply(r,(0,i.__spreadArray)((0,i.__spreadArray)([t.prefix,h(s.StorageEvent.RegisterPlugin)],(0,i.__read)(p({name:o}))),[n()]))}),e.events.onReady(function(e){var r,o=e.version,a=e.tableNames;return(r=t.logger).info.apply(r,(0,i.__spreadArray)((0,i.__spreadArray)([t.prefix,h(s.StorageEvent.Ready)],(0,i.__read)(p({version:o,collections:Array.from(a)}))),[n()]))})},e.prototype.formatQueryConditions=function(e){var t=e.offset,n=e.limit,r=e.order,i=e.exp;return{OFFSET:t||void 0,LIMIT:n,ORDER_BY:r&&"("+r.path+" "+r.type+")",WHERE:"("+this.formatQueryConditionsExp(i)+")"}},e}()},702898:function(e,t,n){"use strict";n.r(t),n.d(t,{CollectionMonitorEvent:function(){return c},EngineMonitorEvent:function(){return u},default:function(){return f}});var r,i,o,a=n(209787),s=n(915757);!function(e){e.storage="storage",e.collection="collection",e.query="query",e.migration="migration",e.engine="engine"}(r||(r={})),function(e){e.tableGetAll="table#getAll",e.tableGetAllKeys="table#getAllKeys",e.tableGet="table#get",e.tableInsert="table#insert",e.tableUpsert="table#upsert",e.tableDelete="table#delete",e.tableClear="table#clear",e.tableBulkUpsert="table#bulkUpsert",e.tableBulkDelete="table#bulkDelete",e.tableQuery="table#query",e.tableCreateIndex="table#createIndex",e.tableDeleteIndex="table#deleteIndex",e.indexGet="index#get",e.indexGetAll="index#getAll",e.indexGetAllKeys="index#getAllKeys",e.cursorNext="cursor#next",e.cursorValue="cursor#value",e.cursorUpdate="cursor#update",e.cursorDelete="cursor#delete",e.transactionCommit="transaction#commit",e.transactionRollback="transaction#rollback",e.databaseClose="database#close",e.databaseCreateTable="database#createTable",e.databaseDeleteTable="database#deleteTable",e.engineOpenDB="engine#openDB",e.engineDeleteDB="engine#deleteDB"}(i||(i={})),function(e){e[e.success=0]="success",e[e.fail=1]="fail"}(o||(o={}));var u=function(){function e(e,t){this.module=r.engine,this.actionExecuteState=0,this.status=0,this.time=new Date,this.action=e,this.cost=t}return e.prototype.markError=function(e){this.errorMsg=e.message,this.actionExecuteState=1,this.status=1},e}(),c=function(){function e(e,t){this.module=r.collection,this.status=0,this.actionExecuteState=0,this.write={count:0},this.read={count:0},this.delete={count:0},this.fail={count:0,reasons:[]},this.time=new Date,this.action=e,this.cost=t}return e.prototype.increment=function(e,t){void 0===t&&(t=1),this[e].count+=t},e.prototype.error=function(e){this.actionExecuteState=1,this.status=1,this.increment("fail"),this.fail.reasons.push(e.name)},e}(),l=Symbol("begin");function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}var f=function(){function e(e){var t=this,n=void 0===e?{}:e,r=n.disabled,i=void 0!==r&&r,o=n.onEvent,s=n.onCollectionEvent,u=n.onEngineEvent;this.name="MonitorPlugin",this.begin=function(e){e.timings.set(l,new Date)},this.reportReadEvent=function(e,n){t.reportCollectionEvent(e,n,function(r){return(0,a.__awaiter)(t,void 0,void 0,function(){var t,i;return(0,a.__generator)(this,function(o){switch(o.label){case 0:if(!e.return)return[3,2];return[4,e.return];case 1:t=o.sent(),i="has"===n?!t:null===t,r.increment("read",+!i),o.label=2;case 2:return[2]}})})})},this.reportBatchReadEvent=function(e,n){t.reportCollectionEvent(e,n,function(n){return(0,a.__awaiter)(t,void 0,void 0,function(){var t,r,i;return(0,a.__generator)(this,function(o){switch(o.label){case 0:if(!e.return)return[3,2];return r=(t=n).increment,i=["read"],[4,e.return];case 1:r.apply(t,i.concat([o.sent().length])),o.label=2;case 2:return[2]}})})})},this.reportWriteEvent=function(e,n){t.reportCollectionEvent(e,n,function(n){return(0,a.__awaiter)(t,void 0,void 0,function(){var t,r,i;return(0,a.__generator)(this,function(o){switch(o.label){case 0:if(!e.return)return[3,2];return r=(t=n).increment,i=["write"],[4,e.return];case 1:r.apply(t,i.concat([+(null!==o.sent())])),o.label=2;case 2:return[2]}})})})},this.reportBatchWriteEvent=function(e,n){t.reportCollectionEvent(e,n,function(n){return(0,a.__awaiter)(t,void 0,void 0,function(){var t,r,i;return(0,a.__generator)(this,function(o){switch(o.label){case 0:if(!e.return)return[3,2];return r=(t=n).increment,i=["write"],[4,e.return];case 1:r.apply(t,i.concat([o.sent().length])),o.label=2;case 2:return[2]}})})})},this.reportDeleteEvent=function(e,n){t.reportCollectionEvent(e,n,function(n){return(0,a.__awaiter)(t,void 0,void 0,function(){var t,r,i;return(0,a.__generator)(this,function(o){switch(o.label){case 0:if(!e.return)return[3,2];return r=(t=n).increment,i=["delete"],[4,e.return];case 1:r.apply(t,i.concat([+(null!==o.sent())])),o.label=2;case 2:return[2]}})})})},this.reportBatchDeleteEvent=function(e,n){t.reportCollectionEvent(e,n,function(n){return(0,a.__awaiter)(t,void 0,void 0,function(){var t,r,i;return(0,a.__generator)(this,function(o){switch(o.label){case 0:if(!e.return)return[3,2];return r=(t=n).increment,i=["delete"],[4,e.return];case 1:r.apply(t,i.concat([o.sent().length])),o.label=2;case 2:return[2]}})})})},this.disabled=i,this.onEvent=o,this.onCollectionEvent=s,this.onEngineEvent=u}return e.prototype.register=function(e){var t,n,r,o,s,u,c,l,f=this;if(!this.disabled){var p=e.aspects,h=p.collection,g=p.engine,m=function(e){h[e].before(v.begin).after(function(t){return f.reportReadEvent(t,e)})},v=this;try{for(var y=(0,a.__values)(d("get","has","first","last")),b=y.next();!b.done;b=y.next()){var _=b.value;m(_)}}catch(e){t={error:e}}finally{try{b&&!b.done&&(n=y.return)&&n.call(y)}finally{if(t)throw t.error}}var C=function(e){h[e].before(I.begin).after(function(t){return f.reportBatchReadEvent(t,e)})},I=this;try{for(var E=(0,a.__values)(d("entries","keys","values","update")),w=E.next();!w.done;w=E.next()){var _=w.value;C(_)}}catch(e){r={error:e}}finally{try{w&&!w.done&&(o=E.return)&&o.call(E)}finally{if(r)throw r.error}}var S=function(e){h[e].before(D.begin).after(function(t){return f.reportWriteEvent(t,e)})},D=this;try{for(var M=(0,a.__values)(d("upsert","insert")),T=M.next();!T.done;T=M.next()){var _=T.value;S(_)}}catch(e){s={error:e}}finally{try{T&&!T.done&&(u=M.return)&&u.call(M)}finally{if(s)throw s.error}}var A=function(e){h[e].before(x.begin).after(function(t){return f.reportBatchWriteEvent(t,e)})},x=this;try{for(var N=(0,a.__values)(d("bulkUpsert","bulkInsert","update")),O=N.next();!O.done;O=N.next()){var _=O.value;A(_)}}catch(e){c={error:e}}finally{try{O&&!O.done&&(l=N.return)&&l.call(N)}finally{if(c)throw c.error}}h.delete.before(this.begin).after(function(e){return f.reportDeleteEvent(e,"delete")}),h.clear.before(this.begin).after(function(e){return f.reportBatchDeleteEvent(e,"clear")}),g.openDB.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.engineOpenDB)}),g.deleteDB.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.engineDeleteDB)});var k=g.database,R=g.table,L=g.transaction,j=g.index,P=g.cursor;k.close.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.databaseClose)}),k.createTable.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.databaseCreateTable)}),k.deleteTable.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.databaseDeleteTable)}),R.get.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.tableGet)}),R.getAll.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.tableGetAll)}),R.getAllKeys.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.tableGetAllKeys)}),R.insert.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.tableInsert)}),R.upsert.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.tableUpsert)}),R.delete.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.tableDelete)}),R.clear.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.tableClear)}),R.bulkDelete.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.tableBulkDelete)}),R.bulkUpsert.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.tableBulkUpsert)}),R.query.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.tableQuery)}),R.createIndex.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.tableCreateIndex)}),R.deleteIndex.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.tableDeleteIndex)}),L.commit.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.transactionCommit)}),L.rollback.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.transactionRollback)}),j.get.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.indexGet)}),j.getAll.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.indexGetAll)}),j.getAllKeys.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.indexGetAllKeys)}),P.delete.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.cursorDelete)}),P.update.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.cursorUpdate)}),P.next.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.cursorNext)}),P.value.before(this.begin).after(function(e){return f.reportEngineEvent(e,i.cursorValue)})}},e.prototype.dispose=function(e){throw new s.zF({storage:e})},e.prototype.reportEngineEvent=function(e,t){var n,r,i=e.timings.get(l)||new Date,o=new u(t,Date.now()-i.getTime());e.error&&o.markError(e.error),null==(n=this.onEvent)||n.call(this,o),null==(r=this.onEngineEvent)||r.call(this,o)},e.prototype.reportCollectionEvent=function(e,t,n){var r,i;return(0,a.__awaiter)(this,void 0,void 0,function(){var o,s;return(0,a.__generator)(this,function(a){switch(a.label){case 0:if(o=e.timings.get(l)||new Date,s=new c(t,Date.now()-o.getTime()),!e.error)return[3,1];return s.error(e.error),[3,3];case 1:return[4,n(s,e)];case 2:a.sent(),a.label=3;case 3:return null==(r=this.onEvent)||r.call(this,s),null==(i=this.onCollectionEvent)||i.call(this,s),[2]}})})},e}()},451831:function(e,t,n){"use strict";n.r(t),n.d(t,{KeyGenerator:function(){return d.uZ},index:function(){return R},table:function(){return k},QueryExpType:function(){return d.Kl},StorageError:function(){return c},SchemaDiffUtils:function(){return d.Ze},getKeyByPath:function(){return d.zV},MIGRATION_ASSIST_TABLE_SCHEMA:function(){return d.O3},TransactionMode:function(){return d.pF},default:function(){return tl},isKey:function(){return d.ot},primary:function(){return L},QueryAggregateType:function(){return d.yE},Model:function(){return F},SchemaActionType:function(){return d.g6},equalsKeyPaths:function(){return d.IA},UNLIMITED:function(){return d.q9},KeyCompareOp:function(){return d.zU},field:function(){return N},SortOrder:function(){return d.As},StorageEvent:function(){return r},DataActionType:function(){return d.cg},WhereOperator:function(){return d.qW}});var r,i,o,a,s,u,c={};n.r(c),n.d(c,{CollectionNotFoundError:function(){return h},DataMigrationError:function(){return g},DatabaseConnectError:function(){return p},DatabaseInternalError:function(){return I},DatabaseUnexpectedClosedError:function(){return T},EmptyTableInfoError:function(){return y},ExecuteDataUpgradeError:function(){return M},IncorrectTransactionModeError:function(){return m},InvalidWhereInValueError:function(){return b},NoTableInfoError:function(){return v},OrderByKeyError:function(){return C},PluginError:function(){return w},QueryJobError:function(){return E},TransactionCommitError:function(){return S},UnsupportedWhereOperatorError:function(){return _},UpdateMigrationChangeInfoError:function(){return D}});var l=n(209787),d=n(503693),f=n(915757),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,l.__extends)(t,e),t.prototype.isQuotaExceeded=function(){return this.message.includes("QuotaExceededError")},t}(f.sH.withMessageCreator("DatabaseConnectError",function(e){return"failed to connect to database '"+e+"'."})),h=f.sH.withMessageCreator("CollectionNotFoundError",function(e){return"model '"+e+"' is not registered, please register it before use it."}),g=f.sH.withMessageCreator("DataMigrationError",function(e){return"failed to perform data migration, versionChange: "+e.oldVersion+" -> "+e.newVersion+"."}),m=f.sH.withMessageCreator("IncorrectTransactionModeError",function(e){return"use error transaction type["+e+"]."}),v=f.sH.withMessageCreator("NoTableInfoError",function(e){return"'"+e+"' is not a valid model with table info injected, please ensure the model class is decorated by @table(), @field() etc."}),y=f.sH.withDefaultMessage("EmptyTableInfoError","table without any field declare, please define model use [field] decorator."),b=f.sH.withMessageCreator("InvalidWhereInValueError",function(e){return"there is an error in your where clause of field '"+e.path+"'."+e.op+", the value must be an array."}),_=f.sH.withMessageCreator("UnsupportedWhereOperatorError",function(e){return"unsupported where operator '"+e+"', current supported operators are >, >=, <, <=, =, !=, in, nin."}),C=f.sH.withDefaultMessage("OrderByKeyError","can not order value that is not Key: 'Key = number | string | Date | BufferSource | Key[]'."),I=f.sH.withMessageCreator("DatabaseInternalError",function(e){return"there is an internal error of database, reason: "+e+"."}),E=f.sH.withMessageCreator("QueryJobError",function(e){return"failed to execute query job, reason: "+e+"."}),w=f.sH.withMessageCreator("PluginError",function(e){return'an error has occurred on plugin "'+e.name+'"": '+e.message+"."}),S=f.sH.withDefaultMessage("TransactionCommitError","failed to commit transaction."),D=f.sH.withDefaultMessage("UpdateMigrationChangeInfoError","failed to update migration change info"),M=f.sH.withMessageCreator("ExecuteDataUpgradeError",function(e){return"failed to execute data upgrade on collection '"+e+"'."}),T=f.sH.withMessageCreator("UnexpectedClosedError",function(e){return"database "+e+" is unexpectedly closed by browser, this could happen when disk is unavailable or the page is shutdown."}),A=Symbol.for("TABLE_KEY"),x=function(){function e(){}return e.saveTableInfo=function(e,t){Object.defineProperty(t,A,{configurable:!0,value:(0,l.__assign)({},e)})},e.getTableInfo=function(e){return e[A]},e.getFirstTableInfoAlongPrototypeChain=function(e){var t=Object.assign({},this.getTableInfo(e));return t.properties=new Map(t.properties),t},e.getTableName=function(e){var t=this.getTableInfo(e.prototype);if(!(null==t?void 0:t.tableName))throw new v(e.name);return t.tableName},e.addTablePropertyInfo=function(t,n){var r=e.getOrCreateTableInfo(t);if(r.properties.has(n.name)){var i=r.properties.get(n.name);Object.assign(n,i)}r.properties.set(n.name,n),this.saveTableInfo(r,t)},e.createPropertyInfo=function(e,t){return{name:e,alias:t,isUnionKey:!1}},e.convertTableInfoToSchema=function(e){if(!e.tableName)return null;var t,n=(0,l.__spreadArray)([],(0,l.__read)(e.properties.values())),r=n.filter(function(e){return e.isIndex}).map(function(e){var t,n;return{name:null!=(t=e.alias)?t:e.name,path:null!=(n=e.alias)?n:e.name,unique:e.isUnique}});return t=!e.autoIncrement&&e.keyPath?{path:1===e.keyPath.length?e.keyPath[0]:e.keyPath}:{generator:d.uZ.AutoIncrement},{properties:n.map(function(e){var t;return null!=(t=e.alias)?t:e.name}),indices:r,key:t,name:e.tableName}},e.createDefaultTableInfo=function(){return{tableName:null,autoIncrement:!0,properties:new Map}},e.getOrCreateTableInfo=function(t){if(Object.prototype.hasOwnProperty.call(t,A))return t[A];var n=e.createDefaultTableInfo(),r=t[A];return r&&(n.properties=new Map((0,l.__spreadArray)((0,l.__spreadArray)([],(0,l.__read)(r.properties)),(0,l.__read)(n.properties)))),e.saveTableInfo(n,t),n},e}(),N=function(e){return function(t,n){var r=x.createPropertyInfo(n,e);x.addTablePropertyInfo(t,r)}};function O(e,t){if(null==e?void 0:e.key)return"string"==typeof e.key?[e.key]:e.key;var n=t.filter(function(e){return e.isPrimaryKey}).map(function(e){var t;return null!=(t=e.alias)?t:e.name});return n.length>0?n:void 0}var k=function(e,t){return function(n){var r=x.getFirstTableInfoAlongPrototypeChain(n.prototype);if(r)r.tableName=e;else throw new y;var i=O(t,(0,l.__spreadArray)([],(0,l.__read)(r.properties.values())));r.keyPath=i,r.autoIncrement=void 0===r.keyPath,x.saveTableInfo(r,n.prototype)}},R=function(e){return function(t,n){var r=x.createPropertyInfo(n);r.isIndex=!0,r.isUnique=!!(null==e?void 0:e.unique),x.addTablePropertyInfo(t,r)}},L=function(){return function(e,t){var n=x.createPropertyInfo(t);n.isPrimaryKey=!0,x.addTablePropertyInfo(e,n)}};let j=()=>({events:{},emit(e,...t){(this.events[e]||[]).forEach(e=>e(...t))},on(e,t){return(this.events[e]=this.events[e]||[]).push(t),()=>this.events[e]=(this.events[e]||[]).filter(e=>e!==t)}});function P(){return j()}!function(e){e.Ready="Ready",e.Fetal="Fetal",e.Closed="Closed",e.Destroyed="Destroyed",e.Error="Error",e.RegisterModel="RegisterModel",e.RegisterPlugin="RegisterPlugin",e.BootstrapStart="BootstrapStart",e.BootstrapEnd="BootstrapEnd",e.SchemaMigrationStart="SchemaMigrationStart",e.SchemaMigrationEnd="SchemaMigrationEnd",e.VersionChange="VersionChange"}(r||(r={})),function(e){e.CollectionCreated="CollectionCreated",e.ModelLazyMigrationEnd="ModelLazyMigrationEnd",e.PrepareAutoUpgradeEnd="PrepareAutoUpgradeEnd",e.UpdateMigrationChangeInfo="UpdateMigrationChangeInfoEnd",e.StartTransaction="StartTransaction"}(i||(i={}));var B=function(){function e(e){var t=this;this.onClosed=function(e){t.eventBus.on(r.Closed,e)},this.eventBus=e}return e.prototype.onReady=function(e){this.eventBus.on(r.Ready,e)},e.prototype.onFetal=function(e){this.eventBus.on(r.Fetal,e)},e.prototype.onError=function(e){this.eventBus.on(r.Error,e)},e.prototype.onRegisterModel=function(e){this.eventBus.on(r.RegisterModel,e)},e.prototype.onRegisterPlugin=function(e){this.eventBus.on(r.RegisterPlugin,e)},e.prototype.onBootstrapStart=function(e){this.eventBus.on(r.BootstrapStart,e)},e.prototype.onBootstrapEnd=function(e){this.eventBus.on(r.BootstrapEnd,e)},e.prototype.onSchemaMigrationStart=function(e){this.eventBus.on(r.SchemaMigrationStart,e)},e.prototype.onSchemaMigrationEnd=function(e){this.eventBus.on(r.SchemaMigrationEnd,e)},e.prototype.onVersionChange=function(e){this.eventBus.on(r.VersionChange,e)},e.prototype.emitError=function(e){this.eventBus.emit(r.Error,e)},e}(),F=function(){function e(){}return e.revealSchema=function(e){var t=x.getTableInfo(e.prototype);return t?x.convertTableInfoToSchema(t):null},e}(),U=function(){function e(e){this.models=[],this.eventBus=e}return e.prototype.register=function(e){if(!this.models.includes(e)){var t=this.getSchema(e);this.models.push(e),this.eventBus.emit(r.RegisterModel,{class:e,schema:t})}},e.prototype.getSchema=function(e){var t=F.revealSchema(e);if(!t){var n=new v(e.name);throw this.eventBus.emit(r.Error,n),new v(e.name)}return t},e.prototype.getSchemaAndRegisterModelIfNeed=function(e){return this.register(e),this.getSchema(e)},e}();function G(e){var t,n,r,i=x.getTableInfo(Object.getPrototypeOf(e));if(!i)return e;var o={};try{for(var a=(0,l.__values)(i.properties.values()),s=a.next();!s.done;s=a.next()){var u=s.value;o[null!=(r=u.alias)?r:u.name]=e[u.name]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o}function W(e,t){var n,r,i,o={};try{for(var a=(0,l.__values)(t.properties.values()),s=a.next();!s.done;s=a.next()){var u=s.value,c=null!=(i=u.alias)?i:u.name;o[u.name]=e[c]}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o}function Z(e,t){if(null==e)return null;var n,r,i=x.getTableInfo(t.prototype);if(!i)return e;var o=W(e,i),a=new t(o);try{for(var s=(0,l.__values)(Object.keys(o)),u=s.next();!u.done;u=s.next()){var c=u.value;void 0!==o[c]&&(a[c]=o[c])}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a}!function(e){e.FILL="fill",e.HYDRATE="hydrate",e.PAGINATE="paginate",e.FILTER="filter",e.SORT="sort",e.SCAN="scan",e.SCAN_ALL="scan-all",e.INDEX_SCAN="index-scan",e.UNION="union",e.DISTINCT="distinct",e.INTERSECT="intersect"}(o||(o={}));var V=function(){function e(e,t){this.node=e,this.parent=t,this.context=eu(e)}return e.prototype.perform=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o;return(0,l.__generator)(this,function(a){try{for(n=(t=(0,l.__values)(this.node.inputs)).next();!n.done;n=t.next())r=n.value,e.push(r)}catch(e){i={error:e}}finally{try{n&&!n.done&&(o=t.return)&&o.call(t)}finally{if(i)throw i.error}}return[2]})})},e}(),H=function(){function e(e){this.comparer=e}return e.prototype.has=function(e,t){return -1!==this.getOrder(e,t)},e.prototype.getOrder=function(e,t){for(var n=0,r=e.length;n<r;){var i=n+Math.floor((r-n)/2),o=e[i],a=this.comparer.cmp(t,o);if(0===a)return i;a>0?n=i+1:r=i}return -1},e}(),z=function(){function e(e,t){this.node=e,this.parent=t,this.context=eu(e)}return e.prototype.perform=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u,c,d,f,p,h,g,m,v;return(0,l.__generator)(this,function(y){t=new H(this.node.comparer);try{for(r=(n=(0,l.__values)(this.context.inputs)).next();!r.done;r=n.next()){i=r.value,o=new Map,a=i.map(function(e){return(0,l.__read)(e,1)[0]}).sort(this.node.comparer.cmp),s=[];try{for(m=void 0,c=(u=(0,l.__values)(i)).next();!c.done;c=u.next())d=c.value,f=(0,l.__read)(d,1)[0],p=t.getOrder(a,f),o.has(p)||(o.set(p,!0),s.push(d))}catch(e){m={error:e}}finally{try{c&&!c.done&&(v=u.return)&&v.call(u)}finally{if(m)throw m.error}}e.push(s)}}catch(e){h={error:e}}finally{try{r&&!r.done&&(g=n.return)&&g.call(n)}finally{if(h)throw h.error}}return[2]})})},e}(),Y=Symbol("-\u221E"),K=Symbol("+\u221E"),Q=function(){function e(e){var t=this;this.contains=function(e,n){var r=t,i=r.cmp,o=r.lowerOf,a=r.upperOf;if(!t.isValid(e))return!1;var s=e.lowerOpen,u=e.upperOpen,c=i(o(e),n),l=i(a(e),n);return 0===c&&!s||c<0&&l>0||0===l&&!u},this.union=function(e){if(e.length<=1)return e;t.sort(e);for(var n=[],r=e[0],i=1;i<e.length;i++){var o=e[i];t.isOverlapped(r,o)?r=t.wrap(r,o):(n.push(r),r=o)}return n.push(r),n},this.intersect=function(e){if(e.length<=1)return e;t.sort(e);var n,r,i=e[0];try{for(var o=(0,l.__values)(e),a=o.next();!a.done;a=o.next()){var s=a.value;if(!t.isOverlapped(i,s))return[];i=t.overlap(i,s)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return[i]},this.isValid=function(e){var n=t,r=n.cmp,i=n.lowerOf,o=n.upperOf,a=r(i(e),o(e));return a<0||0===a&&!e.lowerOpen&&!e.upperOpen},this.cmp=function(e,n){return e!==Y&&e!==K&&n!==Y&&n!==K?t.comparer.cmp(e,n):e===n?0:e===Y||n===K?-1:1},this.lowerOf=function(e){return void 0===e.lower?Y:e.lower},this.upperOf=function(e){return void 0===e.upper?K:e.upper},this.comparer=e}return e.prototype.isOverlapped=function(e,t){var n,r=this,i=r.cmp,o=r.lowerOf,a=r.upperOf,s=(0,l.__read)([e,t],2),u=s[0],c=s[1],d=i(o(u),o(c));(d>0||0===d&&!u.lowerOpen&&c.lowerOpen)&&(u=(n=(0,l.__read)([c,u],2))[0],c=n[1]);var f=i(a(u),o(c));return f>0||0===f&&!u.upperOpen&&!c.lowerOpen},e.prototype.sort=function(e){var t=this,n=t.cmp,r=t.lowerOf;return e.sort(function(e,t){var i=n(r(e),r(t));return 0!==i||e.lowerOpen===t.lowerOpen?i:e.lowerOpen?-1:1})},e.prototype.wrap=function(e,t){var n=this,r=n.cmp,i=n.lowerOf,o=n.upperOf,a=(0,l.__assign)({},e),s=r(i(e),i(t)),u=r(o(e),o(t));return(s>0||0===s&&!t.lowerOpen)&&(a.lower=t.lower,a.lowerOpen=t.lowerOpen),(u<0||0===u&&!t.upperOpen)&&(a.upper=t.upper,a.upperOpen=t.upperOpen),a},e.prototype.overlap=function(e,t){var n=this,r=n.cmp,i=n.lowerOf,o=n.upperOf,a=(0,l.__assign)({},e),s=r(i(e),i(t)),u=r(o(e),o(t));return(s<0||0===s&&!e.lowerOpen)&&(a.lower=t.lower,a.lowerOpen=t.lowerOpen),(u>0||0===u&&!e.upperOpen)&&(a.upper=t.upper,a.upperOpen=t.upperOpen),a},e}(),q=function(){function e(e,t){this.node=e,this.parent=t,this.context=eu(e)}return e.prototype.perform=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u,c;return(0,l.__generator)(this,function(d){for(t=[],n=this.node,r=[t];n;)n.regroup&&(t=[],r.push(t)),t.push(this.createFilter(n)),n=n.nextFilter;i=function(e){var t=(0,l.__read)(e,2)[1];return r.some(function(e){return e.every(function(e){return e(t)})})};try{for(a=(o=(0,l.__values)(this.context.inputs)).next();!a.done;a=o.next())s=a.value,e.push(s.filter(i))}catch(e){u={error:e}}finally{try{a&&!a.done&&(c=o.return)&&c.call(o)}finally{if(u)throw u.error}}return[2]})})},e.prototype.createFilter=function(e){var t=new Q(e.comparer);return function(n){return e.intervals.some(function(r){if(void 0===n)throw new I("can not do filter on non-hydrated data");var i=(0,d.zV)(n,e.path);return(0,d.ot)(i)&&t.contains(r,i)})}},e}();function X(e){return!!(0,l.__read)(e,2)[1]}var J=function(){function e(e,t,n){this.node=e,this.parent=t,this.transaction=n,this.context=eu(e)}return e.prototype.perform=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u=this;return(0,l.__generator)(this,function(c){switch(c.label){case 0:t=this.transaction.table(this.node.collectionSchema.name),n=function(n){var r;return(0,l.__generator)(this,function(i){switch(i.label){case 0:return[4,Promise.all((r=n.filter(function(e){return!X(e)})).map(function(e,n){var i=(0,l.__read)(e,1)[0];return(0,l.__awaiter)(u,void 0,void 0,function(){var e;return(0,l.__generator)(this,function(o){switch(o.label){case 0:return[4,t.get(i)];case 1:return e=o.sent(),r[n][1]=e,[2]}})})}))];case 1:return i.sent(),e.push(n),[2]}})},c.label=1;case 1:c.trys.push([1,6,7,8]),i=(r=(0,l.__values)(this.context.inputs)).next(),c.label=2;case 2:if(i.done)return[3,5];return o=i.value,[5,n(o)];case 3:c.sent(),c.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return a={error:c.sent()},[3,8];case 7:try{i&&!i.done&&(s=r.return)&&s.call(r)}finally{if(a)throw a.error}return[7];case 8:return[2]}})})},e}(),$=function(){function e(e,t,n,r){this.lower=e,this.upper=t,this.lowerOpen=n,this.upperOpen=r}return e.getKeyRange=function(e,t){if(void 0!==t){if(!e.isValid(t))throw Error("invalid key interval");var n=t.lower,r=t.upper,i=t.lowerOpen,o=t.upperOpen;return n===r?n:void 0!==n&&void 0!==r?IDBKeyRange.bound(n,r,i,o):void 0!==n?IDBKeyRange.lowerBound(n,i):IDBKeyRange.upperBound(r,o)}},e}(),ee=function(){function e(e,t){var n=this;this.comparer=t,this.math=new Q(t),this.intervals=e.filter(function(e){return n.math.isValid(e)})}return e.fromWherePredicate=function(t,n){try{for(var r,i,o,a=(0,l.__values)(Object.keys(t)),s=a.next();!s.done;s=a.next()){var u=s.value,c=t[u];if(void 0!==c){var d=e.fromWhereExp(u,c,n);o=o?o.intersect(d):d}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o||this.createFullGroup(n)},e.fromWhereExp=function(t,n,r){var i;if(t===d.qW.In||t===d.qW.NotIn){if(!Array.isArray(n))throw new b({op:t});var o=n;return t===d.qW.In?o.reduce(function(t,n){return t.union(e.fromWhereExp(d.qW.Equals,n,r))},this.createEmptyGroup(r)):o.reduce(function(t,n,i){var o=e.fromWhereExp(d.qW.NotEquals,n,r);return i?t.intersect(o):o},this.createFullGroup(r))}switch(t){case d.qW.Equals:i=[new $(n,n,!1,!1)];break;case d.qW.NotEquals:i=[new $(void 0,n,!0,!0),new $(n,void 0,!0,!0)];break;case d.qW.GreaterThan:i=[new $(n,void 0,!0,!0)];break;case d.qW.GreaterOrEqualThan:i=[new $(n,void 0,!1,!0)];break;case d.qW.LessThan:i=[new $(void 0,n,!0,!0)];break;case d.qW.LessOrEqualThan:i=[new $(void 0,n,!0,!1)];break;default:throw new _(t)}return new e(i,r)},e.prototype.union=function(t){return new e(this.math.union((0,l.__spreadArray)((0,l.__spreadArray)([],(0,l.__read)(this.intervals)),(0,l.__read)(t.intervals))),this.comparer)},e.prototype.intersect=function(t){for(var n=this.math,r=n.cmp,i=n.upperOf,o=n.lowerOf,a=n.intersect,s=(0,l.__read)([this.intervals,t.intervals],2),u=s[0],c=s[1],d=(0,l.__read)([0,0],2),f=d[0],p=d[1],h=[];f<u.length;){for(;p<c.length&&r(i(u[f]),o(c[p]))>=0;){var g=a([u[f],c[p]]);h.push.apply(h,(0,l.__spreadArray)([],(0,l.__read)(g))),p+=1}p-=1,f+=1}return new e(h,this.comparer)},e.prototype.contains=function(e){var t=this;return!!this.intervals.find(function(n){return t.math.contains(n,e)})},e.prototype.isEmpty=function(){return 0===this.intervals.length},e.prototype.isFull=function(){return!!this.intervals.length&&void 0===this.intervals[0].lower&&void 0===this.intervals[0].upper},e.createFullGroup=function(t){return new e([new $(void 0,void 0,!0,!0)],t)},e.createEmptyGroup=function(t){return new e([],t)},e}(),et=$,en=function(){function e(e,t,n){this.node=e,this.parent=t,this.transaction=n,this.context=eu(e)}return e.prototype.perform=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o;return(0,l.__generator)(this,function(a){switch(a.label){case 0:if(this.node.hydrate)return[3,2];return[4,this.scanKeys()];case 1:return t=a.sent(),e.push(t.map(function(e){return[e,void 0]})),[2];case 2:if(!(n=this.node.collectionSchema.key.path))return[3,4];return[4,this.scanValues()];case 3:return r=a.sent(),e.push(r.map(function(e){return[(0,d.zV)(e,n),e]})),[2];case 4:return[4,this.scanKeys()];case 5:return i=a.sent(),[4,this.scanValues()];case 6:return o=a.sent(),e.push(i.map(function(e,t){return[e,o[t]]})),[2]}})})},e.prototype.scanKeys=function(){return(0,l.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,l.__generator)(this,function(n){switch(n.label){case 0:return e=this.getKeyQueries(),t=this.getIndex(),[4,Promise.all(e.map(function(e){return t.getAllKeys(e)}))];case 1:return[2,n.sent().reduce(function(e,t){return e.push.apply(e,(0,l.__spreadArray)([],(0,l.__read)(t))),e},[])]}})})},e.prototype.scanValues=function(){return(0,l.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,l.__generator)(this,function(n){switch(n.label){case 0:return e=this.getKeyQueries(),t=this.getIndex(),[4,Promise.all(e.map(function(e){return t.getAll(e)}))];case 1:return[2,n.sent().reduce(function(e,t){return e.push.apply(e,(0,l.__spreadArray)([],(0,l.__read)(t))),e},[])]}})})},e.prototype.getKeyQueries=function(){var e=new Q(this.node.comparer);return this.node.intervals.map(function(t){return et.getKeyRange(e,t)})},e.prototype.getIndex=function(){var e=this.node,t=e.collectionSchema,n=e.index;return this.transaction.table(t.name).index(n.name)},e}(),er=function(){function e(e,t){this.node=e,this.parent=t,this.context=eu(e)}return e.prototype.perform=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u,c,d,f,p,h;return(0,l.__generator)(this,function(g){if(t=this,n=t.context,r=t.node,!(i=n.inputs).length)return[2];if(1===i.length)return e.push(i[0]),[2];a=new H({cmp:o=function(e,t){var n=(0,l.__read)(e,1)[0],i=(0,l.__read)(t,1)[0];return r.comparer.cmp(n,i)}}),s=this.getSmallestPointers(i).slice();try{for(c=(u=(0,l.__values)(i)).next();!c.done;c=u.next())c.value.sort(o)}catch(e){p={error:e}}finally{try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(p)throw p.error}}return d=function(e){return i.every(function(t){return a.has(t,e)})},f=s.filter(d),e.push(f),[2]})})},e.prototype.getSmallestPointers=function(e){return e.reduce(function(e,t){return e.length<t.length?e:t},this.context.inputs[0])},e}(),ei=function(){function e(e,t){this.node=e,this.parent=t,this.context=eu(e)}return e.prototype.perform=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u;return(0,l.__generator)(this,function(c){n=(t=this.node).offset,r=t.limit;try{for(o=(i=(0,l.__values)(this.context.inputs)).next();!o.done;o=i.next())a=o.value,e.push(a.slice(n,!r||isNaN(r)?void 0:n+r))}catch(e){s={error:e}}finally{try{o&&!o.done&&(u=i.return)&&u.call(i)}finally{if(s)throw s.error}}return[2]})})},e}(),eo=function(){function e(e,t,n){this.node=e,this.parent=t,this.transaction=n,this.context=eu(e)}return e.prototype.perform=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o;return(0,l.__generator)(this,function(a){switch(a.label){case 0:if(this.node.hydrate)return[3,2];return[4,this.scanKeys()];case 1:return t=a.sent(),e.push(t.map(function(e){return[e,void 0]})),[2];case 2:if(!(n=this.node.collectionSchema.key.path))return[3,4];return[4,this.scanValues()];case 3:return r=a.sent(),e.push(r.map(function(e){return[(0,d.zV)(e,n),e]})),[2];case 4:return[4,this.scanKeys()];case 5:return i=a.sent(),[4,this.scanValues()];case 6:return o=a.sent(),e.push(i.map(function(e,t){return[e,o[t]]})),[2]}})})},e.prototype.scanKeys=function(){return(0,l.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,l.__generator)(this,function(n){switch(n.label){case 0:return e=this.getKeyQueries(),t=this.getTable(),[4,Promise.all(e.map(function(e){return t.getAllKeys(e)}))];case 1:return[2,n.sent().reduce(function(e,t){return e.push.apply(e,(0,l.__spreadArray)([],(0,l.__read)(t))),e},[])]}})})},e.prototype.scanValues=function(){return(0,l.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,l.__generator)(this,function(n){switch(n.label){case 0:return e=this.getKeyQueries(),t=this.getTable(),[4,Promise.all(e.map(function(e){return t.getAll(e)}))];case 1:return[2,n.sent().reduce(function(e,t){return e.push.apply(e,(0,l.__spreadArray)([],(0,l.__read)(t))),e},[])]}})})},e.prototype.getKeyQueries=function(){var e=new Q(this.node.comparer);return this.node.type===o.SCAN_ALL?[void 0]:this.node.intervals.map(function(t){return et.getKeyRange(e,t)})},e.prototype.getTable=function(){var e=this.node.collectionSchema;return this.transaction.table(e.name)},e}(),ea=function(){function e(e,t){this.node=e,this.parent=t,this.context=eu(e)}return e.prototype.perform=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u,c,f=this;return(0,l.__generator)(this,function(p){n=(t=this.node).comparer,r=t.path,i=t.order;try{for(a=(o=(0,l.__values)(this.context.inputs)).next();!a.done;a=o.next())(s=a.value).sort(function(e,t){var o=(0,l.__read)(e,2)[1],a=(0,l.__read)(t,2)[1],s=(0,d.zV)(o,r),u=(0,d.zV)(a,r),c=f.getComparerByType(n,i);if((0,d.ot)(s)&&(0,d.ot)(u))return c(s,u);throw new C}),e.push(s)}catch(e){u={error:e}}finally{try{a&&!a.done&&(c=o.return)&&c.call(o)}finally{if(u)throw u.error}}return[2]})})},e.prototype.getComparerByType=function(e,t){return t===d.As.ASCENDING?function(t,n){return e.cmp(t,n)}:function(t,n){return-e.cmp(t,n)}},e}(),es=function(){function e(e,t){this.node=e,this.parent=t,this.context=eu(e)}return e.prototype.perform=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){return(0,l.__generator)(this,function(t){return e.push(this.context.inputs.reduce(function(e,t){return e.push.apply(e,(0,l.__spreadArray)([],(0,l.__read)(t))),e},[])),[2]})})},e}();function eu(e){return{total:e.children.length,done:0,inputs:[]}}function ec(e,t,n){var r;return((r={})[o.FILL]=function(){return new V(e,t)},r[o.DISTINCT]=function(){return new z(e,t)},r[o.FILTER]=function(){return new q(e,t)},r[o.HYDRATE]=function(){return new J(e,t,n)},r[o.INDEX_SCAN]=function(){return new en(e,t,n)},r[o.INTERSECT]=function(){return new er(e,t)},r[o.PAGINATE]=function(){return new ei(e,t)},r[o.SCAN]=function(){return new eo(e,t,n)},r[o.SCAN_ALL]=function(){return new eo(e,t,n)},r[o.SORT]=function(){return new ea(e,t)},r[o.UNION]=function(){return new es(e,t)},r)[e.type]()}var el=function(){function e(e,t){this.onRequestSuccess=function(){},this.onRequestFailed=function(){},this.request=e,this.transaction=t,this.jobs=new Map}return e.prototype.exec=function(){return(0,l.__awaiter)(this,void 0,void 0,function(){var e=this;return(0,l.__generator)(this,function(t){return this.task||(this.task=new Promise(function(t,n){e.onRequestSuccess=function(n){e.reset(),t(n)},e.onRequestFailed=function(t){return(0,l.__awaiter)(e,void 0,void 0,function(){return(0,l.__generator)(this,function(e){return this.reset(),n(t),[2]})})},e.traverse(e.request.root,function(t,n){var r=ec(t,n&&e.jobs.get(n)||null,e.transaction);e.jobs.set(t,r),t.children.length||e.beginJob(r).catch(function(t){e.onRequestFailed(t)})})})),[2,this.task]})})},e.prototype.beginJob=function(e){var t;return(0,l.__awaiter)(this,void 0,void 0,function(){var n,r,i=this;return(0,l.__generator)(this,function(o){switch(o.label){case 0:n=(null==(t=e.parent)?void 0:t.context.inputs)||[],o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.perform(n)];case 2:return o.sent(),this.finishJob(e,n).catch(function(e){i.onRequestFailed(e)}),[3,4];case 3:return r=o.sent(),this.onRequestFailed(r),[3,4];case 4:return[2]}})})},e.prototype.finishJob=function(e,t){return(0,l.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,l.__generator)(this,function(i){return e.parent&&(n=e.parent.context,n.done+=1,n.done===n.total&&this.beginJob(e.parent).catch(function(e){r.onRequestFailed(e)})),e.node===this.request.root&&this.onRequestSuccess(t),[2]})})},e.prototype.reset=function(){this.jobs=new Map,this.task=void 0,this.onRequestSuccess=function(){},this.onRequestFailed=function(){}},e.prototype.traverse=function(e,t,n){var r,i;t(e,n);try{for(var o=(0,l.__values)(e.children),a=o.next();!a.done;a=o.next()){var s=a.value;this.traverse(s,t,e)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e}(),ed=function(){function e(e){this.comparer=e}return e.prototype.rewrite=function(e){return{offset:e.offset,limit:e.limit,order:e.order&&(0,l.__assign)({},e.order),exp:this.rewriteWhereClauses(e.whereClauses)}},e.prototype.rewriteWhereClauses=function(e){if(!e.length)return{type:d.Kl.ALL};var t,n,r,i,o,a={type:d.Kl.OR,exps:[]};try{for(var s=(0,l.__values)(e),u=s.next();!u.done;u=s.next()){var c=u.value,f={type:d.Kl.AND,exps:[]};try{for(var p=(r=void 0,(0,l.__values)(Object.entries(c))),h=p.next();!h.done;h=p.next()){var g=(0,l.__read)(h.value,2),m=g[0],v=g[1];if(void 0!==v){var y=(0,d.ot)(v)?((o={})[d.qW.Equals]=v,o):v;this.isEmptyPredicate(y)||f.exps.push({type:d.Kl.FILTER,predicate:y,path:m,hints:{intervalGroup:ee.fromWherePredicate(y,this.comparer),isKey:!1,indices:[]}})}}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}a.exps.push(f)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},e.prototype.isEmptyPredicate=function(e){return Object.values(e).every(function(e){return void 0===e})},e}(),ef=function(){function e(e){this.schema=e,this.indicesMap=new Map,this.warmupIndicesMap()}return e.prototype.bind=function(e){return this.bindQueryHints(e.exp),e},e.prototype.bindQueryHints=function(e){var t,n=this,r=e;if(r.type===d.Kl.AND||r.type===d.Kl.OR)return void r.exps.forEach(function(e){return n.bindQueryHints(e)});r.type===d.Kl.FILTER&&(r.hints.isKey=this.schema.key&&(0,d.IA)(this.schema.key.path,r.path),r.hints.indices=null!=(t=this.indicesMap.get(r.path))?t:[])},e.prototype.warmupIndicesMap=function(){try{for(var e,t,n,r,i,o=(0,l.__values)(this.schema.indices.entries()),a=o.next();!a.done;a=o.next()){var s=(0,l.__read)(a.value,2),u=s[0],c=s[1];c.priority=null!=(i=c.priority)?i:-(u+1);var d=Array.isArray(c.path)?c.path:[c.path];try{for(var f=(n=void 0,(0,l.__values)(d)),p=f.next();!p.done;p=f.next()){var h=p.value,g=this.indicesMap.get(h)||[];g.push(c),this.indicesMap.set(h,g)}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e}(),ep=function(){function e(e,t){this.collectionSchema=e,this.comparer=t}return e.prototype.plan=function(e,t){return{root:this.getRootNode(e,t),aggregate:t}},e.prototype.getRootNode=function(e,t){if(e.exp.type===d.Kl.NONE)return this.getSkipNode();var n=this.getBaseNode(e.exp);return(t===d.yE.ENTRIES||t===d.yE.VALUES||e.order)&&(n=this.getHydrateNode([n])),e.order&&(n=this.getSortNode(e.order.path,e.order.type,[n])),(e.offset||e.limit!==d.q9)&&(n=this.getPaginateNode(e.offset,e.limit,[n])),n=this.getDistinctNode([n])},e.prototype.getBaseNode=function(e){return e.type===d.Kl.ALL?this.getScanAllNode():e.type===d.Kl.NONE?this.getSkipNode():e.type===d.Kl.FILTER?this.getFilterNode(e):this.getLogicExpNode(e)},e.prototype.getLogicExpNode=function(e){var t,n,r=[];try{for(var i=(0,l.__values)(e.exps),o=i.next();!o.done;o=i.next()){var a=o.value;r.push(a.type===d.Kl.FILTER?this.getFilterNode(a):this.getLogicExpNode(a))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return e.type===d.Kl.AND?this.getIntersectNode(r):this.getUnionNode(r)},e.prototype.getFilterNode=function(e){if(!e.path||e.hints.isKey)return this.getScanNode(e.hints.intervalGroup.intervals);var t=e.hints.indices.find(function(t){return(0,d.IA)(t.path,e.path)});return t?this.getIndexScanNode(e.hints.intervalGroup.intervals,t):this.getMemFilterNode(e.hints.intervalGroup.intervals,e.path)},e.prototype.getIntersectNode=function(e){return{type:o.INTERSECT,comparer:this.comparer,children:e}},e.prototype.getDistinctNode=function(e){return void 0===e&&(e=[]),{type:o.DISTINCT,comparer:this.comparer,children:e}},e.prototype.getUnionNode=function(e){return void 0===e&&(e=[]),{type:o.UNION,children:e}},e.prototype.getHydrateNode=function(e){return void 0===e&&(e=[]),{type:o.HYDRATE,collectionSchema:this.collectionSchema,children:e}},e.prototype.getPaginateNode=function(e,t,n){return void 0===n&&(n=[]),{type:o.PAGINATE,offset:e,limit:t,children:n}},e.prototype.getSortNode=function(e,t,n){return void 0===n&&(n=[]),{type:o.SORT,path:e,order:t,comparer:this.comparer,children:n}},e.prototype.getMemFilterNode=function(e,t,n){return{type:o.FILTER,comparer:this.comparer,path:t,intervals:e,regroup:!1,children:[{type:o.HYDRATE,collectionSchema:this.collectionSchema,children:n||[this.getScanAllNode()]}]}},e.prototype.getIndexScanNode=function(e,t){return{type:o.INDEX_SCAN,collectionSchema:this.collectionSchema,index:t,intervals:e,comparer:this.comparer,children:[]}},e.prototype.getScanNode=function(e){return{type:o.SCAN,collectionSchema:this.collectionSchema,intervals:e,comparer:this.comparer,children:[]}},e.prototype.getScanAllNode=function(){return{type:o.SCAN_ALL,collectionSchema:this.collectionSchema,comparer:this.comparer,children:[]}},e.prototype.getSkipNode=function(){return{type:o.FILL,inputs:[[]],children:[]}},e}(),eh=function(){function e(){}return e.prototype.eliminate=function(e){var t=e;return t.exp=this.eliminateExp(e.exp),t},e.prototype.eliminateExp=function(e){return e.type===d.Kl.AND?this.eliminateAndExp(e):e.type===d.Kl.OR?this.eliminateOrExp(e):e.type===d.Kl.FILTER?this.eliminateFilterExp(e):e},e.prototype.eliminateAndExp=function(e){var t,n,r={type:d.Kl.AND,exps:[]};try{for(var i=(0,l.__values)(e.exps),o=i.next();!o.done;o=i.next()){var a=o.value,s=this.eliminateExp(a);if(s.type===d.Kl.NONE)return{type:d.Kl.NONE};s.type!==d.Kl.ALL&&r.exps.push(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.exps.length?1===r.exps.length?r.exps[0]:r:{type:d.Kl.ALL}},e.prototype.eliminateOrExp=function(e){var t,n,r={type:d.Kl.OR,exps:[]};try{for(var i=(0,l.__values)(e.exps),o=i.next();!o.done;o=i.next()){var a=o.value,s=this.eliminateExp(a);if(s.type===d.Kl.ALL)return{type:d.Kl.ALL};s.type!==d.Kl.NONE&&r.exps.push(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.exps.length?1===r.exps.length?e.exps[0]:r:{type:d.Kl.NONE}},e.prototype.eliminateFilterExp=function(e){return e.hints.intervalGroup.isEmpty()?{type:d.Kl.NONE}:e.hints.intervalGroup.isFull()?{type:d.Kl.ALL}:e},e}(),eg=function(){var e,t=!1;return function(n,r){if("function"!=typeof n[r])throw Error("memo() must be decorated on one of function properties of target");Object.defineProperty(n,r,(0,l.__assign)((0,l.__assign)({},Object.getOwnPropertyDescriptor(n,r)),{value:function(){return t||(e=n[r](),t=!0),e}}))}},em=o.UNION,ev=o.INTERSECT,ey=o.HYDRATE,eb=o.INDEX_SCAN,e_=o.SCAN,eC=o.SCAN_ALL,eI=o.FILTER;function eE(e){return ew(e.root),e}function ew(e){var t,n,r=e.children;try{for(var i=(0,l.__values)(r.entries()),o=i.next();!o.done;o=i.next()){var a=(0,l.__read)(o.value,2),s=a[0],u=a[1];if(ew(u),[ev,em].includes(u.type)&&1===u.children.length){var c=u.children[0];r[s]=c}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}function eS(e){return eD(e.root),e}function eD(e){var t,n,r,i,o=e.children;try{for(var a=(0,l.__values)(o.entries()),s=a.next();!s.done;s=a.next()){var u=(0,l.__read)(s.value,2),c=u[0],d=u[1];if(eD(d),d.type===ey){var f=!1;try{for(var p=(r=void 0,(0,l.__values)(d.children)),h=p.next();!h.done;h=p.next()){var g=h.value;(g.type===e_||g.type===eb||g.type===eC)&&(f=!0,g.hydrate=!0)}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}if(f&&1===d.children.length){var g=d.children[0];o[c]=g}}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}function eM(e){return e}function eT(e){return eA(e.root),e}function eA(e){var t,n;eN(e.children,function(r){if(eA(r),r.type!==eI||!eO(r))return!0;if(n){var i=r;ex(n,i),i.regroup=e.type===em}else t=r;return n=r,!1}),t&&e.children.push(t)}function ex(e,t){for(var n=e;e.nextFilter;)n=e.nextFilter;return n.nextFilter=t,e}function eN(e,t){for(var n=e,r=0,i=n.length-1;r<=i;){var o=n[r];if(t(o)){r+=1;continue}n[r]=n[i],n[i]=o,i-=1}return n.splice(i+1)}function eO(e){return e.children.some(function(e){return e.type===eC})}function ek(e){return eR(e.root),e}function eR(e){var t,n,r=e.children;try{for(var i=(0,l.__values)(r.entries()),o=i.next();!o.done;o=i.next()){var a=(0,l.__read)(o.value,2),s=a[0],u=a[1];if(eR(u),u.type===ev){var c=u.children.find(function(e){var t=e.type;return[e_,eb].includes(t)});if(c){var d=eN(u.children,function(e){return e.type!==eI});if(d.length){var f={type:ey,collectionSchema:c.collectionSchema,children:[]};r[s]=eF.apply(void 0,(0,l.__spreadArray)((0,l.__spreadArray)([],(0,l.__read)(d)),[f,u]))}}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}function eL(e){return[d.yE.COUNT,d.yE.KEYS].includes(e.aggregate)||eB(function(e){(e.type===e_||e.type===eb)&&(e.hydrate=!0)},e.root),e}function ej(e){return eB(function(e){if(e.type===ev){var t,n,r,i,o,a=Number.MIN_SAFE_INTEGER;try{for(var s=(0,l.__values)(e.children),u=s.next();!u.done;u=s.next()){var c=u.value,d=Number.MIN_SAFE_INTEGER;c.type===e_&&(d=0),c.type===eb&&c.index.priority&&(d=c.index.priority),a=Math.max(a,d)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}var f=e.children;try{for(var p=(0,l.__values)(f.entries()),h=p.next();!h.done;h=p.next()){var g=(0,l.__read)(h.value,2),m=g[0],c=g[1];if(c.type===eb){var d=null!=(o=c.index.priority)?o:Number.MIN_SAFE_INTEGER;d<a&&(f[m]=eP(c))}}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}},e.root),e}function eP(e){return{path:e.index.path,intervals:e.intervals,comparer:e.comparer,type:o.FILTER,regroup:!1,children:[{type:o.SCAN_ALL,collectionSchema:e.collectionSchema,comparer:e.comparer,hydrate:!0,children:[]}]}}function eB(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=-1);var i,o,a=t.children;try{for(var s=(0,l.__values)(a.entries()),u=s.next();!u.done;u=s.next()){var c=(0,l.__read)(u.value,2),d=c[0],f=c[1];eB(e,f,t,d)}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}e(t,n,r)}function eF(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(0,l.__read)(n),o=i[0],a=i.slice(1),s=o;try{for(var u=(0,l.__values)(a),c=u.next();!c.done;c=u.next()){var d=c.value;s.children=[d],s=d}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}return o}var eU=function(){function e(){}return e.prototype.optimize=function(e){var t=[ej,eS,eT,eE,ek,eM,eE,eS,eL];return this.applyAllRules(t,e)},e.prototype.applyAllRules=function(e,t){return e.reduce(function(e,t){return t(e)},t)},e}(),eG=function(){function e(e){void 0===e&&(e=new Map),this.query={offset:0,limit:void 0,order:void 0,whereClauses:[]},this.aliasMap=e}return e.fromRawQuery=function(t,n){void 0===n&&(n=new Map);var r,i,o=new e(n),a=t.offset,s=t.limit,u=t.order,c=t.whereClauses;o.setOffset(a),o.setLimit(s),u&&o.setOrderBy(u.path,u.type);try{for(var d=(0,l.__values)(c),f=d.next();!f.done;f=d.next()){var p=f.value;o.addWhereClause(p)}}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return o},e.prototype.setOffset=function(e){this.query.offset=e},e.prototype.setLimit=function(e){this.query.limit=e},e.prototype.setRange=function(e,t){void 0===e&&(e=0),this.query.offset=e,this.query.limit=t!==d.q9?Math.max(0,t-e):d.q9},e.prototype.setOrderBy=function(e,t){this.query.order={path:e,type:t||d.As.ASCENDING}},e.prototype.addWhereClause=function(e){if(this.isValidWhereClause(e)){var t,n,r,i={};try{for(var o=(0,l.__values)(Object.entries(e)),a=o.next();!a.done;a=o.next()){var s=(0,l.__read)(a.value,2),u=s[0],c=s[1];if(void 0!==c){var d=null!=(r=this.aliasMap.get(u))?r:u;i[d]=c}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}this.query.whereClauses.push(i)}},e.prototype.clone=function(t){return void 0===t&&(t=this.aliasMap),e.fromRawQuery(this.query,t)},e.prototype.build=function(){return this.query},e.prototype.isValidWhereClause=function(e){return!!e&&Object.keys(e).length>=0},e}();!function(e){e.DISABLED="disabled",e.ALL="all"}(a||(a={}));var eW=function(){function e(e,t){this.collectionName=e,this.context=t.context}return e.toggleOptimization=function(t){e.optimization=t?a.ALL:a.DISABLED},e.getOptimizationMode=function(){return e.optimization},e.prototype.exec=function(e,t){return(0,l.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return(0,l.__generator)(this,function(u){switch(u.label){case 0:return[4,this.context.getTransaction([this.collectionName],d.pF.READ_ONLY)];case 1:return n=u.sent(),[4,this.getModel()];case 2:if(r=u.sent(),i=this.getAliasMap(r.class),o=eG.fromRawQuery(e,i).build(),!((a=n.table(this.collectionName)).supports("query")&&o.whereClauses.length<=1))return[3,7];if(t!==d.yE.VALUES)return[3,4];return[4,a.query(o,t)];case 3:return[2,u.sent().map(function(e){var t;return null!=(t=Z(e,r.class))?t:void 0})];case 4:if(t!==d.yE.ENTRIES)return[3,6];return[4,a.query(o,t)];case 5:return[2,u.sent().map(function(e){var t,n=(0,l.__read)(e,2);return[n[0],null!=(t=Z(n[1],r.class))?t:void 0]})];case 6:return[2,a.query(o,t)];case 7:return[4,this.getQueryPlan(o,t)];case 8:return[4,new el(u.sent(),n).exec()];case 9:if(s=l.__read.apply(void 0,[u.sent(),1])[0],t===d.yE.COUNT)return[2,s.length];if(t===d.yE.KEYS)return[2,s.map(function(e){return(0,l.__read)(e,1)[0]})];if(t===d.yE.VALUES)return[2,s.map(function(e){var t;return null!=(t=Z((0,l.__read)(e,2)[1],r.class))?t:void 0})];return[2,s.map(function(e){var t,n=(0,l.__read)(e,2);return[n[0],null!=(t=Z(n[1],r.class))?t:void 0]})]}})})},e.prototype.conditions=function(e){return this.getRewriter().rewrite(e)},e.prototype.explain=function(e,t){return(0,l.__awaiter)(this,void 0,void 0,function(){return(0,l.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getQueryPlan(e,t)];case 1:return[2,n.sent()]}})})},e.prototype.getQueryPlan=function(t,n){return(0,l.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,u,c,d;return(0,l.__generator)(this,function(l){switch(l.label){case 0:return[4,this.getRewriter()];case 1:return r=l.sent(),[4,this.getEliminator()];case 2:return i=l.sent(),[4,this.getPlanner()];case 3:return o=l.sent(),[4,this.getBinder()];case 4:return s=l.sent(),[4,this.getOptimizer()];case 5:return u=l.sent(),c=r.rewrite(t),c=s.bind(c),c=i.eliminate(c),d=o.plan(c,n),[2,e.optimization===a.DISABLED?d:u.optimize(d)]}})})},e.prototype.getAliasMap=function(e){var t,n,r=new Map,i=x.getTableInfo(e.prototype);if(!i)return r;try{for(var o=(0,l.__values)(i.properties.values()),a=o.next();!a.done;a=o.next()){var s=a.value;s.alias&&r.set(s.name,s.alias)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},e.prototype.getModel=function(){return(0,l.__awaiter)(this,void 0,void 0,function(){return(0,l.__generator)(this,function(e){return[2,this.context.waitForModelRegistered(this.collectionName)]})})},e.prototype.getPlanner=function(){return(0,l.__awaiter)(this,void 0,void 0,function(){return(0,l.__generator)(this,function(e){switch(e.label){case 0:return[4,this.getModel()];case 1:return[2,new ep(e.sent().schema,this.context.comparer)]}})})},e.prototype.getRewriter=function(){return new ed(this.context.comparer)},e.prototype.getEliminator=function(){return new eh},e.prototype.getBinder=function(){return(0,l.__awaiter)(this,void 0,void 0,function(){return(0,l.__generator)(this,function(e){switch(e.label){case 0:return[4,this.getModel()];case 1:return[2,new ef(e.sent().schema)]}})})},e.prototype.getOptimizer=function(){return new eU},e.optimization=a.ALL,(0,l.__decorate)([eg()],e.prototype,"getModel",null),(0,l.__decorate)([eg()],e.prototype,"getPlanner",null),(0,l.__decorate)([eg()],e.prototype,"getRewriter",null),(0,l.__decorate)([eg()],e.prototype,"getEliminator",null),(0,l.__decorate)([eg()],e.prototype,"getBinder",null),(0,l.__decorate)([eg()],e.prototype,"getOptimizer",null),e}(),eZ=function(){function e(e,t){this.name=e,this.options=t,this.contextGenerator=t.contextGenerator,this.queryBuilder=new eG,this.patch()}return e.toggleOptimization=function(e){return eW.toggleOptimization(e)},e.prototype.skip=function(e){return this.queryBuilder.setOffset(e),this},e.prototype.take=function(e){return this.queryBuilder.setLimit(e),this},e.prototype.slice=function(e,t){return this.queryBuilder.setRange(e,t),this},e.prototype.orderBy=function(e,t){return this.queryBuilder.setOrderBy(e,t),this},e.prototype.where=function(e){return this.queryBuilder.addWhereClause(e),this},e.prototype.or=function(e){return this.queryBuilder.addWhereClause(e),this},e.prototype.conditions=function(){var e=this.contextGenerator.spawnContext();return new eW(this.name,{context:e}).conditions(this.queryBuilder.build())},e.prototype.clone=function(){var t=new e(this.name,this.options);return t.queryBuilder=this.queryBuilder.clone(),t},e.prototype.explain=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){var t;return(0,l.__generator)(this,function(n){return t=this.contextGenerator.spawnContext(),[2,new eW(this.name,{context:t}).explain(this.queryBuilder.build(),e)]})})},e.prototype.count=function(){return(0,l.__awaiter)(this,void 0,void 0,function(){var e,t=this;return(0,l.__generator)(this,function(n){return[2,(e=this.contextGenerator.spawnContext()).perform(function(){return(0,l.__awaiter)(t,void 0,void 0,function(){return(0,l.__generator)(this,function(t){return[2,new eW(this.name,{context:e}).exec(this.queryBuilder.build(),d.yE.COUNT)]})})})]})})},e.prototype.entries=function(){return(0,l.__awaiter)(this,void 0,void 0,function(){var e,t=this;return(0,l.__generator)(this,function(n){return[2,(e=this.contextGenerator.spawnContext()).perform(function(){return(0,l.__awaiter)(t,void 0,void 0,function(){return(0,l.__generator)(this,function(t){return[2,new eW(this.name,{context:e}).exec(this.queryBuilder.build(),d.yE.ENTRIES)]})})})]})})},e.prototype.keys=function(){return(0,l.__awaiter)(this,void 0,void 0,function(){var e,t=this;return(0,l.__generator)(this,function(n){return[2,(e=this.contextGenerator.spawnContext()).perform(function(){return(0,l.__awaiter)(t,void 0,void 0,function(){return(0,l.__generator)(this,function(t){return[2,new eW(this.name,{context:e}).exec(this.queryBuilder.build(),d.yE.KEYS)]})})})]})})},e.prototype.values=function(){return(0,l.__awaiter)(this,void 0,void 0,function(){var e,t=this;return(0,l.__generator)(this,function(n){return[2,(e=this.contextGenerator.spawnContext()).perform(function(){return(0,l.__awaiter)(t,void 0,void 0,function(){return(0,l.__generator)(this,function(t){return[2,new eW(this.name,{context:e}).exec(this.queryBuilder.build(),d.yE.VALUES)]})})})]})})},e.prototype.first=function(){return(0,l.__awaiter)(this,void 0,void 0,function(){var e,t=this;return(0,l.__generator)(this,function(n){return[2,(e=this.contextGenerator.spawnContext()).perform(function(){return(0,l.__awaiter)(t,void 0,void 0,function(){var t;return(0,l.__generator)(this,function(n){switch(n.label){case 0:return[4,new eW(this.name,{context:e}).exec(this.queryBuilder.build(),d.yE.VALUES)];case 1:return[2,null!=(t=n.sent()[0])?t:null]}})})})]})})},e.prototype.last=function(){return(0,l.__awaiter)(this,void 0,void 0,function(){var e,t=this;return(0,l.__generator)(this,function(n){return[2,(e=this.contextGenerator.spawnContext()).perform(function(){return(0,l.__awaiter)(t,void 0,void 0,function(){var t,n;return(0,l.__generator)(this,function(r){switch(r.label){case 0:return[4,new eW(this.name,{context:e}).exec(this.queryBuilder.build(),d.yE.VALUES)];case 1:return[2,null!=(n=(t=r.sent())[t.length-1])?n:null]}})})})]})})},e.prototype.update=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){var t,n,r=this;return(0,l.__generator)(this,function(i){switch(i.label){case 0:return[4,this.entries()];case 1:return t=i.sent(),[2,(n=this.contextGenerator.spawnContext()).perform(function(){return(0,l.__awaiter)(r,void 0,void 0,function(){var r,i,o,a,s,u,c,f,p,h,g;return(0,l.__generator)(this,function(m){switch(m.label){case 0:return r=[],[4,n.getTransaction([this.name],d.pF.READ_WRITE)];case 1:i=m.sent().table(this.name),m.label=2;case 2:m.trys.push([2,8,9,10]),a=(o=(0,l.__values)(t)).next(),m.label=3;case 3:if(a.done)return[3,7];return u=(s=(0,l.__read)(a.value,2))[0],c=s[1],[4,i.openCursor(u)];case 4:if(!(f=m.sent()))return[3,6];return p=e(c),[4,f.update(G(p))];case 5:m.sent(),r.push(u),m.label=6;case 6:return a=o.next(),[3,3];case 7:return[3,10];case 8:return h={error:m.sent()},[3,10];case 9:try{a&&!a.done&&(g=o.return)&&g.call(o)}finally{if(h)throw h.error}return[7];case 10:return[2,r]}})})})]}})})},e.prototype.clear=function(){return(0,l.__awaiter)(this,void 0,void 0,function(){var e,t,n=this;return(0,l.__generator)(this,function(r){switch(r.label){case 0:return[4,this.keys()];case 1:return e=r.sent(),[2,(t=this.contextGenerator.spawnContext()).perform(function(){return(0,l.__awaiter)(n,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return(0,l.__generator)(this,function(f){switch(f.label){case 0:return n=[],[4,t.getTransaction([this.name],d.pF.READ_WRITE)];case 1:if(!(r=f.sent().table(this.name)).supports("bulkDelete"))return[3,3];return[4,r.bulkDelete(e)];case 2:return f.sent(),[2,e];case 3:f.trys.push([3,9,10,11]),o=(i=(0,l.__values)(e)).next(),f.label=4;case 4:if(o.done)return[3,8];return a=o.value,[4,r.openCursor(a)];case 5:if(!(s=f.sent()))return[3,7];return[4,s.delete()];case 6:f.sent(),n.push(a),f.label=7;case 7:return o=i.next(),[3,4];case 8:return[3,11];case 9:return u={error:f.sent()},[3,11];case 10:try{o&&!o.done&&(c=i.return)&&c.call(i)}finally{if(u)throw u.error}return[7];case 11:return[2,n]}})})})]}})})},e.prototype.patch=function(){var e=this.options.aspects;e.update.patch(this,"update"),e.clear.patch(this,"clear"),e.count.patch(this,"count"),e.entries.patch(this,"entries"),e.keys.patch(this,"keys"),e.values.patch(this,"values"),e.first.patch(this,"first"),e.last.patch(this,"last"),e.skip.patch(this,"skip"),e.take.patch(this,"take"),e.slice.patch(this,"slice"),e.orderBy.patch(this,"orderBy"),e.where.patch(this,"where"),e.or.patch(this,"or")},e}(),eV=function(){function e(e,t){this.name=e,this.aspects=t.aspects,this.contextGenerator=t.contextGenerator,this.unsliced=new eZ(e,t),this.patch()}return e.prototype.skip=function(e){return this.unsliced.clone().skip(e)},e.prototype.take=function(e){return this.unsliced.clone().take(e)},e.prototype.slice=function(e,t){return this.unsliced.clone().slice(e,t)},e.prototype.orderBy=function(e,t){return this.unsliced.clone().orderBy(e,t)},e.prototype.where=function(e){return this.unsliced.clone().where(e)},e.prototype.or=function(e){return this.unsliced.clone().or(e)},e.prototype.update=function(e){return this.unsliced.update(e)},e.prototype.clear=function(){return this.unsliced.clear()},e.prototype.count=function(){return this.unsliced.count()},e.prototype.entries=function(){return this.unsliced.entries()},e.prototype.keys=function(){return this.unsliced.keys()},e.prototype.values=function(){return this.unsliced.values()},e.prototype.first=function(){return this.unsliced.first()},e.prototype.last=function(){return this.unsliced.last()},e.prototype.get=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){var t,n=this;return(0,l.__generator)(this,function(r){return[2,(t=this.contextGenerator.spawnContext()).perform(function(){return(0,l.__awaiter)(n,void 0,void 0,function(){var n,r,i;return(0,l.__generator)(this,function(o){switch(o.label){case 0:return[4,t.getTransaction([this.name],d.pF.READ_ONLY)];case 1:return n=o.sent(),[4,t.waitForModelRegistered(this.name)];case 2:return r=o.sent(),[4,n.table(this.name).get(e)];case 3:return[2,(i=o.sent())?Z(i,r.class):null]}})})})]})})},e.prototype.has=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){var t,n=this;return(0,l.__generator)(this,function(r){return[2,(t=this.contextGenerator.spawnContext()).perform(function(){return(0,l.__awaiter)(n,void 0,void 0,function(){return(0,l.__generator)(this,function(n){switch(n.label){case 0:return[4,t.getTransaction([this.name],d.pF.READ_ONLY)];case 1:return[4,n.sent().table(this.name).openCursor(e)];case 2:return[2,!!n.sent()]}})})})]})})},e.prototype.delete=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){var t,n=this;return(0,l.__generator)(this,function(r){return[2,(t=this.contextGenerator.spawnContext()).perform(function(){return(0,l.__awaiter)(n,void 0,void 0,function(){var n,r;return(0,l.__generator)(this,function(i){switch(i.label){case 0:return[4,t.getTransaction([this.name],d.pF.READ_WRITE)];case 1:return[4,(n=i.sent().table(this.name)).openCursor(e)];case 2:return r=i.sent(),[4,n.delete(e)];case 3:return i.sent(),[2,r?e:null]}})})})]})})},e.prototype.insert=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){var t,n=this;return(0,l.__generator)(this,function(r){return[2,(t=this.contextGenerator.spawnContext()).perform(function(){return(0,l.__awaiter)(n,void 0,void 0,function(){return(0,l.__generator)(this,function(n){switch(n.label){case 0:return[4,t.getTransaction([this.name],d.pF.READ_WRITE)];case 1:return[4,n.sent().table(this.name).insert(G(e))];case 2:return[2,n.sent()]}})})})]})})},e.prototype.upsert=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){var t,n=this;return(0,l.__generator)(this,function(r){return[2,(t=this.contextGenerator.spawnContext()).perform(function(){return(0,l.__awaiter)(n,void 0,void 0,function(){return(0,l.__generator)(this,function(n){switch(n.label){case 0:return[4,t.getTransaction([this.name],d.pF.READ_WRITE)];case 1:return[4,n.sent().table(this.name).upsert(G(e))];case 2:return[2,n.sent()]}})})})]})})},e.prototype.bulkInsert=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){var t,n=this;return(0,l.__generator)(this,function(r){return[2,(t=this.contextGenerator.spawnContext()).perform(function(){return(0,l.__awaiter)(n,void 0,void 0,function(){var n,r,i,o,a,s,u,c,f;return(0,l.__generator)(this,function(p){switch(p.label){case 0:return[4,t.getTransaction([this.name],d.pF.READ_WRITE)];case 1:n=p.sent(),r=[],i=n.table(this.name),p.label=2;case 2:p.trys.push([2,7,8,9]),a=(o=(0,l.__values)(e)).next(),p.label=3;case 3:if(a.done)return[3,6];return s=a.value,[4,i.insert(G(s))];case 4:u=p.sent(),r.push(u),p.label=5;case 5:return a=o.next(),[3,3];case 6:return[3,9];case 7:return c={error:p.sent()},[3,9];case 8:try{a&&!a.done&&(f=o.return)&&f.call(o)}finally{if(c)throw c.error}return[7];case 9:return[2,r]}})})})]})})},e.prototype.bulkUpsert=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){var t,n=this;return(0,l.__generator)(this,function(r){return[2,(t=this.contextGenerator.spawnContext()).perform(function(){return(0,l.__awaiter)(n,void 0,void 0,function(){return(0,l.__generator)(this,function(n){switch(n.label){case 0:return[4,t.getTransaction([this.name],d.pF.READ_WRITE)];case 1:return[2,n.sent().table(this.name).bulkUpsert(e.map(function(e){return G(e)}))]}})})})]})})},e.prototype.conditions=function(){return this.unsliced.conditions()},e.prototype.patch=function(){this.aspects.get.patch(this,"get"),this.aspects.has.patch(this,"has"),this.aspects.delete.patch(this,"delete"),this.aspects.insert.patch(this,"insert"),this.aspects.upsert.patch(this,"upsert"),this.aspects.bulkInsert.patch(this,"bulkInsert"),this.aspects.bulkUpsert.patch(this,"bulkUpsert")},e}(),eH=function(){function e(e,t){this.collectionMap=new Map,this.storage=e,this.eventBus=t}return e.prototype.getCollection=function(e,t){if(this.collectionMap.has(e))return this.collectionMap.get(e);var n=this.createCollection(e,t);return this.collectionMap.set(e,n),this.eventBus.emit(i.CollectionCreated,{collectionName:e,context:t.spawnContext()}),n},e.prototype.createCollection=function(e,t){return new eV(e,{contextGenerator:t,aspects:this.storage.aspects.collection})},e}(),ez=f.sH.withMessageCreator("UnexpectedModifierError",function(e){return'unexpected error occurred at the "'+e+'" stage of the plugable function, there may be a bug in your modifiers.'}),eY=f.sH.withMessageCreator("InvalidPatchedFunctionError",function(e){return'patched target is not a function, patched key is "'+e+'"'});!function(e){e.before="before",e.around="around",e.return="return",e.throw="throw",e.after="after",e.protect="protect"}(s||(s={}));var eK=function(){function e(e){this.modifiers={before:[],around:[],return:[],throw:[],after:[],protect:[]},this.createContext=e}return e.prototype.before=function(e){return this.modifiers.before.push(e),this},e.prototype.around=function(e){return this.modifiers.around.push(e),this},e.prototype.throw=function(e){return this.modifiers.throw.push(e),this},e.prototype.return=function(e){return this.modifiers.return.push(e),this},e.prototype.after=function(e){return this.modifiers.after.push(e),this},e.prototype.protect=function(e){return this.modifiers.protect.push(e),this},e.prototype.patch=function(e,t){Object.defineProperty(e,t,{enumerable:!1,value:this.compile(e,t),writable:!0,configurable:!0})},e.prototype.dirty=function(){return Object.values(this.modifiers).some(function(e){return e.length})},e.prototype.compile=function(e,t){var n=e[t];if("function"!=typeof n)throw new eY(t);var r=this.invoke.bind(this);return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(n,this,e)}},e}(),eQ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,l.__extends)(t,e),t.create=function(){return new t(function(){return{}})},t.withContext=function(e){return new t(e)},t.prototype.invoke=function(e,t,n){if(!this.dirty())return e.call.apply(e,(0,l.__spreadArray)([t],(0,l.__read)(n)));var r,i=Object.assign(this.createContext(),{args:n,this:t,callee:e,return:void 0,error:void 0});try{this.trigger(s.before,i,this.modifiers.protect),this.modifiers.around.length?this.trigger(s.around,i,this.modifiers.protect):i.return=(r=i.callee).call.apply(r,(0,l.__spreadArray)([i.this],(0,l.__read)(i.args))),this.trigger(s.return,i,this.modifiers.protect)}catch(e){throw this.modifiers.throw.length&&(Object.assign(i,{error:e}),this.trigger(s.throw,i,this.modifiers.protect)),e}finally{this.trigger(s.after,i,this.modifiers.protect)}return i.return},t.prototype.trigger=function(e,t,n){var r,i,o,a;try{for(var s=(0,l.__values)(this.modifiers[e]),u=s.next();!u.done;u=s.next()){var c=u.value;try{c.call(t.this,t)}catch(r){if(!n.length){(0,f.ZK)(new ez(e,r));continue}try{for(var d=(o=void 0,(0,l.__values)(n)),p=d.next();!p.done;p=d.next()){var h=p.value;Object.assign(t,{error:r}),h.call(t.this,t)}}catch(e){o={error:e}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}}}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},t}(eK),eq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,l.__extends)(t,e),t.create=function(){return new t(function(){return{}})},t.withContext=function(e){return new t(e)},t.prototype.invoke=function(e,t,n){var r=this;if(!this.dirty())return e.call.apply(e,(0,l.__spreadArray)([t],(0,l.__read)(n)));var i=Object.assign(this.createContext(),{args:n,this:t,callee:e,return:void 0,error:void 0}),o=function(){return(0,l.__awaiter)(r,void 0,void 0,function(){var e,t,n,r;return(0,l.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,7,10,12]),[4,this.trigger(s.before,i,this.modifiers.protect)];case 1:if(o.sent(),this.modifiers.around.length)return[3,3];return e=(r=i.callee).call.apply(r,(0,l.__spreadArray)([i.this],(0,l.__read)(i.args))),t=i,[4,e];case 2:return t.return=o.sent(),[3,5];case 3:return[4,this.trigger(s.around,i,this.modifiers.protect)];case 4:o.sent(),o.label=5;case 5:return[4,this.trigger(s.return,i,this.modifiers.protect)];case 6:return o.sent(),[3,12];case 7:if(Object.assign(i,{error:n=o.sent()}),!this.modifiers.throw.length)return[3,9];return[4,this.trigger(s.throw,i,this.modifiers.protect)];case 8:o.sent(),o.label=9;case 9:throw n;case 10:return[4,this.trigger(s.after,i,this.modifiers.protect)];case 11:return o.sent(),[7];case 12:return[2]}})})};return new Promise(function(e,t){o().then(function(){e(i.return)}).catch(function(e){t(e)})})},t.prototype.trigger=function(e,t,n){return(0,l.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s,u,c,d,p,h,g;return(0,l.__generator)(this,function(m){switch(m.label){case 0:m.trys.push([0,15,16,17]),i=(r=(0,l.__values)(this.modifiers[e])).next(),m.label=1;case 1:if(i.done)return[3,14];o=i.value,m.label=2;case 2:return m.trys.push([2,4,,13]),[4,o.call(t.this,t)];case 3:return m.sent(),[3,13];case 4:if(a=m.sent(),!n.length)return(0,f.ZK)(new ez(e,a)),[3,13];m.label=5;case 5:m.trys.push([5,10,11,12]),h=void 0,u=(s=(0,l.__values)(n)).next(),m.label=6;case 6:if(u.done)return[3,9];return c=u.value,Object.assign(t,{error:a}),[4,c.call(t.this,t)];case 7:m.sent(),m.label=8;case 8:return u=s.next(),[3,6];case 9:return[3,12];case 10:return h={error:m.sent()},[3,12];case 11:try{u&&!u.done&&(g=s.return)&&g.call(s)}finally{if(h)throw h.error}return[7];case 12:return[3,13];case 13:return i=r.next(),[3,1];case 14:return[3,17];case 15:return d={error:m.sent()},[3,17];case 16:try{i&&!i.done&&(p=r.return)&&p.call(r)}finally{if(d)throw d.error}return[7];case 17:return[2]}})})},t}(eK);function eX(){return{timings:new Map,counters:new Map,messages:new Map,errors:new Map,flags:new Map,data:new Map}}function eJ(){return{collection:{get:eq.withContext(eX),has:eq.withContext(eX),delete:eq.withContext(eX),insert:eq.withContext(eX),upsert:eq.withContext(eX),bulkInsert:eq.withContext(eX),bulkUpsert:eq.withContext(eX),update:eq.withContext(eX),clear:eq.withContext(eX),count:eq.withContext(eX),entries:eq.withContext(eX),keys:eq.withContext(eX),values:eq.withContext(eX),first:eq.withContext(eX),last:eq.withContext(eX),skip:eQ.withContext(eX),take:eQ.withContext(eX),slice:eQ.withContext(eX),orderBy:eQ.withContext(eX),where:eQ.withContext(eX),or:eQ.withContext(eX)},query:{},model:{},migration:{prepareAutoUpgradeHandler:eq.withContext(eX),buildMigration:eQ.withContext(eX),executeDataMigration:eq.withContext(eX),executeSchemaMigration:eQ.withContext(eX),updateMigrationChangeInfo:eq.withContext(eX),log:eQ.withContext(eX),actionExecutor:{executeSchemaAction:eQ.withContext(eX),executeDataAction:eq.withContext(eX)}},engine:{deleteDB:eq.withContext(eX),openDB:eq.withContext(eX),database:{createTable:eQ.withContext(eX),deleteTable:eQ.withContext(eX),close:eQ.withContext(eX),table:eq.withContext(eX),transaction:eq.withContext(eX)},table:{createIndex:eq.withContext(eX),deleteIndex:eq.withContext(eX),delete:eq.withContext(eX),get:eq.withContext(eX),getAll:eq.withContext(eX),getAllKeys:eq.withContext(eX),index:eQ.withContext(eX),insert:eq.withContext(eX),query:eq.withContext(eX),openCursor:eq.withContext(eX),upsert:eq.withContext(eX),bulkUpsert:eq.withContext(eX),clear:eq.withContext(eX),bulkDelete:eq.withContext(eX)},index:{get:eq.withContext(eX),getAll:eq.withContext(eX),getAllKeys:eq.withContext(eX),openCursor:eq.withContext(eX)},cursor:{delete:eq.withContext(eX),update:eq.withContext(eX),next:eq.withContext(eX),value:eQ.withContext(eX)},transaction:{commit:eq.withContext(eX),rollback:eq.withContext(eX),table:eQ.withContext(eX)}}}}var e$=function(){function e(e,t){this.storage=e,this.eventBus=t,this.plugins=[]}return e.prototype.add=function(){for(var e,t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{for(var o=(0,l.__values)(n),a=o.next();!a.done;a=o.next()){var s=a.value;this.plugins.push(s),s.register(this.storage),this.eventBus.emit(r.RegisterPlugin,s)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e}(),e0=f.sH.withMessageCreator("UnexpectedOutsideMigrationActionError",function(e){return e+" outside ensure(callback) is not allowed, please wrap your migration actions inside a ensure callback"}),e1=function(){function e(e,t){this.name=e,this.context=t}return e.create=function(t){return{index:function(n){return new e(n,t)}}},e.prototype.create=function(e){var t=this.context.scope.collection;if(!t)throw new e0("CreateIndex");return this.context.actions.schema.push({type:d.g6.CreateIndex,name:this.name,attributes:(0,l.__assign)({},e),collection:t}),this},e.prototype.drop=function(){var e=this.context.scope.collection;if(!e)throw new e0("DropIndex");this.context.actions.schema.push({type:d.g6.DropIndex,name:this.name,collection:e})},e.prototype.alter=function(e){var t=this.context.scope.collection;if(!t)throw new e0("AlterIndex");return this.context.actions.schema.push({type:d.g6.DropIndex,name:this.name,collection:t},{type:d.g6.CreateIndex,name:this.name,attributes:(0,l.__assign)({},e),collection:t}),this},e.prototype.rename=function(e){var t=this.context.scope.collection;if(!t)throw new e0("RenameIndex");this.context.actions.schema.push({type:d.g6.DropIndex,name:this.name,collection:t},{type:d.g6.CreateIndex,name:e,attributes:{path:""},collection:t})},e.prototype.ensure=function(){throw new f.zF},e}(),e2=function(){function e(e,t){this.name=e,this.context=t}return e.create=function(t){return{collection:function(n){return new e(n,t)}}},e.prototype.create=function(e){return this.context.actions.schema.push({type:d.g6.CreateCollection,name:this.name,attributes:(0,l.__assign)({},e)}),this},e.prototype.drop=function(){this.context.actions.schema.push({type:d.g6.DropCollection,name:this.name})},e.prototype.alter=function(e){return this.context.actions.schema.push({type:d.g6.DropCollection,name:this.name},{type:d.g6.CreateCollection,name:this.name,attributes:(0,l.__assign)({},e)}),this},e.prototype.rename=function(e){this.context.actions.schema.push({type:d.g6.DropCollection,name:this.name},{type:d.g6.CreateCollection,name:e,attributes:{key:{generator:d.uZ.AutoIncrement},properties:[]}})},e.prototype.ensure=function(e){var t=this.context,n=(0,l.__assign)({},e1.create(t));this.context.scope.collection=this.name,e(n),this.context.scope.collection=null},e}(),e4=function(){function e(){this.context={actions:{schema:[],data:[]},scope:{database:null,collection:null}},this.builder=e2.create(this.context)}return e.prototype.init=function(e){this.state=e,this.build()},e.prototype.plan=function(){return this.context.actions.schema.length||this.context.actions.data.length?[{schema:{actions:this.context.actions.schema.slice()},data:{actions:this.context.actions.data.slice()}}]:[]},e.prototype.handleDropCollection=function(e){var t,n;try{for(var r=(0,l.__values)(e),i=r.next();!i.done;i=r.next()){var o=i.value;this.builder.collection(o.name).drop()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.handleCreateCollection=function(e){var t,n,r=function(e){i.builder.collection(e.name).create(e).ensure(function(t){var n,r;try{for(var i=(n=void 0,(0,l.__values)(e.indices)),o=i.next();!o.done;o=i.next()){var a=o.value;t.index(a.name).create(a)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}})},i=this;try{for(var o=(0,l.__values)(e),a=o.next();!a.done;a=o.next()){var s=a.value;r(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e.prototype.handleIndexChange=function(e){var t,n,r=function(e){i.builder.collection(e.collection).ensure(function(t){try{for(var n,r,i,o,a,s,u=(n=void 0,(0,l.__values)((null==(a=e.index)?void 0:a.added)||[])),c=u.next();!c.done;c=u.next()){var d=c.value;t.index(d.name).create(d)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}try{for(var f=(i=void 0,(0,l.__values)((null==(s=e.index)?void 0:s.deleted)||[])),p=f.next();!p.done;p=f.next()){var d=p.value;t.index(d.name).drop()}}catch(e){i={error:e}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}})},i=this;try{for(var o=(0,l.__values)(e),a=o.next();!a.done;a=o.next()){var s=a.value;r(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e.prototype.build=function(){if(!this.state)throw Error("Migration state is undefined, must init before!");var e=this.state.schema,t=e.expect,n=e.actual,r=d.Ze.databaseDiff(n,t);this.handleCreateCollection(r.added),this.handleDropCollection(r.deleted),this.handleIndexChange(r.different)},e}(),e3=0,e5=1,e9=d.O3.name;!function(e){e.SYSTEM_TABLE="system_table",e.SCAN_EXISTING_TABLE="scan_exists_table"}(u||(u={}));var e8=function(){function e(){}return e.hasSystemTable=function(e){return e.tableNames.includes(e9)},e.getDatabaseSchema=function(t,n,r){return(0,l.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u;return(0,l.__generator)(this,function(c){switch(c.label){case 0:return[4,n.openDB(t,{name:t,collections:[d.O3]})];case 1:i=c.sent(),o=!1,c.label=2;case 2:if(c.trys.push([2,,10,11]),i.tableNames.length)return[3,4];return i.close(),o=!0,[4,n.deleteDB(t)];case 3:return c.sent(),[2,{schema:{name:this.name,version:e3,collections:[]},from:"scan_exists_table"}];case 4:if(this.hasSystemTable(i))return[3,6];return[4,e.getDatabaseSchemaByScanningTableStructure(r.collections.map(function(e){return e.name}),i)];case 5:return[2,{schema:c.sent(),from:"scan_exists_table"}];case 6:return[4,i.transaction([e9],d.pF.READ_ONLY)];case 7:return[4,(a=c.sent()).table(e9).getAll()];case 8:return s=c.sent()||[],u={name:this.name,version:i.version,collections:(0,l.__spreadArray)((0,l.__spreadArray)([],(0,l.__read)(s)),[this.getSystemTableSchema()])},[4,a.commit()];case 9:return c.sent(),[2,{schema:u,from:"system_table"}];case 10:return o||i.close(),[7];case 11:return[2]}})})},e.getSystemTableSchema=function(){return d.O3},e.updateSchemaChange=function(e,t,n,r){return(0,l.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u,c,f,p,h,g,m,v,y,b,_,C,I,E,w,D;return(0,l.__generator)(this,function(M){switch(M.label){case 0:if(i=t.table(e9),!r)return[3,2];return[4,i.bulkUpsert(n.schema.expect.collections.filter(function(e){return e.name!==e9}))];case 1:return M.sent(),[2];case 2:M.trys.push([2,27,,29]),a=(o=d.Ze.databaseDiff(n.schema.actual,n.schema.expect)).added.filter(function(e){return e.name!==e9}),M.label=3;case 3:M.trys.push([3,8,9,10]),u=(s=(0,l.__values)(a)).next(),M.label=4;case 4:if(u.done)return[3,7];return(c=u.value).dataVersion=e,[4,i.upsert(c)];case 5:M.sent(),M.label=6;case 6:return u=s.next(),[3,4];case 7:return[3,10];case 8:return _={error:M.sent()},[3,10];case 9:try{u&&!u.done&&(C=s.return)&&C.call(s)}finally{if(_)throw _.error}return[7];case 10:M.trys.push([10,15,16,17]),p=(f=(0,l.__values)(o.deleted)).next(),M.label=11;case 11:if(p.done)return[3,14];return c=p.value,[4,i.delete(c.name)];case 12:M.sent(),M.label=13;case 13:return p=f.next(),[3,11];case 14:return[3,17];case 15:return I={error:M.sent()},[3,17];case 16:try{p&&!p.done&&(E=f.return)&&E.call(f)}finally{if(I)throw I.error}return[7];case 17:h=o.different.filter(function(e){return!!e.index}),g=function(e){var t,n,r;return(0,l.__generator)(this,function(o){switch(o.label){case 0:return[4,i.get(e.collection)];case 1:return t=o.sent(),n=[],r=t.indices.filter(function(t){return!e.index.deleted.some(function(e){return e.name===t.name})}),n.push.apply(n,(0,l.__spreadArray)([],(0,l.__read)(e.index.added))),n.push.apply(n,(0,l.__spreadArray)([],(0,l.__read)(r))),t.index=n,[4,i.upsert(t)];case 2:return o.sent(),[2]}})},M.label=18;case 18:M.trys.push([18,23,24,25]),v=(m=(0,l.__values)(h)).next(),M.label=19;case 19:if(v.done)return[3,22];return y=v.value,[5,g(y)];case 20:M.sent(),M.label=21;case 21:return v=m.next(),[3,19];case 22:return[3,25];case 23:return w={error:M.sent()},[3,25];case 24:try{v&&!v.done&&(D=m.return)&&D.call(m)}finally{if(w)throw w.error}return[7];case 25:return[4,t.commit()];case 26:if(!M.sent())throw new S;return[3,29];case 27:return b=M.sent(),[4,t.rollback()];case 28:throw M.sent(),b;case 29:return[2]}})})},e.updateCollectionDataVersion=function(e,t,n){return(0,l.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,l.__generator)(this,function(a){switch(a.label){case 0:return[4,(r=t.table(e9)).get(x.getTableName(n))];case 1:if(i=a.sent(),o=x.getTableInfo(n.prototype),!i)throw Error("get target table system info error!");if(!o)throw new v(n.name);return i.dataVersion=e,i.properties=(0,l.__spreadArray)([],(0,l.__read)(o.properties.values())).map(function(e){return e.name}),[4,r.upsert(i)];case 2:return a.sent(),[2]}})})},e.getTableDataVersion=function(e,t){return(0,l.__awaiter)(this,void 0,void 0,function(){return(0,l.__generator)(this,function(n){switch(n.label){case 0:return[4,t.table(e9).get(e)];case 1:return[2,n.sent().dataVersion]}})})},e.getDatabaseSchemaByScanningTableStructure=function(e,t){return(0,l.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,f,p,h,g,m,v,y;return(0,l.__generator)(this,function(b){switch(b.label){case 0:n=t.tableNames.filter(function(t){return e.includes(t)}),r=[],b.label=1;case 1:b.trys.push([1,6,7,8]),o=(i=(0,l.__values)(n)).next(),b.label=2;case 2:if(o.done)return[3,5];return a=o.value,[4,t.table(a,d.pF.READ_ONLY)];case 3:s=b.sent(),u={name:a,key:s.autoIncrement?{generator:d.uZ.AutoIncrement}:{path:s.keyPath},indices:[],properties:[]};try{for(v=void 0,f=(c=(0,l.__values)(s.indexNames)).next();!f.done;f=c.next())p=f.value,h=s.index(p),u.indices.push({name:p,path:h.keyPath,unique:h.unique})}catch(e){v={error:e}}finally{try{f&&!f.done&&(y=c.return)&&y.call(c)}finally{if(v)throw v.error}}r.push(u),b.label=4;case 4:return o=i.next(),[3,2];case 5:return[3,8];case 6:return g={error:b.sent()},[3,8];case 7:try{o&&!o.done&&(m=i.return)&&m.call(i)}finally{if(g)throw g.error}return[7];case 8:return[2,{name:t.name,version:t.version,collections:r}]}})})},e}(),e6=function(){function e(e){this.schemaActionHandlerMap=new Map,this.dataActionHandlerMap=new Map,this.schemaActionHandlerMap.set(d.g6.CreateCollection,this.performCreateCollectionAction.bind(this)),this.schemaActionHandlerMap.set(d.g6.DropCollection,this.performDropCollectionAction.bind(this)),this.schemaActionHandlerMap.set(d.g6.CreateIndex,this.performCreateIndexAction.bind(this)),this.schemaActionHandlerMap.set(d.g6.DropIndex,this.performDropIndexAction.bind(this)),this.dataActionHandlerMap.set(d.cg.DropProperty,this.performDropPropertyAction.bind(this)),this.dataActionHandlerMap.set(d.cg.ClearData,this.performClearDataAction.bind(this)),this.dataActionHandlerMap.set(d.cg.ReplaceData,this.performReplaceDataAction.bind(this)),e.executeDataAction.patch(this,"executeDataAction"),e.executeSchemaAction.patch(this,"executeSchemaAction")}return e.prototype.executeSchemaAction=function(e,t,n){var r=this.schemaActionHandlerMap.get(n.type);if(r){if(t.mode!==d.pF.VERSION_CHANGE)throw new m(n.type);return r(e,t,n)}},e.prototype.executeDataAction=function(e,t,n){return(0,l.__awaiter)(this,void 0,void 0,function(){var r;return(0,l.__generator)(this,function(i){return(r=this.dataActionHandlerMap.get(n.type))?[2,r(e,t,n)]:[2]})})},e.prototype.performCreateIndexAction=function(e,t,n){t.table(n.collection).createIndex(n.name,n.attributes.path,{unique:n.attributes.unique})},e.prototype.performDropIndexAction=function(e,t,n){t.table(n.collection).deleteIndex(n.name)},e.prototype.performDropCollectionAction=function(e,t,n){e.deleteTable(n.name)},e.prototype.performCreateCollectionAction=function(e,t,n){var r,i;e.createTable(n.name,{keyPath:null==(r=n.attributes.key)?void 0:r.path,autoIncrement:(null==(i=n.attributes.key)?void 0:i.generator)===d.uZ.AutoIncrement})},e.prototype.performClearDataAction=function(e,t,n){return(0,l.__awaiter)(this,void 0,void 0,function(){var e,r;return(0,l.__generator)(this,function(i){switch(i.label){case 0:if(e=t.table(n.collection),n.filter)return[3,2];return[4,e.clear()];case 1:return i.sent(),[2];case 2:return[4,e.openCursor()];case 3:r=i.sent(),i.label=4;case 4:if(!r)return[3,8];if(!n.filter(r.value()))return[3,6];return[4,r.delete()];case 5:i.sent(),i.label=6;case 6:return[4,r.next()];case 7:return r=i.sent(),[3,4];case 8:return[2]}})})},e.prototype.performDropPropertyAction=function(e,t,n){return(0,l.__awaiter)(this,void 0,void 0,function(){var e,r;return(0,l.__generator)(this,function(i){switch(i.label){case 0:return[4,t.table(n.collection).openCursor()];case 1:e=i.sent(),i.label=2;case 2:if(!e)return[3,5];return(r=e.value())[n.path]=void 0,[4,e.update(r)];case 3:return i.sent(),[4,e.next()];case 4:return e=i.sent(),[3,2];case 5:return[2]}})})},e.prototype.performReplaceDataAction=function(e,t,n){var r;return(0,l.__awaiter)(this,void 0,void 0,function(){var e,i;return(0,l.__generator)(this,function(o){switch(o.label){case 0:return[4,t.table(n.collection).openCursor()];case 1:e=o.sent(),o.label=2;case 2:if(!e)return[3,6];if(i=e.value(),!(!n.filter||(null==(r=n.filter)?void 0:r.call(this,i))))return[3,4];return[4,e.update(n.replacer(i))];case 3:o.sent(),o.label=4;case 4:return[4,e.next()];case 5:return e=o.sent(),[3,2];case 6:return[2]}})})},e}(),e7=function(){function e(e){this.collection=e,this.versionActionsMap=new Map}return e.prototype.getVersionActionsMap=function(){return this.versionActionsMap},e.prototype.version=function(e){var t=this,n={update:function(r){return t.pushAction(e,{type:d.cg.ReplaceData,replacer:r,collection:t.collection}),n},delete:function(r){return t.pushAction(e,{filter:r,type:d.cg.ClearData,collection:t.collection}),n}};return n},e.prototype.pushAction=function(e,t){var n=this.versionActionsMap.get(e)||[];n.push(t),this.versionActionsMap.set(e,n)},e}(),te=function(){function e(e,t,n){this.expectedSchema=e,this.actualSchema=t,this.modelClass=n}return e.prototype.plan=function(){var e=this.actualSchema.dataVersion||0,t=this.expectedSchema.dataVersion||1;if(e===t)return[];var n=[],r=this.getManualMigrationActions(e,t);n.push.apply(n,(0,l.__spreadArray)([],(0,l.__read)(r)));var i=this.getAutoMigrationActions();return n.push.apply(n,(0,l.__spreadArray)([],(0,l.__read)(i))),[{schema:{actions:[]},data:{actions:n}}]},e.prototype.getManualMigrationActions=function(e,t){var n,r,i=new e7(x.getTableName(this.modelClass));return null==(r=(n=this.modelClass).onDataUpgrade)||r.call(n,e,t,i),this.getRangeDataAction(e,t,i.getVersionActionsMap())},e.prototype.getAutoMigrationActions=function(){var e,t,n=this,r=[],i=this.actualSchema.properties.filter(function(e){return!n.expectedSchema.properties.includes(e)});try{for(var o=(0,l.__values)(i),a=o.next();!a.done;a=o.next()){var s=a.value;r.push({type:d.cg.DropProperty,collection:x.getTableName(this.modelClass),path:s})}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return r},e.prototype.getRangeDataAction=function(e,t,n){for(var r=[],i=e;i<=t;i++)r.push.apply(r,(0,l.__spreadArray)([],(0,l.__read)(n.get(i)||[])));return r},e}(),tt=function(){function e(e){this.migrationManager=e,this.upgradedFlag=new Map}return e.prototype.executeDataUpgrade=function(e,t,n,r){return void 0===r&&(r=function(){}),(0,l.__awaiter)(this,void 0,void 0,function(){var i,o;return(0,l.__generator)(this,function(a){switch(a.label){case 0:if(i=x.getTableName(e),this.upgradedFlag.get(i))return[2];if(o=this.getCollectionSchema(i,n),!this.isNeedExecuteDataUpgrade(o.expect,o.actual))return this.upgradedFlag.set(i,!0),[2,r()];return[4,this.executeUpgrade(i,t,n,o.expect,o.actual,e)];case 1:return a.sent(),this.upgradedFlag.set(i,!0),[2,r()]}})})},e.prototype.isNeedExecuteDataUpgrade=function(e,t){return!!(null==t?void 0:t.dataVersion)&&e.dataVersion!==t.dataVersion},e.prototype.executeUpgrade=function(e,t,n,r,i,o){return(0,l.__awaiter)(this,void 0,void 0,function(){var a,s,u,c,f,p;return(0,l.__generator)(this,function(l){switch(l.label){case 0:return a=new te(r,i,o),this.migrationManager.use(a),s=this.migrationManager.buildMigration(n),[4,t.transaction([e,e8.getSystemTableSchema().name],d.pF.READ_WRITE)];case 1:u=l.sent(),c=!1,l.label=2;case 2:return l.trys.push([2,6,8,11]),f=n.schema.expect.version||e5,[4,e8.getTableDataVersion(x.getTableName(o),u)];case 3:if(l.sent()===f)return[2];return[4,this.migrationManager.executeDataMigration(t,s,u)];case 4:return l.sent(),[4,e8.updateCollectionDataVersion(f,u,o)];case 5:return l.sent(),[3,11];case 6:return p=l.sent(),c=!0,[4,u.rollback()];case 7:throw l.sent(),new g({oldVersion:i.dataVersion,newVersion:r.dataVersion},p);case 8:if(c)return[3,10];return[4,u.commit()];case 9:l.sent(),l.label=10;case 10:return[7];case 11:return[2]}})})},e.prototype.getCollectionSchema=function(e,t){var n=t.schema,r=n.expect,i=n.actual,o=r.collections.filter(function(t){return t.name===e}),a=i.collections.filter(function(t){return t.name===e});if(1!==o.length)throw new h(e);return{expect:o[0],actual:a.length?a[0]:void 0}},e}(),tn=function(){function e(e,t,n){var r=this;this.planner=new e4,this.actualDBSchema=null,this.actualDBSchemaFrom=null,this.lazyMigrationProcessor=new tt(this),this.handleCollectionCreated=function(e){var t=e.collectionName,n=e.context;r.safeExecuteDataUpgrade(n,t)},this.handleStartTransaction=function(e){var t,n,i=e.collectionNames,o=e.context;try{for(var a=(0,l.__values)(i),s=a.next();!s.done;s=a.next()){var u=s.value;r.safeExecuteDataUpgrade(o,u)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},this.eventBus=e,this.eventBus.on(i.CollectionCreated,this.handleCollectionCreated),this.eventBus.on(i.StartTransaction,this.handleStartTransaction),this.schemaProvider=t,this.actionExecutor=new e6(n.actionExecutor),this.applyAspectPatch(n)}return e.prototype.use=function(e){this.planner=e},e.prototype.prepareAutoUpgradeHandler=function(e,t){return(0,l.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,u=this;return(0,l.__generator)(this,function(c){switch(c.label){case 0:return n=this.schemaProvider.getDatabaseSchema(),[4,e8.getDatabaseSchema(e,t,n)];case 1:return o=(i=c.sent()).schema,a=i.from,this.actualDBSchema=o,this.actualDBSchemaFrom=a,this.log("getDatabaseSchema",this.actualDBSchema),s=this.buildMigration({schema:{expect:n,actual:this.actualDBSchema}}),[2,function(e,t,n,i){u.eventBus.emit(r.SchemaMigrationStart),u.executeSchemaMigration(e,s,i),u.updateMigrationChangeInfo(i).catch(function(e){u.emitError(new D(e))}),u.eventBus.emit(r.SchemaMigrationEnd)}]}})})},e.prototype.buildMigration=function(e){var t,n,r,i,o,a,s=e.schema,u=s.actual,c=s.expect;null==(n=null==(t=this.planner)?void 0:t.init)||n.call(t,e);var l=null!=(r=u.version)?r:e3,d=null!=(i=c.version)?i:e5;return null!=(a=null==(o=this.planner)?void 0:o.plan(l,d))?a:[]},e.prototype.executeSchemaMigration=function(e,t,n){var r,i,o,a;if(t)try{for(var s=(0,l.__values)(t),u=s.next();!u.done;u=s.next()){var c=u.value;try{for(var d=(o=void 0,(0,l.__values)(c.schema.actions)),f=d.next();!f.done;f=d.next()){var p=f.value;this.actionExecutor.executeSchemaAction(e,n,p)}}catch(e){o={error:e}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},e.prototype.executeDataMigration=function(e,t,n){return(0,l.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s,u,c,d,f,p;return(0,l.__generator)(this,function(h){switch(h.label){case 0:if(!t)return[2];h.label=1;case 1:h.trys.push([1,12,13,14]),i=(r=(0,l.__values)(t)).next(),h.label=2;case 2:if(i.done)return[3,11];o=i.value,h.label=3;case 3:h.trys.push([3,8,9,10]),f=void 0,s=(a=(0,l.__values)(o.data.actions)).next(),h.label=4;case 4:if(s.done)return[3,7];return u=s.value,[4,this.actionExecutor.executeDataAction(e,n,u)];case 5:h.sent(),h.label=6;case 6:return s=a.next(),[3,4];case 7:return[3,10];case 8:return f={error:h.sent()},[3,10];case 9:try{s&&!s.done&&(p=a.return)&&p.call(a)}finally{if(f)throw f.error}return[7];case 10:return i=r.next(),[3,2];case 11:return[3,14];case 12:return c={error:h.sent()},[3,14];case 13:try{i&&!i.done&&(d=r.return)&&d.call(r)}finally{if(c)throw c.error}return[7];case 14:return[2]}})})},e.prototype.updateMigrationChangeInfo=function(e){var t,n;return(0,l.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,l.__generator)(this,function(o){return i=null!=(t=(r=this.schemaProvider.getDatabaseSchema()).version)?t:e5,[2,e8.updateSchemaChange(i,e,{schema:{expect:r,actual:null!=(n=this.actualDBSchema)?n:{name:r.name,collections:[]}}},"scan_exists_table"===this.actualDBSchemaFrom)]})})},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},e.prototype.executeDataUpgradeIfNeed=function(e,t){var n;return(0,l.__awaiter)(this,void 0,void 0,function(){var r,o,a=this;return(0,l.__generator)(this,function(s){switch(s.label){case 0:return this.log("executeDataUpgradeIfNeed",e.name),o={name:(r=this.schemaProvider.getDatabaseSchema()).name,collections:[]},[4,this.lazyMigrationProcessor.executeDataUpgrade(e,t,{schema:{expect:r,actual:null!=(n=this.actualDBSchema)?n:o}},function(){a.eventBus.emit(i.ModelLazyMigrationEnd,x.getTableName(e))})];case 1:return s.sent(),[2]}})})},e.prototype.safeExecuteDataUpgrade=function(e,t){var n=this;Promise.all([e.waitForModelRegistered(t),e.waitForDBReady()]).then(function(e){var r=(0,l.__read)(e,2),i=r[0],o=r[1];n.executeDataUpgradeIfNeed(i.class,o).catch(function(e){n.emitError(new M(t,e))})}).catch(function(){})},e.prototype.emitError=function(e){this.eventBus.emit(r.Error,e)},e.prototype.applyAspectPatch=function(e){e.buildMigration.patch(this,"buildMigration"),e.executeDataMigration.patch(this,"executeDataMigration"),e.executeSchemaMigration.patch(this,"executeSchemaMigration"),e.prepareAutoUpgradeHandler.patch(this,"prepareAutoUpgradeHandler"),e.log.patch(this,"log"),e.updateMigrationChangeInfo.patch(this,"updateMigrationChangeInfo")},e}(),tr=function(){var e;return{lock:function(t){return e||(e=t()),e.finally(function(){e=void 0})}}},ti=function(){function e(e,t){var n,i=this;if(this.openingMutex=tr(),this.closingMutex=tr(),this.destroyingMutex=tr(),this.openDatabase=function(){return(0,l.__awaiter)(i,void 0,void 0,function(){var e=this;return(0,l.__generator)(this,function(t){return[2,this.openingMutex.lock(function(){return(0,l.__awaiter)(e,void 0,void 0,function(){var e,t,n,i,o,a,s,u,c,d,f,h=this;return(0,l.__generator)(this,function(l){switch(l.label){case 0:if(this.db)return[2];t=(e=this.storage).name,n=e.version,l.label=1;case 1:return l.trys.push([1,8,,9]),this.eventBus.emit(r.BootstrapStart),i=this.getDatabaseSchema(),[4,this.migrationManager.prepareAutoUpgradeHandler(t,this.engine)];case 2:o=l.sent(),a=function(){h.eventBus.emit(r.Fetal,new T(t))},l.label=3;case 3:return l.trys.push([3,5,,7]),s=this,[4,this.engine.openDB(t,i,n,{upgrade:o,terminated:a})];case 4:return s.db=l.sent(),[3,7];case 5:if("VersionError"!==(u=l.sent()).name||!this.supportCompatibleOpen)throw u;return c=this,[4,this.engine.openDB(t,i,void 0,{upgrade:o,terminated:a})];case 6:return c.db=l.sent(),[3,7];case 7:return this.db.setVersionChangeListener(function(e,t){h.eventBus.emit(r.VersionChange,{oldVersion:e,newVersion:t})}),this.eventBus.emit(r.BootstrapEnd),this.eventBus.emit(r.Ready,this.db),[3,9];case 8:throw d=l.sent(),this.reset(),f=new p(t,d),this.eventBus.emit(r.Error,f),this.eventBus.emit(r.Fetal,f),f;case 9:return[2]}})})})]})})},this.handleModelRegistered=function(e){if(!i.schemas.some(function(t){return t.name===e.schema.name})){var t=e.schema;t.dataVersion=i.storage.version,i.schemas.push(t)}},this.handleFetal=function(){i.reset()},this.storage=e,this.engine=t.engine,this.eventBus=t.eventBus,this.supportCompatibleOpen=t.supportCompatibleOpen,this.engine.setAspects(e.aspects.engine),this.schemas=[e8.getSystemTableSchema()],t.databaseSchema){var o=JSON.parse(t.databaseSchema).collections.map(function(e){return(0,l.__assign)((0,l.__assign)({},e),{dataVersion:i.storage.version})});(n=this.schemas).push.apply(n,(0,l.__spreadArray)([],(0,l.__read)(o)))}this.migrationManager=new tn(this.eventBus,this,e.aspects.migration),this.eventBus.on(r.RegisterModel,this.handleModelRegistered),this.eventBus.on(r.Fetal,this.handleFetal)}return e.prototype.getDatabaseEngine=function(){return this.engine},e.prototype.getDatabaseSchema=function(){if(!this.storage.name||!this.storage.version)throw Error("The database name and version are required for generating dbSchema");return{name:this.storage.name,version:this.storage.version,collections:this.schemas}},e.prototype.closeDatabase=function(){return(0,l.__awaiter)(this,void 0,void 0,function(){var e=this;return(0,l.__generator)(this,function(t){return[2,this.closingMutex.lock(function(){return(0,l.__awaiter)(e,void 0,void 0,function(){return(0,l.__generator)(this,function(e){switch(e.label){case 0:if(!this.db)return[2];return[4,this.db.close()];case 1:return e.sent(),this.reset(),this.eventBus.emit(r.Closed),[2]}})})})]})})},e.prototype.destroyDatabase=function(){var e=this;return this.destroyingMutex.lock(function(){return(0,l.__awaiter)(e,void 0,void 0,function(){return(0,l.__generator)(this,function(e){switch(e.label){case 0:return[4,this.engine.deleteDB(this.storage.name)];case 1:return e.sent(),this.reset(),this.eventBus.emit(r.Destroyed),[2]}})})})},e.prototype.reset=function(){this.db=void 0},e}(),to=function(e){return setTimeout(e)},ta=function(){function e(e){var t=e.keepActive,n=e.comparer,r=e.channelDB,i=e.channelModel,o=e.channelLazyMigration;this.keepActive=t,this.comparer=n,this.channelDB=r,this.channelModel=i,this.channelLazyMigration=o}return e.fromTransactionManager=function(t,n){return void 0===n&&(n=!1),new e({keepActive:n,comparer:t.comparer,channelDB:t.channelDB,channelModel:t.channelModel,channelLazyMigration:t.channelLazyMigration})},e.prototype.openTransaction=function(e,t){return(0,l.__awaiter)(this,void 0,void 0,function(){var n=this;return(0,l.__generator)(this,function(r){return this.transactionPromise=function(){return(0,l.__awaiter)(n,void 0,void 0,function(){var n,r,i=this;return(0,l.__generator)(this,function(o){switch(o.label){case 0:return[4,Promise.all(e.map(function(e){return i.waitForModelRegistered(e)}))];case 1:return o.sent(),[4,Promise.all(e.map(function(e){return i.waitForMigrationReady(e)}))];case 2:return o.sent(),[4,this.waitForDBReady()];case 3:return n=o.sent(),r=this,[4,n.transaction(e,t)];case 4:return r.transaction=o.sent(),[2,this.transaction]}})})}(),[2,this.transactionPromise]})})},e.prototype.getTransaction=function(e,t){return(0,l.__awaiter)(this,void 0,void 0,function(){return(0,l.__generator)(this,function(n){switch(n.label){case 0:if(this.transactionPromise)return[3,2];return[4,this.openTransaction(e,t)];case 1:n.sent(),n.label=2;case 2:return[4,this.transactionPromise];case 3:return[2,n.sent()]}})})},e.prototype.waitForDBReady=function(){return(0,l.__awaiter)(this,void 0,void 0,function(){return(0,l.__generator)(this,function(e){return[2,this.channelDB.pick()]})})},e.prototype.waitForModelRegistered=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){return(0,l.__generator)(this,function(t){return[2,this.channelModel.pick(e)]})})},e.prototype.waitForMigrationReady=function(e){return(0,l.__awaiter)(this,void 0,void 0,function(){return(0,l.__generator)(this,function(t){return[2,this.channelLazyMigration.pick(e)]})})},e.prototype.perform=function(e){return this.keepActive?e():this.autoCommitOrRollback(e)},e.prototype.autoCommitOrRollback=function(e){var t,n;return(0,l.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,l.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,5]),[4,e()];case 1:return r=o.sent(),[4,null==(t=this.transaction)?void 0:t.commit()];case 2:return o.sent(),[2,r];case 3:return i=o.sent(),[4,null==(n=this.transaction)?void 0:n.rollback()];case 4:throw o.sent(),i;case 5:return[2]}})})},e}(),ts=Symbol("channel"),tu=function(e){void 0===e&&(e=function(){return ts});var t,n=new Map,r=new Map;function i(e,t){var n;null==(n=r.get(e))||n.resolve(t),r.delete(e)}function o(e,t){var n;null==(n=r.get(e))||n.reject(t),r.delete(e)}function a(e,t){void 0===t&&(t=ts),r.has(t)?i(t,e):n.set(t,Promise.resolve(e))}function s(){n.clear(),r.clear()}return{send:function(n){t||a(n,e(n))},pick:function(e){return(void 0===e&&(e=ts),t)?Promise.reject(t):(n.has(e)||n.set(e,new Promise(function(t,n){r.set(e,{resolve:t,reject:n})})),n.get(e))},open:function(){t=void 0},close:function(e,n){var i,a;void 0===n&&(n=!1),t=e;try{for(var u=(0,l.__values)(r.keys()),c=u.next();!c.done;c=u.next()){var d=c.value;o(d,e)}}catch(e){i={error:e}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}n&&s()}}},tc=function(){function e(e,t){var n=this;this.handleFetalError=function(e){n.channelDB.close(e,!0),n.channelModel.close(e),n.channelLazyMigration.close(e)},this.eventBus=e,this.channelDB=tu(),this.channelModel=tu(function(e){return e.schema.name}),this.channelLazyMigration=tu(function(e){return e}),this.comparer=t,this.eventBus.on(r.Fetal,this.handleFetalError),this.eventBus.on(r.Ready,this.channelDB.send),this.eventBus.on(r.RegisterModel,this.channelModel.send),this.eventBus.on(i.ModelLazyMigrationEnd,this.channelLazyMigration.send)}return e.prototype.spawnAutoCommitContext=function(){return ta.fromTransactionManager(this,!1)},e.prototype.spawnKeepAliveContext=function(){return ta.fromTransactionManager(this,!0)},e.prototype.openChannels=function(){this.channelDB.open(),this.channelModel.open(),this.channelLazyMigration.open()},e}(),tl=function(){function e(e){var t,n=this,r=e.name,o=e.engine,a=e.version,s=void 0===a?1:a,u=e.plugins,c=void 0===u?[]:u,d=e.disableAutoOpen,f=void 0!==d&&d,p=e.databaseSchema,h=e.supportCompatibleOpen,g=void 0!==h&&h;this.aspects=eJ(),this.eventBus=P(),this.open=function(){return n.transactionManager.openChannels(),n.databaseManager.openDatabase()},this.close=function(){return n.databaseManager.closeDatabase()},this.destroy=function(){return n.databaseManager.destroyDatabase()},this.register=function(e){n.modelManager.register(e)},this.collection=function(e){var t=n.modelManager.getSchemaAndRegisterModelIfNeed(e);return n.collectionManager.getCollection(t.name,{spawnContext:function(){return n.transactionManager.spawnAutoCommitContext()}})},this.transaction=function(e,t,r){return(0,l.__awaiter)(n,void 0,void 0,function(){var n,o,a,s=this;return(0,l.__generator)(this,function(u){switch(u.label){case 0:return n=this.transactionManager,o=e.map(function(e){return s.modelManager.getSchemaAndRegisterModelIfNeed(e).name}),a=n.spawnKeepAliveContext(),this.eventBus.emit(i.StartTransaction,{collectionNames:o,context:a}),[4,a.openTransaction(o,t)];case 1:return u.sent(),[2,a.autoCommitOrRollback(function(){return r(s.createStorageTransaction(a))})]}})})},this.name=r,this.version=s,this.events=new B(this.eventBus),this.modelManager=new U(this.eventBus),this.databaseManager=new ti(this,{engine:o,eventBus:this.eventBus,databaseSchema:p,supportCompatibleOpen:g}),this.pluginManager=new e$(this,this.eventBus),this.collectionManager=new eH(this,this.eventBus),this.transactionManager=new tc(this.eventBus,{cmp:this.databaseManager.getDatabaseEngine().cmp}),(t=this.pluginManager).add.apply(t,(0,l.__spreadArray)([],(0,l.__read)(c))),f||to(function(){return n.open().catch(function(e){throw e})})}return e.prototype.createStorageTransaction=function(e){var t=this.modelManager,n=new eH(this,this.eventBus);return{collection:function(r){var i=t.getSchemaAndRegisterModelIfNeed(r);return n.getCollection(i.name,{spawnContext:function(){return e}})}}},e}()},952280:function(e,t,n){"use strict";function r(e){if(window.tdocsNetcheck){let t=window.tdocsNetcheck.getVersion();e.getVersion()>t&&(e.extendCallbacks(window.tdocsNetcheck.getCallbacks()),window.tdocsNetcheck.destory(),window.tdocsNetcheck=e,window.tdocsNetcheck.init())}else window.tdocsNetcheck=e,window.tdocsNetcheck.init();return window.tdocsNetcheck}n.d(t,{W:function(){return i},X:function(){return r}});let i=e=>new Promise((t,n)=>{let{length:r}=e;r||n(AggregateError("null"));let i=[];e.forEach(e=>{e.then(e=>t(e)).catch(e=>{r-=1,i.push(e),r||n(AggregateError(i))})})})},470396:function(e,t,n){"use strict";n.r(t),n.d(t,{network:function(){return o}});var r=n(952280);let i=n(896433).Z.create({autoRun:!1}),o=(0,r.X)(i)},896433:function(e,t,n){"use strict";let r;n.d(t,{Z:function(){return p}});var i,o=n(384341);let a=n(963327).default.getInstance().getConfig('npm["@tencent/netcheck"]');var s={version:6,autoRun:!0,ignoreDefaultSources:!0,cdnSources:Object.values((null==a?void 0:a.cdnSources)||["https://docs.qq.com/net-check/img","https://docs.gtimg.com/components/img/1px.gif","https://docs2.gtimg.com/components/img/1px.gif"]),duration:6e4,defaultStatus:null==a?void 0:a.defaultStatus},u=n(952280),c=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};!function(e){e.OFF_LINE="offline",e.ON_LINE="online"}(i||(i={}));let l=15,d=6e4,f=3e5;window.__offlinetest=!1,void 0!==document.hidden?r="visibilitychange":void 0!==document.mozHidden?r="mozvisibilitychange":void 0!==document.msHidden?r="msvisibilitychange":void 0!==document.webkitHidden&&(r="webkitvisibilitychange");class p{constructor(e){if(this.cdnSources=s.cdnSources,this.autoRun=s.autoRun,this.duration=s.duration,this.counter=0,this.handleVisibility=()=>{document.hidden||document.webkitHidden||document.msHidden||document.mozHidden?this.duration=f:this.duration=d,this.pause(),this.startCheck()},this.handleNetstatus=()=>c(this,void 0,void 0,function*(){this.status=yield this.netcheck(),this.handleCalback()}),this.setConfig(e),this.status=void 0!==s.defaultStatus?s.defaultStatus:this.navigatorOnlineStatus,[this.netchecksource]=this.cdnSources,this.callbacks=[],!this.autoRun)return;this.init()}static create(e){return new p(e)}static getInstance(e){return p.instance||(p.instance=p.create(e)),p.instance}setConfig(e){let{cdnSources:t=this.cdnSources,ignoreDefaultSources:n=s.ignoreDefaultSources,autoRun:r=this.autoRun,duration:i=this.duration}=e;Array.isArray(t)&&(n?this.cdnSources=t:this.cdnSources=this.cdnSources.concat(t)),this.autoRun=!!r,Number.isInteger(i)&&(this.duration=i)}getVersion(){return p.version}init(){return c(this,void 0,void 0,function*(){let e=yield this.preNetCheck(),t=this.status!==e;this.status=e,t&&this.handleCalback(),this.bindVisibility(),this.bindNetStatus(),this.startCheck()})}get isOnline(){return!window.__offlinetest&&this.status===i.ON_LINE}changeEnd(e){this.callbacks.push(e)}extendCallbacks(e){this.callbacks=this.callbacks.concat(e.slice())}getCallbacks(){return this.callbacks}remove(e){let t=this.callbacks.slice(0,this.callbacks.length);for(let n=0;n<t.length;n++)t[n]===e&&(t.splice(n,1),this.callbacks=t)}handleCalback(){this.callbacks.forEach(e=>{e(this.status)})}destory(){window.mqq&&o.default.isAndroid&&(o.default.isTencentDocsApp||o.default.isTimOrQQ)&&!o.default.isQQMiniProgram?window.mqq.removeEventListener("qbrowserVisibilityChange",this.handleVisibility):document.removeEventListener(r,this.handleVisibility),this.pause(),window.removeEventListener(i.ON_LINE,this.handleNetstatus),window.removeEventListener(i.OFF_LINE,this.handleNetstatus),this.counter=0,this.preCheckOnlineStatus=!1,this.duration=d}bindNetStatus(){window.addEventListener(i.ON_LINE,this.handleNetstatus),window.addEventListener(i.OFF_LINE,this.handleNetstatus)}bindVisibility(){window.mqq&&o.default.isAndroid&&(o.default.isTencentDocsApp||o.default.isTimOrQQ)&&!o.default.isQQMiniProgram?window.mqq.addEventListener("qbrowserVisibilityChange",this.handleVisibility):document.addEventListener(r,this.handleVisibility)}pause(){clearInterval(this.Timer),this.Timer=null}startCheck(){this.Timer=window.setInterval(()=>c(this,void 0,void 0,function*(){yield this.polling()}),this.duration)}polling(){return c(this,void 0,void 0,function*(){this.preCheckOnlineStatus?this.status=yield this.netcheck():this.status=this.navigatorOnlineStatus,this.counter>=l?(yield this.preNetCheck(),this.counter=0):this.counter+=1,this.handleCalback()})}get navigatorOnlineStatus(){return window.navigator.onLine?i.ON_LINE:i.OFF_LINE}preNetCheck(){return c(this,void 0,void 0,function*(){return new Promise(e=>{let t=this.cdnSources.map(e=>this.sourceCheck(e));(0,u.W)(t).then(t=>{this.preCheckOnlineStatus=!0,this.netchecksource=t,e(i.ON_LINE)}).catch(()=>{this.preCheckOnlineStatus=!1,e(i.OFF_LINE)})})})}sourceCheck(e){return c(this,void 0,void 0,function*(){if(0===e.indexOf(`${window.location.protocol}//${window.location.hostname}`))return this.xhrSourceCheck(e);let t=new Image;return new Promise((n,r)=>{t.onload=()=>{n(e)},t.onerror=()=>{r(`[image] ${e} load fail`)},t.src=`${e}?t=${Date.now()}`})})}xhrSourceCheck(e){return c(this,void 0,void 0,function*(){return new Promise((t,n)=>{let r=new XMLHttpRequest;r.open("GET",`${e}?t=${Date.now()}`,!0),r.onreadystatechange=()=>{4===r.readyState&&(clearTimeout(i),200===r.status?t(e):n(`[xhr] ${e} load fail`))};let i=setTimeout(()=>{r.abort(),n(`[xhr] ${e} load timeout`)},6e3);r.send()})})}netcheck(){return c(this,void 0,void 0,function*(){return this.sourceCheck(this.netchecksource).then(()=>i.ON_LINE).catch(()=>i.OFF_LINE)})}}p.version=s.version},112230:function(e,t,n){"use strict";n.d(t,{ak:function(){return w}}),function(e){e.INIT="openapi_init"}(r||(r={}));var r,i,o="openApi",a="scope.file.modifiable",s={fcbd12e670db451faf79ba72a0c70f5e:["registerMentionCallbacks","removeMentionCallbacks","insertMention","cancelInsertMention"],b367ba8923dd41f28af142ddfcdcfd6a:["registerMentionCallbacks","removeMentionCallbacks","insertMention","cancelInsertMention"],"https://docs.qq.com":["on:openLink","off:openLink","transferToPDF","transferToImage","transferToWord","transferToExcel","transferToPPT","showSearchReplace","setFeatureConfig","playPresentation","registerMentionCallbacks","removeMentionCallbacks","insertMention","cancelInsertMention","expandMobileOptionsMenu","onDrivePermissionChange","showOutline","setScreenLayout","getScreenLayout"]},u=["https://fanbook.mobi","https://docs.fanbook.cn","https://docs.qq.com"];!function(e){e[e.SCROLL=1]="SCROLL",e[e.PAGED=3]="PAGED"}(i||(i={}));var c=function(e,t){return(c=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function l(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function d(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function h(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var v,y="https://docs.qq.com",b="open-docs-sdk-callback-id=",_="OpenAPI";!function(e){e.CLIENT_API_READY="ClientAPIReady",e.EXECUTE_CALLBACK="ExecuteCallBack",e.CALL_FUNCTION="CallFunction",e.CALL_MQQ="CallMqq"}(v||(v={}));var C=function(){function e(e){var t=this;this.docsIframe=e,this.callbackMap=new Map,this.isClientAPIReady=!1,this.receiveMessage=function(e){var n,r,i,o,a,s,u,c,l=e.origin,d=e.data,f=e.source;if(l===y&&f&&f===(null==(n=t.docsIframe)?void 0:n.contentWindow)&&d.channel===_)if(d.type!==v.CLIENT_API_READY)if(d.type!==v.EXECUTE_CALLBACK){if(d.type===v.CALL_MQQ){if("ui"===(null==(o=d.params)?void 0:o[0])&&"setTitleButtons"===(null==(a=d.params)?void 0:a[1]))return;null==(u=null==(s=window.mqq)?void 0:s[d.functionName])||u.call.apply(u,m([s],g(t.parseFunctionParams(null!=(c=d.params)?c:[])),!1))}}else null==(r=t.callbackMap.get(d.callbackId))||r.apply(void 0,m([],g(null!=(i=d.params)?i:[]),!1));else t.handleClientAPIReady()}}return e.generateCallbackId=function(){for(var e="",t=0;t<8;t+=1)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return e},e.prototype.listenMessage=function(){window.addEventListener("message",this.receiveMessage)},e.prototype.callFunction=function(e,t){this.postMessage({channel:_,type:v.CALL_FUNCTION,functionName:e,params:this.formatFunctionParams(t)})},e.prototype.executeAfterClientAPIReady=function(e){this.clientAPIReadyCallback=e,this.isClientAPIReady&&e()},e.prototype.postMessage=function(e,t){var n,r;void 0===t&&(t=y),null==(r=null==(n=this.docsIframe)?void 0:n.contentWindow)||r.postMessage(e,t)},e.prototype.formatFunctionParams=function(e){var t=this;if(Array.isArray(e))return e.map(function(e){return t.formatFunctionParams(e)});if("function"==typeof e){var n=this.registerCallback(e);return"".concat(b).concat(n)}return e instanceof Error?Object.fromEntries(["name","message","stack","code"].filter(function(t){return void 0!==e[t]}).map(function(t){return[t,e[t]]})):"[object Object]"===Object.prototype.toString.call(e)?Object.fromEntries(Object.entries(e).map(function(e){var n=g(e,2),r=n[0],i=n[1];return[r,t.formatFunctionParams(i)]})):e},e.prototype.parseFunctionParams=function(e){var t=this;if(Array.isArray(e))return e.map(function(e){return t.parseFunctionParams(e)});if("string"==typeof e&&e.startsWith(b)){var n=e.slice(26);if(this.callbackMap.has(n))return this.callbackMap.get(n);var r=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.postMessage({channel:_,type:v.EXECUTE_CALLBACK,callbackId:n,params:t.formatFunctionParams(e)})};return this.callbackMap.set(n,r),r}return"[object Object]"===Object.prototype.toString.call(e)?Object.fromEntries(Object.entries(e).map(function(e){var n=g(e,2),r=n[0],i=n[1];return[r,t.parseFunctionParams(i)]})):e},e.prototype.registerCallback=function(t){try{for(var n,r,i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.callbackMap),o=i.next();!o.done;o=i.next()){var a=g(o.value,2),s=a[0];if(a[1]===t)return s}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}var u=e.generateCallbackId();return this.callbackMap.set(u,t),u},e.prototype.handleClientAPIReady=function(){var e;this.isClientAPIReady=!0,null==(e=this.clientAPIReadyCallback)||e.call(this)},e}(),I=function(){function e(e){var t=this;this.injectedAPIMethods=[],this.configure=function(e,n,r,i){var o=function(e,n){e&&t.injectAPIMethods(n),null==i||i(e,n)};t.messageHandler.executeAfterClientAPIReady(function(){t.messageHandler.callFunction("configure",[e,n,r,o])})},this.messageHandler=new C(e),this.messageHandler.listenMessage()}return e.prototype.injectAPIMethods=function(e){var t=this,n={},r={};e.forEach(function(e){if(e.includes(":")){var i=g(e.split(":"),2),o=i[0],a=i[1];r[o]?r[o].push(a):r[o]=[a]}else n[e]={configurable:!0,value:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.messageHandler.callFunction(e,n)}}}),Object.entries(r).forEach(function(e){var r=g(e,2),i=r[0],o=r[1];n[i]={configurable:!0,value:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!o.some(function(t){return t===e[0]}))throw Error("Not allowed to call `".concat(i,"` with params: ").concat(e.join(", ")));t.messageHandler.callFunction(i,e)}}}),this.injectedAPIMethods=Object.keys(n),Object.defineProperties(this,n)},e.prototype.clearAPIMethods=function(){var e=this;this.injectedAPIMethods.forEach(function(t){delete e[t]}),this.injectedAPIMethods=[]},e}(),E=["invoke","invokeClient","invokeSchema"],w=function(e){function t(t){var n=e.call(this)||this;return n.clientAPI=t,n.receiveMessage=function(e){var t,r,i,o,a,s=e.origin,c=e.data;u.includes(s)&&c.channel===_&&(n.parentOrigin=s,c.type!==v.CALL_FUNCTION?c.type===v.EXECUTE_CALLBACK&&(null==(o=n.callbackMap.get(c.callbackId))||o.apply(void 0,h([],p(null!=(a=c.params)?a:[]),!1))):null==(r=null==(t=n.openAPIInstance)?void 0:t[c.functionName])||r.call.apply(r,h([t],p(n.parseFunctionParams(null!=(i=c.params)?i:[])),!1)))},n}return l(t,e),t.prototype.configure=function(e){this.openAPIInstance=this.injectNamespace(e,o),this.injectConfigureMethod(this.openAPIInstance),this.injectConnectMethod(this.openAPIInstance),this.openAPIReady()},t.prototype.postMessage=function(e,t){var n;void 0===t&&(t=null!=(n=this.parentOrigin)?n:""),window.parent.postMessage(e,t)},t.prototype.openAPIReady=function(){document.body.dispatchEvent(new CustomEvent(r.INIT,{bubbles:!0})),this.isInIframe()&&(window.addEventListener("message",this.receiveMessage),this.postMessage({channel:_,type:v.CLIENT_API_READY},"*"))},t.prototype.injectNamespace=function(e,t){var n={};return Object.defineProperty(e,t,{value:n,configurable:!0}),n},t.prototype.injectConfigureMethod=function(e){var t=this;Object.defineProperties(e,{configure:{value:function(n,r,i,o){return d(t,void 0,void 0,function(){var t=this;return f(this,function(a){return this.verifyUserToken(n,r,i).then(function(){var r=s[n]||[];t.injectAPIMethods(e,r),null==o||o(!0,r)}).catch(function(e){null==o||o(!1,e)}),[2]})})}}})},t.prototype.injectConnectMethod=function(e){var t=this;Object.defineProperties(e,{connect:{value:function(n){return d(t,void 0,void 0,function(){var t,r;return f(this,function(i){return this.parentOrigin!==window.location.origin?(t=Error("connect \u4EC5\u652F\u6301\u540C\u57DF\u8C03\u7528"),null==n||n(t)):(this.proxyMqq(),r=s[this.parentOrigin]||[],this.injectAPIMethods(e,r),null==n||n(null,{allowedMethods:r})),[2]})})}}})},t.prototype.injectAPIMethods=function(e,t){var n=this,r={},i={};t.forEach(function(e){if(e.includes(":")){var t=p(e.split(":"),2),o=t[0],a=t[1];i[o]?i[o].push(a):i[o]=[a]}else r[e]={configurable:!0,value:function(){for(var t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];(t=n.clientAPI)[e].apply(t,h([],p(r),!1))}}}),Object.entries(i).forEach(function(e){var t=p(e,2),i=t[0],o=t[1];r[i]={configurable:!0,value:function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(!o.some(function(e){return e===t[0]}))throw Error("Not allowed to call `".concat(i,"` with params: ").concat(t.join(", ")));(e=n.clientAPI)[i].apply(e,h([],p(t),!1))}}}),Object.defineProperties(e,r)},t.prototype.proxyMqq=function(){var e=this;E.forEach(function(t){var n;(null==(n=window.mqq)?void 0:n[t])?Object.defineProperty(window.mqq,t,{value:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.postMessage({channel:_,type:v.CALL_MQQ,functionName:t,params:e.formatFunctionParams(n)},window.location.origin)},writable:!1}):console.error("mqq \u6CA1\u6709\u65B9\u6CD5 ".concat(t))})},t.prototype.verifyUserToken=function(e,t,n){return d(this,void 0,void 0,function(){var r,i,o,s;return f(this,function(u){switch(u.label){case 0:return[4,fetch("https://docs.qq.com/oauth/v2/test?access_token=".concat(n))];case 1:return[4,u.sent().json()];case 2:if(i=(r=u.sent()).client_id,o=r.user_id,s=r.scope,e===i&&t===o&&s.split(",").includes(a))return[2];throw Error("invalid user token")}})})},t.prototype.isInIframe=function(){return window.self!==window.parent},t}(C);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}l(t,e),t.prototype.connect=function(e){var t=this,n=function(n,r){var i;n||(t.clearAPIMethods(),t.injectAPIMethods(null!=(i=null==r?void 0:r.allowedMethods)?i:[])),null==e||e(n,r)};this.messageHandler.executeAfterClientAPIReady(function(){t.messageHandler.callFunction("connect",[n])})}}(I)},573483:function(e,t,n){"use strict";n.d(t,{x4:function(){return m},yr:function(){return G},he:function(){return f},oo:function(){return ee},XT:function(){return r},Rs:function(){return o},RR:function(){return M},E1:function(){return i},Iv:function(){return l},hj:function(){return C},GU:function(){return h},r8:function(){return d},CT:function(){return F},eM:function(){return Q},en:function(){return q},ir:function(){return J},ay:function(){return a},ZP:function(){return er},mt:function(){return N},FG:function(){return T},Mr:function(){return K}}),function(e){e[e.ClientDB=0]="ClientDB",e[e.IndexDB=1]="IndexDB"}(r||(r={})),function(e){e[e.IN=0]="IN",e[e.LOWER_BOUND=1]="LOWER_BOUND",e[e.UPPER_BOUND=2]="UPPER_BOUND",e[e.BOUND=3]="BOUND",e[e.ONLY=4]="ONLY",e[e.NOT_IN=5]="NOT_IN"}(i||(i={})),function(e){e[e.INCREASE=0]="INCREASE",e[e.DECREASE=1]="DECREASE",e[e.INCREASE_BY_TEXT=2]="INCREASE_BY_TEXT",e[e.DECREASE_BY_TEXT=3]="DECREASE_BY_TEXT"}(o||(o={}));var r,i,o,a,s,u,c,l,d,f=function(){function e(){this._conditions=[],this._limitCount=Number.MAX_VALUE,this._offsetCount=0,this._orders=[]}return e.newInstance=function(){return new e},e.prototype.addCondition=function(e,t,n){var r=n;if(t===i.LOWER_BOUND){var o=n;o.open=void 0===o.open||o.open,r=o}else if(t===i.UPPER_BOUND){var o=n;o.open=void 0===o.open||o.open,r=o}else if(t===i.BOUND){var o=n;o.lowerOpen=void 0===o.lowerOpen||o.lowerOpen,o.upperOpen=void 0===o.upperOpen||o.upperOpen,r=o}return this._conditions.push({type:t,column:e,value:r}),this},e.prototype.index=function(e){this._index=e},e.prototype.getIndexKey=function(){return this._index},e.prototype.limit=function(e,t){if(void 0===t?this._limitCount=e:(this._limitCount=t,this._offsetCount=e),this._limitCount<=0)throw Error("limit size must be opposite value.");return this},e.prototype.offset=function(e){if(e<0)throw Error("offset size must be opposite value or zero.");return this._offsetCount=e,this},e.prototype.orderby=function(e,t){return this._orders.push({key:e,type:t}),this},e.prototype.hasOrder=function(){return this._orders.length>0},e.prototype.getOrders=function(){return this._orders},e.prototype.hasIndex=function(){return void 0!==this._index},e.prototype.limitSize=function(){return this._limitCount},e.prototype.offsetCount=function(){return this._offsetCount},Object.defineProperty(e.prototype,"conditions",{get:function(){return this._conditions},enumerable:!1,configurable:!0}),e}();window.QueryCondition=f,window.QUERY_CONDITION_TYPE=i;var p=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(e){function t(t){var n=e.call(this,t)||this;return n.errorType="BaseError",n}return p(t,e),t.copyFrom=function(e){var n=new t(e.message);return n.name=e.name,n.stack=e.stack,n},t}(Error),g=h,m=function(){return function(e,t){void 0!==e&&(void 0===e.errorType?this.error=g.copyFrom(e):this.error=e),void 0!==t&&(this.data=t)}}(),v=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e.NO_RESULT_ERROR="noResultError"}(a||(a={}));var y=function(e){function t(t,n){var r=e.call(this,n)||this;return r.name="DataError",r.errorType=t,r}return v(t,e),t}(g),b=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},_=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},C=function(){function e(e){this._canAutoResume=!0,this._dbName=e.databaseName,this._dbVersion=e.version,this._tables=e.tables}return e.prototype.setAutoResume=function(e){void 0===e&&(e=!0),this._canAutoResume=e},e.prototype.disConnect=function(e){return void 0===e&&(e=!0),b(this,void 0,void 0,function(){return _(this,function(e){return[2,Promise.resolve(new m(void 0,!0))]})})},e}(),I=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},E=window,w=function(){function e(){}return e.debug=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{E.log?(t=E.log).debug.apply(t,n):console.debug.apply(console,n)}catch(t){e.error("\u65E5\u5FD7\u53D1\u751F\u9519\u8BEF","debug",n)}},e.log=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{E.log?(t=E.log).info.apply(t,n):console.log.apply(console,n)}catch(t){e.error("\u65E5\u5FD7\u53D1\u751F\u9519\u8BEF","log",n)}},e.warn=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{E.log?(t=E.log).warn.apply(t,n):console.warn.apply(console,n)}catch(t){e.error("\u65E5\u5FD7\u53D1\u751F\u9519\u8BEF","warn",n)}},e.error=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{E.log?(e=E.log).error.apply(e,t):console.error.apply(console,t)}catch(e){console.error("\u65E5\u5FD7\u53D1\u751F\u9519\u8BEF","error",t)}},e.time=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r={time:Date.now(),options:t};this.sTimeLableMap.set(e,r)},e.timeEnd=function(t){var n=Date.now(),r=e.sTimeLableMap.get(t);if(void 0!==r){var i=n-r.time,o="";r.options&&3===r.options.length&&"clientDatabaseRequest"===r.options[1]&&(o=r.options[2]),e.log.apply(e,I(["label: "+t+": "+i+"ms."],r.options)),e.speedReport(i,o),this.sTimeLableMap.delete(t)}},e.speedReport=function(e,t){t&&E.dbjsApiSpeedReport&&E.dbjsApiSpeedReport(e,t)},e.sTimeLableMap=new Map,e}(),S=w,D=function(){function e(){this.canUseNativeAndroid=window.mqq&&window.mqq.android&&window._mqqWebViewJSInterface&&window._mqqWebViewJSInterface.invoke,this.currentSeqId=0,this.reqCallbacks=new Map}return e.prototype.JSApiCallback=function(e){var t=this.reqCallbacks.get(e.callbackId);if(t){var n=t.callback,r=t.command,i=t.startTime;n&&(S.debug("callback invokeNative-"+e.callbackId+"-"+r+"-"+(Date.now()-i)+"ms",this.canUseNativeAndroid,"response="+JSON.stringify(e)),n(e)),this.reqCallbacks.delete(e.callbackId)}else S.warn("callback invokeNative-"+e.callbackId+" reqCallback not found")},e.prototype.createReqSeq=function(){return this.currentSeqId++},e.prototype.invokeNative=function(e,t,n,r){var i=this.createReqSeq(),o=n.command;this.reqCallbacks.set(i,{callback:r,command:o,startTime:Date.now()}),S.debug("start call invokeNative-"+i+"-"+o,e,t,o,this.canUseNativeAndroid,"request="+JSON.stringify(n)),n.callbackId=i,this.canUseNativeAndroid?this.invokeNativeAndroid(e,t,n):window.mqq&&window.mqq.invoke(e,t,n)},e.prototype.invokeNativeAndroid=function(e,t,n){var r="jsbridge://"+encodeURIComponent(e)+"/"+encodeURIComponent(t);n&&(r+="?p="+encodeURIComponent(JSON.stringify(n))),window._mqqWebViewJSInterface.invoke(r)},e.prototype.defaultOfflineCodeVersion=function(e,t){S.debug("defaultOfflineCodeVersion-"+e),window.mqq&&window.mqq.invoke("docx","defaultOfflineCodeVersion",{type:e},function(n){S.debug("defaultOfflineCodeVersion-"+e),t&&t(n)})},e}(),M=window.jsApi;function T(e){return e.errorType===a.NO_RESULT_ERROR}function A(e,t){return Array.isArray(e)?e.map(function(e){return new t.prototype.constructor(e)}):new t.prototype.constructor(e)}function x(e,t){return function(n,r,i){var o=i.value;i.value=function(){var n=o.apply(this,arguments);return arguments[0]===t?n.then(function(t){return t.error||(t.data=A(t.data,e)),t}):n}}}function N(e,t,n){return(void 0===n&&(n=!0),n)?e<t:e<=t}!window.jsApi&&(M=new D,window.jsApi=M,window.JSApiCallback||(window.JSApiCallback=M.JSApiCallback.bind(M))),function(e){e[e.EXCEL=1]="EXCEL",e[e.WORD=0]="WORD"}(s||(s={})),function(e){e.NEW="new",e.LOCAL="local",e.DELETED="deleted",e.NORMAL="normal"}(u||(u={})),function(e){e.INIT="init",e.DOCUMENT="document",e.WORKBOOK="workbook",e.CHUNK="chunk",e.ACCEPTED="accepted",e.MISS_CHANGE="misschange",e.NEW_CHANGE="newchange",e.COMMITING="commiting",e.WATTING="watting",e.QUEUE="queue"}(c||(c={}));var O=function(){function e(t){this.chunkId=0,this.default=!1,t.taskId||(t.taskId=e.createMessageSeq()),t.key||(t.chunkId=t.chunkId||0,t.type===c.INIT?t.key=t.globalPadId+"_"+t.subSheetId+"_"+t.uid:t.type===c.DOCUMENT?t.key=t.globalPadId+"_"+t.uid+"_version_"+t.version:t.type===c.WORKBOOK?t.key=t.globalPadId+"_"+t.subSheetId+"_"+t.uid+"_version_"+t.version:t.type===c.CHUNK?t.key=t.globalPadId+"_"+t.subSheetId+"_"+t.chunkId+"_"+t.uid+"_version_"+t.version:t.key=t.globalPadId+"_"+t.subSheetId+"_"+t.uid+"_taskId_"+t.taskId),t.default=t.default||!1,this.key=t.key,this.uid=t.uid,this.globalPadId=t.globalPadId,this.secretId=t.secretId,this.subSheetId=t.subSheetId,this.chunkId=t.chunkId,this.type=t.type,this.docType=t.docType,this.padStatus=t.padStatus,this.taskId=t.taskId,this.version=t.version,this.data=t.data||t._data,this.default=t.default,this.createTime=t.createTime,this.dver=t.dver}return e.createMessageSeq=function(){return Math.ceil(0x80000000*Math.random())},e.prototype.disableConvert=function(){return this.docType===s.WORD&&"BB08J2"!==this.subSheetId},Object.defineProperty(e.prototype,"data",{get:function(){if("string"==typeof this._data&&!this.disableConvert()){var e=this._data;try{e=JSON.parse(this._data)}catch(e){w.error(e)}return e}return this._data},set:function(e){"string"!=typeof e?this._data=JSON.stringify(e):this._data=e},enumerable:!1,configurable:!0}),e}(),k=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),R=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},L=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},j=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},P=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},B="client_data_base_performance",F=function(e){function t(t){return e.call(this,t)||this}return k(t,e),t.isValidResponse=function(e){return"object"==typeof e},t.prototype.init=function(){var e=this;return new Promise(function(t,n){var r=Date.now(),i={command:"init",table:e._tables,dbName:e._dbName},o=function(n){n.err_msg||n.err_code?t(new m(Error(n.err_msg||n.err_code))):t(new m(void 0,void 0)),e.reportBeacon(B,r,i,n)};e.clientDatabaseRequest(i,o)})},t.prototype.set=function(e,t){var n=this;return new Promise(function(r,i){var o=Date.now(),a={command:"set",tableName:e,data:t,dbName:n._dbName},s=function(e){e.err_msg||e.err_code?r(new m(Error(e.err_msg||e.err_code))):r(new m(void 0,e.result)),n.reportBeacon(B,o,a,e)};n.clientDatabaseRequest(a,s)})},t.prototype.update=function(e,t){var n=this;return new Promise(function(r,i){var o=Date.now(),a={command:"update",tableName:e,data:t,dbName:n._dbName},s=function(e){e.err_msg||e.err_code?r(new m(Error(e.err_msg||e.err_code))):r(new m(void 0,e.result)),n.reportBeacon(B,o,a,e)};n.clientDatabaseRequest(a,s)})},t.prototype.updateField=function(e,t,n){var r=this;return new Promise(function(i,o){var a=Date.now(),s={command:"updateField",tableName:e,where:t,toBeUpdated:n,dbName:r._dbName},u=function(e){e.err_msg||e.err_code?i(new m(Error(e.err_msg||e.err_code))):i(new m(void 0,e.result)),r.reportBeacon(B,a,s,e)};r.clientDatabaseRequest(s,u)})},t.prototype.updateMultiTableData=function(e){var t=this;return new Promise(function(n,r){var i=Date.now(),o={command:"updateMultiTableData",multiData:e,dbName:t._dbName},a=function(e){e.err_msg||e.err_code?n(new m(Error(e.err_msg||e.err_code))):n(new m(void 0,e.result)),t.reportBeacon(B,i,o,e)};t.clientDatabaseRequest(o,a)})},t.prototype.delete=function(e,t){var n=this;return new Promise(function(r,i){var o=Date.now(),a={command:"delete",tableName:e,where:t,dbName:n._dbName},s=function(e){e.err_msg||e.err_code?r(new m(Error(e.err_msg||e.err_code))):r(new m(void 0,e.result)),n.reportBeacon(B,o,a,e)};n.clientDatabaseRequest(a,s)})},t.prototype.deleteAndWrite=function(e,t,n){var r=this;return new Promise(function(i,o){var a=Date.now(),s={command:"deleteAndWrite",tableName:e,where:t,newData:n,dbName:r._dbName},u=function(e){e.err_msg||e.err_code?i(new m(Error(e.err_msg||e.err_code))):i(new m(void 0,e.result)),r.reportBeacon(B,a,s,e)};r.clientDatabaseRequest(s,u)})},t.prototype.get=function(e,t){return j(this,void 0,void 0,function(){var n=this;return P(this,function(r){return[2,new Promise(function(r,i){var o=Date.now(),s={command:"get",tableName:e,where:t,dbName:n._dbName},u=function(e){e.err_msg||e.err_code?r(new m(Error(e.err_msg||e.err_code))):e.result?r(new m(void 0,e.result)):r(new m(new y(a.NO_RESULT_ERROR,"\u6CA1\u6709\u627E\u5230\u7B26\u5408\u6761\u4EF6\u7684\u5185\u5BB9"))),n.reportBeacon(B,o,s,e)};n.clientDatabaseRequest(s,u)})]})})},t.prototype.getAll=function(e,t){var n=this;return new Promise(function(r,i){var o=Date.now(),a={command:"getAll",tableName:e,where:t,dbName:n._dbName},s=function(e){e.err_msg||e.err_code?r(new m(Error(e.err_msg||e.err_code))):r(new m(void 0,e.result||[])),n.reportBeacon(B,o,a,e)};n.clientDatabaseRequest(a,s)})},t.prototype.reportBeacon=function(e,t,n,r){try{window.beaconHandler&&window.beaconHandler.onUserAction(e,{tableName:n.tableName||"",command:n.command||"",dbName:n.dbName||"",error_msg:r.err_msg||"",consume_time:Date.now()-t,event_result:r.err_code||0,cost:Date.now()-t,resultCode:r.err_code||0})}catch(e){w.error(e)}},t.prototype.clientDatabaseRequest=function(e,t){var n;(null==(n=window.tdocs)?void 0:n.clientDatabaseRequest)?window.tdocs.clientDatabaseRequest(e).then(t):M.invokeNative("docx","clientDatabaseRequest",e,t)},R([x(O,"OfflineData"),x(O,"DocumentData"),L("design:type",Function),L("design:paramtypes",[String,f]),L("design:returntype",Promise)],t.prototype,"get",null),R([x(O,"OfflineData"),x(O,"DocumentData"),L("design:type",Function),L("design:paramtypes",[String,f]),L("design:returntype",void 0)],t.prototype,"getAll",null),t}(C),U=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e.NOT_SUPPORT_INDEXEDDB="notSupportIndexedDB",e.OPEN_FAIL="openFail",e.TRANSACTION_FAIL="transactionFail",e.DB_BLOCKED="DBBlocked",e.CHECK_FAIL="checkFail",e.REQUEST_ERROR="requestError"}(l||(l={}));var G=function(e){function t(t,n){var r=e.call(this,n)||this;return r.name="DBError",r.errorType=t,r}return U(t,e),t}(g),W=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Z=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},V=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},H=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},z=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Y=2,K=function(e){function t(t){var n=e.call(this,t)||this;return n.openErrorCount=0,n}return W(t,e),t.prototype.init=function(e){return H(this,void 0,void 0,function(){var t=this;return z(this,function(n){return[2,new Promise(function(n,r){return H(t,void 0,void 0,function(){var t,r,i,o;return z(this,function(a){switch(a.label){case 0:if(S.time("IndexedDatabaseInit"),t=this,t._indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,!t._indexedDB)return S.error("IndexedDatabase","NOT_SUPPORT_INDEXEDDB"),t.database=null,n(new m(r=new G(l.NOT_SUPPORT_INDEXEDDB))),[2];if(!e)return[3,2];return[4,this.deleteDB()];case 1:(i=a.sent()).error&&S.error(i.error),a.label=2;case 2:try{o=t._indexedDB.open(t._dbName,t._dbVersion)}catch(e){return S.error("IndexedDatabase","open() error",e),t.database=null,n(new m(r=new G(l.OPEN_FAIL,e.name||e.message||""))),[2]}return o.onerror=function(e){return H(this,void 0,void 0,function(){var i,a,s;return z(this,function(u){switch(u.label){case 0:if(t.openErrorCount++,o.error&&"InvalidStateError"===o.error.name&&e.preventDefault(),S.error("IndexedDatabase","init() onerror()",e),t.database=null,!(t.openErrorCount<Y&&e&&e.target&&e.target.error&&"VersionError"===e.target.error.name))return[3,2];return i=t._dbVersion+1,a=e.target.error.message,(s=/\((\d+)\).*\((\d+)\)/.exec(a))&&(i=Number(s[2])),t._dbVersion=i,[4,t.init()];case 1:return n(u.sent()),[2];case 2:return n(new m(r=new G(l.REQUEST_ERROR,e))),[2]}})})},o.onsuccess=function(e){S.timeEnd("IndexedDatabaseInit"),t.database=o.result,t.database.onversionchange=function(){window.dispatchEvent(new Event("OnTencentDocsDBVersionChanged"))},n(new m(void 0,o.result))},o.onblocked=function(e){S.error("IndexedDatabase","init() onblocked()",e),t.database=null,n(new m(r=new G(l.DB_BLOCKED),e))},o.onupgradeneeded=function(e){S.warn("IndexedDatabase","init() onupgradeneeded()",e);var n=e.target.result;n.objectStoreNames&&t._tables.forEach(function(e){if(!n.objectStoreNames.contains(e.tableName)){var t;t=e.keyName?n.createObjectStore(e.tableName,{keyPath:e.keyName}):n.createObjectStore(e.tableName,{autoIncrement:!0}),e.indexs&&e.indexs.forEach(function(e){t.createIndex(e,e,{unique:!1})})}})},[2]}})})})]})})},t.prototype.deleteDB=function(){return H(this,void 0,void 0,function(){var e=this;return z(this,function(t){return[2,new Promise(function(t){var n,r=e._indexedDB.deleteDatabase(e._dbName);r.onsuccess=function(){t(new m(n,!0))},r.onerror=function(e){t(new m(n=new G(l.REQUEST_ERROR,e)))}})]})})},t.prototype.bindCommonEvent=function(e,t,n,r){t.onabort=function(){S.error("IndexedDatabase","bindCommonEvent() onabort","TransactionAbortError");var e=Error("TransactionAbortError");window.dispatchEvent(new Event("OnDBTransactionAbort")),n(new m(e))},t.onerror=function(){S.error("IndexedDatabase","bindCommonEvent() onerror","UnKnownTransactionError");var e=Error("UnKnownTransactionError");window.dispatchEvent(new Event("OnDBTransactionError")),n(new m(e))}},t.prototype.getDBConnection=function(e,t,n,r,o){try{if(u=(s=this.database.transaction([e],n)).objectStore(e),t&&t.hasIndex()){var a,s,u,c=t.getIndexKey(),l=u.index(c),d=void 0,f=-1;if(t)for(var p=0;p<t.conditions.length;p++){var h=t.conditions[p];if(h.column===c){switch(h.type){case i.ONLY:d=IDBKeyRange.only(h.value),f=p;break;case i.LOWER_BOUND:var g=h.value;d=IDBKeyRange.lowerBound(g.lower,g.open),f=p;break;case i.UPPER_BOUND:var v=h.value;d=IDBKeyRange.upperBound(v.upper,v.open),f=p;break;case i.BOUND:var y=h.value;d=IDBKeyRange.bound(y.lower,y.upper,y.lowerOpen,y.upperOpen),f=p}if(-1!==f){t.conditions.splice(f,1);break}}}a=l.openCursor(d)}else a=u.openCursor();this.bindCommonEvent(a,s,r,1e4)}catch(e){return S.error("IndexedDatabase","getDBConnection() error",e),new m(e)}return S.debug("IndexedDatabase","getDBConnection() done."),new m(void 0,{request:a,transaction:s,objectStore:u})},t.prototype.set=function(e,t){return S.time("IndexedDatabaseSet",e,t),this.setOrUpdate("Set",e,t)},t.prototype.update=function(e,t){return S.time("IndexedDatabaseUpdate",e,t),this.setOrUpdate("Update",e,t)},t.prototype.setOrUpdate=function(e,t,n){return H(this,void 0,void 0,function(){var r=this;return z(this,function(i){return[2,new Promise(function(i,o){return H(r,void 0,void 0,function(){var r,a,s,u,c;return z(this,function(d){switch(d.label){case 0:return[4,this.checkAndOpenTable(t)];case 1:if(d.sent().error)return i(new m(r=new G(l.CHECK_FAIL))),[2];if((a=this.getDBConnection(t,void 0,"readwrite",i,o)).error)return i(new m(a.error)),[2];if(s=a.data.objectStore,u=a.data.transaction,"set"===e)c=s.add(n);else try{c=s.put(n,n.__primaryKey)}catch(e){c=s.put(n)}return c.onerror=function(e){r=new G(l.REQUEST_ERROR,e)},u.oncomplete=function(){S.timeEnd("IndexedDatabase"+e),i(new m(r,!0))},[2]}})})})]})})},t.prototype.updateField=function(e,t,n){var r=this;return S.time("IndexedDatabaseUpdateField",e,t,n),new Promise(function(i,o){return H(r,void 0,void 0,function(){var r,a,s,u,c,d;return z(this,function(f){switch(f.label){case 0:return r=this,[4,this.checkAndOpenTable(e)];case 1:if(f.sent().error)return i(new m(a=new G(l.CHECK_FAIL))),[2];if((s=this.getDBConnection(e,t,"readwrite",i,o)).error)return i(new m(s.error)),[2];return u=s.data.request,c=s.data.transaction,u.onerror=function(e){a=new G(l.REQUEST_ERROR,e)},d=[],u.onsuccess=function(e){var i=e.target.result;if(i){var o=i.value;if(r.checkCondition(o,t)){var s=Object.assign(o,n);i.update(s).onerror=function(e){a=new G(l.REQUEST_ERROR,e)},d.push(s)}i.continue()}},c.oncomplete=function(){S.timeEnd("IndexedDatabaseUpdateField"),i(new m(a,d))},[2]}})})})},t.prototype.updateMultiTableData=function(e){var t=this;return S.time("IndexedDatabaseUpdateMultiTableData",e),new Promise(function(n,r){return H(t,void 0,void 0,function(){var t,r,i,o,a,s,u,c,d,f=this;return z(this,function(p){switch(p.label){case 0:r=0,i=e,p.label=1;case 1:if(!(r<i.length))return[3,4];return o=i[r],[4,this.checkAndOpenTable(o.tableName)];case 2:if(p.sent().error)return n(new m(t=new G(l.CHECK_FAIL))),[2];p.label=3;case 3:return r++,[3,1];case 4:a=e.map(function(e){return e.tableName});try{s=this.database.transaction(a,"readwrite"),u=e.length,c=0,d=0,e.forEach(function(e){var t,r=s.objectStore(e.tableName);try{t=r.put(e.data,e.data.__primaryKey)}catch(n){t=r.put(e.data)}t.onsuccess=function(e){c++},t.onerror=function(e){d++,S.error(e)},f.bindCommonEvent(t,s,n,1e4)}),s.oncomplete=function(){S.timeEnd("IndexedDatabaseUpdateMultiTableData"),d>0?(S.error("IndexedDatabaseUpdateMultiTableData","errorCount=",d),t=new G(l.REQUEST_ERROR),n(new m(t,{totalCount:u,successCount:c,errorCount:d}))):n(new m(void 0,{totalCount:u,successCount:c,errorCount:d}))}}catch(e){S.error("IndexedDatabase","updateMultiTableData() onError",e),n(new m(e))}return[2]}})})})},t.prototype.delete=function(e,t){var n=this;return S.time("IndexedDatabaseDelete",e,t),new Promise(function(r,i){return H(n,void 0,void 0,function(){var n,o,a,s,u,c;return z(this,function(d){switch(d.label){case 0:return n=this,[4,this.checkAndOpenTable(e)];case 1:if(d.sent().error)return r(new m(o=new G(l.CHECK_FAIL))),[2];if((a=this.getDBConnection(e,t,"readwrite",r,i)).error)return r(new m(a.error)),[2];return s=a.data.request,u=a.data.transaction,s.onerror=function(e){o=new G(l.REQUEST_ERROR,e)},c=[],s.onsuccess=function(e){var r=e.target.result;if(r){var i=r.value;n.checkCondition(i,t)&&(r.delete(),c.push(i)),r.continue()}},u.oncomplete=function(){S.timeEnd("IndexedDatabaseDelete"),r(new m(o,c))},[2]}})})})},t.prototype.deleteAndWrite=function(e,t,n){var r=this;return S.time("IndexedDatabaseDeleteAndWrite",e,t),new Promise(function(i,o){return H(r,void 0,void 0,function(){var r,a,s,u,c,d,f,p;return z(this,function(h){switch(h.label){case 0:return r=this,[4,this.checkAndOpenTable(e)];case 1:if(h.sent().error)return i(new m(a=new G(l.CHECK_FAIL))),[2];if((s=this.getDBConnection(e,t,"readwrite",i,o)).error)return i(new m(s.error)),[2];return u=s.data.request,c=s.data.objectStore,d=s.data.transaction,u.onerror=function(e){a=new G(l.REQUEST_ERROR,e)},f=0,p=0,u.onsuccess=function(e){var i=e.target.result;if(i){var o=i.value;r.checkCondition(o,t)&&(i.delete(),f++),i.continue()}else n.forEach(function(e){c.put(e).onsuccess=function(e){p++}})},d.oncomplete=function(){S.timeEnd("IndexedDatabaseDeleteAndWrite"),S.log("IndexedDatabaseDeleteAndWrite",f,p),i(new m(a,{deleteCount:f,writeCount:p}))},[2]}})})})},t.prototype.get=function(e,t){return H(this,void 0,void 0,function(){var n,r;return z(this,function(i){switch(i.label){case 0:return t.limit(1),[4,this.getAll(e,t)];case 1:if((n=i.sent()).error)return[2,new m(n.error)];if(0===(r=n.data).length)return[2,new m(new y(a.NO_RESULT_ERROR,"\u6CA1\u6709\u627E\u5230\u7B26\u5408\u6761\u4EF6\u7684\u5185\u5BB9"))];return[2,new m(void 0,r[0])]}})})},t.prototype.getAll=function(e,t){var n=this;return S.time("IndexedDatabaseGetAll",e,t),new Promise(function(r,i){return H(n,void 0,void 0,function(){var n,o,a,s,u,c;return z(this,function(d){switch(d.label){case 0:return n=this,[4,this.checkAndOpenTable(e)];case 1:if(d.sent().error)return r(new m(o=new G(l.CHECK_FAIL))),[2];if((a=this.getDBConnection(e,t,"readonly",r,i)).error)return r(new m(a.error)),[2];return s=a.data.request,u=a.data.transaction,s.onerror=function(e){o=new G(l.REQUEST_ERROR,e)},c=[],s.onsuccess=function(e){var r=e.target.result;if(r){var i=r.value;if(n.checkCondition(i,t)&&(i.__primaryKey=r.primaryKey,c.push(i)),!t.hasOrder()&&c.length>=t.limitSize()+t.offsetCount())return;r.continue()}},u.oncomplete=function(){c.length>0&&t.hasOrder()&&(c=n.sortResult(c,t.getOrders()));var e=t.offsetCount(),i=e+t.limitSize();c=c.slice(e,i),S.timeEnd("IndexedDatabaseGetAll"),r(new m(o,c))},[2]}})})})},t.prototype.sortResult=function(e,t){return t.reverse().forEach(function(t,n){e.sort(function(e,n){var r=0;switch(t.type){case o.INCREASE:r=e[t.key]>n[t.key]?1:e[t.key]===n[t.key]?0:-1;break;case o.DECREASE:r=e[t.key]>n[t.key]?-1:+(e[t.key]!==n[t.key]);break;case o.INCREASE_BY_TEXT:r=e[t.key].localeCompare(n[t.key]);break;case o.DECREASE_BY_TEXT:r=n[t.key].localeCompare(e[t.key])}return r})}),e},t.prototype.checkCondition=function(e,t){for(var n=!0,r=0;r<t.conditions.length;r++){var o=t.conditions[r];switch(o.type){case i.ONLY:e[o.column]!==o.value&&(n=!1);break;case i.LOWER_BOUND:var a=o.value;N(e[o.column],a.lower,!a.open)&&(n=!1);break;case i.UPPER_BOUND:var s=o.value;N(s.upper,e[o.column],!s.open)&&(n=!1);break;case i.IN:var u=o.value;-1===u.indexOf(e[o.column])&&(n=!1);break;case i.BOUND:var c=o.value;(N(e[o.column],c.lower,!c.lowerOpen)||N(c.upper,e[o.column],!c.upperOpen))&&(n=!1);break;case i.NOT_IN:var u=o.value;-1!==u.indexOf(e[o.column])&&(n=!1)}if(!n)break}return n},t.prototype.checkAndOpenTable=function(e){return H(this,void 0,void 0,function(){var t,n,r;return z(this,function(i){switch(i.label){case 0:if(i.trys.push([0,3,,4]),t=this,!(!t.database&&t._canAutoResume))return[3,2];return[4,this.init()];case 1:if((n=i.sent()).error)return S.error("IndexedDatabase","checkAndOpenTable()",e,n.error),[2,new m(new G(l.CHECK_FAIL,"database is not available."))];i.label=2;case 2:if(!t.database)return S.error("IndexedDatabase","checkAndOpenTable()",e,"database is not available."),[2,new m(new G(l.CHECK_FAIL,"database is not available."))];if(!t.database.objectStoreNames.contains(e))return S.error("IndexedDatabase","checkAndOpenTable()",e,"table "+e+" is not available."),[2,new m(new G(l.CHECK_FAIL,"table "+e+" is not available."))];return[2,new m(void 0,!0)];case 3:return r=i.sent(),S.error("IndexedDatabase","checkAndOpenTable()",e,"UnknownError"),[2,new m(r,!1)];case 4:return[2]}})})},t.prototype.setAutoResume=function(e){void 0===e&&(e=!0),this._canAutoResume=e},t.prototype.disConnect=function(e){return void 0===e&&(e=!0),H(this,void 0,void 0,function(){var t,n;return z(this,function(r){switch(r.label){case 0:if(r.trys.push([0,3,,4]),S.log("IndexedDatabase","disConnect()",e,this.database),this._canAutoResume=e,!(t=this.database))return[3,2];return[4,this.database.close()];case 1:t=r.sent(),r.label=2;case 2:return this.database=void 0,[2,Promise.resolve(new m(void 0,!0))];case 3:return n=r.sent(),S.error("IndexedDatabase","disConnect() Error.",n),[2,Promise.resolve(new m(void 0,!1))];case 4:return[2]}})})},t._uuid=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(),Z([x(O,"OfflineData"),x(O,"DocumentData"),V("design:type",Function),V("design:paramtypes",[String,f]),V("design:returntype",void 0)],t.prototype,"getAll",null),t}(C),Q="undefined"!=typeof localStorage&&"true"===localStorage.getItem("isOfflineModuleDebug");function q(e){"undefined"!=typeof localStorage&&(localStorage.setItem("isOfflineModuleDebug",String(e)),Q=e)}var X=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e.ILLEGAL_ARGUMENT="IllegalArgument"}(d||(d={}));var J=function(e){function t(t,n){var r=e.call(this,n)||this;return r.name="ArgumentError",r.errorType=t,r}return X(t,e),t}(g),$=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ee=function(e){function t(t,n,r){var i=e.call(this,r)||this;return i.name="HttpError",i.errorType="HttpError",i.statusCode=t,i.errorCode=n,i}return $(t,e),t}(g),et=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},en=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},er=function(){function e(e,t,n,i){void 0===n&&(n=r.IndexDB),void 0===i&&(i=1),n===r.ClientDB?this.database=new F({databaseName:e,version:i,tables:t}):this.database=new K({databaseName:e,version:i,tables:t})}return e.prototype.init=function(){return et(this,void 0,void 0,function(){var e;return en(this,function(t){switch(t.label){case 0:return[4,this.database.init(!1)];case 1:if((e=t.sent()).error)return[2,e];return[2,new m(void 0,!0)]}})})},e}()},140748:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}A={value:!0};var i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var d="Helvetica Neue, Helvetica, PingFang SC, Microsoft YaHei, Source Han Sans SC, Noto Sans CJK SC, WenQuanYi Micro Hei, sans-serif",f={bold:!1,italic:!1,fontFamily:d,fontSize:10,color:"rgba(0,0,0,1)",themeColor:"",strikethrough:!1,underline:!1},p=function(){this.__data__=[],this.size=0},h=function(e,t){return e===t||e!=e&&t!=t},g=function(e,t){for(var n=e.length;n--;)if(h(e[n][0],t))return n;return -1},m=Array.prototype.splice,v=function(e){var t=this.__data__,n=g(t,e);return!(n<0)&&(n==t.length-1?t.pop():m.call(t,n,1),--this.size,!0)},y=function(e){var t=this.__data__,n=g(t,e);return n<0?void 0:t[n][1]},b=function(e){return g(this.__data__,e)>-1},_=function(e,t){var n=this.__data__,r=g(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function C(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}C.prototype.clear=p,C.prototype.delete=v,C.prototype.get=y,C.prototype.has=b,C.prototype.set=_;var I=C,E=function(){this.__data__=new I,this.size=0},w=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},S=function(e){return this.__data__.get(e)},D=function(e){return this.__data__.has(e)},M="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function T(e,t){return e(t={exports:{}},t.exports),t.exports}var A,x,N="object"==typeof M&&M&&M.Object===Object&&M,O="object"==typeof self&&self&&self.Object===Object&&self,k=N||O||Function("return this")(),R=k.Symbol,L=Object.prototype,j=L.hasOwnProperty,P=L.toString,B=R?R.toStringTag:void 0,F=function(e){var t=j.call(e,B),n=e[B];try{e[B]=void 0;var r=!0}catch(e){}var i=P.call(e);return r&&(t?e[B]=n:delete e[B]),i},U=Object.prototype.toString,G=function(e){return U.call(e)},W=R?R.toStringTag:void 0,Z=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":W&&W in Object(e)?F(e):G(e)},V=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},H=function(e){if(!V(e))return!1;var t=Z(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},z=k["__core-js_shared__"],Y=(x=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"",K=function(e){return!!Y&&Y in e},Q=Function.prototype.toString,q=function(e){if(null!=e){try{return Q.call(e)}catch(e){}try{return e+""}catch(e){}}return""},X=/^\[object .+?Constructor\]$/,J=Object.prototype,$=Function.prototype.toString,ee=J.hasOwnProperty,et=RegExp("^"+$.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),en=function(e){return!(!V(e)||K(e))&&(H(e)?et:X).test(q(e))},er=function(e,t){return null==e?void 0:e[t]},ei=function(e,t){var n=er(e,t);return en(n)?n:void 0},eo=ei(k,"Map"),ea=ei(Object,"create"),es=function(){this.__data__=ea?ea(null):{},this.size=0},eu=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=!!t,t},ec=Object.prototype.hasOwnProperty,el=function(e){var t=this.__data__;if(ea){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ec.call(t,e)?t[e]:void 0},ed=Object.prototype.hasOwnProperty,ef=function(e){var t=this.__data__;return ea?void 0!==t[e]:ed.call(t,e)},ep=function(e,t){var n=this.__data__;return this.size+=+!this.has(e),n[e]=ea&&void 0===t?"__lodash_hash_undefined__":t,this};function eh(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}eh.prototype.clear=es,eh.prototype.delete=eu,eh.prototype.get=el,eh.prototype.has=ef,eh.prototype.set=ep;var eg=eh,em=function(){this.size=0,this.__data__={hash:new eg,map:new(eo||I),string:new eg}},ev=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},ey=function(e,t){var n=e.__data__;return ev(t)?n["string"==typeof t?"string":"hash"]:n.map},eb=function(e){var t=ey(this,e).delete(e);return this.size-=!!t,t},e_=function(e){return ey(this,e).get(e)},eC=function(e){return ey(this,e).has(e)},eI=function(e,t){var n=ey(this,e),r=n.size;return n.set(e,t),this.size+=+(n.size!=r),this};function eE(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}eE.prototype.clear=em,eE.prototype.delete=eb,eE.prototype.get=e_,eE.prototype.has=eC,eE.prototype.set=eI;var ew=eE,eS=function(e,t){var n=this.__data__;if(n instanceof I){var r=n.__data__;if(!eo||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ew(r)}return n.set(e,t),this.size=n.size,this};function eD(e){var t=this.__data__=new I(e);this.size=t.size}eD.prototype.clear=E,eD.prototype.delete=w,eD.prototype.get=S,eD.prototype.has=D,eD.prototype.set=eS;var eM=eD,eT=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},eA=function(){try{var e=ei(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),ex=function(e,t,n){"__proto__"==t&&eA?eA(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},eN=Object.prototype.hasOwnProperty,eO=function(e,t,n){var r=e[t];eN.call(e,t)&&h(r,n)&&(void 0!==n||t in e)||ex(e,t,n)},ek=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?ex(n,s,u):eO(n,s,u)}return n},eR=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},eL=function(e){return null!=e&&"object"==typeof e},ej=function(e){return eL(e)&&"[object Arguments]"==Z(e)},eP=Object.prototype,eB=eP.hasOwnProperty,eF=eP.propertyIsEnumerable,eU=ej(function(){return arguments}())?ej:function(e){return eL(e)&&eB.call(e,"callee")&&!eF.call(e,"callee")},eG=Array.isArray,eW=function(){return!1},eZ=T(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?k.Buffer:void 0;e.exports=(i?i.isBuffer:void 0)||eW}),eV=/^(?:0|[1-9]\d*)$/,eH=function(e,t){var n=typeof e;return!!(t=null==t?0x1fffffffffffff:t)&&("number"==n||"symbol"!=n&&eV.test(e))&&e>-1&&e%1==0&&e<t},ez=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff},eY={};eY["[object Float32Array]"]=eY["[object Float64Array]"]=eY["[object Int8Array]"]=eY["[object Int16Array]"]=eY["[object Int32Array]"]=eY["[object Uint8Array]"]=eY["[object Uint8ClampedArray]"]=eY["[object Uint16Array]"]=eY["[object Uint32Array]"]=!0,eY["[object Arguments]"]=eY["[object Array]"]=eY["[object ArrayBuffer]"]=eY["[object Boolean]"]=eY["[object DataView]"]=eY["[object Date]"]=eY["[object Error]"]=eY["[object Function]"]=eY["[object Map]"]=eY["[object Number]"]=eY["[object Object]"]=eY["[object RegExp]"]=eY["[object Set]"]=eY["[object String]"]=eY["[object WeakMap]"]=!1;var eK=function(e){return eL(e)&&ez(e.length)&&!!eY[Z(e)]},eQ=function(e){return function(t){return e(t)}},eq=T(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&N.process;e.exports=function(){try{return r&&r.require&&r.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}()}),eX=eq&&eq.isTypedArray,eJ=eX?eQ(eX):eK,e$=Object.prototype.hasOwnProperty,e0=function(e,t){var n=eG(e),r=!n&&eU(e),i=!n&&!r&&eZ(e),o=!n&&!r&&!i&&eJ(e),a=n||r||i||o,s=a?eR(e.length,String):[],u=s.length;for(var c in e)!t&&!e$.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||eH(c,u))||s.push(c);return s},e1=Object.prototype,e2=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||e1)},e4=function(e,t){return function(n){return e(t(n))}},e3=e4(Object.keys,Object),e5=Object.prototype.hasOwnProperty,e9=function(e){if(!e2(e))return e3(e);var t=[];for(var n in Object(e))e5.call(e,n)&&"constructor"!=n&&t.push(n);return t},e8=function(e){return null!=e&&ez(e.length)&&!H(e)},e6=function(e){return e8(e)?e0(e):e9(e)},e7=function(e,t){return e&&ek(t,e6(t),e)},te=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},tt=Object.prototype.hasOwnProperty,tn=function(e){if(!V(e))return te(e);var t=e2(e),n=[];for(var r in e)("constructor"!=r||!t&&tt.call(e,r))&&n.push(r);return n},tr=function(e){return e8(e)?e0(e,!0):tn(e)},ti=function(e,t){return e&&ek(t,tr(t),e)},to=T(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?k.Buffer:void 0,o=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=o?o(n):new e.constructor(n);return e.copy(r),r}}),ta=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},ts=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},tu=function(){return[]},tc=Object.prototype.propertyIsEnumerable,tl=Object.getOwnPropertySymbols,td=tl?function(e){return null==e?[]:ts(tl(e=Object(e)),function(t){return tc.call(e,t)})}:tu,tf=function(e,t){return ek(e,td(e),t)},tp=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},th=e4(Object.getPrototypeOf,Object),tg=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)tp(t,td(e)),e=th(e);return t}:tu,tm=function(e,t){return ek(e,tg(e),t)},tv=function(e,t,n){var r=t(e);return eG(e)?r:tp(r,n(e))},ty=function(e){return tv(e,e6,td)},tb=function(e){return tv(e,tr,tg)},t_=ei(k,"DataView"),tC=ei(k,"Promise"),tI=ei(k,"Set"),tE=ei(k,"WeakMap"),tw=q(t_),tS=q(eo),tD=q(tC),tM=q(tI),tT=q(tE),tA=Z;(t_&&"[object DataView]"!=tA(new t_(new ArrayBuffer(1)))||eo&&"[object Map]"!=tA(new eo)||tC&&"[object Promise]"!=tA(tC.resolve())||tI&&"[object Set]"!=tA(new tI)||tE&&"[object WeakMap]"!=tA(new tE))&&(tA=function(e){var t=Z(e),n="[object Object]"==t?e.constructor:void 0,r=n?q(n):"";if(r)switch(r){case tw:return"[object DataView]";case tS:return"[object Map]";case tD:return"[object Promise]";case tM:return"[object Set]";case tT:return"[object WeakMap]"}return t});var tx=tA,tN=Object.prototype.hasOwnProperty,tO=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&tN.call(e,"index")&&(n.index=e.index,n.input=e.input),n},tk=k.Uint8Array,tR=function(e){var t=new e.constructor(e.byteLength);return new tk(t).set(new tk(e)),t},tL=function(e,t){var n=t?tR(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},tj=/\w*$/,tP=function(e){var t=new e.constructor(e.source,tj.exec(e));return t.lastIndex=e.lastIndex,t},tB=R?R.prototype:void 0,tF=tB?tB.valueOf:void 0,tU=function(e){return tF?Object(tF.call(e)):{}},tG=function(e,t){var n=t?tR(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},tW=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return tR(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return tL(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return tG(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return tP(e);case"[object Symbol]":return tU(e)}},tZ=Object.create,tV=function(){function e(){}return function(t){if(!V(t))return{};if(tZ)return tZ(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),tH=function(e){return"function"!=typeof e.constructor||e2(e)?{}:tV(th(e))},tz=function(e){return eL(e)&&"[object Map]"==tx(e)},tY=eq&&eq.isMap,tK=tY?eQ(tY):tz,tQ=function(e){return eL(e)&&"[object Set]"==tx(e)},tq=eq&&eq.isSet,tX=tq?eQ(tq):tQ,tJ={};tJ["[object Arguments]"]=tJ["[object Array]"]=tJ["[object ArrayBuffer]"]=tJ["[object DataView]"]=tJ["[object Boolean]"]=tJ["[object Date]"]=tJ["[object Float32Array]"]=tJ["[object Float64Array]"]=tJ["[object Int8Array]"]=tJ["[object Int16Array]"]=tJ["[object Int32Array]"]=tJ["[object Map]"]=tJ["[object Number]"]=tJ["[object Object]"]=tJ["[object RegExp]"]=tJ["[object Set]"]=tJ["[object String]"]=tJ["[object Symbol]"]=tJ["[object Uint8Array]"]=tJ["[object Uint8ClampedArray]"]=tJ["[object Uint16Array]"]=tJ["[object Uint32Array]"]=!0,tJ["[object Error]"]=tJ["[object Function]"]=tJ["[object WeakMap]"]=!1;var t$=function e(t,n,r,i,o,a){var s,u=1&n,c=2&n,l=4&n;if(r&&(s=o?r(t,i,o,a):r(t)),void 0!==s)return s;if(!V(t))return t;var d=eG(t);if(d){if(s=tO(t),!u)return ta(t,s)}else{var f=tx(t),p="[object Function]"==f||"[object GeneratorFunction]"==f;if(eZ(t))return to(t,u);if("[object Object]"==f||"[object Arguments]"==f||p&&!o){if(s=c||p?{}:tH(t),!u)return c?tm(t,ti(s,t)):tf(t,e7(s,t))}else{if(!tJ[f])return o?t:{};s=tW(t,f,u)}}a||(a=new eM);var h=a.get(t);if(h)return h;a.set(t,s),tX(t)?t.forEach(function(i){s.add(e(i,n,r,i,t,a))}):tK(t)&&t.forEach(function(i,o){s.set(o,e(i,n,r,o,t,a))});var g=d?void 0:(l?c?tb:ty:c?tr:e6)(t);return eT(g||t,function(i,o){g&&(i=t[o=i]),eO(s,o,e(i,n,r,o,t,a))}),s},t0=function(e){return t$(e,5)},t1=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},t2=function(e){return this.__data__.has(e)};function t4(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ew;++t<n;)this.add(e[t])}t4.prototype.add=t4.prototype.push=t1,t4.prototype.has=t2;var t3=t4,t5=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},t9=function(e,t){return e.has(t)},t8=function(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e),l=o.get(t);if(c&&l)return c==t&&l==e;var d=-1,f=!0,p=2&n?new t3:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var h=e[d],g=t[d];if(r)var m=a?r(g,h,d,t,e,o):r(h,g,d,e,t,o);if(void 0!==m){if(m)continue;f=!1;break}if(p){if(!t5(t,function(e,t){if(!t9(p,t)&&(h===e||i(h,e,n,r,o)))return p.push(t)})){f=!1;break}}else if(h!==g&&!i(h,g,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f},t6=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},t7=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},ne=R?R.prototype:void 0,nt=ne?ne.valueOf:void 0,nn=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new tk(e),new tk(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return h(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=t6;case"[object Set]":var u=1&r;if(s||(s=t7),e.size!=t.size&&!u)break;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=t8(s(e),s(t),r,i,o,a);return a.delete(e),l;case"[object Symbol]":if(nt)return nt.call(e)==nt.call(t)}return!1},nr=Object.prototype.hasOwnProperty,ni=function(e,t,n,r,i,o){var a=1&n,s=ty(e),u=s.length;if(u!=ty(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:nr.call(t,l)))return!1}var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var p=!0;o.set(e,t),o.set(t,e);for(var h=a;++c<u;){var g=e[l=s[c]],m=t[l];if(r)var v=a?r(m,g,l,t,e,o):r(g,m,l,e,t,o);if(!(void 0===v?g===m||i(g,m,n,r,o):v)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(e),o.delete(t),p},no="[object Object]",na=Object.prototype.hasOwnProperty,ns=function(e,t,n,r,i,o){var a=eG(e),s=eG(t),u=a?"[object Array]":tx(e),c=s?"[object Array]":tx(t),l=(u="[object Arguments]"==u?no:u)==no,d=(c="[object Arguments]"==c?no:c)==no,f=u==c;if(f&&eZ(e)){if(!eZ(t))return!1;a=!0,l=!1}if(f&&!l)return o||(o=new eM),a||eJ(e)?t8(e,t,n,r,i,o):nn(e,t,u,n,r,i,o);if(!(1&n)){var p=l&&na.call(e,"__wrapped__"),h=d&&na.call(t,"__wrapped__");if(p||h){var g=p?e.value():e,m=h?t.value():t;return o||(o=new eM),i(g,m,n,r,o)}}return!!f&&(o||(o=new eM),ni(e,t,n,r,i,o))},nu=function e(t,n,r,i,o){return t===n||(null!=t&&null!=n&&(eL(t)||eL(n))?ns(t,n,r,i,e,o):t!=t&&n!=n)},nc=function(e,t){return nu(e,t)};function nl(e,t,n,r){if(e===t)return e?[[0,e]]:[];if(null!=n){var i=function(e,t,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,i="number"==typeof n?null:n.newRange,o=e.length,a=t.length;if(0===r.length&&(null===i||0===i.length)){var s=r.index,u=e.slice(0,s),c=e.slice(s),l=i?i.index:null,d=s+a-o;if((null===l||l===d)&&!(d<0||d>a)){var f=t.slice(0,d);if((g=t.slice(d))===c){var p=Math.min(s,d);if((v=u.slice(0,p))===(b=f.slice(0,p)))return nb(v,u.slice(p),f.slice(p),c)}}if(null===l||l===s){var h=s,g=(f=t.slice(0,h),t.slice(h));if(f===u){var m=Math.min(o-h,a-h);if((y=c.slice(c.length-m))===(_=g.slice(g.length-m)))return nb(u,c.slice(0,c.length-m),g.slice(0,g.length-m),y)}}}if(r.length>0&&i&&0===i.length){var v=e.slice(0,r.index),y=e.slice(r.index+r.length);if(!(a<(p=v.length)+(m=y.length))){var b=t.slice(0,p),_=t.slice(a-m);if(v===b&&y===_)return nb(v,e.slice(p,o-m),t.slice(p,a-m),y)}}return null}(e,t,n);if(i)return i}var o=nf(e,t),a=e.substring(0,o);o=np(e=e.substring(o),t=t.substring(o));var s=e.substring(e.length-o),u=function(e,t){if(!e)return[[1,t]];if(!t)return[[-1,e]];var n,r=e.length>t.length?e:t,i=e.length>t.length?t:e,o=r.indexOf(i);if(-1!==o)return n=[[1,r.substring(0,o)],[0,i],[1,r.substring(o+i.length)]],e.length>t.length&&(n[0][0]=n[2][0]=-1),n;if(1===i.length)return[[-1,e],[1,t]];var a=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function i(e,t,n){for(var r,i,o,a,s=e.substring(n,n+Math.floor(e.length/4)),u=-1,c="";-1!==(u=t.indexOf(s,u+1));){var l=nf(e.substring(n),t.substring(u)),d=np(e.substring(0,n),t.substring(0,u));c.length<d+l&&(c=t.substring(u-d,u)+t.substring(u,u+l),r=e.substring(0,n-d),i=e.substring(n+l),o=t.substring(0,u-d),a=t.substring(u+l))}return 2*c.length>=e.length?[r,i,o,a,c]:null}var o,a,s,u,c,l=i(n,r,Math.ceil(n.length/4)),d=i(n,r,Math.ceil(n.length/2));return l||d?(o=d?l&&l[4].length>d[4].length?l:d:l,e.length>t.length?(a=o[0],s=o[1],u=o[2],c=o[3]):(u=o[0],c=o[1],a=o[2],s=o[3]),[a,s,u,c,o[4]]):null}(e,t);if(a){var s=a[0],u=a[1],c=a[2],l=a[3],d=a[4],f=nl(s,c),p=nl(u,l);return f.concat([[0,d]],p)}return function(e,t){for(var n=e.length,r=t.length,i=Math.ceil((n+r)/2),o=i,a=2*i,s=Array(a),u=Array(a),c=0;c<a;c++)s[c]=-1,u[c]=-1;s[o+1]=0,u[o+1]=0;for(var l=n-r,d=l%2!=0,f=0,p=0,h=0,g=0,m=0;m<i;m++){for(var v=-m+f;v<=m-p;v+=2){for(var y=o+v,b=(C=v===-m||v!==m&&s[y-1]<s[y+1]?s[y+1]:s[y-1]+1)-v;C<n&&b<r&&e.charAt(C)===t.charAt(b);)C++,b++;if(s[y]=C,C>n)p+=2;else if(b>r)f+=2;else if(d&&(E=o+l-v)>=0&&E<a&&-1!==u[E]&&C>=(I=n-u[E]))return nd(e,t,C,b)}for(var _=-m+h;_<=m-g;_+=2){for(var C,I,E=o+_,w=(I=_===-m||_!==m&&u[E-1]<u[E+1]?u[E+1]:u[E-1]+1)-_;I<n&&w<r&&e.charAt(n-I-1)===t.charAt(r-w-1);)I++,w++;if(u[E]=I,I>n)g+=2;else if(w>r)h+=2;else if(!d&&(y=o+l-_)>=0&&y<a&&-1!==s[y]&&(b=o+(C=s[y])-y,C>=(I=n-I)))return nd(e,t,C,b)}}return[[-1,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-o),t=t.substring(0,t.length-o));return a&&u.unshift([0,a]),s&&u.push([0,s]),nh(u,r),u}function nd(e,t,n,r){var i=e.substring(0,n),o=t.substring(0,r),a=e.substring(n),s=t.substring(r),u=nl(i,o),c=nl(a,s);return u.concat(c)}function nf(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return ng(e.charCodeAt(i-1))&&i--,i}function np(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return nm(e.charCodeAt(e.length-i))&&i--,i}function nh(e,t){e.push([0,""]);for(var n,r=0,i=0,o=0,a="",s="";r<e.length;)if(r<e.length-1&&!e[r][1])e.splice(r,1);else switch(e[r][0]){case 1:o++,s+=e[r][1],r++;break;case -1:i++,a+=e[r][1],r++;break;case 0:var u=r-o-i-1;if(t){if(u>=0&&ny(e[u][1])){var c=e[u][1].slice(-1);if(e[u][1]=e[u][1].slice(0,-1),a=c+a,s=c+s,!e[u][1]){e.splice(u,1),r--;var l=u-1;e[l]&&1===e[l][0]&&(o++,s=e[l][1]+s,l--),e[l]&&-1===e[l][0]&&(i++,a=e[l][1]+a,l--),u=l}}nv(e[r][1])&&(c=e[r][1].charAt(0),e[r][1]=e[r][1].slice(1),a+=c,s+=c)}if(r<e.length-1&&!e[r][1]){e.splice(r,1);break}if(a.length>0||s.length>0){a.length>0&&s.length>0&&(0!==(n=nf(s,a))&&(u>=0?e[u][1]+=s.substring(0,n):(e.splice(0,0,[0,s.substring(0,n)]),r++),s=s.substring(n),a=a.substring(n)),0!==(n=np(s,a))&&(e[r][1]=s.substring(s.length-n)+e[r][1],s=s.substring(0,s.length-n),a=a.substring(0,a.length-n)));var d=o+i;0===a.length&&0===s.length?(e.splice(r-d,d),r-=d):0===a.length?(e.splice(r-d,d,[1,s]),r=r-d+1):0===s.length?(e.splice(r-d,d,[-1,a]),r=r-d+1):(e.splice(r-d,d,[-1,a],[1,s]),r=r-d+2)}0!==r&&0===e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,o=0,i=0,a="",s=""}""===e[e.length-1][1]&&e.pop();var f=!1;for(r=1;r<e.length-1;)0===e[r-1][0]&&0===e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)===e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),f=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),f=!0)),r++;f&&nh(e,t)}function ng(e){return e>=55296&&e<=56319}function nm(e){return e>=56320&&e<=57343}function nv(e){return nm(e.charCodeAt(0))}function ny(e){return ng(e.charCodeAt(e.length-1))}function nb(e,t,n,r){return ny(e)||nv(r)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[-1,t],[1,n],[0,r]])}function n_(e,t,n){return nl(e,t,n,!0)}n_.INSERT=1,n_.DELETE=-1,n_.EQUAL=0;var nC,nI=n_;!function(e){e.compose=function(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),"object"!==r(e)&&(e={}),"object"!==r(t)&&(t={});var i=t0(t);for(var o in n||(i=Object.keys(i).reduce(function(e,t){return null!=i[t]&&(e[t]=i[t]),e},{})),e)void 0!==e[o]&&void 0===t[o]&&(i[o]=e[o]);return Object.keys(i).length>0?i:void 0},e.diff=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),"object"!==r(e)&&(e={}),"object"!==r(t)&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce(function(n,r){return nc(e[r],t[r])||(n[r]=void 0===t[r]?null:t[r]),n},{});return Object.keys(n).length>0?n:void 0},e.invert=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),e=e||{};var n=Object.keys(t).reduce(function(n,r){return t[r]!==e[r]&&void 0!==e[r]&&(n[r]=t[r]),n},{});return Object.keys(e).reduce(function(n,r){return e[r]!==t[r]&&void 0===t[r]&&(n[r]=null),n},n)},e.transform=function(e,t,n){if(void 0===n&&(n=!1),"object"!==r(e))return t;if("object"===r(t)){if(!n)return t;var i=Object.keys(t).reduce(function(n,r){return void 0===e[r]&&(n[r]=t[r]),n},{});return Object.keys(i).length>0?i:void 0}}}(nC||(nC={}));var nE,nw=nC;!function(e){e.length=function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}}(nE||(nE={}));var nS=nE,nD=function(){function e(e){this.ops=e,this.index=0,this.offset=0}return e.prototype.hasNext=function(){return this.peekLength()<1/0},e.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,r=nS.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var i={};return t.attributes&&(i.attributes=t.attributes),"number"==typeof t.retain?i.retain=e:"string"==typeof t.insert?i.insert=t.insert.substr(n,e):i.insert=t.insert,i}return{retain:1/0}},e.prototype.peek=function(){return this.ops[this.index]},e.prototype.peekLength=function(){return this.ops[this.index]?nS.length(this.ops[this.index])-this.offset:1/0},e.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.prototype.rest=function(){if(!this.hasNext())return[];if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)},e}(),nM="\0",nT=function(){function e(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return e.prototype.insert=function(e,t){var n={};return"string"==typeof e&&0===e.length?this:(n.insert=e,null!=t&&"object"===r(t)&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},e.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},e.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"===r(t)&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},e.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=t0(e),"object"===r(n)){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!==r(n=this.ops[t-1])))return this.ops.unshift(e),this;if(nc(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"===r(e.attributes)&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"===r(e.attributes)&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},e.prototype.chop=function(){var e=this.ops[this.ops.length-1];return(null==e?void 0:e.retain)&&!e.attributes&&this.ops.pop(),this},e.prototype.filter=function(e){return this.ops.filter(e)},e.prototype.forEach=function(e){this.ops.forEach(e)},e.prototype.map=function(e){return this.ops.map(e)},e.prototype.partition=function(e){var t=[],n=[];return this.forEach(function(r){(e(r)?t:n).push(r)}),[t,n]},e.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},e.prototype.changeLength=function(){return this.reduce(function(e,t){return t.insert?e+nS.length(t):t.delete?e-t.delete:e},0)},e.prototype.length=function(){return this.reduce(function(e,t){return e+nS.length(t)},0)},e.prototype.slice=function(t,n){void 0===t&&(t=0),void 0===n&&(n=1/0);for(var r=[],i=new nD(this.ops),o=0;o<n&&i.hasNext();){var a=void 0;o<t?a=i.next(t-o):(a=i.next(n-o),r.push(a)),o+=nS.length(a)}return new e(r)},e.prototype.compose=function(t){var n=new nD(this.ops),r=new nD(t.ops),i=[],o=r.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var a=o.retain;"insert"===n.peekType()&&n.peekLength()<=a;)a-=n.peekLength(),i.push(n.next());o.retain-a>0&&r.next(o.retain-a)}for(var s=new e(i);n.hasNext()||r.hasNext();)if("insert"===r.peekType())s.push(r.next());else if("delete"===n.peekType())s.push(n.next());else{var u=Math.min(n.peekLength(),r.peekLength()),c=n.next(u),l=r.next(u);if("number"==typeof l.retain){var d={};"number"==typeof c.retain?d.retain=u:d.insert=c.insert;var f=nw.compose(c.attributes,l.attributes,"number"==typeof c.retain);if(f&&(d.attributes=f),s.push(d),!r.hasNext()&&nc(s.ops[s.ops.length-1],d)){var p=new e(n.rest());return s.concat(p).chop()}}else"number"==typeof l.delete&&"number"==typeof c.retain&&s.push(l)}return s.chop()},e.prototype.concat=function(t){var n=new e(this.ops.slice());return t.ops.length>0&&(n.push(t.ops[0]),n.ops=n.ops.concat(t.ops.slice(1))),n},e.prototype.diff=function(t,n){if(this.ops===t.ops)return new e;var r=[this,t].map(function(e){return e.map(function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:nM;throw Error("diff() called ".concat(e===t?"on":"with"," non-document"))}).join("")}),i=new e,o=nI(r[0],r[1],n),a=new nD(this.ops),s=new nD(t.ops);return o.forEach(function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case nI.INSERT:n=Math.min(s.peekLength(),t),i.push(s.next(n));break;case nI.DELETE:n=Math.min(t,a.peekLength()),a.next(n),i.delete(n);break;case nI.EQUAL:n=Math.min(a.peekLength(),s.peekLength(),t);var r=a.next(n),o=s.next(n);nc(r.insert,o.insert)?i.retain(n,nw.diff(r.attributes,o.attributes)):i.push(o).delete(n)}t-=n}}),i.chop()},e.prototype.eachLine=function(t,n){void 0===n&&(n="\n");for(var r=new nD(this.ops),i=new e,o=0;r.hasNext();){if("insert"!==r.peekType())return;var a=r.peek(),s=nS.length(a)-r.peekLength(),u="string"==typeof a.insert?a.insert.indexOf(n,s)-s:-1;if(u<0)i.push(r.next());else if(u>0)i.push(r.next(u));else{if(!1===t(i,r.next(1).attributes||{},o))return;o+=1,i=new e}}i.length()>0&&t(i,{},o)},e.prototype.invert=function(t){var n=new e;return this.reduce(function(e,r){if(r.insert)n.delete(nS.length(r));else{if(r.retain&&null==r.attributes)return n.retain(r.retain),e+r.retain;if(r.delete||r.retain&&r.attributes){var i=r.delete||r.retain;return t.slice(e,e+i).forEach(function(e){r.delete?n.push(e):r.retain&&r.attributes&&n.retain(nS.length(e),nw.invert(r.attributes,e.attributes))}),e+i}}return e},0),n.chop()},e.prototype.transform=function(t,n){if(void 0===n&&(n=!1),n=!!n,"number"==typeof t)return this.transformPosition(t,n);for(var r=t,i=new nD(this.ops),o=new nD(r.ops),a=new e;i.hasNext()||o.hasNext();)if("insert"===i.peekType()&&(n||"insert"!==o.peekType()))a.retain(nS.length(i.next()));else if("insert"===o.peekType())a.push(o.next());else{var s=Math.min(i.peekLength(),o.peekLength()),u=i.next(s),c=o.next(s);if(u.delete)continue;c.delete?a.push(c):a.retain(s,nw.transform(u.attributes,c.attributes,n))}return a.chop()},e.prototype.transformPosition=function(e,t){void 0===t&&(t=!1),t=!!t;for(var n=new nD(this.ops),r=0;n.hasNext()&&r<=e;){var i=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(r<e||!t)&&(e+=i),r+=i):e-=Math.min(i,e-r)}return e},e.Op=nS,e.OpIterator=nD,e.AttributeMap=nw,e}();function nA(e){return e.replace(/\r\n/g,"\n").replace(/\r/g,"\n")}var nx,nN=function(){function e(e){this.isHidden=e||!1}return e.prototype.isStyleHidden=function(){return this.isHidden},e.prototype.format=function(e,t){e.setFormatForVNode(this.styleKey,t),this.isHidden||(e.domNode.style[this.styleKey]=t)},e.prototype.remove=function(e){e.deleteFormatForVNode(this.styleKey),delete e.domNode.style[this.styleKey]},e.prototype.getFormat=function(e){return e.getFormatFromVNode(this.styleKey)},e}(),nO=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.styleKey="color",t}return o(t,e),t.prototype.format=function(e,t){e.setFormatForVNode(this.styleKey,t),this.isHidden||(e.domNode.style[this.styleKey]=t)},t.prototype.remove=function(e){e.deleteFormatForVNode(this.styleKey),delete e.domNode.style[this.styleKey]},t.key="color",t}(nN),nk=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.styleKey="color",t}return o(t,e),t.prototype.format=function(e,n){e.setFormatForVNode(t.key,n),this.isHidden||(e.domNode.style[this.styleKey]=n)},t.prototype.remove=function(e){e.deleteFormatForVNode(t.key),delete e.domNode.style[this.styleKey]},t.prototype.getFormat=function(e){return e.getFormatFromVNode(t.key)},t.key="themeColor",t}(nN),nR=["rgba(0,0,0,1)","#000000"],nL=["rgba(255,255,255,1)","#ffffff"],nj=((nx={})[nO.key]=function(e,t,n){return e.removeStyle(t,nk.key),{value:e.getShouldReverseColorWhenNeeded()&&nL.includes(n)?nR:n}},nx[nk.key]=function(e,t,n){return e.removeStyle(t,nO.key),{value:e.getShouldReverseColorWhenNeeded()&&nL.includes(n)?nR:n}},nx),nP={bold:function(e){return{value:!e.bold}},italic:function(e){return{value:!e.italic}},underline:function(e){return{value:!e.underline}},strikethrough:function(e){return{value:!e.strikethrough}},strikeThrough:function(e){return{key:"strikethrough",value:!e.strikethrough}},fontName:function(){return{key:"fontFamily"}},foreColor:function(){return{key:"color"}}},nB=function e(t){var n,r,i;if(0===t.children.length)return!!(null==(n=null==t?void 0:t.dataset)?void 0:n.link);for(;0!==t.children.length&&!(null==(r=null==t?void 0:t.dataset)?void 0:r.link);)return e(t.children[0]);return!!(null==(i=null==t?void 0:t.dataset)?void 0:i.link)};function nF(e){return e.prototype?e:e.constructor}var nU,nG=function(e,t){var n=[],r=0;return e.ops.forEach(function(e){if("string"==typeof e.insert)for(var i=e.insert,o=0;o<i.length;o++)i.charAt(o)===t&&(n.push(r-1),n.push(r)),r+=1;else r+=1}),n.length>0?n:[0]},nW=function(){this.next=null,this.prev=null},nZ=function(){function e(){this.head=null,this.tail=null,this.size=0}return e.prototype.getHead=function(){return this.head},e.prototype.getTail=function(){return this.tail},e.prototype.getSize=function(){return this.size},e.prototype.isEmpty=function(){return 0===this.size},e.prototype.clear=function(){this.head=null,this.tail=null,this.size=0},e.prototype.get=function(e,t){void 0===t&&(t=!1);var n,r,i=0;try{for(var o=u(this),a=o.next();!a.done;a=o.next()){var s=a.value,c=s.length();if(i===e||i+c>e||t&&i+c===e)return[s,e-i];i+=c}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return[null,0]},e.prototype.contains=function(e){var t,n;try{for(var r=u(this),i=r.next();!i.done;i=r.next())if(i.value===e)return!0}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!1},e.prototype.unshift=function(e){this.insertBefore(e,this.head)},e.prototype.push=function(e){this.insertBefore(e)},e.prototype.insertBefore=function(e,t){return void 0===t&&(t=null),0===this.size?(this.head=e,this.tail=e,e.prev=null,e.next=null):null===t?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):(e.next=t,e.prev=t.prev,t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)),void(this.size+=1)},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.size-=1)},e.prototype.reduce=function(e,t){var n,r;try{for(var i=u(this),o=i.next();!o.done;o=i.next())t=e(t,o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return t},e.prototype.forEachAt=function(e,t,n){var r,i;if(!(t<=0)){var o,a=0;try{for(var s=u(this),c=s.next();!c.done;c=s.next()){var l=(o=c.value).length();if(a>=e+t)break;a>e?n(o,0,Math.min(e+t-a,l)):a+l>e&&n(o,e-a,Math.min(t,a+l-e)),a+=l}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}},e.prototype.iterator=function(){return this[Symbol.iterator]()},e.prototype[Symbol.iterator]=function(){var e,t;return s(this,function(n){switch(n.label){case 0:e=this.head,n.label=1;case 1:return e?(t=e.next,[4,e]):[3,3];case 2:return n.sent(),e=t,[3,1];case 3:return[2]}})},e}(),nV=function(e){function t(t){var n=e.call(this)||this;return n.children=new nZ,n.domNode=t,t.__vnode=n,n}return o(t,e),t.prototype.getStyler=function(){return this.root.styler},t.prototype.remove=function(){var e;null==(e=this.domNode.parentNode)||e.removeChild(this.domNode),this.detach()},t.prototype.detach=function(){var e;null==(e=this.parent)||e.children.remove(this),delete this.domNode.__vnode},t.prototype.offset=function(e){if(void 0===e&&(e=this.parent),e===this)return 0;var t,n,r=0;try{for(var i=u(this.parent.children),o=i.next();!o.done;o=i.next()){var a=o.value;if(a===this)break;r+=a.length()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r+this.parent.offset(e)},t.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return new(nF(this))(e)},t.prototype.isolate=function(e,t){var n=this.split(e);return n&&n.split(t),n},t.prototype.optimize=function(e){this.mutations=void 0},t}(nW),nH={error:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return nz.apply(void 0,l(["error"],c(e),!1))},warn:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return nz.apply(void 0,l(["warn"],c(e),!1))},info:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return nz.apply(void 0,l(["info"],c(e),!1))},log:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return nz.apply(void 0,l(["log"],c(e),!1))},debug:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return nz.apply(void 0,l(["debug"],c(e),!1))},trace:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return nz.apply(void 0,l(["trace"],c(e),!1))}};function nz(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];nU&&nU[e].apply(nU,l([],c(t),!1))}var nY=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.value=function(){return""},t.prototype.insertEmbedAt=function(e,t,n,r){var i=n6({key:t,embedTools:r,value:n}),o=this.split(e);this.parent.insertBefore(i,o)},t}(nV),nK=function(e){function t(n){var r=e.call(this,n)||this;return r.text=t.getValueByNode(r.domNode),r}return o(t,e),t.createDomNode=function(e){return document.createTextNode(e)},t.getValueByNode=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.insertBefore=function(){throw Error("Text node cannot insert child node")},t.prototype.length=function(){return this.text.length},t.prototype.value=function(){return this.text},t.prototype.getNativeRangePos=function(e){return[this.domNode,e]},t.prototype.getOffsetFromNativeRangePos=function(e,t){return this.domNode===e?t:-1},t.prototype.split=function(e){if(0===e)return this;if(e>=this.length())return this.next;var n=new t(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=t.getValueByNode(this.domNode),n},t.prototype.insertTextAt=function(e,t){0!==t.length&&(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text)},t.prototype.deleteAt=function(e,t){this.text=this.text.slice(0,e)+this.text.slice(e+t),this.domNode.data=this.text},t.prototype.formatAt=function(e,n,r,i){var o=this.isolate(e,n);o instanceof t&&o.wrap().format(r,i)},t.prototype.format=function(){},t.prototype.wrap=function(){var e=n6({key:document.createElement("span")});return this.parent.insertBefore(e,this.next),e.insertBefore(this),e},t.prototype.update=function(){var e=this,n=this.mutations;n&&n.some(function(t){return"characterData"===t.type&&t.target===e.domNode})&&(this.text=t.getValueByNode(this.domNode))},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=t.getValueByNode(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertTextAt(this.length(),this.next.value()),this.next.remove())},t.tagName="text",t}(nY),nQ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.insertBefore=function(e,t){e.parent&&e.parent.removeChild(e),this.children.insertBefore(e,t),e.parent=this,e.root=this.root;var n=null;t&&(n=t.domNode),e.domNode.parentNode===this.domNode&&e.domNode.nextSibling===n||this.domNode.insertBefore(e.domNode,n)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.length=function(){return this.children.reduce(function(e,t){return e+t.length()},0)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),function(e,t){var r=e.split(t);r&&n.insertBefore(r)}),n},t.prototype.unwrap=function(){var e,t,n=this.next;try{for(var r=u(this.children),i=r.next();!i.done;i=r.next()){var o=i.value;this.parent.insertBefore(o,n)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this.remove()},t.prototype.insertTextAt=function(e,t){var n=c(this.children.get(e),2),r=n[0],i=n[1];if(r)r.insertTextAt(i,t);else{var o=n6({key:nK.createDomNode(t)});this.insertBefore(o)}},t.prototype.insertEmbedAt=function(e,t,n,r){var i=c(this.children.get(e),2),o=i[0],a=i[1];if(o)o.insertEmbedAt(a,t,n,r);else{var s=n6({key:t,embedTools:r,value:n});this.insertBefore(s)}},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,function(e,t,n){e.deleteAt(t,n)})},t.prototype.format=function(e,t){},t.prototype.formatAt=function(e,t,n,r){this.children.forEachAt(e,t,function(e,t,i){e.formatAt(t,i,n,r)})},t.prototype.getLeaf=function(e,n){void 0===e&&(e=0),void 0===n&&(n=!1);var r=c(this.children.get(e,n),2),i=r[0],o=r[1];return i instanceof t?i.getLeaf(o,n):[i,o]},t.prototype.getLeaves=function(e,n){void 0===e&&(e=0),void 0===n&&(n=Number.MAX_VALUE);var r=[];return this.children.forEachAt(e,n,function(e,n,i){e instanceof nY?r.push(e):e instanceof t&&(r=r.concat(e.getLeaves(n,i)))}),r},t.prototype.update=function(e){void 0===e&&(e={});var t=this.mutations;if(t){var n=[],r=[];t.forEach(function(e){"childList"===e.type&&(n.push.apply(n,e.addedNodes),r.push.apply(r,e.removedNodes))}),r.forEach(function(e){var t=n9(e);t&&(t.domNode.parentNode||t.detach())});var i=new Map;n.filter(function(e){return!!e.parentNode}).sort(function(e,t){if(e===t)return 0;var n,r,o=e.parentElement;if(o&&o===t.parentElement){var a=i.get(o);if(!a){a=new Map;for(var s=0;s<o.children.length;s++){var u=o.children[s];a.set(u,s)}i.set(o,a)}return(null!=(n=a.get(e))?n:Array.prototype.indexOf.call(o.children,e))>(null!=(r=a.get(t))?r:Array.prototype.indexOf.call(o.children,t))?-1:1}var c=e.compareDocumentPosition(t);return c&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:c&Node.DOCUMENT_POSITION_CONTAINS?1:c&Node.DOCUMENT_POSITION_PRECEDING?-1:c&Node.DOCUMENT_POSITION_FOLLOWING?1:0}).forEach(function(t){var n;try{var r=n9(t.parentNode);if(!r)return;var i=null;t.nextSibling&&(i=n9(t.nextSibling));var o=n9(t);ro(r)&&t.nodeType===Node.TEXT_NODE?n7(t,e):(o||(o=n6({key:t,value:void 0},e)),o.next===i&&o.parent===r||r.insertBefore(o,i))}catch(e){nH.error(e),null==(n=t.parentNode)||n.removeChild(t)}})}},t.prototype.optimize=function(t){var n,r;e.prototype.optimize.call(this,t);try{for(var i=u(this.children),o=i.next();!o.done;o=i.next())o.value.optimize(t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t}(nV),nq=Object.prototype.hasOwnProperty,nX=function(e){if(null==e)return!0;if(e8(e)&&(eG(e)||"string"==typeof e||"function"==typeof e.splice||eZ(e)||eJ(e)||eU(e)))return!e.length;var t=tx(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(e2(e))return!e9(e).length;for(var n in e)if(nq.call(e,n))return!1;return!0},nJ=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.formatSet=new Map,t}return o(t,e),t.prototype.clone=function(){var t=e.prototype.clone.call(this);return t.cloneFormats(this.formatSet),t},t.prototype.format=function(e,t){t||!nX(this.getStyler().getStyles(this,[e]))?this.getStyler().setStyle(this,e,t):this.unwrap()},t.prototype.formatAt=function(e,t,n,r){var i=this.getStyler().getStyle(this,n);if(i){if(i===r||"underline"===n&&nB(this.domNode))return;this.isolate(e,t).format(n,r)}else this.children.forEachAt(e,t,function(e,t,i){e.formatAt(t,i,n,r)})},t.prototype.getFormats=function(){return this.getStyler().getStyles(this)},t.prototype.getFormatFromVNode=function(e){return this.formatSet.get(e)},t.prototype.setFormatForVNode=function(e,t){this.formatSet.set(e,t)},t.prototype.deleteFormatForVNode=function(e){this.formatSet.delete(e)},t.prototype.cloneFormats=function(e){this.formatSet=new Map(e)},t}(nQ),n$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.createDomNode=function(){return document.createElement(this.tagName)},t.prototype.unwrap=function(e){var t,n,r=this;void 0===e&&(e="");var i=this.next;if(e.length>0&&this.prev){var o=this.prev,a=o.length();o.insertTextAt(a,e);var s=rr(this.domNode);if(nX(this.getFormats())&&s.length>0){if(!s[0].vNodeStyleKey)return;s.forEach(function(t){var n=t.vNodeStyleKey,i=t.vNodeStyleValue;if(n&&r.getStyler().getStyle(r,n)!==i){var s=o.isolate(a,e.length);s&&(s instanceof nK?s.wrap().format(n,i):s.format(n,i))}})}}try{for(var c=u(this.children),l=c.next();!l.done;l=c.next()){var d=l.value;this.parent.insertBefore(d,i)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}this.remove()},t.prototype.optimize=function(n){var r,i,o=this;if(e.prototype.optimize.call(this,n),0===this.children.getSize()){var a=this.domNode.childNodes;return a.length>0?void a.forEach(function(e){e.textContent.length>0?o.unwrap(e.textContent):o.unwrap()}):this.unwrap()}if(nX(this.getFormats()))return this.unwrap();if(this.next instanceof t&&nc(this.getStyler().getStyles(this),this.next.getStyler().getStyles(this.next))){try{for(var s=u(this.next.children),c=s.next();!c.done;c=s.next()){var l=c.value;this.insertBefore(l)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}this.next.remove()}},t.tagName="SPAN",t}(nJ),n0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.createDomNode=function(){return document.createElement(this.tagName)},t.prototype.insertBefore=function(){throw Error("embed node cannot insert child node")},t.prototype.value=function(){return""},t.prototype.length=function(){return 1},t.prototype.getNativeRangePos=function(e){var t=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(t+=1),[this.parent.domNode,t]},t.prototype.getOffsetFromNativeRangePos=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.split=function(e){return 0===e?this:this.next},t.prototype.insertTextAt=function(e,t){var n=n6({key:nK.createDomNode(t)}),r=this.split(e);this.parent.insertBefore(n,r)},t.prototype.wrap=function(){var e=n6({key:document.createElement("span")});return this.parent.insertBefore(e,this.next),e.insertBefore(this),e},t.prototype.deleteAt=function(e,t){var n=this.isolate(e,t);n&&n.remove()},t.prototype.format=function(e,t){this.wrap().format(e,t)},t.prototype.formatAt=function(e,t,n,r){0===e&&t===this.length()&&this.format(n,r)},t.prototype.update=function(){},t.prototype.formatEmbed=function(e,t){},t.tagName="SPAN",t}(nY),n1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.createDomNode=function(){return document.createElement(this.tagName)},t.prototype.optimize=function(){(this.prev||this.next)&&this.remove()},t.prototype.length=function(){return 0},t.tagName="BR",t}(n0),n2=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cache={},t}return o(t,e),t.createDomNode=function(){return document.createElement(this.tagName)},t.prototype.clearCache=function(){this.cache={}},t.prototype.getDelta=function(){var e;return void 0===this.cache.delta&&(this.cache.delta=(e=this).getLeaves().reduce(function(e,t){return 0===t.length()?e:e.insert(t.value(),rt(t))},new nT).insert("\n",rt(e))),this.cache.delta},t.prototype.length=function(){return void 0===this.cache.length&&(this.cache.length=e.prototype.length.call(this)+1),this.cache.length},t.prototype.insertBefore=function(t,n){e.prototype.insertBefore.call(this,t,n),this.clearCache()},t.prototype.removeChild=function(t){e.prototype.removeChild.call(this,t),this.clearCache()},t.prototype.insertTextAt=function(t,n){var r=n.split("\n"),i=r.shift();i&&i.length>0&&(t<this.length()||!this.children.getTail()?e.prototype.insertTextAt.call(this,t,i):this.children.getTail().insertTextAt(this.children.getTail().length(),i),this.clearCache());var o=this;r.reduce(function(e,t){return(o=o.split(e,!0)).insertTextAt(0,t),t.length},t+((null==i?void 0:i.length)||0))},t.prototype.insertEmbedAt=function(t,n,r,i){e.prototype.insertEmbedAt.call(this,t,n,r,i),this.clearCache()},t.prototype.deleteAt=function(t,n){e.prototype.deleteAt.call(this,t,n),this.clearCache()},t.prototype.formatAt=function(t,n,r,i){e.prototype.formatAt.call(this,t,n,r,i),this.clearCache()},t.prototype.getLeaf=function(t){void 0===t&&(t=0);var n=t===this.length()-1;return e.prototype.getLeaf.call(this,t,n)},t.prototype.split=function(t,n){void 0===n&&(n=!1);var r=e.prototype.split.call(this,t,n);return this.clearCache(),r},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.getSize()){var n=void 0;n=1===this.domNode.childNodes.length&&"BR"===this.domNode.lastChild.tagName?this.domNode.lastChild:n1.createDomNode();var r=new n1(n);this.insertBefore(r),r.optimize()}this.clearCache()},t.tagName="P",t}(nQ),n4=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.savedMutations=[],o.batchMode=!1,o.root=o,o.styler=n,o.editor=r,o.emitter=i,o.startMutationObserver(),o.clean(),o}return o(t,e),t.createDomNode=function(){return document.createElement(this.tagName)},t.prototype.clean=function(){var e,t;try{for(var n=u(this.children),r=n.next();!r.done;r=n.next())r.value.remove()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.optimize()},t.prototype.remove=function(){throw Error("root node cannot be removed")},t.prototype.insertBefore=function(t,n){if(!(t instanceof n2))throw Error("root node can only insert VLine");e.prototype.insertBefore.call(this,t,n)},t.prototype.insertTextAt=function(t,n){if(0!==n.length){var r=Math.min(t,this.length()-1);e.prototype.insertTextAt.call(this,r,n),this.optimize()}},t.prototype.deleteAt=function(t,n){var r,i,o=c(this.children.get(t),2),a=o[0],s=o[1],l=c(this.children.get(t+n),1)[0];if(e.prototype.deleteAt.call(this,t,n),a&&l&&a!==l&&s>0){try{for(var d=u(l.children),f=d.next();!f.done;f=d.next()){var p=f.value;p instanceof n1||a.insertBefore(p)}}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}l.remove()}this.optimize()},t.prototype.formatAt=function(e,t,n,r){this.children.forEachAt(e,t,function(e,t,i){e.formatAt(t,i,n,r)}),this.optimize()},t.prototype.startBatch=function(){this.batchMode=!0},t.prototype.endBatch=function(){this.batchMode=!1,this.sync()},t.prototype.sync=function(e){var t,n,r,i=this,o={};if(e=e||this.mutationObserver.takeRecords(),this.batchMode)return(t=this.savedMutations).push.apply(t,l([],c(e),!1)),void(this.editor.isComposing()&&this.emitter.compositionEmitter.fire(new CompositionEvent("compositionupdateend")));if(e=l(l([],c(this.savedMutations),!1),c(e),!1),this.savedMutations=[],0!==e.length){try{for(var a=u(this.children),s=a.next();!s.done;s=a.next())s.value.clearCache()}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}e.map(function(e){var t=n9(e.target,!0);return t?t.mutations?(t.mutations.push(e),null):(t.mutations=[e],t):null}).forEach(function(e){e&&e!==i&&e.update(o)}),this.mutations&&this.update(o),this.emitter.viewChangeStartEmitter.fire({mutations:e,context:o}),this.optimize(o),this.emitter.viewChangeEmitter.fire({mutations:e,context:o})}},t.prototype.optimize=function(t){if(void 0===t&&(t={}),!this.batchMode&&(e.prototype.optimize.call(this,t),0===this.children.getSize())){var n=new n2(n2.createDomNode());this.insertBefore(n),n.optimize(t)}},t.prototype.startMutationObserver=function(){var e=this;this.mutationObserver=new MutationObserver(function(t){e.sync(t)}),this.mutationObserver.observe(this.domNode,{subtree:!0,childList:!0,attributes:!0,characterData:!0,characterDataOldValue:!0})},t.tagName="DIV",t}(nQ),n3=function(e){function t(t){var n=e.call(this,t)||this;return n.savedLength=0,n.textNode=document.createTextNode("\uFEFF"),n.domNode.appendChild(n.textNode),n}return o(t,e),t.createDomNode=function(){return document.createElement(this.tagName)},t.prototype.length=function(){return this.savedLength},t.prototype.detach=function(){this.parent.children.remove(this)},t.prototype.formatCursor=function(e,t){for(var n=this,r=0;n&&!(n instanceof n2);)r+=n.offset(n.parent),n=n.parent;n&&(this.savedLength=1,n.formatAt(r,this.length(),e,t),this.savedLength=0)},t.prototype.getOffsetFromNativeRangePos=function(){return 0},t.prototype.restore=function(){if(this.parent){for(;this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);var e,t=this.prev instanceof nK?this.prev:null,n=this.next instanceof nK?this.next:null,r=(null==n?void 0:n.value())||"",i=this.textNode.data.split("\uFEFF").join("");("\uFEFF"!==this.textNode.data&&(this.textNode.data="\uFEFF"),t)?(e=t,(i||n)&&(t.insertTextAt(t.length(),i+r),n&&n.remove())):n?(e=n,n.insertTextAt(0,i)):(e=new nK(document.createTextNode(i)),this.parent.insertBefore(e,this)),this.remove()}},t.prototype.update=function(){var e=this,t=this.mutations;t&&t.some(function(t){return"characterData"===t.type&&t.target===e.textNode})&&this.restore()},t.tagName="SPAN",t}(n0),n5=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.savedValue=n,o.savedFormats=r,o.embedTools=i,o.contentNode=document.createElement("span"),o.contentNode.setAttribute("contenteditable","false"),o.contentNode.style.whiteSpace="nowrap",o.contentNode.style.display="inline-block",Array.from(o.domNode.childNodes).forEach(function(e){o.contentNode.appendChild(e)}),o.leftGuard=document.createTextNode("\uFEFF"),o.rightGuard=document.createTextNode("\uFEFF"),o.domNode.appendChild(o.leftGuard),o.domNode.appendChild(o.contentNode),o.domNode.appendChild(o.rightGuard),o}return o(t,e),t.createDomNode=function(e){return document.createElement(this.tagName)},t.prototype.value=function(){var e;return(e={})[nF(this).key]=this.savedValue,e},t.prototype.getFormats=function(){return this.savedFormats},t.prototype.getSavedValue=function(){return this.savedValue},t.prototype.setSavedValue=function(e){this.savedValue=e},t.prototype.format=function(e,t){this.savedFormats[e]=t,this.getStyler().isStyleHidden(e)||this.formatEmbed(e,t)},t.prototype.getOffsetFromNativeRangePos=function(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:e.prototype.getOffsetFromNativeRangePos.call(this,t,n)},t.prototype.restore=function(e){var t,n=null,r=e.data.split("\uFEFF").join("");if(0===r.length)return null;if(e===this.leftGuard)if(this.prev instanceof nK){var i=this.prev.length();this.prev.insertTextAt(i,r),n={startNode:this.prev.domNode,startOffset:i+r.length}}else t=document.createTextNode(r),this.parent.insertBefore(n6({key:t}),this),n={startNode:t,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof nK?(this.next.insertTextAt(0,r),n={startNode:this.next.domNode,startOffset:r.length}):(t=document.createTextNode(r),this.parent.insertBefore(n6({key:t}),this.next),n={startNode:t,startOffset:r.length}));return e.data="\uFEFF",n},t.prototype.update=function(e){var t=this;void 0===e&&(e={});var n=this.mutations;n&&n.forEach(function(n){if("characterData"===n.type&&(n.target===t.leftGuard||n.target===t.rightGuard)){var r=t.restore(n.target);r&&(e.range=r)}})},t.tagName="SPAN",t}(n0);function n9(e,t){return void 0===t&&(t=!1),e?e.__vnode?e.__vnode:t?n9(e.parentNode,t):null:null}var n8={};function n6(e,t){void 0===t&&(t={});var n,r,i=e.key,o=e.embedTools,a=e.value;if(i instanceof Node){if(i.tagName===n1.tagName)return new n1(i);if(i.nodeType===Node.TEXT_NODE)return new nK(i);if(i.tagName===n2.tagName)return new n2(i);if(i.tagName===n$.tagName)return new n$(i);for(var s=i;s.lastChild;)s=s.lastChild;if(s.nodeType===Node.TEXT_NODE){var u=new n$(document.createElement("span"));return null==(n=i.parentNode)||n.replaceChild(u.domNode,i),u.domNode.appendChild(s),t.range={startNode:s,startOffset:(null==(r=s.textContent)?void 0:r.length)||0},u}}if("string"==typeof i&&a){var c=n8[i];if(c)return new c(c.createDomNode(a),a.textValue,a.formats,o)}throw Error("Cannot create VNode with given params")}function n7(e,t){void 0===t&&(t={});var n=n9(e.parentNode);if(!n||!ro(n))throw Error("Failed To move textNode into block: parentNode is not root");if(e.nodeType!==Node.TEXT_NODE)throw Error("Failed To move textNode into block: node is not textNode");var r=e.textContent||"",i=(null==r?void 0:r.length)||0,o=null;e.previousSibling?((o=n9(e.previousSibling)).insertTextAt(o.length(),r),i=o.length()-1):e.nextSibling?(o=n9(e.nextSibling)).insertTextAt(0,r):(o=new n2(document.createElement("p")),n.insertBefore(o),o.insertTextAt(o.length(),r)),n.domNode.removeChild(e),t.range={startNode:o.domNode.firstChild,startOffset:i}}function re(e,t,n){void 0===t&&(t=0),void 0===n&&(n=Number.MAX_VALUE);var r=[];return e.children.forEachAt(t,n,function(e){if(!(e instanceof n2))throw Error("VRoot has a child that is not a VBlock");r.push(e)}),r}function rt(e,t){return void 0===t&&(t={}),e?((e instanceof nJ||e instanceof n5)&&(t=a(a({},e.getFormats()),t)),!e.parent||e.parent instanceof n4?t:rt(e.parent,t)):t}function rn(e){return e instanceof n2}var rr=function(e){for(var t=[],n=[e];0!==n.length;){var r=n.pop();r.childNodes.length>0&&r.childNodes.forEach(function(e){n.push(e)});var i=r.style;if(i&&i.length>0)for(var o=0;o<i.length;o+=1){var a=i.getPropertyValue(i[o]);if(void 0!==a){var s=ri(i[o],a);t.push.apply(t,l([],c(s),!1))}}}return t},ri=function(e,t){if("font-weight"===e&&"bold"===t)return[{vNodeStyleKey:"bold",vNodeStyleValue:!0}];if("font-style"===e&&"italic"===t)return[{vNodeStyleKey:"italic",vNodeStyleValue:!0}];if("color"===e)return[{vNodeStyleKey:"color",vNodeStyleValue:t}];if("font-family"===e)return[{vNodeStyleKey:"fontFamily",vNodeStyleValue:t}];if("font-size"===e)return[{vNodeStyleKey:"fontSize",vNodeStyleValue:Number(null==t?void 0:t.replace("pt",""))}];if("background-color"===e)return[{vNodeStyleKey:"backgroundColor",vNodeStyleValue:t}];if("opacity"===e)return[{vNodeStyleKey:"opacity",vNodeStyleValue:t}];if("text-decoration-line"===e){var n=[];return t.includes("underline")&&n.push({vNodeStyleKey:"underline",vNodeStyleValue:!0}),t.includes("line-through")&&n.push({vNodeStyleKey:"strikethrough",vNodeStyleValue:!0}),n}return[{vNodeStyleKey:void 0,vNodeStyleValue:void 0}]};function ro(e){return e instanceof n4}var ra,rs=function(){function e(e,t){this.delta=(new nT).insert("\n"),this.vRoot=e,this.hiddenStyles=t}return e.prototype.getDelta=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.getLength()),this.delta.slice(e,e+t)},e.prototype.getDeltaFromView=function(){return re(this.vRoot).reduce(function(e,t){return e.concat(t.getDelta())},new nT)},e.prototype.getLength=function(){return this.delta.length()-1},e.prototype.getLastOp=function(e){var t=e.ops.length;if(0!==t)return e.ops[t-1]},e.prototype.getText=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.getLength()-e),this.getDelta().slice(e,e+t).filter(function(e){return"string"==typeof e.insert||"object"===r(e.insert)}).map(function(e){return"string"==typeof e.insert?e.insert:"object"===r(e.insert)&&Object.values(e.insert)[0].text||""}).join("")},e.prototype.getEmbed=function(e){void 0===e&&(e=0);var t=this.getDelta().slice(e,e+1).ops[0];return"object"===r(null==t?void 0:t.insert)?t:null},e.prototype.insertText=function(e,t,n){void 0===n&&(n={});var r,i,o=nA(t);this.vRoot.insertTextAt(e,o);try{for(var a=u(Object.entries(n)),s=a.next();!s.done;s=a.next()){var l=c(s.value,2),d=l[0],f=l[1];this.vRoot.formatAt(e,o.length,d,f)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return this.update((new nT).retain(e).insert(o,t0(n)))},e.prototype.deleteText=function(e,t){return this.vRoot.deleteAt(e,t),this.update((new nT).retain(e).delete(t))},e.prototype.replaceText=function(e,t,n,r){void 0===r&&(r={});var i,o,a=nA(t);this.vRoot.deleteAt(e,n),this.vRoot.insertTextAt(e,a);try{for(var s=u(Object.entries(r)),l=s.next();!l.done;l=s.next()){var d=c(l.value,2),f=d[0],p=d[1];this.vRoot.formatAt(e,a.length,f,p)}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return this.update((new nT).retain(e).insert(a,t0(r)).delete(n))},e.prototype.insertEmbeds=function(e,t,n,r,i){var o=this;return n.forEach(function(n){o.vRoot.insertEmbedAt(e,t,{textValue:n,formats:r},i)}),this.update(n.reduce(function(e,n){var i;return e.insert(((i={})[t]=n,i),a({},r))},(new nT).retain(e)))},e.prototype.setFormat=function(e,t,n,r){this.vRoot.formatAt(e,t,n,r);var i=(new nT).retain(e).retain(t,{key:r});return this.update(i)},e.prototype.isEqual=function(e,t){return 0===e.length()&&0===t.length()||nc(e,t)},e.prototype.clearFormat=function(){var e=this.getText(),t=(new nT).insert(e).invert(this.getDelta());return this.update(t)},e.prototype.formatLine=function(e,t,n){void 0===n&&(n={});var r=(new nT).retain(e).retain(t,t0(n));return this.update(r)},e.prototype.applyDelta=function(e,t){var n=this,i=function(e){return e.reduce(function(e,t){if("string"==typeof t.insert){var n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)},new nT)}(e),o=new nT;this.vRoot.startBatch(),i.reduce(function(e,i){var s=nS.length(i),u=i.attributes||{};if(i.insert){if(o.retain(s),"string"==typeof i.insert){var c=i.insert;n.vRoot.insertTextAt(e,c)}else if("object"===r(i.insert)){var l=Object.keys(i.insert)[0];if(!l)return e;n.vRoot.insertEmbedAt(e,l,{textValue:i.insert[l],formats:a({},u),hiddenStyles:n.hiddenStyles},t)}}else o.push(i);return Object.keys(u).forEach(function(t){n.vRoot.formatAt(e,s,t,u[t])}),e+s},0),o.reduce(function(e,t){return"number"==typeof t.delete?(n.vRoot.deleteAt(e,t.delete),e):e+nS.length(t)},0);var s=this.update(i);return this.vRoot.endBatch(),s},e.prototype.update=function(e){var t=this.delta,n=t.slice(0,this.getLength()),r=e;return this.delta=this.getDeltaFromView(),r&&nc(t.compose(r),this.delta)||(r=t.diff(this.delta)),r?{oldDelta:n,updateDelta:r}:{oldDelta:n,updateDelta:new nT}},e}(),ru=function(){function e(e,t){void 0===t&&(t=e),this.start=Math.min(e,t),this.end=Math.max(e,t)}return e.prototype.getStart=function(){return this.start},e.prototype.getEnd=function(){return this.end},e.prototype.getLength=function(){return this.end-this.start},e.prototype.equals=function(e){return e.start===this.start&&e.end===this.end},e.prototype.isCollapsed=function(){return this.start===this.end},e}();function rc(e,t,n){var r,i,o,a,s;return(null==(r=e.ops[e.ops.length-1])?void 0:r.attributes)&&(null==(o=null==(i=e.ops[e.ops.length-1])?void 0:i.attributes)?void 0:o[t])?null==(s=null==(a=e.ops[e.ops.length-1])?void 0:a.attributes)?void 0:s[t]:n}function rl(e,t){try{t.parentNode}catch(e){return nH.error(e),!1}return function(e,t){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(e,t)}t.SOURCE=void 0,(ra=t.SOURCE||(t.SOURCE={}))[ra.API=0]="API",ra[ra.EDITOR=1]="EDITOR",ra[ra.HISTORY=2]="HISTORY",ra[ra.SILENT=3]="SILENT",ra[ra.COPY=4]="COPY";var rd,rf=function(){function e(e){this.tempCurSorStyle={},this.initCursorStyle={},this.editor=e.editor,this.input=e.input,this.deltaManager=e.deltaManager,this.vRoot=e.vRoot,this.emitter=e.emitter,this.cursor=new n3(n3.createDomNode()),this.lastRange=null,this.savedRange=this.lastRange,this.initEvents()}return e.prototype.clear=function(){this.cursor.restore(),this.lastRange=new ru(0,0),this.savedRange=this.lastRange},e.prototype.hasFocus=function(){var e=document.activeElement===this.input||rl(this.input,document.activeElement),t=document.getSelection(),n=!!(t&&t.rangeCount>0);return e&&n},e.prototype.focus=function(){if(!this.hasFocus()){this.input.focus();var e=document.getSelection();e&&!e.rangeCount&&this.setRange(new ru(0,0))}},e.prototype.blur=function(){this.input.blur()},e.prototype.format=function(e,t){var n,r=this.getNativeRange();if(null==r?void 0:r.native.collapsed){if(r.start.node!==this.cursor.textNode){var i=n9(r.start.node,!0);if(!i)return;var o=i.split(r.start.offset);i.parent.insertBefore(this.cursor,o)}this.cursor.formatCursor(e,t),0===this.editor.getLength()&&this.setTempCursorStyle(a(a({},this.getTempCursorStyle()),((n={})[e]=t,n))),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length)}},e.prototype.setTempCursorStyle=function(e){this.tempCurSorStyle=e},e.prototype.setInitCursorStyle=function(e){this.initCursorStyle=e},e.prototype.getTempCursorStyle=function(){return this.tempCurSorStyle},e.prototype.getInitCursorStyle=function(){return this.initCursorStyle},e.prototype.isCollapsed=function(){var e=document.getSelection();return!(!e||e.rangeCount<=0)&&e.getRangeAt(0).collapsed},e.prototype.collapseToEnd=function(){var e=this.deltaManager.getLength();this.setRange(new ru(e,e))},e.prototype.collapseToPoint=function(e){var t=this.deltaManager.getLength();e>t&&(e=t),this.setRange(new ru(e,e))},e.prototype.scrollIntoView=function(){var e,t=null==(e=this.getNativeRange())?void 0:e.native.endContainer;if(t){for(var n=n9(t,!0);n&&!rn(n);)n=n.parent;if(n){t=n.domNode;var r=this.input.scrollTop,i=this.input.clientHeight,o=t.offsetTop,a=t.offsetHeight,s=null;(o<r||o+a-i>r)&&(s=o+a-i),null!==s&&this.input.scrollTo(0,s)}}},e.prototype.setRange=function(e){var t=this.rangeToNative(e);this.setNativeRange.apply(this,l([],c(t),!1))},e.prototype.getRange=function(){var e=this.getNativeRange();return e?[this.nativeToRange(e),e]:[null,null]},e.prototype.setSavedRange=function(e){this.savedRange=e},e.prototype.getSavedRange=function(){return this.savedRange},e.prototype.restoreSelection=function(e){if(e)this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset);else if(this.rangeBeforeOptimize){var t=c(this.getRange(),1)[0];t&&!t.equals(this.rangeBeforeOptimize)&&this.setRange(this.rangeBeforeOptimize)}this.rangeBeforeOptimize=null},e.prototype.rangeToNative=function(e){var t=this,n=e.isCollapsed()?[e.getStart()]:[e.getStart(),e.getEnd()],r=[],i=this.vRoot.length();return n.forEach(function(e){e=Math.max(0,Math.min(i-1,e));var n=c(t.vRoot.getLeaf(e),2),o=n[0],a=n[1],s=c(o.getNativeRangePos(a),2),u=s[0],l=s[1];r.push(u,l)}),r},e.prototype.nativeToRange=function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var r=n.map(function(e){var n=c(e,2),r=n[0],i=n[1],o=n9(r,!0),a=i;return o instanceof nY&&(a=o.getOffsetFromNativeRangePos(r,i)),o.offset(t.vRoot)+a}),i=Math.min(Math.max.apply(Math,l([],c(r),!1)),this.vRoot.length()-1);return new ru(Math.min.apply(Math,l([i],c(r),!1)),i)},e.prototype.setNativeRange=function(e,t,n,r,i){if(void 0===n&&(n=e),void 0===r&&(r=t),void 0===i&&(i=!1),!e||this.input.parentNode&&e.parentNode&&n.parentNode){var o=document.getSelection();if(o){if(!e)return o.removeAllRanges(),void this.blur();this.hasFocus()||this.input.focus();var a=(this.getNativeRange()||{}).native;if(!a||i||e!==a.startContainer||t!==a.startOffset||n!==a.endContainer||r!==a.endOffset){"BR"===e.tagName&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),"BR"===n.tagName&&(r=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,r);try{o.setBaseAndExtent(e,t,n,r)}catch(e){o.removeAllRanges(),o.addRange(s)}}}}},e.prototype.getNativeRange=function(){var e=document.getSelection();if(!e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);return rl(this.input,t.startContainer)&&(t.collapsed||rl(this.input,t.endContainer))?function(e){var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length>0?t.childNodes.length:1}e.node=t,e.offset=n}),t}(t):null},e.prototype.update=function(){var e=this.lastRange,t=c(this.getRange(),2),n=t[0],r=t[1];this.lastRange=n,this.lastRange&&(this.savedRange=this.lastRange),n&&r&&e&&(e.equals(n)||n.isCollapsed()&&r.native.startContainer!==this.cursor.textNode&&this.cursor.restore())},e.prototype.initEvents=function(){var e=this;this.emitter.selectionChangeEvent(function(n){n.source===t.SOURCE.EDITOR&&(e.editor.isComposing()||setTimeout(function(){e.update()}))}),this.emitter.viewChangeStartEvent(function(){var t=c(e.getRange(),1)[0];t&&(e.rangeBeforeOptimize=t)})},e}(),rp=function(){function e(e){var n=this;this.copyEventHandler=function(e){var t;if(e.preventDefault(),n.config.canCopy){var r=n.editor.getSelection();if(r&&!r.isCollapsed()){var i=n.editor.getText(r.getStart(),r.getLength());null==(t=e.clipboardData)||t.setData("text/plain",i),"cut"!==e.type||n.config.customCut||n.editor.deleteText(r.getStart(),r.getLength()),n.emitter.copyEmitter.fire(e)}}else n.emitter.copyEmitter.fire(e)},this.pasteEventHandler=function(e){e.preventDefault();var r,i=n.editor.getSelection();if(i&&n.editor.getActive()&&!n.config.customPaste&&n.config.canPaste){var o=null==(r=null==e?void 0:e.clipboardData)?void 0:r.getData("text/plain");if(o){var a=i.getStart(),s=i.getEnd();n.editor.replaceText(a,o,s-a,n.editor.getCursorBaseStyle(),t.SOURCE.COPY)}n.emitter.pasteEmitter.fire(e)}else n.emitter.pasteEmitter.fire(e)},this.editor=e.editor,this.emitter=e.emitter,this.input=e.input,this.config=e.config,this.input.addEventListener("copy",this.copyEventHandler),this.input.addEventListener("cut",this.copyEventHandler),this.input.addEventListener("paste",this.pasteEventHandler)}return e.prototype.destroy=function(){this.input.removeEventListener("copy",this.copyEventHandler),this.input.removeEventListener("cut",this.copyEventHandler),this.input.removeEventListener("paste",this.pasteEventHandler)},e.prototype.setCopy=function(e){this.config.canCopy=e},e.prototype.setPaste=function(e){this.config.canPaste=e},e.prototype.getCopy=function(){var e;return null==(e=this.config.canCopy)||e},e.prototype.getPaste=function(){var e;return null==(e=this.config.canPaste)||e},e}(),rh=function(){function e(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}return e.Undefined=new e(void 0),e}(),rg=function(){function e(){this._first=rh.Undefined,this._last=rh.Undefined,this._size=0}return Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return this._first===rh.Undefined},e.prototype.clear=function(){this._first=rh.Undefined,this._last=rh.Undefined,this._size=0},e.prototype.unshift=function(e){return this._insert(e,!1)},e.prototype.push=function(e){return this._insert(e,!0)},e.prototype.shift=function(){if(this._first!==rh.Undefined){var e=this._first.element;return this._remove(this._first),e}},e.prototype.pop=function(){if(this._last!==rh.Undefined){var e=this._last.element;return this._remove(this._last),e}},e.prototype[Symbol.iterator]=function(){var e;return s(this,function(t){switch(t.label){case 0:e=this._first,t.label=1;case 1:return e===rh.Undefined?[3,3]:[4,e.element];case 2:return t.sent(),e=e.next,[3,1];case 3:return[2]}})},e.prototype.toArray=function(){for(var e=[],t=this._first;t!==rh.Undefined;t=t.next)e.push(t.element);return e},e.prototype._insert=function(e,t){var n=this,r=new rh(e);if(this._first===rh.Undefined)this._first=r,this._last=r;else if(t){var i=this._last;this._last=r,r.prev=i,i.next=r}else{var o=this._first;this._first=r,r.next=o,o.prev=r}this._size+=1;var a=!1;return function(){a||(a=!0,n._remove(r))}},e.prototype._remove=function(e){if(e.prev!==rh.Undefined&&e.next!==rh.Undefined){var t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===rh.Undefined&&e.next===rh.Undefined?(this._first=rh.Undefined,this._last=rh.Undefined):e.next===rh.Undefined?(this._last=this._last.prev,this._last.next=rh.Undefined):e.prev===rh.Undefined&&(this._first=this._first.next,this._first.prev=rh.Undefined);this._size-=1},e}(),rm=function(){function e(e){this._disposed=!1,this._options=e}return Object.defineProperty(e.prototype,"event",{get:function(){var e=this;return this._event||(this._event=function(t,n){e._listeners||(e._listeners=new rg);var r,i,o,a=e._listeners.isEmpty();a&&(null==(r=e._options)?void 0:r.onFirstListenerAdd)&&e._options.onFirstListenerAdd(e);var s=e._listeners.push(n?[t,n]:t);return a&&(null==(i=e._options)?void 0:i.onFirstListenerDidAdd)&&e._options.onFirstListenerDidAdd(e),(null==(o=e._options)?void 0:o.onListenerDidAdd)&&e._options.onListenerDidAdd(e,t,n),{dispose:function(){var t;e._disposed||(s(),(null==(t=e._options)?void 0:t.onLastListenerRemove)&&(e._listeners&&!e._listeners.isEmpty()||e._options.onLastListenerRemove(e)))},disposableId:"event"}}),this._event},enumerable:!1,configurable:!0}),e.prototype.fire=function(e){var t,n,r;if(null==(r=this._options)||r.name,this._listeners){this._deliveryQueue||(this._deliveryQueue=new rg);try{for(var i=u(this._listeners),o=i.next();!o.done;o=i.next()){var a=o.value;this._deliveryQueue.push([a,e])}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}for(;this._deliveryQueue.size>0;){var s=c(this._deliveryQueue.shift(),2),l=(a=s[0],s[1]);try{"function"==typeof a?a.call(void 0,l):a[0].call(a[1],l)}catch(e){nH.error(e)}}}},e.prototype.dispose=function(){this._listeners&&this._listeners.clear(),this._deliveryQueue&&this._deliveryQueue.clear(),this._disposed=!0},e}();!function(e){function t(e){return function(t,n){void 0===n&&(n=null);var r=!1,i=e(function(e){if(!r)return i?i.dispose():r=!0,t.call(n,e)},null);return r&&i.dispose(),i}}e.once=t,e.signal=function(e){return e},e.buffer=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=[]);var r=n.slice(),i=e(function(e){r?r.push(e):a.fire(e)}),o=function(){r&&r.forEach(function(e){return a.fire(e)}),r=null},a=new rm({onFirstListenerAdd:function(){i||(i=e(function(e){return a.fire(e)}))},onFirstListenerDidAdd:function(){r&&(t?setTimeout(o):o())},onLastListenerRemove:function(){i&&i.dispose(),i=null}});return a.event},e.fromPromise=function(e){var t=new rm,n=!1;return e.then(void 0,function(){return null}).then(function(){n?t.fire(void 0):setTimeout(function(){return t.fire(void 0)},0)}),n=!0,t.event},e.toPromise=function(e){return new Promise(function(n){return t(e)(n)})}}(rd||(rd={}));var rv,ry=function(){this.viewChangeEmitter=new rm,this.viewChangeEvent=this.viewChangeEmitter.event,this.viewChangeStartEmitter=new rm,this.viewChangeStartEvent=this.viewChangeStartEmitter.event,this.textChangeEmitter=new rm,this.textChangeEvent=this.textChangeEmitter.event,this.compositionEmitter=new rm,this.compositionEvent=this.compositionEmitter.event,this.selectionChangeEmitter=new rm,this.selectionChangeEvent=this.selectionChangeEmitter.event,this.copyEmitter=new rm,this.copyEvent=this.copyEmitter.event,this.pasteEmitter=new rm,this.pasteEvent=this.pasteEmitter.event,this.undoredoEmitter=new rm,this.undoredoEvent=this.undoredoEmitter.event},rb=function(){this.textChangeEmitter=new rm,this.textChangeEvent=this.textChangeEmitter.event,this.selectionChangeEmitter=new rm,this.selectionChangeEvent=this.selectionChangeEmitter.event,this.compositionEmitter=new rm,this.compositionEvent=this.compositionEmitter.event,this.focusEmitter=new rm,this.focusEvent=this.focusEmitter.event,this.blurEmitter=new rm,this.blurEvent=this.blurEmitter.event,this.copyEmitter=new rm,this.copyEvent=this.copyEmitter.event,this.pasteEmitter=new rm,this.pasteEvent=this.pasteEmitter.event,this.undoredoEmitter=new rm,this.undoredoEvent=this.undoredoEmitter.event},r_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.styleKey="fontWeight",t.styleValue="bold",t}return o(t,e),t.prototype.format=function(t,n){!1!==n?e.prototype.format.call(this,t,this.styleValue):this.remove(t)},t.prototype.getFormat=function(t){return e.prototype.getFormat.call(this,t)===this.styleValue},t.key="bold",t}(nN),rC=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.styleKey="fontFamily",t}return o(t,e),t.key="fontFamily",t}(nN),rI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.styleKey="cursor",t}return o(t,e),t.key="cursor",t}(nN),rE=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.styleKey="fontSize",t}return o(t,e),t.prototype.format=function(t,n){var r="".concat(n,"pt");e.prototype.format.call(this,t,r)},t.prototype.getFormat=function(t){var n=e.prototype.getFormat.call(this,t);return Number(null==n?void 0:n.replace("pt",""))},t.key="fontSize",t}(nN),rw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.styleKey="backgroundColor",t}return o(t,e),t.key="highlight",t}(nN),rS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.styleKey="fontStyle",t.styleValue="italic",t}return o(t,e),t.prototype.format=function(t,n){!1!==n?e.prototype.format.call(this,t,this.styleValue):this.remove(t)},t.prototype.getFormat=function(t){return e.prototype.getFormat.call(this,t)===this.styleValue},t.key="italic",t}(nN),rD=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.styleKey="link",t}return o(t,e),t.prototype.format=function(t,n){var r=n;"string"!=typeof n&&(r=JSON.stringify(n)),e.prototype.format.call(this,t,r)},t.prototype.getFormat=function(t){var n=e.prototype.getFormat.call(this,t);if(n)return JSON.parse(n)},t.prototype.remove=function(e){e.deleteFormatForVNode(this.styleKey)},t.key="link",t}(nN),rM=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.styleKey="opacity",t}return o(t,e),t.key="opacity",t}(nN),rT=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.styleKey="textDecoration",t.styleValue="line-through",t}return o(t,e),t.prototype.format=function(t,n){if(!1!==n){if(!this.getFormat(t)){var r=t.getFormatFromVNode(this.styleKey)||"",i="".concat(r," ").concat(this.styleValue);e.prototype.format.call(this,t,i)}}else this.remove(t)},t.prototype.remove=function(t){var n=t.getFormatFromVNode(this.styleKey);if((null==n?void 0:n.trim())!==this.styleValue){var r=null==n?void 0:n.replace(this.styleValue,"").trim();e.prototype.format.call(this,t,r)}else e.prototype.remove.call(this,t)},t.prototype.getFormat=function(e){var t=e.getFormatFromVNode(this.styleKey);return!!(null==t?void 0:t.includes(this.styleValue))},t.key="strikethrough",t}(nN),rA=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.styleKey="textDecoration",t.styleValue="underline",t}return o(t,e),t.prototype.format=function(t,n){if(!1!==n){if(!this.getFormat(t)){var r=t.getFormatFromVNode(this.styleKey)||"",i="".concat(r," ").concat(this.styleValue);e.prototype.format.call(this,t,i)}}else this.remove(t)},t.prototype.remove=function(t){var n=t.getFormatFromVNode(this.styleKey);if((null==n?void 0:n.trim())!==this.styleValue){var r=null==n?void 0:n.replace(this.styleValue,"").trim();e.prototype.format.call(this,t,r)}else e.prototype.remove.call(this,t)},t.prototype.getFormat=function(e){var t=e.getFormatFromVNode(this.styleKey);return!!(null==t?void 0:t.includes(this.styleValue))},t.key="underline",t}(nN);!function(e){e[e.insertCommand=0]="insertCommand",e[e.deleteCommand=1]="deleteCommand",e[e.replaceCommand=2]="replaceCommand",e[e.formatCommand=3]="formatCommand"}(rv||(rv={}));var rx=function(){function e(e){this.redoStack=[],this.undoStack=[],this.lastOperationPosition=0,this.previousCommand=void 0,this.currCommand=void 0,this.isPreviousInsertEmbed=!1,this.isPreviousInputDirty=!1,this.isRedoLock=!0,this.isInputSourceDirty=!1,this.firstInsertChar=void 0,this.secondInsertChar=void 0,this.isInsertBug=!1,this.editor=e.editor,this.deltaManager=e.deltaManager,this.emitter=e.emitter,this.clear(),this.setBaseHistoryDelta(this.deltaManager.getDelta()),this.initEventListeners()}return e.prototype.clear=function(){this.redoStack=[],this.undoStack=[],this.previousCommand=void 0,this.currCommand=void 0,this.setBaseHistoryDelta(new nT)},e.prototype.hasUndo=function(){if(this.editor.isComposing())return this.undoStack.length>0;var e=!this.deltaManager.isEqual(this.deltaManager.getDelta(),this.initDelta);return this.undoStack.length>0||e},e.prototype.hasRedo=function(){return this.redoStack.length>0},e.prototype.setBaseHistoryDelta=function(e){this.initDelta=e,this.lastSaveDelta=e,this.potentialSaveDelta=e},e.prototype.undo=function(){if(this.hasUndo()){var e,n,r=this.deltaManager.getDelta();this.isInputSourceDirty?(this.redoStack=[],e=(n=this.lastSaveDelta.diff(r)).invert(this.lastSaveDelta)):n=null==(e=this.undoStack.pop())?void 0:e.invert(r),e&&n&&(this.redoStack.push(n),this.editor.updateContents(e,t.SOURCE.HISTORY),this.lastSaveDelta=r.compose(e),this.lastOperationPosition=this.getCursorIndex(e),this.editor.collapseToPoint(this.lastOperationPosition),this.isInputSourceDirty=!1,this.isRedoLock=!1,this.emitter.undoredoEmitter.fire({canUndo:this.hasUndo(),canRedo:this.hasRedo()}))}},e.prototype.redo=function(){if(0!==this.redoStack.length&&!this.isRedoLock){var e=this.redoStack.pop(),n=this.deltaManager.getDelta(),r=null==e?void 0:e.invert(n);r&&e&&(this.undoStack.push(r),this.editor.updateContents(e,t.SOURCE.HISTORY),this.lastSaveDelta=n.compose(e),this.lastOperationPosition=this.getCursorIndex(e),this.editor.collapseToPoint(this.lastOperationPosition),this.isInputSourceDirty=!1,this.emitter.undoredoEmitter.fire({canUndo:this.hasUndo(),canRedo:this.hasRedo()}))}},e.prototype.save=function(t){this.redoStack=[];var n=this.lastSaveDelta.diff(t).invert(this.lastSaveDelta);0===n.ops.length&&(n=(new nT).delete(1)),this.undoStack.push(n),this.lastSaveDelta=t,this.undoStack.length>e.maxStack&&this.undoStack.shift(),this.emitter.undoredoEmitter.fire({canUndo:this.hasUndo(),canRedo:this.hasRedo()})},e.prototype.initEventListeners=function(){var e=this;this.emitter.textChangeEvent(function(t){e.textChangeEventHandler(t)})},e.prototype.handleInsertFromStart=function(e){this.firstInsertChar?this.secondInsertChar=e.ops[0].insert:this.firstInsertChar=e.ops[0].insert,this.firstInsertChar===this.secondInsertChar&&(this.isInsertBug=!0)},e.prototype.clearInsertFromStartVars=function(){this.firstInsertChar=void 0,this.secondInsertChar=void 0,this.isInsertBug=!1},e.prototype.convertChangetoCommand=function(e){return 1===e.ops.length?Object.prototype.hasOwnProperty.call(e.ops[0],"insert")?(this.handleInsertFromStart(e),rv.insertCommand):(this.clearInsertFromStartVars(),Object.prototype.hasOwnProperty.call(e.ops[0],"delete")?rv.deleteCommand:rv.formatCommand):(this.clearInsertFromStartVars(),2===e.ops.length&&Object.prototype.hasOwnProperty.call(e.ops[0],"retain")&&Object.prototype.hasOwnProperty.call(e.ops[1],"delete")?rv.deleteCommand:e.ops.every(function(e){return Object.prototype.hasOwnProperty.call(e,"retain")})?rv.formatCommand:e.ops.some(function(e){return Object.prototype.hasOwnProperty.call(e,"delete")})?rv.replaceCommand:rv.insertCommand)},e.prototype.compareCommand=function(e,t,n){return t===rv.replaceCommand||!!(n.ops.some(function(e){return"object"===r(null==e?void 0:e.insert)==!0})||n.ops.some(function(e){return"\n"===(null==e?void 0:e.insert)})&&!this.deltaManager.isEqual(this.potentialSaveDelta,this.initDelta))||e===rv.deleteCommand&&t!==rv.deleteCommand||t===rv.deleteCommand&&e===rv.insertCommand||!!this.checkContinuousInsertSave(t,e,n)||!(t!==rv.deleteCommand||e!==rv.deleteCommand||!this.compareDeletePosition(n))},e.prototype.checkContinuousInsertSave=function(e,t,n){return!(e!==rv.insertCommand||t!==rv.insertCommand||!this.compareInsertPosition(n)||this.isInsertBug)||!(e!==rv.insertCommand||t!==rv.insertCommand||!this.isPreviousInsertEmbed)},e.prototype.compareDeletePosition=function(e){return!!Object.prototype.hasOwnProperty.call(e.ops[0],"delete")||!!(Object.prototype.hasOwnProperty.call(e.ops[0],"retain")&&e.ops.length>=2&&e.ops[0].retain!==this.lastOperationPosition-e.ops[1].delete)},e.prototype.compareInsertPosition=function(e){return!!Object.prototype.hasOwnProperty.call(e.ops[0],"insert")||!(!Object.prototype.hasOwnProperty.call(e.ops[0],"retain")||e.ops[0].retain===this.lastOperationPosition)},e.prototype.textChangeEventHandler=function(e){if(this.editor.getActive()){e.source===t.SOURCE.HISTORY?(this.isInputSourceDirty=!1,this.isRedoLock=!1):(this.isInputSourceDirty=!0,this.isRedoLock=!0);var n=e.diffDelta;0!==n.ops.length&&!0!==this.editor.isComposing()&&(this.currCommand=this.convertChangetoCommand(n),this.isInputSourceDirty&&this.isPreviousInputDirty&&this.compareCommand(this.previousCommand,this.currCommand,n)&&this.save(this.potentialSaveDelta),this.potentialSaveDelta=this.potentialSaveDelta.compose(n),this.previousCommand=this.currCommand,this.isPreviousInsertEmbed=n.ops.some(function(e){return"object"===r(null==e?void 0:e.insert)}),this.isPreviousInputDirty=this.isInputSourceDirty,this.isInsertBug?this.lastOperationPosition=2:this.lastOperationPosition=this.getCursorIndex(n),this.emitter.undoredoEmitter.fire({canUndo:this.hasUndo(),canRedo:this.hasRedo()}))}},e.prototype.getCursorIndex=function(e){var t=e.reduce(function(e,t){return e+(t.delete||0)},0),n=e.length()-t;return this.endsWithNewlineChange(e)&&(n-=1),n},e.prototype.endsWithNewlineChange=function(e){var t=e.ops[e.ops.length-1];return!!t&&null!==t.insert&&"\n"!==t.insert&&"string"==typeof t.insert&&t.insert.endsWith("\n")},e.maxStack=100,e}();"object"!==(void 0===n.g?"undefined":r(n.g))&&(Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.global=__magic__,Object.prototype.__magic__=void 0);var rN,rO,rk=/Mac|iPad/i.test(window.navigator.platform)?"metaKey":"ctrlKey",rR={BACKSPACE:8,TAB:9,RETURN:13,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,CAPS_LOCK:20,ESCAPE:27,SPACE:32,SPACE_SAFARI:160,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,META:91,META_LEFT:91,META_RIGHT:93,NUMPAD0:96,NUMPAD1:97,NUMPAD2:98,NUMPAD3:99,NUMPAD4:100,NUMPAD5:101,NUMPAD6:102,NUMPAD7:103,NUMPAD8:104,NUMPAD9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,SEMICOLON_FIREFOX:59,EQUAL:187,EQUAL_FIREFOX:61,COMMA:188,MINUS:189,MINUS_FIREFOX:173,PERIOD:190,SLASH:191,BACK_QUOTE:192,LEFT_BRACKETS:219,BACKSLASH:220,RIGHT_BRACKETS:221,QUOTE:222},rL={DIGIT0:48,DIGIT9:57},rj=function(){function e(e){this.options=e,this.bindings={},this.onKeyDown=this.onKeyDown.bind(this),this.listen();var t=e.bindings;t&&(Array.isArray(t)?this.addBindings(t):this.addBinding(t))}return e.match=function(t,n){if(!n.ignore&&["altKey","ctrlKey","metaKey","shiftKey"].some(function(e){return!!n[e]!==t[e]}))return!1;var r=e.getKeyCodeByEvent(t);return n.key===r||n.key===t.key},e.isEqual=function(e,t){return["altKey","ctrlKey","metaKey","shiftKey","ignore"].every(function(n){return e[n]===t[n]})},e.normalize=function(t){var n=t;if("string"==typeof n.key){var r=n.key.toUpperCase();e.isCommonChar(r)&&(n.key=r.charCodeAt(0))}return n.shortKey&&(n[rk]=n.shortKey,n.shortKey=void 0),n},e.isCommonChar=function(e){return void 0===e&&(e=""),1===e.length&&(e<="9"&&e>="0"||e<="Z"&&e>="A"||e<="z"&&e>="a"||"\xa0"===e)},e.getKeyCodeByEvent=function(t){var n,r=t.which||t.keyCode,i=null==(n=null==t?void 0:t.code)?void 0:n.toUpperCase();return 229===r&&e.isCommonChar(t.key)?r=t.key.toUpperCase().charCodeAt(0):229===r&&i in rL&&(r=rL[i]),r},e.prototype.addBinding=function(t){var n=e.normalize(t),r=n.key;this.bindings[r]=this.bindings[r]||[],t.override&&(this.bindings[r]=this.bindings[r].filter(function(t){return!e.isEqual(t,n)})),n.priority?this.bindings[r].unshift(n):this.bindings[r].push(n)},e.prototype.addBindings=function(e){var t=this;Array.isArray(e)&&e.forEach(function(e){t.addBinding(e)})},e.prototype.removeBinding=function(t){var n=e.normalize(t),r=n.key,i=this.bindings[r];i&&i.length&&(this.bindings[r]=i.filter(function(e){return n.key!==e.key||n.handler!==e.handler||n.metaKey!==e.metaKey||n.ctrlKey!==e.ctrlKey||n.shiftKey!==e.shiftKey||n.priority!==e.priority}))},e.prototype.removeBindings=function(e){var t=this;Array.isArray(e)&&e.forEach(function(e){t.removeBinding(e)})},e.prototype.destroy=function(){this.bindings={},this.options.root.removeEventListener("keydown",this.onKeyDown)},e.prototype.listen=function(){this.options.root.addEventListener("keydown",this.onKeyDown)},e.prototype.onKeyDown=function(t){var n,r,i,o,a=this;if(!(null==(r=(n=this.options).shouldDisable)?void 0:r.call(n))){var s=e.getKeyCodeByEvent(t),u=(this.bindings[t.key]||[]).concat(this.bindings[s]||[]).filter(function(n){return e.match(t,n)});0!==u.length&&u.some(function(e){return!1===e.handler.call(a,t,e)})&&(null==(i=t.preventDefault)||i.call(t),null==(o=t.stopPropagation)||o.call(t))}},e.KEYS=rR,e}(),rP=new(T(function(e){e.exports&&(e.exports=function(){var e=3,t=4,n=12,r=13,i=16,o=17;function a(e,t){void 0===t&&(t=0);var n=e.charCodeAt(t);if(55296<=n&&n<=56319&&t<e.length-1){var r=n;return 56320<=(i=e.charCodeAt(t+1))&&i<=57343?1024*(r-55296)+(i-56320)+65536:r}if(56320<=n&&n<=57343&&t>=1){var i=n;return 55296<=(r=e.charCodeAt(t-1))&&r<=56319?1024*(r-55296)+(i-56320)+65536:i}return n}function s(a,s,u){var c=[a].concat(s).concat([u]),l=c[c.length-2],d=u,f=c.lastIndexOf(14);if(f>1&&c.slice(1,f).every(function(t){return t==e})&&-1==[e,r,o].indexOf(a))return 2;var p=c.lastIndexOf(t);if(p>0&&c.slice(1,p).every(function(e){return e==t})&&-1==[n,t].indexOf(l))return c.filter(function(e){return e==t}).length%2==1?3:4;if(0==l&&1==d)return 0;if(2==l||0==l||1==l)return 14==d&&s.every(function(t){return t==e})?2:1;if(2==d||0==d||1==d)return 1;if(6==l&&(6==d||7==d||9==d||10==d)||(9==l||7==l)&&(7==d||8==d)||(10==l||8==l)&&8==d||d==e||15==d||5==d||l==n)return 0;var h=-1!=c.indexOf(e)?c.lastIndexOf(e)-1:c.length-2;return -1!=[r,o].indexOf(c[h])&&c.slice(h+1,-1).every(function(t){return t==e})&&14==d||15==l&&-1!=[i,o].indexOf(d)?0:-1!=s.indexOf(t)?2:+(l!=t||d!=t)}function u(a){return 1536<=a&&a<=1541||1757==a||1807==a||2274==a||3406==a||69821==a||70082<=a&&a<=70083||72250==a||72326<=a&&a<=72329||73030==a?n:13==a?0:10==a?1:0<=a&&a<=9||11<=a&&a<=12||14<=a&&a<=31||127<=a&&a<=159||173==a||1564==a||6158==a||8203==a||8206<=a&&a<=8207||8232==a||8233==a||8234<=a&&a<=8238||8288<=a&&a<=8292||8293==a||8294<=a&&a<=8303||55296<=a&&a<=57343||65279==a||65520<=a&&a<=65528||65529<=a&&a<=65531||113824<=a&&a<=113827||119155<=a&&a<=119162||917504==a||917505==a||917506<=a&&a<=917535||917632<=a&&a<=917759||918e3<=a&&a<=921599?2:768<=a&&a<=879||1155<=a&&a<=1159||1160<=a&&a<=1161||1425<=a&&a<=1469||1471==a||1473<=a&&a<=1474||1476<=a&&a<=1477||1479==a||1552<=a&&a<=1562||1611<=a&&a<=1631||1648==a||1750<=a&&a<=1756||1759<=a&&a<=1764||1767<=a&&a<=1768||1770<=a&&a<=1773||1809==a||1840<=a&&a<=1866||1958<=a&&a<=1968||2027<=a&&a<=2035||2070<=a&&a<=2073||2075<=a&&a<=2083||2085<=a&&a<=2087||2089<=a&&a<=2093||2137<=a&&a<=2139||2260<=a&&a<=2273||2275<=a&&a<=2306||2362==a||2364==a||2369<=a&&a<=2376||2381==a||2385<=a&&a<=2391||2402<=a&&a<=2403||2433==a||2492==a||2494==a||2497<=a&&a<=2500||2509==a||2519==a||2530<=a&&a<=2531||2561<=a&&a<=2562||2620==a||2625<=a&&a<=2626||2631<=a&&a<=2632||2635<=a&&a<=2637||2641==a||2672<=a&&a<=2673||2677==a||2689<=a&&a<=2690||2748==a||2753<=a&&a<=2757||2759<=a&&a<=2760||2765==a||2786<=a&&a<=2787||2810<=a&&a<=2815||2817==a||2876==a||2878==a||2879==a||2881<=a&&a<=2884||2893==a||2902==a||2903==a||2914<=a&&a<=2915||2946==a||3006==a||3008==a||3021==a||3031==a||3072==a||3134<=a&&a<=3136||3142<=a&&a<=3144||3146<=a&&a<=3149||3157<=a&&a<=3158||3170<=a&&a<=3171||3201==a||3260==a||3263==a||3266==a||3270==a||3276<=a&&a<=3277||3285<=a&&a<=3286||3298<=a&&a<=3299||3328<=a&&a<=3329||3387<=a&&a<=3388||3390==a||3393<=a&&a<=3396||3405==a||3415==a||3426<=a&&a<=3427||3530==a||3535==a||3538<=a&&a<=3540||3542==a||3551==a||3633==a||3636<=a&&a<=3642||3655<=a&&a<=3662||3761==a||3764<=a&&a<=3769||3771<=a&&a<=3772||3784<=a&&a<=3789||3864<=a&&a<=3865||3893==a||3895==a||3897==a||3953<=a&&a<=3966||3968<=a&&a<=3972||3974<=a&&a<=3975||3981<=a&&a<=3991||3993<=a&&a<=4028||4038==a||4141<=a&&a<=4144||4146<=a&&a<=4151||4153<=a&&a<=4154||4157<=a&&a<=4158||4184<=a&&a<=4185||4190<=a&&a<=4192||4209<=a&&a<=4212||4226==a||4229<=a&&a<=4230||4237==a||4253==a||4957<=a&&a<=4959||5906<=a&&a<=5908||5938<=a&&a<=5940||5970<=a&&a<=5971||6002<=a&&a<=6003||6068<=a&&a<=6069||6071<=a&&a<=6077||6086==a||6089<=a&&a<=6099||6109==a||6155<=a&&a<=6157||6277<=a&&a<=6278||6313==a||6432<=a&&a<=6434||6439<=a&&a<=6440||6450==a||6457<=a&&a<=6459||6679<=a&&a<=6680||6683==a||6742==a||6744<=a&&a<=6750||6752==a||6754==a||6757<=a&&a<=6764||6771<=a&&a<=6780||6783==a||6832<=a&&a<=6845||6846==a||6912<=a&&a<=6915||6964==a||6966<=a&&a<=6970||6972==a||6978==a||7019<=a&&a<=7027||7040<=a&&a<=7041||7074<=a&&a<=7077||7080<=a&&a<=7081||7083<=a&&a<=7085||7142==a||7144<=a&&a<=7145||7149==a||7151<=a&&a<=7153||7212<=a&&a<=7219||7222<=a&&a<=7223||7376<=a&&a<=7378||7380<=a&&a<=7392||7394<=a&&a<=7400||7405==a||7412==a||7416<=a&&a<=7417||7616<=a&&a<=7673||7675<=a&&a<=7679||8204==a||8400<=a&&a<=8412||8413<=a&&a<=8416||8417==a||8418<=a&&a<=8420||8421<=a&&a<=8432||11503<=a&&a<=11505||11647==a||11744<=a&&a<=11775||12330<=a&&a<=12333||12334<=a&&a<=12335||12441<=a&&a<=12442||42607==a||42608<=a&&a<=42610||42612<=a&&a<=42621||42654<=a&&a<=42655||42736<=a&&a<=42737||43010==a||43014==a||43019==a||43045<=a&&a<=43046||43204<=a&&a<=43205||43232<=a&&a<=43249||43302<=a&&a<=43309||43335<=a&&a<=43345||43392<=a&&a<=43394||43443==a||43446<=a&&a<=43449||43452==a||43493==a||43561<=a&&a<=43566||43569<=a&&a<=43570||43573<=a&&a<=43574||43587==a||43596==a||43644==a||43696==a||43698<=a&&a<=43700||43703<=a&&a<=43704||43710<=a&&a<=43711||43713==a||43756<=a&&a<=43757||43766==a||44005==a||44008==a||44013==a||64286==a||65024<=a&&a<=65039||65056<=a&&a<=65071||65438<=a&&a<=65439||66045==a||66272==a||66422<=a&&a<=66426||68097<=a&&a<=68099||68101<=a&&a<=68102||68108<=a&&a<=68111||68152<=a&&a<=68154||68159==a||68325<=a&&a<=68326||69633==a||69688<=a&&a<=69702||69759<=a&&a<=69761||69811<=a&&a<=69814||69817<=a&&a<=69818||69888<=a&&a<=69890||69927<=a&&a<=69931||69933<=a&&a<=69940||70003==a||70016<=a&&a<=70017||70070<=a&&a<=70078||70090<=a&&a<=70092||70191<=a&&a<=70193||70196==a||70198<=a&&a<=70199||70206==a||70367==a||70371<=a&&a<=70378||70400<=a&&a<=70401||70460==a||70462==a||70464==a||70487==a||70502<=a&&a<=70508||70512<=a&&a<=70516||70712<=a&&a<=70719||70722<=a&&a<=70724||70726==a||70832==a||70835<=a&&a<=70840||70842==a||70845==a||70847<=a&&a<=70848||70850<=a&&a<=70851||71087==a||71090<=a&&a<=71093||71100<=a&&a<=71101||71103<=a&&a<=71104||71132<=a&&a<=71133||71219<=a&&a<=71226||71229==a||71231<=a&&a<=71232||71339==a||71341==a||71344<=a&&a<=71349||71351==a||71453<=a&&a<=71455||71458<=a&&a<=71461||71463<=a&&a<=71467||72193<=a&&a<=72198||72201<=a&&a<=72202||72243<=a&&a<=72248||72251<=a&&a<=72254||72263==a||72273<=a&&a<=72278||72281<=a&&a<=72283||72330<=a&&a<=72342||72344<=a&&a<=72345||72752<=a&&a<=72758||72760<=a&&a<=72765||72767==a||72850<=a&&a<=72871||72874<=a&&a<=72880||72882<=a&&a<=72883||72885<=a&&a<=72886||73009<=a&&a<=73014||73018==a||73020<=a&&a<=73021||73023<=a&&a<=73029||73031==a||92912<=a&&a<=92916||92976<=a&&a<=92982||94095<=a&&a<=94098||113821<=a&&a<=113822||119141==a||119143<=a&&a<=119145||119150<=a&&a<=119154||119163<=a&&a<=119170||119173<=a&&a<=119179||119210<=a&&a<=119213||119362<=a&&a<=119364||121344<=a&&a<=121398||121403<=a&&a<=121452||121461==a||121476==a||121499<=a&&a<=121503||121505<=a&&a<=121519||122880<=a&&a<=122886||122888<=a&&a<=122904||122907<=a&&a<=122913||122915<=a&&a<=122916||122918<=a&&a<=122922||125136<=a&&a<=125142||125252<=a&&a<=125258||917536<=a&&a<=917631||917760<=a&&a<=917999?e:127462<=a&&a<=127487?t:2307==a||2363==a||2366<=a&&a<=2368||2377<=a&&a<=2380||2382<=a&&a<=2383||2434<=a&&a<=2435||2495<=a&&a<=2496||2503<=a&&a<=2504||2507<=a&&a<=2508||2563==a||2622<=a&&a<=2624||2691==a||2750<=a&&a<=2752||2761==a||2763<=a&&a<=2764||2818<=a&&a<=2819||2880==a||2887<=a&&a<=2888||2891<=a&&a<=2892||3007==a||3009<=a&&a<=3010||3014<=a&&a<=3016||3018<=a&&a<=3020||3073<=a&&a<=3075||3137<=a&&a<=3140||3202<=a&&a<=3203||3262==a||3264<=a&&a<=3265||3267<=a&&a<=3268||3271<=a&&a<=3272||3274<=a&&a<=3275||3330<=a&&a<=3331||3391<=a&&a<=3392||3398<=a&&a<=3400||3402<=a&&a<=3404||3458<=a&&a<=3459||3536<=a&&a<=3537||3544<=a&&a<=3550||3570<=a&&a<=3571||3635==a||3763==a||3902<=a&&a<=3903||3967==a||4145==a||4155<=a&&a<=4156||4182<=a&&a<=4183||4228==a||6070==a||6078<=a&&a<=6085||6087<=a&&a<=6088||6435<=a&&a<=6438||6441<=a&&a<=6443||6448<=a&&a<=6449||6451<=a&&a<=6456||6681<=a&&a<=6682||6741==a||6743==a||6765<=a&&a<=6770||6916==a||6965==a||6971==a||6973<=a&&a<=6977||6979<=a&&a<=6980||7042==a||7073==a||7078<=a&&a<=7079||7082==a||7143==a||7146<=a&&a<=7148||7150==a||7154<=a&&a<=7155||7204<=a&&a<=7211||7220<=a&&a<=7221||7393==a||7410<=a&&a<=7411||7415==a||43043<=a&&a<=43044||43047==a||43136<=a&&a<=43137||43188<=a&&a<=43203||43346<=a&&a<=43347||43395==a||43444<=a&&a<=43445||43450<=a&&a<=43451||43453<=a&&a<=43456||43567<=a&&a<=43568||43571<=a&&a<=43572||43597==a||43755==a||43758<=a&&a<=43759||43765==a||44003<=a&&a<=44004||44006<=a&&a<=44007||44009<=a&&a<=44010||44012==a||69632==a||69634==a||69762==a||69808<=a&&a<=69810||69815<=a&&a<=69816||69932==a||70018==a||70067<=a&&a<=70069||70079<=a&&a<=70080||70188<=a&&a<=70190||70194<=a&&a<=70195||70197==a||70368<=a&&a<=70370||70402<=a&&a<=70403||70463==a||70465<=a&&a<=70468||70471<=a&&a<=70472||70475<=a&&a<=70477||70498<=a&&a<=70499||70709<=a&&a<=70711||70720<=a&&a<=70721||70725==a||70833<=a&&a<=70834||70841==a||70843<=a&&a<=70844||70846==a||70849==a||71088<=a&&a<=71089||71096<=a&&a<=71099||71102==a||71216<=a&&a<=71218||71227<=a&&a<=71228||71230==a||71340==a||71342<=a&&a<=71343||71350==a||71456<=a&&a<=71457||71462==a||72199<=a&&a<=72200||72249==a||72279<=a&&a<=72280||72343==a||72751==a||72766==a||72873==a||72881==a||72884==a||94033<=a&&a<=94078||119142==a||119149==a?5:4352<=a&&a<=4447||43360<=a&&a<=43388?6:4448<=a&&a<=4519||55216<=a&&a<=55238?7:4520<=a&&a<=4607||55243<=a&&a<=55291?8:44032==a||44060==a||44088==a||44116==a||44144==a||44172==a||44200==a||44228==a||44256==a||44284==a||44312==a||44340==a||44368==a||44396==a||44424==a||44452==a||44480==a||44508==a||44536==a||44564==a||44592==a||44620==a||44648==a||44676==a||44704==a||44732==a||44760==a||44788==a||44816==a||44844==a||44872==a||44900==a||44928==a||44956==a||44984==a||45012==a||45040==a||45068==a||45096==a||45124==a||45152==a||45180==a||45208==a||45236==a||45264==a||45292==a||45320==a||45348==a||45376==a||45404==a||45432==a||45460==a||45488==a||45516==a||45544==a||45572==a||45600==a||45628==a||45656==a||45684==a||45712==a||45740==a||45768==a||45796==a||45824==a||45852==a||45880==a||45908==a||45936==a||45964==a||45992==a||46020==a||46048==a||46076==a||46104==a||46132==a||46160==a||46188==a||46216==a||46244==a||46272==a||46300==a||46328==a||46356==a||46384==a||46412==a||46440==a||46468==a||46496==a||46524==a||46552==a||46580==a||46608==a||46636==a||46664==a||46692==a||46720==a||46748==a||46776==a||46804==a||46832==a||46860==a||46888==a||46916==a||46944==a||46972==a||47e3==a||47028==a||47056==a||47084==a||47112==a||47140==a||47168==a||47196==a||47224==a||47252==a||47280==a||47308==a||47336==a||47364==a||47392==a||47420==a||47448==a||47476==a||47504==a||47532==a||47560==a||47588==a||47616==a||47644==a||47672==a||47700==a||47728==a||47756==a||47784==a||47812==a||47840==a||47868==a||47896==a||47924==a||47952==a||47980==a||48008==a||48036==a||48064==a||48092==a||48120==a||48148==a||48176==a||48204==a||48232==a||48260==a||48288==a||48316==a||48344==a||48372==a||48400==a||48428==a||48456==a||48484==a||48512==a||48540==a||48568==a||48596==a||48624==a||48652==a||48680==a||48708==a||48736==a||48764==a||48792==a||48820==a||48848==a||48876==a||48904==a||48932==a||48960==a||48988==a||49016==a||49044==a||49072==a||49100==a||49128==a||49156==a||49184==a||49212==a||49240==a||49268==a||49296==a||49324==a||49352==a||49380==a||49408==a||49436==a||49464==a||49492==a||49520==a||49548==a||49576==a||49604==a||49632==a||49660==a||49688==a||49716==a||49744==a||49772==a||49800==a||49828==a||49856==a||49884==a||49912==a||49940==a||49968==a||49996==a||50024==a||50052==a||50080==a||50108==a||50136==a||50164==a||50192==a||50220==a||50248==a||50276==a||50304==a||50332==a||50360==a||50388==a||50416==a||50444==a||50472==a||50500==a||50528==a||50556==a||50584==a||50612==a||50640==a||50668==a||50696==a||50724==a||50752==a||50780==a||50808==a||50836==a||50864==a||50892==a||50920==a||50948==a||50976==a||51004==a||51032==a||51060==a||51088==a||51116==a||51144==a||51172==a||51200==a||51228==a||51256==a||51284==a||51312==a||51340==a||51368==a||51396==a||51424==a||51452==a||51480==a||51508==a||51536==a||51564==a||51592==a||51620==a||51648==a||51676==a||51704==a||51732==a||51760==a||51788==a||51816==a||51844==a||51872==a||51900==a||51928==a||51956==a||51984==a||52012==a||52040==a||52068==a||52096==a||52124==a||52152==a||52180==a||52208==a||52236==a||52264==a||52292==a||52320==a||52348==a||52376==a||52404==a||52432==a||52460==a||52488==a||52516==a||52544==a||52572==a||52600==a||52628==a||52656==a||52684==a||52712==a||52740==a||52768==a||52796==a||52824==a||52852==a||52880==a||52908==a||52936==a||52964==a||52992==a||53020==a||53048==a||53076==a||53104==a||53132==a||53160==a||53188==a||53216==a||53244==a||53272==a||53300==a||53328==a||53356==a||53384==a||53412==a||53440==a||53468==a||53496==a||53524==a||53552==a||53580==a||53608==a||53636==a||53664==a||53692==a||53720==a||53748==a||53776==a||53804==a||53832==a||53860==a||53888==a||53916==a||53944==a||53972==a||54e3==a||54028==a||54056==a||54084==a||54112==a||54140==a||54168==a||54196==a||54224==a||54252==a||54280==a||54308==a||54336==a||54364==a||54392==a||54420==a||54448==a||54476==a||54504==a||54532==a||54560==a||54588==a||54616==a||54644==a||54672==a||54700==a||54728==a||54756==a||54784==a||54812==a||54840==a||54868==a||54896==a||54924==a||54952==a||54980==a||55008==a||55036==a||55064==a||55092==a||55120==a||55148==a||55176==a?9:44033<=a&&a<=44059||44061<=a&&a<=44087||44089<=a&&a<=44115||44117<=a&&a<=44143||44145<=a&&a<=44171||44173<=a&&a<=44199||44201<=a&&a<=44227||44229<=a&&a<=44255||44257<=a&&a<=44283||44285<=a&&a<=44311||44313<=a&&a<=44339||44341<=a&&a<=44367||44369<=a&&a<=44395||44397<=a&&a<=44423||44425<=a&&a<=44451||44453<=a&&a<=44479||44481<=a&&a<=44507||44509<=a&&a<=44535||44537<=a&&a<=44563||44565<=a&&a<=44591||44593<=a&&a<=44619||44621<=a&&a<=44647||44649<=a&&a<=44675||44677<=a&&a<=44703||44705<=a&&a<=44731||44733<=a&&a<=44759||44761<=a&&a<=44787||44789<=a&&a<=44815||44817<=a&&a<=44843||44845<=a&&a<=44871||44873<=a&&a<=44899||44901<=a&&a<=44927||44929<=a&&a<=44955||44957<=a&&a<=44983||44985<=a&&a<=45011||45013<=a&&a<=45039||45041<=a&&a<=45067||45069<=a&&a<=45095||45097<=a&&a<=45123||45125<=a&&a<=45151||45153<=a&&a<=45179||45181<=a&&a<=45207||45209<=a&&a<=45235||45237<=a&&a<=45263||45265<=a&&a<=45291||45293<=a&&a<=45319||45321<=a&&a<=45347||45349<=a&&a<=45375||45377<=a&&a<=45403||45405<=a&&a<=45431||45433<=a&&a<=45459||45461<=a&&a<=45487||45489<=a&&a<=45515||45517<=a&&a<=45543||45545<=a&&a<=45571||45573<=a&&a<=45599||45601<=a&&a<=45627||45629<=a&&a<=45655||45657<=a&&a<=45683||45685<=a&&a<=45711||45713<=a&&a<=45739||45741<=a&&a<=45767||45769<=a&&a<=45795||45797<=a&&a<=45823||45825<=a&&a<=45851||45853<=a&&a<=45879||45881<=a&&a<=45907||45909<=a&&a<=45935||45937<=a&&a<=45963||45965<=a&&a<=45991||45993<=a&&a<=46019||46021<=a&&a<=46047||46049<=a&&a<=46075||46077<=a&&a<=46103||46105<=a&&a<=46131||46133<=a&&a<=46159||46161<=a&&a<=46187||46189<=a&&a<=46215||46217<=a&&a<=46243||46245<=a&&a<=46271||46273<=a&&a<=46299||46301<=a&&a<=46327||46329<=a&&a<=46355||46357<=a&&a<=46383||46385<=a&&a<=46411||46413<=a&&a<=46439||46441<=a&&a<=46467||46469<=a&&a<=46495||46497<=a&&a<=46523||46525<=a&&a<=46551||46553<=a&&a<=46579||46581<=a&&a<=46607||46609<=a&&a<=46635||46637<=a&&a<=46663||46665<=a&&a<=46691||46693<=a&&a<=46719||46721<=a&&a<=46747||46749<=a&&a<=46775||46777<=a&&a<=46803||46805<=a&&a<=46831||46833<=a&&a<=46859||46861<=a&&a<=46887||46889<=a&&a<=46915||46917<=a&&a<=46943||46945<=a&&a<=46971||46973<=a&&a<=46999||47001<=a&&a<=47027||47029<=a&&a<=47055||47057<=a&&a<=47083||47085<=a&&a<=47111||47113<=a&&a<=47139||47141<=a&&a<=47167||47169<=a&&a<=47195||47197<=a&&a<=47223||47225<=a&&a<=47251||47253<=a&&a<=47279||47281<=a&&a<=47307||47309<=a&&a<=47335||47337<=a&&a<=47363||47365<=a&&a<=47391||47393<=a&&a<=47419||47421<=a&&a<=47447||47449<=a&&a<=47475||47477<=a&&a<=47503||47505<=a&&a<=47531||47533<=a&&a<=47559||47561<=a&&a<=47587||47589<=a&&a<=47615||47617<=a&&a<=47643||47645<=a&&a<=47671||47673<=a&&a<=47699||47701<=a&&a<=47727||47729<=a&&a<=47755||47757<=a&&a<=47783||47785<=a&&a<=47811||47813<=a&&a<=47839||47841<=a&&a<=47867||47869<=a&&a<=47895||47897<=a&&a<=47923||47925<=a&&a<=47951||47953<=a&&a<=47979||47981<=a&&a<=48007||48009<=a&&a<=48035||48037<=a&&a<=48063||48065<=a&&a<=48091||48093<=a&&a<=48119||48121<=a&&a<=48147||48149<=a&&a<=48175||48177<=a&&a<=48203||48205<=a&&a<=48231||48233<=a&&a<=48259||48261<=a&&a<=48287||48289<=a&&a<=48315||48317<=a&&a<=48343||48345<=a&&a<=48371||48373<=a&&a<=48399||48401<=a&&a<=48427||48429<=a&&a<=48455||48457<=a&&a<=48483||48485<=a&&a<=48511||48513<=a&&a<=48539||48541<=a&&a<=48567||48569<=a&&a<=48595||48597<=a&&a<=48623||48625<=a&&a<=48651||48653<=a&&a<=48679||48681<=a&&a<=48707||48709<=a&&a<=48735||48737<=a&&a<=48763||48765<=a&&a<=48791||48793<=a&&a<=48819||48821<=a&&a<=48847||48849<=a&&a<=48875||48877<=a&&a<=48903||48905<=a&&a<=48931||48933<=a&&a<=48959||48961<=a&&a<=48987||48989<=a&&a<=49015||49017<=a&&a<=49043||49045<=a&&a<=49071||49073<=a&&a<=49099||49101<=a&&a<=49127||49129<=a&&a<=49155||49157<=a&&a<=49183||49185<=a&&a<=49211||49213<=a&&a<=49239||49241<=a&&a<=49267||49269<=a&&a<=49295||49297<=a&&a<=49323||49325<=a&&a<=49351||49353<=a&&a<=49379||49381<=a&&a<=49407||49409<=a&&a<=49435||49437<=a&&a<=49463||49465<=a&&a<=49491||49493<=a&&a<=49519||49521<=a&&a<=49547||49549<=a&&a<=49575||49577<=a&&a<=49603||49605<=a&&a<=49631||49633<=a&&a<=49659||49661<=a&&a<=49687||49689<=a&&a<=49715||49717<=a&&a<=49743||49745<=a&&a<=49771||49773<=a&&a<=49799||49801<=a&&a<=49827||49829<=a&&a<=49855||49857<=a&&a<=49883||49885<=a&&a<=49911||49913<=a&&a<=49939||49941<=a&&a<=49967||49969<=a&&a<=49995||49997<=a&&a<=50023||50025<=a&&a<=50051||50053<=a&&a<=50079||50081<=a&&a<=50107||50109<=a&&a<=50135||50137<=a&&a<=50163||50165<=a&&a<=50191||50193<=a&&a<=50219||50221<=a&&a<=50247||50249<=a&&a<=50275||50277<=a&&a<=50303||50305<=a&&a<=50331||50333<=a&&a<=50359||50361<=a&&a<=50387||50389<=a&&a<=50415||50417<=a&&a<=50443||50445<=a&&a<=50471||50473<=a&&a<=50499||50501<=a&&a<=50527||50529<=a&&a<=50555||50557<=a&&a<=50583||50585<=a&&a<=50611||50613<=a&&a<=50639||50641<=a&&a<=50667||50669<=a&&a<=50695||50697<=a&&a<=50723||50725<=a&&a<=50751||50753<=a&&a<=50779||50781<=a&&a<=50807||50809<=a&&a<=50835||50837<=a&&a<=50863||50865<=a&&a<=50891||50893<=a&&a<=50919||50921<=a&&a<=50947||50949<=a&&a<=50975||50977<=a&&a<=51003||51005<=a&&a<=51031||51033<=a&&a<=51059||51061<=a&&a<=51087||51089<=a&&a<=51115||51117<=a&&a<=51143||51145<=a&&a<=51171||51173<=a&&a<=51199||51201<=a&&a<=51227||51229<=a&&a<=51255||51257<=a&&a<=51283||51285<=a&&a<=51311||51313<=a&&a<=51339||51341<=a&&a<=51367||51369<=a&&a<=51395||51397<=a&&a<=51423||51425<=a&&a<=51451||51453<=a&&a<=51479||51481<=a&&a<=51507||51509<=a&&a<=51535||51537<=a&&a<=51563||51565<=a&&a<=51591||51593<=a&&a<=51619||51621<=a&&a<=51647||51649<=a&&a<=51675||51677<=a&&a<=51703||51705<=a&&a<=51731||51733<=a&&a<=51759||51761<=a&&a<=51787||51789<=a&&a<=51815||51817<=a&&a<=51843||51845<=a&&a<=51871||51873<=a&&a<=51899||51901<=a&&a<=51927||51929<=a&&a<=51955||51957<=a&&a<=51983||51985<=a&&a<=52011||52013<=a&&a<=52039||52041<=a&&a<=52067||52069<=a&&a<=52095||52097<=a&&a<=52123||52125<=a&&a<=52151||52153<=a&&a<=52179||52181<=a&&a<=52207||52209<=a&&a<=52235||52237<=a&&a<=52263||52265<=a&&a<=52291||52293<=a&&a<=52319||52321<=a&&a<=52347||52349<=a&&a<=52375||52377<=a&&a<=52403||52405<=a&&a<=52431||52433<=a&&a<=52459||52461<=a&&a<=52487||52489<=a&&a<=52515||52517<=a&&a<=52543||52545<=a&&a<=52571||52573<=a&&a<=52599||52601<=a&&a<=52627||52629<=a&&a<=52655||52657<=a&&a<=52683||52685<=a&&a<=52711||52713<=a&&a<=52739||52741<=a&&a<=52767||52769<=a&&a<=52795||52797<=a&&a<=52823||52825<=a&&a<=52851||52853<=a&&a<=52879||52881<=a&&a<=52907||52909<=a&&a<=52935||52937<=a&&a<=52963||52965<=a&&a<=52991||52993<=a&&a<=53019||53021<=a&&a<=53047||53049<=a&&a<=53075||53077<=a&&a<=53103||53105<=a&&a<=53131||53133<=a&&a<=53159||53161<=a&&a<=53187||53189<=a&&a<=53215||53217<=a&&a<=53243||53245<=a&&a<=53271||53273<=a&&a<=53299||53301<=a&&a<=53327||53329<=a&&a<=53355||53357<=a&&a<=53383||53385<=a&&a<=53411||53413<=a&&a<=53439||53441<=a&&a<=53467||53469<=a&&a<=53495||53497<=a&&a<=53523||53525<=a&&a<=53551||53553<=a&&a<=53579||53581<=a&&a<=53607||53609<=a&&a<=53635||53637<=a&&a<=53663||53665<=a&&a<=53691||53693<=a&&a<=53719||53721<=a&&a<=53747||53749<=a&&a<=53775||53777<=a&&a<=53803||53805<=a&&a<=53831||53833<=a&&a<=53859||53861<=a&&a<=53887||53889<=a&&a<=53915||53917<=a&&a<=53943||53945<=a&&a<=53971||53973<=a&&a<=53999||54001<=a&&a<=54027||54029<=a&&a<=54055||54057<=a&&a<=54083||54085<=a&&a<=54111||54113<=a&&a<=54139||54141<=a&&a<=54167||54169<=a&&a<=54195||54197<=a&&a<=54223||54225<=a&&a<=54251||54253<=a&&a<=54279||54281<=a&&a<=54307||54309<=a&&a<=54335||54337<=a&&a<=54363||54365<=a&&a<=54391||54393<=a&&a<=54419||54421<=a&&a<=54447||54449<=a&&a<=54475||54477<=a&&a<=54503||54505<=a&&a<=54531||54533<=a&&a<=54559||54561<=a&&a<=54587||54589<=a&&a<=54615||54617<=a&&a<=54643||54645<=a&&a<=54671||54673<=a&&a<=54699||54701<=a&&a<=54727||54729<=a&&a<=54755||54757<=a&&a<=54783||54785<=a&&a<=54811||54813<=a&&a<=54839||54841<=a&&a<=54867||54869<=a&&a<=54895||54897<=a&&a<=54923||54925<=a&&a<=54951||54953<=a&&a<=54979||54981<=a&&a<=55007||55009<=a&&a<=55035||55037<=a&&a<=55063||55065<=a&&a<=55091||55093<=a&&a<=55119||55121<=a&&a<=55147||55149<=a&&a<=55175||55177<=a&&a<=55203?10:9757==a||9977==a||9994<=a&&a<=9997||127877==a||127938<=a&&a<=127940||127943==a||127946<=a&&a<=127948||128066<=a&&a<=128067||128070<=a&&a<=128080||128110==a||128112<=a&&a<=128120||128124==a||128129<=a&&a<=128131||128133<=a&&a<=128135||128170==a||128372<=a&&a<=128373||128378==a||128400==a||128405<=a&&a<=128406||128581<=a&&a<=128583||128587<=a&&a<=128591||128675==a||128692<=a&&a<=128694||128704==a||128716==a||129304<=a&&a<=129308||129310<=a&&a<=129311||129318==a||129328<=a&&a<=129337||129341<=a&&a<=129342||129489<=a&&a<=129501?r:127995<=a&&a<=127999?14:8205==a?15:9792==a||9794==a||9877<=a&&a<=9878||9992==a||10084==a||127752==a||127806==a||127859==a||127891==a||127908==a||127912==a||127979==a||127981==a||128139==a||128187<=a&&a<=128188||128295==a||128300==a||128488==a||128640==a||128658==a?i:128102<=a&&a<=128105?o:11}return this.nextBreak=function(e,t){if(void 0===t&&(t=0),t<0)return 0;if(t>=e.length-1)return e.length;for(var n,r,i=u(a(e,t)),o=[],c=t+1;c<e.length;c++)if(r=c-1,!(55296<=(n=e).charCodeAt(r)&&n.charCodeAt(r)<=56319&&56320<=n.charCodeAt(r+1)&&n.charCodeAt(r+1)<=57343)){var l=u(a(e,c));if(s(i,o,l))return c;o.push(l)}return e.length},this.splitGraphemes=function(e){for(var t,n=[],r=0;(t=this.nextBreak(e,r))<e.length;)n.push(e.slice(r,t)),r=t;return r<e.length&&n.push(e.slice(r)),n},this.iterateGraphemes=function(e){var t=0,n={next:(function(){var n,r;return(r=this.nextBreak(e,t))<e.length?(n=e.slice(t,r),t=r,{value:n,done:!1}):t<e.length?(n=e.slice(t),t=e.length,{value:n,done:!1}):{value:void 0,done:!0}}).bind(this)};return"undefined"!=typeof Symbol&&Symbol.iterator&&(n[Symbol.iterator]=function(){return n}),n},this.countGraphemes=function(e){for(var t,n=0,r=0;(t=this.nextBreak(e,r))<e.length;)r=t,n++;return r<e.length&&n++,n},this})})),rB=function(){function e(e){var n=this;this.addKeyboardBindingsHandler=function(e){void 0===e&&(e=n.getDefaultKeyboardBindings()),n.baseKeyboard.addBindings(e)},this.removeKeyboardBindingsHandler=function(e){void 0===e&&(e=n.getDefaultKeyboardBindings()),n.baseKeyboard.removeBindings(e)},this.arrowKeyHandler=function(e){return function(t){var r=n.editor.getSelection();r&&r.isCollapsed()&&(-1===e&&0===r.getStart()||1===e&&r.getEnd()>=n.editor.getLength()||c(n.vRoot.getLeaf(r.getEnd()+(1===e?0:-1)),1)[0]instanceof n5&&(t.preventDefault(),n.editor.setSelection(new ru(r.getEnd()+e))))}},this.insertNewline=function(e){e.preventDefault(),n.editor.getActive()&&(e.stopPropagation(),n.editor.insertNewLine(t.SOURCE.EDITOR))},this.delete=function(e){return function(r){if(r.preventDefault(),!(n.editor.getLength()<=0)){var i=n.editor.getSelection();i&&(i.isCollapsed()?n.deleteWithCollapsed(e,i):n.editor.deleteText(i.getStart(),i.getLength(),t.SOURCE.EDITOR))}}},this.deleteWithCollapsed=function(e,r){if(!n.shouldSkipDelete(e,r)){var i=e?n.getChartBeforeCollapsed:n.getChartAfterCollapsed,o=e?n.isEmbedBeforeCollapsed:n.isEmbedAfterCollapsed,a=i(r),s=o(r);if(a||s){var u=n.getDeleteLength(s,a);if(0!==u){var c=e?Math.max(r.getStart()-u,0):r.getStart();n.editor.deleteText(c,u,t.SOURCE.EDITOR)}}}},this.shouldSkipDelete=function(e,t){return e&&0===t.getStart()||!e&&t.getEnd()>=n.editor.getLength()},this.getDeleteLength=function(e,t){return e?1:t?t.length:0},this.isEmbedBeforeCollapsed=function(e){return!!n.editor.getEmbed(e.getStart()-1)},this.isEmbedAfterCollapsed=function(e){return!!n.editor.getEmbed(e.getEnd())},this.getChartBeforeCollapsed=function(e){var t=n.editor.getText(0,e.getStart());return rP.splitGraphemes(t).pop()||null},this.getChartAfterCollapsed=function(e){var t=n.editor.getText(e.getEnd(),n.editor.getLength());return rP.splitGraphemes(t).shift()||null},this.deleteRange=function(e){return function(r){if(r.preventDefault(),!(n.editor.getLength()<=0)){var i=n.editor.getSelection();if(i)if(i.isCollapsed()){var o=function(e,t,n){for(var r=nG(e,t),i=r[r.length-1],o=0;o<r.length;o++)if(r[o]>=n){i=r[o-1];break}return null!=i?i:0}(n.editor.getDelta(),e,i.getStart()-1),a=o;0!==o&&(a=o+1),n.editor.deleteText(a,i.getStart()-a,t.SOURCE.EDITOR)}else n.editor.deleteText(i.getStart(),i.getLength(),t.SOURCE.EDITOR)}}},this.boldFormatHandler=function(e){e.preventDefault(),n.editor.setFormat("bold")},this.italicFormatHandler=function(e){e.preventDefault(),n.editor.setFormat("italic")},this.underlineFormatHandler=function(e){e.preventDefault(),n.editor.setFormat("underline")},this.strikeThroughFormatHandler=function(e){e.preventDefault(),n.editor.setFormat("strikethrough")},this.fontSizeDecrease=function(){var e=n.editor.getFormatWithBaseStyle().fontSize,t=e-2<=9?9:e-2;n.editor.setFormat("fontSize",t)},this.fontSizeIncrease=function(){var e=n.editor.getFormatWithBaseStyle().fontSize+2;n.editor.setFormat("fontSize",e)},this.handleUndo=function(e){e.preventDefault(),n.editor.getActive()&&n.editor.undo()},this.handleRedo=function(e){e.preventDefault(),n.editor.getActive()&&n.editor.redo()},this.editor=e.editor,this.vRoot=e.vRoot,this.baseKeyboard=new rj({root:this.editor.getInput()}),this.addKeyboardBindingsHandler()}return e.prototype.clear=function(){this.baseKeyboard.destroy()},e.prototype.getDefaultKeyboardBindings=function(){return[{key:rj.KEYS.LEFT,handler:this.arrowKeyHandler(-1)},{key:rj.KEYS.RIGHT,handler:this.arrowKeyHandler(1)},{key:rj.KEYS.BACKSPACE,handler:this.delete(!0)},{key:rj.KEYS.DELETE,handler:this.delete(!1)},{key:rj.KEYS.BACKSPACE,shortKey:!0,handler:this.deleteRange("\n")},{key:rj.KEYS.ENTER,handler:this.insertNewline},{key:rj.KEYS.ENTER,shiftKey:!0,handler:this.insertNewline},{key:rj.KEYS.ENTER,ctrlKey:!0,handler:this.insertNewline},{key:rj.KEYS.ENTER,metaKey:!0,handler:this.insertNewline},{key:rj.KEYS.ENTER,altKey:!0,handler:this.insertNewline},{key:"z",shortKey:!0,handler:this.handleUndo},{key:"z",shortKey:!0,shiftKey:!0,handler:this.handleRedo},{key:"y",shortKey:!0,handler:this.handleRedo},{key:"b",shortKey:!0,handler:this.boldFormatHandler},{key:"i",shortKey:!0,handler:this.italicFormatHandler},{key:"u",shortKey:!0,handler:this.underlineFormatHandler},{key:"d",shortKey:!0,handler:this.strikeThroughFormatHandler},{key:"5",ctrlKey:!0,handler:this.strikeThroughFormatHandler},{key:rj.KEYS.PERIOD,shiftKey:!0,shortKey:!0,handler:this.fontSizeIncrease},{key:rj.KEYS.COMMA,shiftKey:!0,shortKey:!0,handler:this.fontSizeDecrease}]},e}(),rF=[],rU=function(){function e(e){this.formats={},this.shouldReverseColorWhenNeeded=e.shouldReverseColorWhenNeeded}return e.prototype.getFormats=function(){return this.formats},e.prototype.isStyleHidden=function(e){var t;return null==(t=this.formats[e])?void 0:t.isStyleHidden()},e.prototype.getShouldReverseColorWhenNeeded=function(){return this.shouldReverseColorWhenNeeded},e.prototype.addFormat=function(e,t){this.formats[e]=t},e.prototype.setStyle=function(e,t,n){var r,i,o=null==(r=nj[t])?void 0:r.call(nj,this,e,n),a=void 0!==(null==o?void 0:o.value)?null==o?void 0:o.value:n;null==(i=this.formats[t])||i.format(e,a)},e.prototype.getStyle=function(e,t){var n;return null==(n=this.formats[t])?void 0:n.getFormat(e)},e.prototype.removeStyle=function(e,t){var n;null==(n=this.formats[t])||n.remove(e)},e.prototype.getStyles=function(e,t){void 0===t&&(t=[]);var n,r,i={};try{for(var o=u(Object.entries(this.formats)),a=o.next();!a.done;a=o.next()){var s=c(a.value,2),l=s[0],d=s[1];if(!t.includes(l)){var f=d.getFormat(e);f&&(i[l]=f)}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},e}();!function(e){e.LEFT="left",e.RIGHT="right"}(rN||(rN={})),function(e){e[e.RIGHT=1]="RIGHT",e[e.LEFT=-1]="LEFT"}(rO||(rO={}));var rG=function(){function e(e){this.editor=e.editor}return e.prototype.collapseEmbeds=function(e,t,n){for(var r=this.editor.getLeaves(),i=this.getEmbedIndex(e,r),o=Object.keys(r[i].value())[0],a=1,s=0,u=i+1;u<r.length&&((l=Object.keys(r[u].value())[0])===o?a+=1:l===t&&(a-=1),0!==a);u++)s+=1;var c=r.slice(i+1,i+s+1);if(this.editor.setFormatWithRange(i+1,s,"display","none"),n){var l=n.key,d=n.text,f=n.type,p=n.detail;this.editor.insertEmbeds(i+1,l,[{text:d,type:f,detail:p}])}return c},e.prototype.expandEmbeds=function(e,t){var n=this.editor.getLeaves(),r=this.getEmbedIndex(e,n);this.editor.deleteText(r+1,1),this.editor.setFormatWithRange(r+1,t.length,"display","inline-block");var i=r+t.length+1;this.editor.setSelection(new ru(i))},e.prototype.updateSelection=function(e){var t=this.editor.getSelection();if(t){var n=e===rN.LEFT?t.getStart():t.getStart()+1;this.editor.setSelection(new ru(n))}},e.prototype.needHighlightEmbeds=function(e,t,n){var r,i=this.editor.getLeaves(),o=this.getEmbedIndex(e,i),a=o;return t&&n?(a=this.findEndEmbedIndex(i,o,t,n),n===rN.LEFT&&(o=(r=c([a,o],2))[0],a=r[1]),this.editor.setChosenInterval(o,a),i.slice(o,a+1)):(this.editor.setChosenInterval(o),[i[o]])},e.prototype.needBlurEmbeds=function(){var e=this.editor.getChosenInterval(),t=e.chosenStartIndex,n=e.chosenEndIndex;if(-1!==t){var r=this.editor.getLeaves(t,n-t+1);return this.editor.setChosenInterval(-1),r}},e.prototype.updateEmbedType=function(e){var t=e.domNode,n=e.key,r=e.type,i=this.getEmbedIndex(t,this.editor.getLeaves()),o=t.textContent;this.editor.deleteText(i,1),this.editor.insertEmbeds(i,n,[{text:o,type:r}])},e.prototype.quickInput=function(){var e=this.editor.getChosenInterval(),t=e.chosenStartIndex,n=e.chosenEndIndex;if(-1!==t){var r=n-t+1;this.editor.deleteText(t,r),this.editor.setSelection(new ru(t)),this.editor.setChosenInterval(-1)}},e.prototype.getEmbedText=function(e){var t=this.getEmbedIndex(e,this.editor.getLeaves()),n=this.editor.getLeaves()[t];if(n instanceof n5)return n.getSavedValue().text},e.prototype.setEmbedText=function(e,t){var n=this.getEmbedIndex(e,this.editor.getLeaves()),r=this.editor.getLeaves()[n];r instanceof n5&&(r.getSavedValue().text=t)},e.prototype.findEndEmbedIndex=function(e,t,n,r){for(var i=Object.keys(e[t].value())[0],o=r===rN.RIGHT,a=o?e.length-t:t,s=o?rO.RIGHT:rO.LEFT,u=1,c=t,l=t+s;o?l<t+a:l>=0;l+=s){var d=e[l],f=Object.keys(d.value())[0];if(c+=s,d instanceof n5&&(f===i&&(u+=1),f===n&&(u-=1),0===u))break}return c},e.prototype.getEmbedIndex=function(e,t){var n=t.find(function(t){return t.domNode===e});return t.indexOf(n)},e}(),rW=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.styleKey="display",t}return o(t,e),t.key="display",t}(nN);!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}("#alloy-rich-text-editor p {\n  margin: 0;\n  padding: 0;\n}\n#alloy-rich-text-editor::before {\n  color: rgba(0, 0, 0, 0.6);\n  content: attr(data-placeholder);\n  font-style: italic;\n  left: 5px;\n  pointer-events: none;\n  position: absolute;\n  right: 15px;\n}\n");var rZ=function(){function e(e){var n,r,i=this;this.isComposingStatus=!1,this.readOnly=!1,this.isAutoScroll=!0,this.isActive=!1,this.chosenStartIndex=-1,this.chosenEndIndex=-1,this.handleFocus=function(e){i.emitter.focusEmitter.fire(e)},this.handleBlur=function(e){i.emitter.blurEmitter.fire(e)},this.handleCompositionstart=function(e){""!==i.placeholder&&(i.input.dataset.placeholder=""),i.internalEmitter.compositionEmitter.fire(e)},this.handleCompositionupdate=function(e){i.internalEmitter.compositionEmitter.fire(e)},this.handleCompositionend=function(e){""!==i.placeholder&&(i.input.dataset.placeholder=i.deltaManager.isEqual(i.getDelta(),new nT)?i.placeholder:""),i.internalEmitter.compositionEmitter.fire(e)},this.handleSelectionchange=function(){i.hasFocus()&&(i.sync(),i.internalEmitter.selectionChangeEmitter.fire({source:t.SOURCE.EDITOR}))},this.readOnly=null!=(n=e.readOnly)&&n,this.hiddenStyles=e.hiddenStyles,this.config=e.config||{},this.placeholder=e.placeholder||"",this.baseStyle=f,this.shouldReverseColorWhenNeeded=null!=(r=e.shouldReverseColorWhenNeeded)&&r,this.initInputDom(e.inputContainer,e.id,e.className,e.setInputStyle),this.initComponents(),this.initEvents()}return e.prototype.getEmitter=function(){return this.emitter},e.prototype.getConfig=function(){return this.config},e.prototype.getDelta=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.deltaManager.getLength()),this.deltaManager.getDelta(e,t)},e.prototype.getInput=function(){return this.input},e.prototype.setCanCopy=function(e){this.clipboard.setCopy(e)},e.prototype.setCanPaste=function(e){this.clipboard.setPaste(e)},e.prototype.getCanCopy=function(){return this.clipboard.getCopy()},e.prototype.getCanPaste=function(){return this.clipboard.getPaste()},e.prototype.getChosenInterval=function(){return{chosenStartIndex:this.chosenStartIndex,chosenEndIndex:this.chosenEndIndex}},e.prototype.setChosenInterval=function(e,t){void 0===t&&(t=e),this.chosenStartIndex=e,this.chosenEndIndex=t},e.prototype.commit=function(){return this.vRoot.endBatch(),this.sync(),this.mergeDeltaWithBaseStyle(this.getDelta(),this.baseStyle)},e.prototype.clear=function(){this.selection.clear(),this.setContents(new nT,t.SOURCE.SILENT),this.history.clear(),this.isComposingStatus=!1},e.prototype.destroy=function(){this.input.removeEventListener("focus",this.handleFocus),this.input.removeEventListener("blur",this.handleBlur),this.input.removeEventListener("compositionstart",this.handleCompositionstart),this.input.removeEventListener("compositionupdate",this.handleCompositionupdate),this.input.removeEventListener("compositionend",this.handleCompositionend),document.removeEventListener("selectionchange",this.handleSelectionchange),this.clipboard.destroy(),this.removeKeyBindings()},e.prototype.setInputMode=function(e){this.input.inputMode=e},e.prototype.setActive=function(e){this.isActive=e},e.prototype.getActive=function(){return this.isActive},e.prototype.setAutoScroll=function(e){this.isAutoScroll=e},e.prototype.getReadOnly=function(){return this.readOnly},e.prototype.getContentHeight=function(){var e=0;return this.input.childNodes.forEach(function(t){e+=t.offsetHeight}),e},e.prototype.hasFocus=function(){return this.selection.hasFocus()},e.prototype.focus=function(){this.selection.focus()},e.prototype.blur=function(){this.selection.blur()},e.prototype.isCollapsed=function(){return this.selection.isCollapsed()},e.prototype.collapseToEnd=function(){this.selection.collapseToEnd(),this.selection.scrollIntoView()},e.prototype.collapseToPoint=function(e){this.selection.collapseToPoint(e),this.selection.scrollIntoView()},e.prototype.scrollIntoView=function(){this.selection.scrollIntoView()},e.prototype.getSelection=function(){var e;return(null==(e=this.selection.getRange())?void 0:e[0])||null},e.prototype.setSavedSelection=function(e){this.selection.setSavedRange(e)},e.prototype.getSavedSelection=function(){return this.selection.getSavedRange()},e.prototype.getNativeRange=function(){var e;return(null==(e=this.selection.getRange())?void 0:e[1])||null},e.prototype.setSelection=function(e,n){void 0===n&&(n=t.SOURCE.API),this.sync(),null!==e&&(this.selection.setRange(e),n!==t.SOURCE.SILENT&&this.internalEmitter.selectionChangeEmitter.fire({source:n,range:e}))},e.prototype.getCursorBaseStyle=function(){return this.selection.getTempCursorStyle()},e.prototype.addKeyBindings=function(e){return this.keyboard.addKeyboardBindingsHandler(e)},e.prototype.removeKeyBindings=function(e){return this.keyboard.removeKeyboardBindingsHandler(e)},e.prototype.hasUndo=function(){return this.history.hasUndo()},e.prototype.hasRedo=function(){return this.history.hasRedo()},e.prototype.undo=function(){return this.sync(),this.history.undo()},e.prototype.redo=function(){return this.sync(),this.history.redo()},e.prototype.isComposing=function(){return this.isComposingStatus},e.prototype.isDeltaEqual=function(e,t){return this.deltaManager.isEqual(e,t)},e.prototype.sync=function(){this.vRoot.sync()},e.prototype.insertNewLine=function(e){void 0===e&&(e=t.SOURCE.API),this.sync();var n,r,i=this.getSelection();if(i){var o=this.getFormat();delete o.link;var a=(new nT).retain(i.getStart()).delete(i.getLength()).insert("\n");this.updateContents(a,e);try{for(var s=u(Object.entries(o)),l=s.next();!l.done;l=s.next()){var d=c(l.value,2),f=d[0],p=d[1];p&&this.selection.format(f,p)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}this.isAutoScroll&&this.scrollIntoView()}},e.prototype.setEditable=function(e){this.readOnly=!e,this.input.setAttribute("contenteditable",String(e))},e.prototype.setInputStyles=function(e){var t=function(e,t){var n=["fontWeight","fontStyle","textDecoration","textDecorationSkipInk"],r=["themeColor"];e&&e.length>0&&e.forEach(function(e){n.push(e),r.push(e)});var i={},o={};return Object.keys(t).forEach(function(e){-1===n.indexOf(e)&&void 0!==t[e]&&(i[e]=t[e]),r.includes(e)&&void 0!==t[e]&&(o[e]=t[e])}),{editorStyleObj:i,editorDataSetObj:o}}(this.hiddenStyles,e),n=t.editorStyleObj,r=t.editorDataSetObj;!function(e,t,n,r){for(var i in t)e.style[i]=t[i];for(var i in n)e.dataset[i]=n[i];r&&(null==t?void 0:t.color)&&nL.includes(t.color)&&(e.dataset.color=nL[0],e.style.color=nR[0])}(this.input,n,r,this.shouldReverseColorWhenNeeded)},e.prototype.setContents=function(e,n){var i=this;return void 0===n&&(n=t.SOURCE.API),this.sync(),e.diff(this.getDelta())===new nT?e:(e.forEach(function(e){e.insert&&"object"===r(e.insert)&&(e.attributes=a(a({},i.baseStyle),e.attributes))}),this.modify(function(){var t=i.getLength(),n=i.getDelta(),r=i.deltaManager.deleteText(0,t).updateDelta,o=i.deltaManager.applyDelta(e,i.embedTools).updateDelta;return{oldDelta:n,updateDelta:r.compose(o)}},n))},e.prototype.updateContents=function(e,n){var i=this;return void 0===n&&(n=t.SOURCE.API),this.sync(),e.forEach(function(e){e.insert&&"object"===r(e.insert)&&(e.attributes=a(a({},i.baseStyle),e.attributes))}),this.modify(function(){return i.deltaManager.applyDelta(e,i.embedTools)},n,{useRange:!0})},e.prototype.getText=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.getLength()-e),this.deltaManager.getText(e,t)},e.prototype.getEmbed=function(e){return void 0===e&&(e=0),this.deltaManager.getEmbed(e)},e.prototype.setText=function(e,n,r){void 0===n&&(n=t.SOURCE.API),void 0===r&&(r=!1),this.sync();var i=(new nT).insert(e);this.setContents(i,n),r&&this.collapseToEnd()},e.prototype.insertText=function(e,n,r,i){var o=this;return void 0===r&&(r={}),void 0===i&&(i=t.SOURCE.API),this.sync(),this.modify(function(){return o.deltaManager.insertText(e,n,r)},i,{index:e})},e.prototype.replaceText=function(e,n,r,i,o){var a=this;return void 0===i&&(i={}),void 0===o&&(o=t.SOURCE.API),this.sync(),this.modify(function(){return a.deltaManager.replaceText(e,n,r,i)},o,{index:e})},e.prototype.deleteText=function(e,n,r){var i=this;return void 0===r&&(r=t.SOURCE.API),this.sync(),this.modify(function(){return i.deltaManager.deleteText(e,n)},r,{index:e})},e.prototype.insertEmbeds=function(e,n,r,i,o){var s=this;return void 0===i&&(i={}),void 0===o&&(o=t.SOURCE.API),this.sync(),this.modify(function(){return s.deltaManager.insertEmbeds(e,n,r,a(a({},s.baseStyle),i),s.embedTools)},o,{index:e})},e.prototype.getLeaf=function(e){return this.sync(),this.vRoot.getLeaf(e)},e.prototype.getLeaves=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=Number.MAX_VALUE),this.sync(),this.vRoot.getLeaves(e,t)},e.prototype.getFormatWithBaseStyle=function(){var e=this.getFormat(),t=a(a({},e),{bold:e.bold||!1,italic:e.italic||!1,strikethrough:e.strikethrough||!1,underline:e.underline||!1});return a(a({},this.baseStyle),t)},e.prototype.getFormat=function(){var e=c(this.selection.getRange(),2)[1];if(!e)return{};var t=n9(e.start.node,!0);return t?rt(t):{}},e.prototype.setFormat=function(e,n,r){var i,o,a,s=this;void 0===r&&(r=t.SOURCE.API),this.sync();var u=this.getFormatWithBaseStyle(),c=(null==(i=nP[e])?void 0:i.call(nP,u))||{},l=null!=(o=c.key)?o:e,d=null!=(a=c.value)?a:n;return this.modify(function(){var e=s.getSelection(),n=s.deltaManager.getDelta(),r=new nT;if(!e)return{oldDelta:n,updateDelta:r};if(e.getStart()===e.getEnd())return s.selection.format(l,d),{oldDelta:n,updateDelta:r};var i=s.deltaManager.setFormat(e.getStart(),e.getLength(),l,d);return s.setSelection(e,t.SOURCE.SILENT),{oldDelta:n,updateDelta:i.updateDelta}},r)},e.prototype.setFormatWithRange=function(e,n,r,i,o){var a=this;return void 0===o&&(o=t.SOURCE.API),this.sync(),this.modify(function(){return new nT,{oldDelta:a.deltaManager.getDelta(),updateDelta:a.deltaManager.setFormat(e,n,r,i).updateDelta}},o)},e.prototype.getLength=function(){return this.deltaManager.getLength()},e.prototype.setBaseStyle=function(e){this.baseStyle=e||f},e.prototype.getBaseStyle=function(){return this.baseStyle},e.prototype.setPlaceHolder=function(e){this.placeholder=e,this.input.dataset.placeholder=this.placeholder},e.prototype.getPlaceHolder=function(){return this.placeholder},e.prototype.setUpCursorStyle=function(e){void 0===e&&(e=this.getDelta());var t=function(e,t){return 0===e.ops.length?{bold:t.bold,italic:t.italic,strikethrough:t.strikethrough,underline:t.underline}:{bold:t.bold,italic:t.italic,strikethrough:rc(e,"strikethrough",t.strikethrough),underline:rc(e,"underline",t.underline)}}(e,this.baseStyle);this.selection.setTempCursorStyle(t),this.selection.setInitCursorStyle(t)},e.prototype.setUpEditor=function(e){void 0===e&&(e=this.getDelta()),this.setUpCursorStyle(e),this.input.dataset.placeholder=this.deltaManager.isEqual(e,new nT)&&this.placeholder?this.placeholder:"",this.history.setBaseHistoryDelta(e),this.setContents(e,t.SOURCE.SILENT)},e.prototype.defaultInitInputStyle=function(e){e.setAttribute("tabindex","0"),e.setAttribute("role","combobox"),this.input.style.display="block",this.input.style.position="relative",this.input.style.width="100%",this.input.style.height="100%",this.input.style.overflowY="auto",this.input.style.overflowX="hidden",this.input.style.boxSizing="border-box",this.input.style.outline="none",this.input.style.padding="0px 4px",this.input.style.textDecorationSkipInk="none",this.input.style.lineHeight="20px",this.input.style.fontSize="14px",this.input.style.whiteSpace="pre-wrap",this.input.style.lineBreak="anywhere",this.input.style.wordBreak="break-word",this.input.style.wordWrap="break-word"},e.prototype.initInputDom=function(e,t,n,r){var i,o=this;this.input=document.createElement("div"),this.input.setAttribute("id",t||"alloy-rich-text-editor"),this.input.setAttribute("contenteditable",String(!this.readOnly)),this.input.setAttribute("spellcheck","false"),n&&n.length>0&&n.forEach(function(e){o.input.classList.add(e)}),r?r(this.input):this.defaultInitInputStyle(this.input),(null==(i=this.getConfig().shouldLockInputContainerScroll)||i)&&function(e){if(!(!e||rF.some(function(t){return t.scrollable===e}))){var t,n={scrollable:e,enable:!0},r=!1,i=!1;e.addEventListener("touchstart",function(o){!1!==n.enable&&(o.stopPropagation(),1===o.targetTouches.length&&(t=o.touches[0].clientY,0===e.scrollTop&&(r=!0),e.scrollHeight-e.clientHeight<=e.scrollTop&&(i=!0)))}),e.addEventListener("touchmove",function(e){if(!1!==n.enable){e.stopPropagation();var o=e.touches[0].clientY-t;(o>0&&r||o<0&&i)&&e.preventDefault()}}),e.addEventListener("touchend",function(e){e.stopPropagation(),r=!1,i=!1}),rF.push(n)}}(this.input),e.appendChild(this.input)},e.prototype.initComponents=function(){this.internalEmitter=new ry,this.emitter=new rb;var e,t,n,r,i,o,a,s,u,c,l=this.initStyler(this.hiddenStyles);this.vRoot=new n4(this.input,l,this,this.internalEmitter),this.deltaManager=new rs(this.vRoot,this.hiddenStyles),this.input.dataset.placeholder=this.deltaManager.isEqual(this.getDelta(),new nT)&&this.placeholder?this.placeholder:"",this.selection=new rf({editor:this,input:this.input,deltaManager:this.deltaManager,vRoot:this.vRoot,emitter:this.internalEmitter}),this.history=new rx({editor:this,deltaManager:this.deltaManager,emitter:this.internalEmitter}),this.keyboard=new rB({editor:this,vRoot:this.vRoot}),this.clipboard=new rp({editor:this,emitter:this.internalEmitter,input:this.input,config:{customPaste:null!=(t=null==(e=this.config.clipboard)?void 0:e.customPaste)&&t,customCut:null!=(r=null==(n=this.config.clipboard)?void 0:n.customCut)&&r,customCopy:null!=(o=null==(i=this.config.clipboard)?void 0:i.customCopy)&&o,canCopy:null==(s=null==(a=this.config.clipboard)?void 0:a.canCopy)||s,canPaste:!this.readOnly&&(null==(c=null==(u=this.config.clipboard)?void 0:u.canPaste)||c)}}),this.embedTools=new rG({editor:this})},e.prototype.initStyler=function(e){var t=new rU({shouldReverseColorWhenNeeded:this.shouldReverseColorWhenNeeded}),n=function(e){var t={bold:!1,italic:!1,underline:!1,strikeThrough:!1,color:!1,themeColor:!1,fontSize:!1,fontFamily:!1,cursor:!1};return e&&e.forEach(function(e){t[e]=!0}),t}(e);return t.addFormat(r_.key,new r_(n[r_.key])),t.addFormat(rS.key,new rS(n[rS.key])),t.addFormat(rA.key,new rA(n[rA.key])),t.addFormat(rT.key,new rT(n[rT.key])),t.addFormat(rC.key,new rC(n[rC.key])),t.addFormat(nO.key,new nO(n[nO.key])),t.addFormat(rE.key,new rE(n[rE.key])),t.addFormat(nk.key,new nk(n[nk.key])),t.addFormat(rD.key,new rD(n[rD.key])),t.addFormat(rw.key,new rw(n[rw.key])),t.addFormat(rM.key,new rM(n[rM.key])),t.addFormat(rW.key,new rW(n[rW.key])),t.addFormat(rI.key,new rI(n[rI.key])),t},e.prototype.initEvents=function(){var e=this;this.input.addEventListener("focus",this.handleFocus),this.input.addEventListener("blur",this.handleBlur),this.input.addEventListener("compositionstart",this.handleCompositionstart),this.input.addEventListener("compositionupdate",this.handleCompositionupdate),this.input.addEventListener("compositionend",this.handleCompositionend),this.internalEmitter.compositionEvent(function(t){"compositionstart"===t.type?(e.isComposingStatus=!0,e.vRoot.startBatch()):"compositionend"===t.type&&(e.isComposingStatus=!1,e.vRoot.endBatch(),e.vRoot.sync()),e.emitter.compositionEmitter.fire(t)}),document.addEventListener("selectionchange",this.handleSelectionchange),this.internalEmitter.pasteEvent(function(t){e.emitter.pasteEmitter.fire(t)}),this.internalEmitter.copyEvent(function(t){e.emitter.copyEmitter.fire(t)}),this.internalEmitter.viewChangeEvent(function(n){var r=n.context;e.hasFocus()&&e.selection.restoreSelection(null==r?void 0:r.range),e.modify(function(){return e.deltaManager.update()},t.SOURCE.EDITOR)}),this.internalEmitter.textChangeEvent(function(t){var n,r;if(""!==e.placeholder&&(e.input.dataset.placeholder=e.deltaManager.isEqual(t.delta,new nT)?e.placeholder:""),e.deltaManager.isEqual(t.delta,t.diffDelta)){var i=e.getCursorBaseStyle();if(Object.values(i).every(function(e){return!1===e}))return void e.emitter.textChangeEmitter.fire(t);try{for(var o=u(Object.entries(i)),a=o.next();!a.done;a=o.next()){var s=c(a.value,2),l=s[0],d=s[1];e.setFormatWithRange(0,t.delta.length(),l,d)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}e.selection.setTempCursorStyle(e.selection.getInitCursorStyle()),e.selection.hasFocus()&&e.collapseToEnd()}e.emitter.textChangeEmitter.fire(t)}),this.internalEmitter.selectionChangeEvent(function(t){e.emitter.selectionChangeEmitter.fire(t)}),this.internalEmitter.undoredoEvent(function(t){e.emitter.undoredoEmitter.fire(t)})},e.prototype.mergeDeltaWithBaseStyle=function(e,t){var n=new nT;return 0===e.ops.length||e.forEach(function(e){var r=e.attributes?a({},e.attributes):{},i=a(a({},r),{bold:r.bold||!1,italic:r.italic||!1,strikethrough:r.strikethrough||!1,underline:r.underline||!1}),o=a(a({},t),i);o.fontFamily=o.fontFamily.split('"').join(""),void 0!==e.insert&&n.insert(e.insert,o)}),n},e.prototype.modify=function(e,n,r){var i=r?this.getSelection():null,o=e(),a=o.oldDelta,s=o.updateDelta;if(0===s.ops.length)return new nT;if(i){var u=r||{},l=u.useRange,d=u.index,f=u.shift,p=l?i.getStart():d;void 0===f?i=function(e,t){var n=c([e.getStart(),e.getEnd()].map(function(e){return t.transformPosition(e)}),2);return new ru(n[0],n[1])}(i,s):void 0!==p&&0!==f&&(i=function(e,t,n){var r=c([e.getStart(),e.getEnd()].map(function(e){return e<t?e:n>=0?e+n:Math.max(t,e+n)}),2);return new ru(r[0],r[1])}(i,p,f)),this.setSelection(i,t.SOURCE.SILENT)}return n!==t.SOURCE.SILENT&&this.internalEmitter.textChangeEmitter.fire({diffDelta:s,delta:this.getDelta(),oldDelta:a,source:n}),s},e}();A=nw,A=f,A=r_,A=nR,A=nL,A=rp,t.Color=nO,t.Cursor=rI,A="data-theme-color",A=d,t.Delta=nT,t.DeltaBasedEditor=rZ,A=rs,A=rb,A=rG,A=rC,A=rE,t.GuardedVEmbed=n5,A=rw,A=rx,t.INPUTRTE_MENTION_BLOCK_ID="alloy-mention-block",A="alloy-rich-text-editor",A=rS,A=rB,t.Link=rD,A=nS,A=rM,t.Range=ru,A=rf,t.StrikeThrough=rT,A=nk,t.UnderLine=rA,A=n2,A=n1,A=nQ,A=n3,A=n0,A=n$,A=nY,A=nV,A=n4,A=nJ,A=nK,A=rt,t.createElementFromHTML=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild},A=n6,A=nP,A=n9,A=nB,A=rn,A=ro,A=rr,A=nH,A=ri,A=n7,t.registerEmbed=function(e,t){n8[e]?nH.warn("registerEmbed failed: embed with key ".concat(e," already exists")):n8[e]=t},t.registerLogger=function(e){nU?nU.warn("Logger is already registered"):nU=e},A=nj,A=re},179182:function(e,t,n){"use strict";n.d(t,{Dj:function(){return U},TE:function(){return o},Uh:function(){return G}}),n(81505);var r,i,o,a=n(972100),s=n(882081),u=function(e,t){return(u=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function c(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function l(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function p(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function h(e){return"function"==typeof e}"function"==typeof SuppressedError&&SuppressedError;var g=function(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function m(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var v=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,n,r,i,o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=d(o),s=a.next();!s.done;s=a.next())s.value.remove(this)}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else o.remove(this);var u=this.initialTeardown;if(h(u))try{u()}catch(e){i=e instanceof g?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var l=d(c),m=l.next();!m.done;m=l.next()){var v=m.value;try{b(v)}catch(e){i=null!=i?i:[],e instanceof g?i=p(p([],f(i)),f(e.errors)):i.push(e)}}}catch(e){n={error:e}}finally{try{m&&!m.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(i)throw new g(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)b(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!=(n=this._finalizers)?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&m(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&m(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();function y(e){return e instanceof v||e&&"closed"in e&&h(e.remove)&&h(e.add)&&h(e.unsubscribe)}function b(e){h(e)?e():e.unsubscribe()}v.EMPTY;var _={onUnhandledError:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},C={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=C.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,p([e,t],f(n))):setTimeout.apply(void 0,p([e,t],f(n)))},clearTimeout:function(e){var t=C.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function I(e){C.setTimeout(function(){var t=_.onUnhandledError;if(t)t(e);else throw e})}function E(){}var w=null;function S(e){if(_.useDeprecatedSynchronousErrorHandling){var t=!w;if(t&&(w={errorThrown:!1,error:null}),e(),t){var n=w,r=n.errorThrown,i=n.error;if(w=null,r)throw i}}else e()}var D=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,y(t)&&t.add(n)):n.destination=O,n}return c(t,e),t.create=function(e,t,n){return new x(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(v),M=Function.prototype.bind;function T(e,t){return M.call(e,t)}var A=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){N(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){N(e)}else N(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){N(e)}},e}(),x=function(e){function t(t,n,r){var i,o,a=e.call(this)||this;return h(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:a&&_.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},i={next:t.next&&T(t.next,o),error:t.error&&T(t.error,o),complete:t.complete&&T(t.complete,o)}):i=t,a.destination=new A(i),a}return c(t,e),t}(D);function N(e){I(e)}var O={closed:!0,next:E,error:function(e){throw e},complete:E},k=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function R(e){return e}function L(e){return 0===e.length?R:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}function j(e){var t;return null!=(t=null!=e?e:_.Promise)?t:Promise}function P(e){return e&&h(e.next)&&h(e.error)&&h(e.complete)}function B(e){return e&&e instanceof D||P(e)&&y(e)}!function(){function e(e){e&&(this._subscribe=e)}e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,i=B(e)?e:new x(e,t,n);return S(function(){var e=r,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?r._subscribe(i):r._trySubscribe(i))}),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=j(t))(function(t,r){var i=new x({next:function(t){try{e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)})},e.prototype._subscribe=function(e){var t;return null==(t=this.source)?void 0:t.subscribe(e)},e.prototype[k]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return L(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=j(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)}}(),function(){"function"==typeof Symbol&&Symbol.iterator&&Symbol.iterator}(),function(e){function t(t,n,r,i,o,a){var s=e.call(this,t)||this;return s.onFinalize=o,s.shouldUnsubscribe=a,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}c(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),n||null==(t=this.onFinalize)||t.call(this)}}}(D),function(e){e.active="active",e.completed="completed",e.waiting="waiting"}(r||(r={})),function(e){e.done="done"}(i||(i={}));class F{constructor(){this.queue=[]}enqueue(e){this.queue.push(e)}dequeue(){return this.queue.shift()}size(){return this.queue.length}}!function(e){e[e.fail=-1]="fail",e[e.success=0]="success"}(o||(o={}));class U{constructor(e){this.options=e,this.startPoint={status:0,data:null==e?void 0:e.initData}}start(){return this.tasks&&this.tasks.length?new Promise(e=>{this.tasks.forEach((t,n)=>{s.xx.scheduleTask(()=>l(this,void 0,void 0,function*(){var r;try{this.startPoint=yield t.run(this.startPoint),n===this.tasks.length-1&&setTimeout(()=>{e(this.startPoint)},0)}catch(t){if(null==(r=this.options)?void 0:r.onError)return this.options.onError(t),e(t);throw t}}),{priority:s.UL.normal})})}):Promise.resolve(this.startPoint)}serialNext(e){this.tasks=e}parallelNext(e){this.tasks=e}}class G{constructor(e=new F){this.eventEmitter=new a.EventEmitter,this.pausedKeys=new Set,this.waitingQueue=e}add(e,t){this.waitingQueue.enqueue(e,t)}pause(e){let t=null!=e?e:this.generatePauseKey();return this.pausedKeys.add(t),t}resume(e){let t=this.pausedKeys.delete(e);return 0===this.pausedKeys.size&&this.executeNextJob(),t}size(){return this.waitingQueue.size()}done(){return new Promise(e=>{this.eventEmitter.on("done",()=>{e()}),this.executeNextJob()})}executeJob(e){return l(this,void 0,void 0,function*(){yield e.start(),this.isPaused||(yield this.executeNextJob())})}executeNextJob(){return l(this,void 0,void 0,function*(){let e=this.waitingQueue.dequeue();e?yield this.executeJob(e):this.eventEmitter.emit("done")})}generatePauseKey(){let e=36;return Math.random().toString(e).substr(2,5)}get isPaused(){return this.pausedKeys.size>0}}},66031:function(e,t,n){"use strict";function r(e,t,n){Object.assign(e.style,{position:"absolute",backgroundColor:"#d8f5ff",left:t+"px",top:n+"px",zIndex:1e6})}function i(e,t,n,r){var i=window.devicePixelRatio||1,o=Math.round(n*i),a=Math.round(r*i);e.setAttribute("width",String(o)),e.setAttribute("height",String(a)),e.style.width=o/i+"px",e.style.height=a/i+"px",t.scale(i,i)}function o(e){return e.clientX?{clientX:e.clientX,clientY:e.clientY}:{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}}n.d(t,{Jn:function(){return c}});var a=function(){function e(){var e=this;this._visiable=!1,this._left=30,this._top=30,this._width=50,this._height=50,this._dragCacheOffset={x:0,y:0},this._down=function(t){var n=o(t),r=n.clientX,i=n.clientY;e._dragCacheOffset.x=r-e._canvas.offsetLeft,e._dragCacheOffset.y=i-e._canvas.offsetTop,document.body.addEventListener("mousemove",e._move),document.body.addEventListener("touchmove",e._move),document.body.addEventListener("mouseup",e._up),document.body.addEventListener("touchend",e._up)},this._move=function(t){var n=o(t),r=n.clientX,i=n.clientY;e._left=r-e._dragCacheOffset.x,e._top=i-e._dragCacheOffset.y,e._canvas.style.left=e._left+"px",e._canvas.style.top=e._top+"px"},this._up=function(){e._dragCacheOffset.x=0,e._dragCacheOffset.y=0,document.body.removeEventListener("mousemove",e._move),document.body.removeEventListener("touchmove",e._move),document.body.removeEventListener("mouseup",e._up),document.body.removeEventListener("touchend",e._up)}}return Object.defineProperty(e.prototype,"visiable",{get:function(){return this._visiable},enumerable:!1,configurable:!0}),e.prototype.show=function(){this._visiable||(this._init(),this._visiable=!0)},e.prototype.hide=function(){this._visiable&&(this._visiable=!1,this._dispose())},e.prototype.draw=function(e){var t=1e3/e;this._draw(t)},e.prototype._draw=function(e){this._ctx.clearRect(0,0,this._width,this._height),this._ctx.drawImage(this._backCanvas,0,0,this._width*devicePixelRatio,this._height*devicePixelRatio,1,0,this._width,this._height),this._ctx.clearRect(0,0,1,this._height),this._ctx.save(),this._ctx.strokeStyle="#2ec3f7",this._ctx.translate(.5,0),this._ctx.beginPath(),this._ctx.moveTo(0,this._height),this._ctx.lineTo(0,(1-Math.min(120,e)/120)*this._height),this._ctx.closePath(),this._ctx.stroke(),this._ctx.restore(),this._backCtx.clearRect(0,0,this._width,this._height),this._backCtx.drawImage(this._canvas,0,0,this._width*devicePixelRatio,this._height*devicePixelRatio,0,0,this._width,this._height),this._ctx.save(),this._ctx.strokeStyle="#ff0000",this._ctx.beginPath(),this._ctx.moveTo(0,this._height/2),this._ctx.lineTo(this._width,this._height/2),this._ctx.closePath(),this._ctx.stroke(),this._ctx.restore()},e.prototype._init=function(){this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),this._backCanvas=document.createElement("canvas"),this._backCtx=this._backCanvas.getContext("2d"),r(this._canvas,this._left,this._top),i(this._canvas,this._ctx,this._width,this._height),i(this._backCanvas,this._backCtx,this._width,this._height),this._canvas.addEventListener("mousedown",this._down),this._canvas.addEventListener("touchstart",this._down),document.body.appendChild(this._canvas)},e.prototype._dispose=function(){this._canvas=null,this._ctx=null,this._canvas.removeEventListener("mousedown",this._down),this._canvas.removeEventListener("touchstart",this._down),document.body.removeChild(this._canvas)},e}(),s=function(){function e(e){var t=this;void 0===e&&(e={}),this._running=!1,this._last=0,this._timer=0,this._record=[],this._threshold=Number.MAX_SAFE_INTEGER,this._maxInterval=0,this._box=new a,this._listeners=[],this._run=function(){var e=Date.now()-t._last;t._record.push(e),t._shouldDispatch(),t._box.visiable&&t._box.draw(e),t._last=Date.now(),t._timer=requestAnimationFrame(t._run)},void 0!==e.cycle&&(this._threshold=e.cycle/16|0),void 0!==e.maxInterval&&(this._maxInterval=e.maxInterval)}return e.prototype.start=function(){if(this._running)return void console.warn("\u5DF2\u7ECF\u542F\u52A8 fps \u76D1\u542C");this._running=!0,this._lastDispatch=Date.now(),this._last=Date.now(),this._timer=requestAnimationFrame(this._run)},e.prototype.end=function(){window.cancelAnimationFrame(this._timer),this._running=!1,this._record.length>0&&(this._dispatch(),this._record.length=0)},e.prototype.visiable=function(){this._box.show()},e.prototype.invisible=function(){this._box.hide()},e.prototype.addListener=function(e){this._hasListener(e)||this._listeners.push(e)},e.prototype.removeListener=function(e){this._hasListener(e)&&(this._listeners=this._listeners.filter(function(t){return t!==e}))},e.prototype._shouldDispatch=function(){if(0!==this._maxInterval&&Date.now()-this._lastDispatch>this._maxInterval||this._record.length>=this._threshold)return void this._dispatch()},e.prototype._hasListener=function(e){return!this._listeners.every(function(t){return t!==e})},e.prototype._dispatch=function(){var e=this;this._record.shift(),this._listeners.forEach(function(t){t(e._record)}),this._record.length=0,this._lastDispatch=Date.now()},e}(),u=n(384341);window.mqq&&window.mqq.android&&window._mqqWebViewJSInterface&&window._mqqWebViewJSInterface.invoke;var c=new(function(){function e(){this._cacheFps={fps:null,isDefault:!1,callback:null},window.mqq||console.warn("\u6CA1\u6709 mqq\uFF0C\u65E0\u6CD5\u4F7F\u7528 support bridge\uFF01")}return e.prototype.sendEvent=function(e,t){u.default.isTencentDocsApp&&this._invokeNative("docx","webEvent",JSON.stringify({type:t,namespace:e,offlineStatus:String(!!window.__isOfflinePkg)}))},e.prototype.sendFps=function(e,t){window.mqq&&u.default.isTencentDocsApp&&this._sendFps(e,t)},e.prototype.startFps=function(e,t){window.mqq&&u.default.isTencentDocsApp&&(this._fpsResourceFree(),t||((t=new s({cycle:1e3,maxInterval:2e3})).start(),this._cacheFps.isDefault=!0),this._cacheFps.fps=t,this._cacheFps.callback=this._sendFps.bind(this,e),t.addListener(this._cacheFps.callback))},e.prototype.endFps=function(){window.mqq&&u.default.isTencentDocsApp&&this._fpsResourceFree()},e.prototype.invoke=function(e,t){if(u.default.isTencentDocsApp)try{Object.assign(t,{offlineStatus:String(!!window.__isOfflinePkg)});var n=JSON.stringify(t);this._invokeNative("docx",e,n)}catch(e){console.error("JSON stringify \u5931\u8D25",e)}},e.prototype._sendFps=function(e,t){this._invokeNative("docx","webFps",JSON.stringify({fps:t,namespace:e,offlineStatus:String(!!window.__isOfflinePkg)}))},e.prototype._fpsResourceFree=function(){this._cacheFps.callback&&(this._cacheFps.fps.removeListener(this._cacheFps.callback),this._cacheFps.callback=null),this._cacheFps.isDefault?(this._cacheFps.fps.invisible(),this._cacheFps.fps.end(),this._cacheFps.fps=null,this._cacheFps.isDefault=!1):this._cacheFps.fps=null},e.prototype._invokeNative=function(e,t,n){var r;null==(r=window.mqq)||r.invoke("docx",t,n)},e.prototype._invokeNativeAndroid=function(e,t,n){var r,i="jsbridge://"+encodeURIComponent(e)+"/"+encodeURIComponent(t)+"?p="+encodeURIComponent(n);null==(r=window._mqqWebViewJSInterface)||r.invoke(i)},e}())},739452:function(e,t,n){"use strict";var r=void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function i(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=i(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a,s=!0,u=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==o.return||o.return()}finally{if(u)throw a}}}}function s(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof globalThis||("undefined"!=typeof window?window:void 0!==r||"undefined"!=typeof self&&self),s(function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=0x100000000*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}});for(var u=[],c=0;c<256;++c)u[c]=(c+256).toString(16).substr(1);var l=s(function(e,t){e.exports=function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},i=r.lib={},o=i.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=0xffffffff<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],i=function(t){var t=t,n=0x3ade68b1,r=0xffffffff;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return i/=0x100000000,(i+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var s=i(0x100000000*(n||e.random()));n=0x3ade67b7*s(),r.push(0x100000000*s()|0)}return new a.init(r,t)}}),s=r.enc={},u=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},c=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,s=i/(4*o),u=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,c=e.min(4*u,i);if(u){for(var l=0;l<u;l+=o)this._doProcessBlock(r,l);var d=r.splice(0,u);n.sigBytes-=c}return new a.init(d,c)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(i.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math)}),d=(s(function(e,t){var n,r,i;i=(r=n=l).lib.WordArray,r.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)i.push(r.charAt(a>>>6*(3-s)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return function(e,t,n){for(var r=[],o=0,a=0;a<t;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2,u=n[e.charCodeAt(a)]>>>6-a%4*2;r[o>>>2]|=(s|u)<<24-o%4*8,o++}return i.create(r,o)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.exports=n.enc.Base64}),s(function(e,t){e.exports=l.enc.Utf8}),s(function(e,t){!function(n,r){var i={version:"3.0.1",x86:{},x64:{}};function o(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function a(e,t){return e<<t|e>>>32-t}function s(e){return e=o(e^=e>>>16,0x85ebca6b),e=o(e^=e>>>13,0xc2b2ae35),e^=e>>>16}function u(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function c(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function l(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function d(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function f(e,t){return[e[0]^t[0],e[1]^t[1]]}function p(e){return e=f(e=c(e=f(e=c(e=f(e,[0,e[0]>>>1]),[0xff51afd7,0xed558ccd]),[0,e[0]>>>1]),[0xc4ceb9fe,0x1a85ec53]),[0,e[0]>>>1])}i.x86.hash32=function(e,t){e=e||"",t=t||0;for(var n=e.length%4,r=e.length-n,i=t,u=0,c=0xcc9e2d51,l=0x1b873593,d=0;d<r;d+=4)i=o(i=a(i^=u=o(u=a(u=o(u=255&e.charCodeAt(d)|(255&e.charCodeAt(d+1))<<8|(255&e.charCodeAt(d+2))<<16|(255&e.charCodeAt(d+3))<<24,c),15),l),13),5)+0xe6546b64;switch(u=0,n){case 3:u^=(255&e.charCodeAt(d+2))<<16;case 2:u^=(255&e.charCodeAt(d+1))<<8;case 1:i^=u=o(u=a(u=o(u^=255&e.charCodeAt(d),c),15),l)}return(i=s(i^=e.length))>>>0},i.x86.hash128=function(e,t){e=e||"",t=t||0;for(var n=e.length%16,r=e.length-n,i=t,u=t,c=t,l=t,d=0,f=0,p=0,h=0,g=0x239b961b,m=0xab0e9789,v=0x38b34ae5,y=0xa1e38b93,b=0;b<r;b+=16)d=255&e.charCodeAt(b)|(255&e.charCodeAt(b+1))<<8|(255&e.charCodeAt(b+2))<<16|(255&e.charCodeAt(b+3))<<24,f=255&e.charCodeAt(b+4)|(255&e.charCodeAt(b+5))<<8|(255&e.charCodeAt(b+6))<<16|(255&e.charCodeAt(b+7))<<24,p=255&e.charCodeAt(b+8)|(255&e.charCodeAt(b+9))<<8|(255&e.charCodeAt(b+10))<<16|(255&e.charCodeAt(b+11))<<24,h=255&e.charCodeAt(b+12)|(255&e.charCodeAt(b+13))<<8|(255&e.charCodeAt(b+14))<<16|(255&e.charCodeAt(b+15))<<24,i=a(i^=d=o(d=a(d=o(d,g),15),m),19),i=o(i+=u,5)+0x561ccd1b,u=a(u^=f=o(f=a(f=o(f,m),16),v),17),u=o(u+=c,5)+0xbcaa747,c=a(c^=p=o(p=a(p=o(p,v),17),y),15),c=o(c+=l,5)+0x96cd1c35,l=a(l^=h=o(h=a(h=o(h,y),18),g),13),l=o(l+=i,5)+0x32ac3b17;switch(d=0,f=0,p=0,h=0,n){case 15:h^=e.charCodeAt(b+14)<<16;case 14:h^=e.charCodeAt(b+13)<<8;case 13:l^=h=o(h=a(h=o(h^=e.charCodeAt(b+12),y),18),g);case 12:p^=e.charCodeAt(b+11)<<24;case 11:p^=e.charCodeAt(b+10)<<16;case 10:p^=e.charCodeAt(b+9)<<8;case 9:c^=p=o(p=a(p=o(p^=e.charCodeAt(b+8),v),17),y);case 8:f^=e.charCodeAt(b+7)<<24;case 7:f^=e.charCodeAt(b+6)<<16;case 6:f^=e.charCodeAt(b+5)<<8;case 5:u^=f=o(f=a(f=o(f^=e.charCodeAt(b+4),m),16),v);case 4:d^=e.charCodeAt(b+3)<<24;case 3:d^=e.charCodeAt(b+2)<<16;case 2:d^=e.charCodeAt(b+1)<<8;case 1:i^=d=o(d=a(d=o(d^=e.charCodeAt(b),g),15),m)}return i^=e.length,i+=u^=e.length,i+=c^=e.length,u+=i+=l^=e.length,c+=i,l+=i,i=s(i)+(u=s(u))+(c=s(c)),u+=i+=l=s(l),c+=i,l+=i,("00000000"+(i>>>0).toString(16)).slice(-8)+("00000000"+(u>>>0).toString(16)).slice(-8)+("00000000"+(c>>>0).toString(16)).slice(-8)+("00000000"+(l>>>0).toString(16)).slice(-8)},i.x64.hash128=function(e,t){e=e||"",t=t||0;for(var n=e.length%16,r=e.length-n,i=[0,t],o=[0,t],a=[0,0],s=[0,0],h=[0x87c37b91,0x114253d5],g=[0x4cf5ad43,0x2745937f],m=0;m<r;m+=16)a=[255&e.charCodeAt(m+4)|(255&e.charCodeAt(m+5))<<8|(255&e.charCodeAt(m+6))<<16|(255&e.charCodeAt(m+7))<<24,255&e.charCodeAt(m)|(255&e.charCodeAt(m+1))<<8|(255&e.charCodeAt(m+2))<<16|(255&e.charCodeAt(m+3))<<24],s=[255&e.charCodeAt(m+12)|(255&e.charCodeAt(m+13))<<8|(255&e.charCodeAt(m+14))<<16|(255&e.charCodeAt(m+15))<<24,255&e.charCodeAt(m+8)|(255&e.charCodeAt(m+9))<<8|(255&e.charCodeAt(m+10))<<16|(255&e.charCodeAt(m+11))<<24],i=u(c(i=u(i=l(i=f(i,a=c(a=l(a=c(a,h),31),g)),27),o),[0,5]),[0,0x52dce729]),o=u(c(o=u(o=l(o=f(o,s=c(s=l(s=c(s,g),33),h)),31),i),[0,5]),[0,0x38495ab5]);switch(a=[0,0],s=[0,0],n){case 15:s=f(s,d([0,e.charCodeAt(m+14)],48));case 14:s=f(s,d([0,e.charCodeAt(m+13)],40));case 13:s=f(s,d([0,e.charCodeAt(m+12)],32));case 12:s=f(s,d([0,e.charCodeAt(m+11)],24));case 11:s=f(s,d([0,e.charCodeAt(m+10)],16));case 10:s=f(s,d([0,e.charCodeAt(m+9)],8));case 9:o=f(o,s=c(s=l(s=c(s=f(s,[0,e.charCodeAt(m+8)]),g),33),h));case 8:a=f(a,d([0,e.charCodeAt(m+7)],56));case 7:a=f(a,d([0,e.charCodeAt(m+6)],48));case 6:a=f(a,d([0,e.charCodeAt(m+5)],40));case 5:a=f(a,d([0,e.charCodeAt(m+4)],32));case 4:a=f(a,d([0,e.charCodeAt(m+3)],24));case 3:a=f(a,d([0,e.charCodeAt(m+2)],16));case 2:a=f(a,d([0,e.charCodeAt(m+1)],8));case 1:i=f(i,a=c(a=l(a=c(a=f(a,[0,e.charCodeAt(m)]),h),31),g))}return i=f(i,[0,e.length]),o=u(o=f(o,[0,e.length]),i=u(i,o)),i=p(i),o=u(o=p(o),i=u(i,o)),("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)+("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)},e.exports&&(t=e.exports=i),t.murmurHash3=i}()})),f=(d.murmurHash3,d);function p(e){function t(e,t){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.message=e,this.code=t}return t.prototype=Error(),t.prototype.name=e,t.prototype.constructor=t,t}s(function(e,t){var n;n=l,function(e){var t=n,r=t.lib,i=r.WordArray,o=r.Hasher,a=t.algo,s=[],u=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 0x100000000*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),u[i]=n(e.pow(r,1/3)),i++),r++}();var c=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],d=n[6],f=n[7],p=0;p<64;p++){if(p<16)c[p]=0|e[t+p];else{var h=c[p-15],g=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,m=c[p-2],v=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;c[p]=g+c[p-7]+v+c[p-16]}var y=r&i^r&o^i&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),_=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&d)+u[p]+c[p];f=d,d=l,l=s,s=a+_|0,a=o,o=i,i=r,r=_+(b+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+d|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/0x100000000),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(l),t.HmacSHA256=o._createHmacHelper(l)}(Math),e.exports=n.SHA256}),s(function(e,t){var n,r,i;r=(n=l).lib.Base,i=n.enc.Utf8,e.exports=void(n.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,u=a.words,c=0;c<n;c++)s[c]^=0x5c5c5c5c,u[c]^=0x36363636;o.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}}))}),s(function(e,t){e.exports=l.HmacSHA256}),p("ToggleUnexpectedResponseError"),p("ToggleInvalidArgumentError"),p("ToggleFetchError"),p("ToggleInvalidSetNameError"),p("ToggleNotConfiguredError"),p("ToggleBadFeatureError");var h="whitelist",g="blacklist",m="equal",v="regexp";function y(e){var t={},n=e||function(){return Math.floor(100*Math.random())+1};return t.name="gradualRolloutRandom",t.isEnabled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return+JSON.parse(e.percentage)>=n()},t}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return f.x86.hash32("".concat(t,":").concat(e))%n+1}function _(e){return!!/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/.test(e)}function C(e){var t=e.match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/);if(t){for(var n=0,r=1,i=4;i>=1;i-=1)n+=r*parseInt(t[i]),r*=256;return n}return -1}function I(e,t){var n=t.match(/^(.*?)\/(\d{1,2})$/),r=n?C(n[1]):-1,i=C(e);if(n&&r>=0){var o=Math.pow(2,32-parseInt(n[2]));return i>r&&i<r+o-1}return!1}function E(){return{name:"gradualRolloutUserId",isEnabled:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).userId;if(!t)return!1;var n=+JSON.parse(e.percentage),r=b(t,JSON.parse(e.groupId)||"");return n>0&&r<=n}}}function w(){return{name:"gradualRolloutSessionId",isEnabled:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).sessionId;if(!t)return!1;var n=+JSON.parse(e.percentage),r=b(t,JSON.parse(e.groupId)||"");return n>0&&r<=n}}}function S(){return{name:"userWithId",isEnabled:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="";return e.listType&&"string"==typeof JSON.parse(e.listType)&&(n=JSON.parse(e.listType)),"blacklist"===n?!e.userIds||!t.userId||!JSON.parse(e.userIds).split(/\s*,\s*/).filter(function(e){return e}).includes(t.userId):!(!e.userIds||!t.userId)&&JSON.parse(e.userIds).split(/\s*,\s*/).filter(function(e){return e}).includes(t.userId)}}}function D(){return{name:"remoteAddress",isEnabled:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="";if(e.listType&&"string"==typeof JSON.parse(e.listType)&&(n=JSON.parse(e.listType)),"blacklist"===n){if(!e.IPs||!t.remoteAddress)return!0;var r,i=a(JSON.parse(e.IPs).split(/\s*,\s*/).filter(function(e){return e}));try{for(i.s();!(r=i.n()).done;){var o=r.value;try{if(o===t.remoteAddress||!_(o)&&I(t.remoteAddress,o))return!1}catch(e){continue}}}catch(e){i.e(e)}finally{i.f()}return!0}if(!e.IPs||!t.remoteAddress)return!1;var s,u=a(JSON.parse(e.IPs).split(/\s*,\s*/).filter(function(e){return e}));try{for(u.s();!(s=u.n()).done;){var c=s.value;try{if(c===t.remoteAddress||!_(c)&&I(t.remoteAddress,c))return!0}catch(e){continue}}}catch(e){u.e(e)}finally{u.f()}return!1}}}function M(){return{name:"userIdTailNumber",isEnabled:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="";if(e.listType&&"string"==typeof JSON.parse(e.listType)&&(n=JSON.parse(e.listType)),"blacklist"===n){if(!e.userIdTailNum||!t.userId)return!0;var r,i=a(JSON.parse(e.userIdTailNum).split(/\s*,\s*/).filter(function(e){return e}));try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t.userId.endsWith(o))return!1}}catch(e){i.e(e)}finally{i.f()}return!0}if(!e.userIdTailNum||!t.userId)return!1;var s,u=a(JSON.parse(e.userIdTailNum).split(/\s*,\s*/).filter(function(e){return e}));try{for(u.s();!(s=u.n()).done;){var c=s.value;if(t.userId.endsWith(c))return!0}}catch(e){u.e(e)}finally{u.f()}return!1}}}function T(){var e={};function t(e,t,n){for(var r=0;r<e.length;r++)if(n===v){if(t.search(e[r])>=0)return!0}else if(e[r]===t)return!0}return e.name="customKVProperty",e.isEnabled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=h;e.listType&&"string"==typeof JSON.parse(e.listType)&&JSON.parse(e.listType)===g&&(r=g);var i=m;if(e.matchType&&"string"==typeof JSON.parse(e.matchType)&&JSON.parse(e.matchType)===v&&(i=v),!e.propertyMap)return r===g;var o=JSON.parse(JSON.parse(e.propertyMap));if(!n.properties)return r===g;for(var a in o)if(!n.properties[a]||!t(o[a],n.properties[a],i))return r===g;return r==h},e}function A(){return{name:"customProperty",isEnabled:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="";if(e.listType&&"string"==typeof JSON.parse(e.listType)&&(n=JSON.parse(e.listType)),"blacklist"===n){if(!e.propertyName||!e.propertyValues)return!0;var r=JSON.parse(e.propertyName);if(!t.properties||!t.properties[r])return!0;var i=t.properties[r];return!JSON.parse(e.propertyValues).split(/\s*,\s*/).filter(function(e){return e}).includes(i)}if(!e.propertyName||!e.propertyValues)return!1;var o=JSON.parse(e.propertyName);if(!t.properties||!t.properties[o])return!1;var a=t.properties[o];return JSON.parse(e.propertyValues).split(/\s*,\s*/).filter(function(e){return e}).includes(a)}}}function x(){return{name:"gradualRolloutCustomProperty",isEnabled:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.propertyName)return!1;var n=JSON.parse(e.propertyName);if(!t.properties||!t.properties[n])return!1;var r=t.properties[n],i=Number(JSON.parse(e.percentage)),o=b(r,JSON.parse(e.groupId)||"");return i>0&&o<=i}}}(function(){var e={};e.name="applicationHostname",e.isEnabled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";return e.listType&&"string"==typeof JSON.parse(e.listType)&&(t=JSON.parse(e.listType)),"blacklist"===t?!e.hostNames||!JSON.parse(e.hostNames).toLowerCase().split(/\s*,\s*/).includes("undefined"):!!e.hostNames&&JSON.parse(e.hostNames).toLowerCase().split(/\s*,\s*/).filter(function(e){return e}).includes("undefined")}})(),y(),E(),w(),S(),D(),M(),T(),A(),x(),Promise.resolve({status:200,headers:function(){return null},body:null})},737263:function(e,t,n){"use strict";n.d(t,{KJ:function(){return eo},_A:function(){return eC},iM:function(){return eb}});var r=n(491620).Buffer;function i(e,t){var n=t||0,r=e.charCodeAt(n);if(55296<=r&&r<=56319){var i=r;return 56320<=(o=e.charCodeAt(n+1))&&o<=57343?1024*(i-55296)+(o-56320)+65536:i}if(56320<=r&&r<=57343){var o=r;return 55296<=(i=e.charCodeAt(n-1))&&i<=56319?1024*(i-55296)+(o-56320)+65536:o}return r}function o(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n);if(n+=1,i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n);n+=1,56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n-=1)}else t.push(i)}return t}function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=0,o="";i<n;){var a=e[i];a<=65535?r.push(a):(a-=65536,r.push(55296+(a>>10),a%1024+56320)),(i+1===n||r.length>26434)&&(o+=String.fromCharCode.apply(String,r),r.length=0),i+=1}return o}function s(e){return 55296<=e&&e<=56319}function u(e){return 56320<=e&&e<=57343}var c=Object.freeze({__proto__:null,isEmojiShift:0,isEmojiPresentationShift:1,isEmojiModifierShift:2,isEmojiModifierBaseShift:3,isEmojiComponentShift:4,isExtPictographicShift:5,default:{isEmojiShift:0,isEmojiPresentationShift:1,isEmojiModifierShift:2,isEmojiModifierBaseShift:3,isEmojiComponentShift:4,isExtPictographicShift:5}});function l(){var e=null==navigator?void 0:navigator.userAgent;return/msie/i.test(e)&&!function(){var e=null==navigator?void 0:navigator.userAgent;return/opera/i.test(e)}()||/trident/i.test(e)}function d(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function f(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new d,this.dtree=new d}var p=new d,h=new d,g=new Uint8Array(30),m=new Uint16Array(30),v=new Uint8Array(30),y=new Uint16Array(30),b=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_=new d,C=new Uint8Array(320);function I(e,t,n,r){var i,o;for(i=0;i<n;++i)e[i]=0;for(i=0;i<30-n;++i)e[i+n]=i/n|0;for(o=r,i=0;i<30;++i)t[i]=o,o+=1<<e[i]}var E=new Uint16Array(16);function w(e,t,n,r){var i,o;for(i=0;i<16;++i)e.table[i]=0;for(i=0;i<r;++i)e.table[t[n+i]]++;for(e.table[0]=0,o=0,i=0;i<16;++i)E[i]=o,o+=e.table[i];for(i=0;i<r;++i)t[n+i]&&(e.trans[E[t[n+i]]++]=i)}function S(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function D(e,t,n){if(!t)return n;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,r+n}function M(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=0,r=0,i=0,o=e.tag;do r=2*r+(1&o),o>>>=1,++i,n+=t.table[i],r-=t.table[i];while(r>=0);return e.tag=o,e.bitcount-=i,t.trans[n+r]}function T(e,t,n){var r,i,o,a,s,u;for(r=D(e,5,257),i=D(e,5,1),o=D(e,4,4),a=0;a<19;++a)C[a]=0;for(a=0;a<o;++a){var c=D(e,3,0);C[b[a]]=c}for(w(_,C,0,19),s=0;s<r+i;){var l=M(e,_);switch(l){case 16:var d=C[s-1];for(u=D(e,2,3);u;--u)C[s++]=d;break;case 17:for(u=D(e,3,3);u;--u)C[s++]=0;break;case 18:for(u=D(e,7,11);u;--u)C[s++]=0;break;default:C[s++]=l}}w(t,C,0,r),w(n,C,r,i)}function A(e,t,n){for(;;){var r,i,o,a,s=M(e,t);if(256===s)return 0;if(s<256)e.dest[e.destLen++]=s;else for(r=D(e,g[s-=257],m[s]),i=M(e,n),a=o=e.destLen-D(e,v[i],y[i]);a<o+r;++a)e.dest[e.destLen++]=e.dest[a]}}function x(e){for(var t,n;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if((t=256*(t=e.source[e.sourceIndex+1])+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return -3;for(e.sourceIndex+=4,n=t;n;--n)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,0}!function(e,t){var n;for(n=0;n<7;++n)e.table[n]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,n=0;n<24;++n)e.trans[n]=256+n;for(n=0;n<144;++n)e.trans[24+n]=n;for(n=0;n<8;++n)e.trans[168+n]=280+n;for(n=0;n<112;++n)e.trans[176+n]=144+n;for(n=0;n<5;++n)t.table[n]=0;for(t.table[5]=32,n=0;n<32;++n)t.trans[n]=n}(p,h),I(g,m,4,3),I(v,y,2,1),g[28]=0,m[28]=258;var N,O,k,R=function(e,t){var n,r,i=new f(e,t);do{switch(n=S(i),D(i,2,0)){case 0:r=x(i);break;case 1:r=A(i,p,h);break;case 2:T(i,i.ltree,i.dtree),r=A(i,i.ltree,i.dtree);break;default:r=-3}if(0!==r)throw Error("Data error")}while(!n);return i.destLen<i.dest.length?"function"==typeof i.dest.slice?i.dest.slice(0,i.destLen):i.dest.subarray(0,i.destLen):i.dest},L=function(){function e(e){var t=e,n="function"==typeof t.readUInt32BE&&"function"==typeof t.slice;if(n||t instanceof Uint8Array){var r=void 0;if(n)this.highStart=t.readUInt32BE(0),this.errorValue=t.readUInt32BE(4),r=t.readUInt32BE(8),t=t.slice(12);else{var i=new DataView(t.buffer);this.highStart=i.getUint32(0),this.errorValue=i.getUint32(4),r=i.getUint32(8),t=t.subarray(12)}var o=R(t,new Uint8Array(r));if((o=R(o,new Uint8Array(r))).length!==r)throw Error("Data unzip failed.!!!");this.data=new Uint32Array(o.buffer)}else this.data=t.data,this.highStart=t.highStart,this.errorValue=t.errorValue}return e.prototype.get=function(e){if(e<0||e>1114111)return this.errorValue;if(e<55296||e>56319&&e<=65535){var t=(this.data[e>>5]<<2)+(31&e);return this.data[t]}return e<=65535?(t=(this.data[2048+(e-55296>>5)]<<2)+(31&e),this.data[t]):e<this.highStart?(t=this.data[2080+(e>>11)],t=((t=this.data[t+(e>>5&63)])<<2)+(31&e),this.data[t]):this.data[this.data.length-4]},e}(),j=function(){function e(e){this.init=e}return e.prototype.getValue=function(){return void 0===this.value&&(this.value=this.init()),this.value},e.prototype.doIdly=function(e){this.init=e(this.init)},e}(),P="function"==typeof Proxy&&("undefined"!=typeof window?(O=null==navigator?void 0:navigator.userAgent,/chrome/i.test(O)?((N=(null==navigator?void 0:navigator.userAgent).match(/Chrom(e|ium)\/([0-9]+)\./))?parseInt(N[2],10):0)>=53:!l()):void 0!==n.g);!function(e){e[e.CommonProps=0]="CommonProps",e[e.Emoji=1]="Emoji",e[e.GraphemeBreak=2]="GraphemeBreak",e[e.LineBreak=3]="LineBreak"}(k||(k={}));var B=new(function(){function e(){this.idleValues=[]}return e.prototype.bindIdleWrapper=function(e){this.wrapper=e;for(var t=this.idleValues;t.length>0;){var n=t.pop();null==n||n.doIdly(e)}},e.prototype.createTrie=function(e){var t=this;if(!P)return new L(this.readData(e));var n=this.createIdleValue(function(){return new L(t.readData(e))});return new Proxy(Object.create(null),{get:function(e,t){if(t in e)return e[t];if("constructor"===t)return L;if("prototype"===t)return L.prototype;var r=n.getValue(),i=r[t];return"function"!=typeof i||(i=i.bind(r),e[t]=i),i},set:function(e,t,r){return e[t]=r,n.getValue()[t]=r,!0},defineProperty:function(e,t,r){return Object.defineProperty(n.getValue(),t,r),!0},getPrototypeOf:function(){return L.prototype}})},e.prototype.createIdleValue=function(e){var t=new j(e);return this.wrapper?t.doIdly(this.wrapper):this.idleValues.push(t),t},e.prototype.readData=function(e){switch(e){case k.CommonProps:return r("ABEAAAAAAAAAAaeAfXlnVFNb1+7nsSugCIhIyVEEBEQOItLJQQQElCq9iYj0EiCEjkoXSJAuLUpHIKF3iNRIjdTQESJEiCRAICEJCdfzvvfT8+feMdaPtccea+0113zmM58599bi+XZhsMP3HZ07OqIruRqjRAfFhPeWdoiArsjXtoApy2qKzadWzRDNernzBaU8Ik3jg/j7yNk+N8STPmepy96XdQW/3ep8s280v3KNaIqovvUak+J3+cTJ87VmCBdpKhUzfOPo0Xr685SzrW1wEh4IO2Icwd9F6Pv6sjI/3oR/Kt02OLjq1bPYfJqKc1CJEUvGSAx2KXAb9MgocIitQN47clqDRCUs7vPwFsQo3e7RHnv5yulQmMUnjzNbiJ/f8Tz8H+qK+g+09NsB8UF1i4TSrzc9ev/Ij+T9yp0bY/5VTuG0d7c1iPN2V9vOMRtoTB78lQHu/MElr14s6HRnkqjQJ+EDRRbAN0jzXZcAB3psJsoZR1PgK11ly432PODKhTWtbAXyLkVewJ2zSTJYrftn5VG/UOhpyeYLwC7MtuTzu3TNOgr2ktpJbQfhy9vzgTVhLOoZ+xhgL2DFpp2P9+v9yRvgC5mzas9iAejY7QsUVnpAc2JELxD3Yh7rw+8FG2jaPr7gHHKRsaP3/Nze2elngvlvHEEq+Qm86ujr4aina5BTK5YK/BFvyDv3bBIFA+XVXg6BTiL6b9vAkNyVLKbEitdbwH8tCWQz+NP8+dLXiwKv2ANP6X8iv8f9vATZbTePHv430/tiIQmEGfvqI+C2fjsvoGut+RK813lHZCEOieMI5a04kBHqwz0EFN3UrOxymHmZZPHpxXeLXrP2c8i6Dk48DrNtZhMl+PMunAFHZ9QSYY5ibPPgcQr+9wYBQsBug53zRSXcxS8tK9ET2/4Csanbf+S+NgFpxWEFJ7duMWbudYvAyF6mqzZxTbi8A4J4RSf0Qs2R0aEgS2goBbMy1MzZ9PWnX0nzxD6NA75wOacReXB2kFfO28bF6RUfgaTHCpxiDrL+Hl3iCuzScOLCcbsBivtOcPtZ7z7NGeiRqzcKEJEg6dOwxRVwtclgRTZFupWCXrFHG/aPnK0nvLS3H2XizEKO7im38wM/hR2cFUofPwx96cua4JjiIx7JRmIhSZJbDhrfePpWZL5FTMYRrjQ5t26G/MHA6FWzS6cMhm9E7a+Vc5nBjYJmoxr8CGcIZHuxyioDrYjcvwH5fk8XWm+10HEjp+liX+ATQN7C9c1SiOD3JkNSIUxNRf02Gg2SQ3DieFfJB5l8BOfYpovhXJDZ8JeM7dSfj9dgl9Q41p5qDjieImw/EUhw/noiN+4/QP6PD+FfRw78DkVY5zJXIw+uILrFtsUPuVg89j3y1byQeWIX8zTkKHTr5XEOha8vx4KzGETMznlQhFlquoRIhc+nY6cPUrCDdRSWygqnwjiY9W6cteMBj1ruIq06iRDCnFYuzIQ31APWYfGMU8os+JxD+vYfNomQr8ahX9Lxy7UoLmxc8ErCAe/Ca+9VhPEuFW5fVSPQaWZkl4DqoYIOBBgHF4lRvnEF38u6omqhYZPbriqvozUUY85XJ8ZWu9oZjWocb3rm1lGQC0X1V5XxDFx4wxR6wY5d7YqspNqWllYaUu5AO9AUu9AJHjyIAscIKLjPzSE5sw0Dtz7MI00eM8Bx0KaVEPGEQHZQTsdRlv8CyL+cmuVRF2Y3DDOYn7cPKKaJM+rqhntmR2uoGCt0v2tQY5P3hZ+XcTzcRKVXddv87NLp9FBfu2ZR2m5qODOzPsJRygcQblyrBtwDFEPR2yd2hzGRoJs/42/nkQBwPmfZT5FyPTfRBHRqtHs28PjSa9Qn+znXozfbxu0XAL1oHx61V7bNQvaXQaDznVDlIl+UMj/x9D+8EPGV15jO7fd3H/d6rxK39jz5GddKvHsrfkBvRk0Q2fu/gG3uhYaIr5z2UUR8mpqJJuzwiKOQiJrQHrXGzG2vhciwwIswrdxSGJf0yJyl9byi2bMQIYOeGgUhTD+5+uTRydKVnyRVt3Oq/STv12c2r/V21A7Z1WIqfKTUYqU/1Q8tPA5UJtZjd6ir6EBuGHKryi+7IezyhMIJ7afH82Xwi/1cCiybdpfRbKS0iAqP89dbuUkiT7b2eC9NG1IHSHegEYEIk4iVcxTkP1QjjRMVZ8rPdLJDcEI/eiIDuY+w4VUFHwIfHmRVXRv9EHg1H/o4sDGNSPNAnZHuI+HSAz2jQqOxjF5lGO7n6dodh5eC4uS8oNTaI85QgaOLycTWOE8WeNdy7jBoPtMHd+Jg7kRij2dsL+52yG2KNctWtochP8i6xhKEPQOGux7ZaPRwr/soQO3ks8MXHnSKrUYjDu1rR30l7KDAtNEjznk8KyYEd2VQIeLviMbR7ImjMFtq2L0N93s6yt8TIMg6tWWhb8d7aWcQn0bVbFpu0+7F0L61cuyQxwk76WLqHbH7pnMH4B+WWGYI73Lj/G2An/ucq1B1T+xZQE/EHGMVYlYba1VyYUuKkayhHCTYRZERAkFxM/GBQnaJyz1DOxK5L7ErSQrLrBaK3oWtIsvqCZtE3E6A8kjb9j9OgUJwx5sFlHeEbCIxXxM0Wo/Jz6/I+5zuJIyNFlUKzYUB/BkyeAB7GQmXG/IHjeayJvig/dI66EHvXR3FGLogHvegjSh9I/SsPr+GtZ06H7JL0dgS+YzxmLyIxDz3XlvQbD7xDyfMtMs1mmuVkcXiyeW0UTBdsRGVmLNeRTjij2rCWKMiA3hXqNVu+CPhbviqTb4gjFNNZlkZ1UtSWMNar9xduUahcEahZ+bRnPn1nVRIYb47IIRzRW+LWmVXs/SxroxQUXy3FNEEVWTwUDKnIcsYNbGGusGW81jInF0dbvrscl2nydGFOqaRwDcjoPpom7rA8TYf1c7aTmo+fWo/LwR/ZAkI9YTO5aUdMffzqB7UKlI4kKoecjTBta04YqRoR0/8wdofm2CmNL/rSUFGJOswFvxB3YwK+zqupXzaWeRytb6EiH0sSEHlqQCMJQfA/YVK92HA/bLkLkSktjC+nQyDDowZrKqpOCWSSfViIGDfFBb5yf0GUW5LMZYWUqh9uHxXJyL/rg5elhV/ZMLDLjLQ7o5KTKJQXgt6BYyWPtE0ED7OY/ktOTbmjzfJu9bJFmio2WV0t5vegBfGLHf2HMxMwtEhHfU0E5W898XgMzDpaLQ9xzlkacnOTRB7BRC9laSbvt1thnLVZderqpmw2rl8J9vY3AGNnHG13phYbU5n1XZ4kLrCJb3iOS336sfwgcCdskwSLUkqvbF2SEt84XsNiddgtEcCJR/WIkks6OiYWSLJL1yRgYcPzn7nXJZmasEP8gJOZdbIvGfPY533KrWnRcYw64Eqe8rmZ+NxS3Z7D3E8GOkk+9yyfagVEKlwf6pQzZQXxCo0DiZ5Um2+Syd65wdiZSsN8oc/AFBBa1ixsSFyK5DqOLPXUw5tade6KZJSJZUt+MYxO0w/9TO6rakpeNyG2/y77fJSqL916a2jO4yaJ/dWSwtXr0OnVKDn2a0nceqPLhAVHPa95z7YX8VnrfrZ6Be2UdLdz3iqzjOp4CSGVhLh09m+9jIZxGi4Bs1frwrcPl5SfZkHlEvOC5xuv4jPVeAghIr5D5Zxceh94/O3u42pEoqsDm0f3ELA7AV5haNFPyj+/d2+9KQ53xLYc/WYskDv8fgKtmLx6EjL3GQfHVdf4EWJxunO3ZPW4/v8Tgouc0UE1dCbxBxdN9CtXOeoFLcTh2YQpz/igj0yNtue53hvZTbx6QZFJjBmMtzbcQM7HYFr2EHCVfcQ5RX9hZc8RWoDII+uex5o/Xl2C/VNKw/R/DN6vSILL7yVneI9x1vheK+1J2CP7qHbDVFTliWlbqrcmlHnU1I8Oxtiahozb+2Zv9/CStD1F3yq8hqnRzFzSFHdSlJBf9Vd5BpHzXDd/8g18v/1oc7e0gsoJlH5eN9TjVlT5a5cXLp3947hW02OIJeb78+4sgkE5LkNxVNXntcwRJ/qW5HnHYlKjqluFrm468R75ioV7Wr9BojCsK24ncLOyItYr2j38uu7My0e0TrvgRJ72pJ7c0uign7e3tsP8bzdLc4Da2LA5RiTHAstQDD8MWfxVRvg5781Lyt++/Dh5fW0mJvCrs846LMvYhfkb+nd1LmaF5DQ/GzrRGqo9utW/w+H+Y526LBVRbC869D7B3RRML8iHbsy2Tbb6ayFagpCZsZ0rDfR81Oxjp0EOTytbmTbzvHBR42eCM/Vy42d54P7W+Hv7OaJvuYWkiUWEx4WHFbytOnHOkOPnnA9y4zA1XZ46y7s731seg62nEM2YrNGg+uUPYH7slbuPkVp9flapyRqP1+7wH6SW/3qain/capeSzTWvF7TpQPqCqBOh3fg6paR1fWjNATWKhz8LLTKsaT3+/hA4cSLIFR764JJPt79sXiVOdwfW1Px48m7Hc1f+10rhvMSxUsJENzZH33hw6/99AIEODOxedoBc+UmiL56akV+MNETgQvf6I4qBmeuNS3OOYdW4Up63ey9mW2wJoYDuEXM7qu7L5x+qqowkOc6y/n99QSB3S+Gf3OOz3x2imMafwNbRx9cnlhCxviiE7Jv69qp45mrjfPdB1boR/FjPW2LAaGuoWvtp8fKHUttZDp5tHj5yj5fj1W5y214wjUwLCsfZqjlzZ+36xYlN2daN28pHH5RzB7FDI/+eR4eC7F+rNIL3a07rf6b86517fZ+tiivvPZgEoa1/0NC2dQx9O2rN7d8P2toHNNMfqFTtGyth6U+BRK7FgP/GMNn35zfEOMM3nhDUhISQdRtqa3zYJACSJzRXj22ni/PE0N+QepUYaljm9AHjIdyV7yf/zJuJG+Dfs4M8qbG6UfHiPUHbUvRLbly89gZ5KnacRqJ6j6zpy9UFdqcX+UY0/tj3LWpr8M7xgbzIjjzmVDLUB0g13G30QbgHPq4/7e1Dx6q6n4zEYMr0SZNsffwmWmiTvLiTTptUiKMLOBbyJdwFF2HxIt19UvdaYC+QwSALYKuIMLqUkWfh675L+E7Nt3qFXDzz39b3Fei2km8R9EYuHJvwozdqZi8DMgJG8qY7hSXabXYJ+RCSJDd7x1ocKZrPnxwEmByZ5+Xiyh8yHHHY1nn+5t5cevE0u5Bvt/nS203q37T8a3lNAN0gdjPZaao98rRpGThzpbEvKeUnwqHL6o3vTQXAtwpmCys6GQEIy1LYbe0ciZiO0DBNNWIoUT53/ENa02jd8aA57Jv9TRIKTpl9hUe8Tip/YmJSWfl2i627koXWyEfylYd/QLqaiObLyzROppi+oMmHusVjo7lNCuR/7m45Xlm9M6WAJJS39DEMc3gSa8IANeRfRCF53AJbE+ev9UQunruplkR4bOtWZWTjvHV7hTuuVGZW7ZO9cVuk4Bf1vXmW5WwTIa9MJMGnwBfUSvMAzZKXDI5787a9iXOjBqjc4+t5ZK/11Ur9PhijuYet6XNqT1/0IGs08gMa2ttgObkbRV6DLdNZykw8sHbn5djpwBjONhr09MY2qQqKXQUXErKQ69S156PgjCM9CuoeIc5Nl6kY7PrrJJYviojQ3Xc3IQdYfALYDXXiNIFESqaVRWM9hUlZ92FoMCdoaGKyptsxU2jak7wCYQfgOncumvvJiObwKU+DBbzT4XlvBucuakbXz0G/nGNrqozEiXutmvlbg77SV4d4+zZ4TO72oud6ruC+woNgypz3w31HMbfWGF+sWC2eAOiaCqYT0mi7MMxrseVF53hcdj9bOfvAVKaq9S5wsrb+lH6YRL5c0jPqZEy/SyRtGcDFQVuZVAdPv427KoAnHs1yNnaxASC7BO4P3Gyc+ky3tHBgugkGEQaGbMjpI4mJjl88CiFF0x+0JkLvCLFZFVqDJgx1vWdt/ilmBn2omG1bDniniEyGlcQWxepUvPzIjo9DUDvqZ0rG34qlqpJv9zZjUTp2IuF5e2Bx7H/nnQcMT4r7V/KVSR6EGZHtvwEY4pEu58QUsVnpw3+MI07+o+dBUT7iN0y/WSt62unbA2WXHNlrpgIYjr6m/KJeHebgiVviUlJcTNaTK//huqSdYQiQrljC4I0kliQlcBTlmCSsyLYcJ2Hps23f1PLTbk5zlgKXfSrzY3r4SlapgA4AxIJuv+LZqsUECHNVyBpXC/GG986jOYMB6W6f7rOXPqDbONySTpIlE18b9oKUKv/HQrILVHOzwljZT3datho0fo4YPN7l5xjhKRrEybLxi9jSC0U5mM6M4xGlVUdwKdLBwKQgd/MKWpL2LDh2BRZm0dP0PgMp7ZHEFW2jeaNLjVWT47GUDI+IWVi4nfWe2h+rpp7pGZyhz2Ghx6flmmKcNF4F2AdKPj3fIqD7n4yQVjQ2WYQaJMx2jReMrgH/B29y7X7Ol3tU65I/flbJb0+eceZ16JsYUq4WxWGZrXDF7XOiC9JLcKPldfPYUVMHcL//KUrfdYmEN4ftYJ/E6lu0gFubNvIzbURhe21/xLKRw15TrwzVH/t4UxoJtx5FRzel7j9w1/QvFdeMt5fLW0a0hYQ50903PJzouWKT42EjNi8CBVVH9GoAyNkAuQujK3uLRPXX26syrA6wVSHL/QvEczPBOoueLpG62Fr8/cCDuxMLws8DVrL1l88MzRYsNgEinWoDLTDGjX1XVzayGVE27eO0sbSgOL7kN3t89rLrGpKdB/TJe5gAoIdWrR7+6IizKuiaHmvY6OdUQxZiBzX5kfpByNBcVYRnAah9qH+eTY8OSUeovUutpXUa3fX7tv0B1gaWc0TmcY51z0h0EWod9MQoWS/yKSoGnffZhq8MKc2IYq2rSY0joFVhl8LtpLPFwQ1Dl3lRVIoD8V1O/Y96vDqZiabitA19fX9P95ch5oCY6c6k3Q1igxS+2mdR53j1oQWFrxnN9gwtET1kc7c9PVekvlMtvJ48IIlsA2OK0Er7tTdesfIEkCtDqIdVYGPmMpwd54I+6656SLHPOabDlLZnsCEFWMxyJLsNKaBJ9dna7/bDxCQ5CYkJaluKK9ltm2uhecZvx30w4Z0RS50vkkL/5BnMKsUwIs9JV9Kh/icxo5KEJ8z7A7Z3HTLIxK2L3a3KVKvcEjd3F/WsrIJ4U9f/J1IyHyDRPFu1yfQJwFID8MAb2EbkcTczkd0X+/gFY9GKqeSe2u7IElgYWgnbbqVVRXQhocd5FzpyAj2pwcMOF3rbsysJtv5uV9Z3Mf+8JR6pnq4eS9QtWCsyJCsUBrUu69LAC+QskLUDtbwqpDDoTOD88jHRgyxMk91dOE3QIP3a0osjzPLiOEx08nfaDdwpi186E1Do393F5HdpLGakQaZu3M4JIS8GXZvsBatysK5aRws7GRrmKjNR155YXvVCOPO+1++rGwoOVMqExlp1H1r+qnUeu/V0u87Vi6fD1Ww989eRJJXiZFp9/5mLPjdIDZSlLVxEt5fgj/vxLpmQsKCSceZ/X5owcYOI/Q1t2x1IszkHorx3LCNudpMqnIAUyraGEsCL76EU646ImW+LwkRafd+kJ9nHX4LeKAj73J0ao3nrn03UTYcVFC03wY/MUKoDl0LDunL252FKkFBlKOb+Pf2QIo1/L3amTcTFZX+qM44bq2w9QS4pVMvpiHZtD3CbOGRJgw/O1rUj9UlNGQE0N1CkcLKEWJzyokV+kkLxgXt9JampJ4YXCgT/nzWzk+OxbD9ss91xJSDqp0dkjxgreyH8psCKJ3Ssq2+Bb2yfglnK258ZPjJJIyHzzi7LOx0jJ8M0xrUdW9kY1G5Yi9EiwAQzU6FPWrrNL5HO6qCgiGPpo9tMYcPOqVvxO23PIbT9dA5LW4Fr8PVpoflLrLeGS/vAW2EhqiPT3QCBVPCJ/F5KMV33FRnCyWHAVxuiPLwC5gnJNgZVXkCWdO+6/2gMtaE9QKOE2nLLQsayHV+F3qrUioPVaWQbn81AZTBYwYLf6SrGkoQq9Ir9CmFOzbI9+VuXNx3v2hmYkJb3KKOd2uUJlYH5hRvmbXeXftFUEaTOBWm0lr7oFzUKYSRkBI+47IkKibWLCx7oihvgHQbE9doseXWNGEp5jVoLpYiq4WfQri/M25s9CgQzHCrYJZy6V+vgPN7KLfD40tlRXHXBxMIbZgigrRq8aTsT0L9RgDlelLHSUxhL+YSKSYv9YJTxiUN5iL5xn9jxa8VRpsQ25HV3xFy+W9mrnNJb4MqCbwJqkQ7BJ7jQHMGSgzK/rnwUhjEDb1MVhtgJZXDoB8E0asbM2fyGtVSt5uqz6JXAlXOn1c4htFyEo0BKavCc4uGIJsXH6qYt66pQB+/fvTaCVZrUH+FrHv6W5v33LmpKHSNQrfi10STeyv3zlEnlkc2vg3aJxlSFNbv52JHB5OZQRH3cTtfrwyBEW9fC647ji6/m6iiyaUid62+yCOEfLwMP+pdwon3gmE6F4LCuVNumkwHa7H9BXnQ0XcIWddMcT81+x7z6n4iOLmvZT1OJf/suRCvRPeOau8HmGPIICH0AkwYdpOQbEQOOcXRlh9XIQTS00wKWXp4VyuN9PQbHJKHdl/V4VzD+8ltAq3YAcUZMd9RD+QMU9jS7T++xf4rySm5Pgu2L2cKtdS6RJCeoBymgmHmtNdF3MwOB87Mq2x2rPcOPc+wPUUGYn/PDZNGf60zNhwu5b+8np/5BSN801q7jPMVj/xBnbZRJ1YMQTrrdiI0Q7ys0oV2uqnlqh/jUK2JZy8IEU7eyiVn2+8qKiamBFxZXB67RkX6Dc+SpoeV2Vz5qdIQUkhffJ6rrMezkPJ5pu1yebO50WZINYD61UvFIWw5ntzylkZhfM2nHq/KrjbO/AKafmQtd+1FhJCFKNsRNPWOp/bHyg3X37mThQsq4oT5T2nrGKff73q4MYnaz7QojyBI/2UYUZ3typR+f0azVFp76HvD5Bidn2svKLp5R4b+VCL99HWWLZ91NF10R/5r6/TRZEfPAznFtswtpSxEMJ8QeiuM3q4FpAxZKcsZy63/Vu0W5Ga1eVoc68c1ltoz4cFlzx84knRwES/4w3KK88FfnmoMI0Rqvm/BZJ//eOnVROlfC2eS0eaJ5bdC2TROjESK6JjS57NfKEPLRTwKx85GixQyFrR6gHm5ZhVa/KRr/oPe7yfHnwOVpp2HAQmukrO9tJgk3IU9lqr/snPgZ/xIrCrw4awR0FuIZSWhNu3+MUbPu90KUzPqXpsPzsIsiwlkstaXyxT95rZnb7fgAz4OMLl+pR6PU5X2kdNCRnd1uDKN1lVdBNPuyxpZrbx6sL+TrzETsmNHegXdZM5+JkU8SIZE4y4POcdlvBvqbt7cSsusf4+3RFGVREw3VniQuR8l1vKwlg43zof1brlkrvnZqJGaBLVgI9Mf2NtYiUgppl+4/SMDKXbX5mC2ed4upvIhyWHfvpSGYFkaJ37wPyJm5JBDzESW6bGspDOAUYajmWKOp/NcAWvUojScSA9QNhlXvL25zA/xi/KNOqlMvG8thqIh7nT3K2+4N4ShmlDWYdBgyHAbZWjGxVt6ZuUFPtRNf+xfwC86vHxjuoYrva+mes64dr6Ox7mxmyvIDBppynpty7rf5q1XdeSkMC/iJOmeeLM3MeEqJO2BapR2YNJbblrr+QQufFCLDYH+rgltPlxTTJEBdfaGx/stZlhdR060stZf7TMltxosP8xlqo/fSG/KXa4OujBnDyoGmEZQR9NHSbS2UU2Wfm29sbSG9km5u08L4nlWi87IPz3f6KAcsHoKJFSxqvzlDKx3QIFf2UfEixtfA1Pg6y70OTfaJdJ8Tj6e7NMgtccIpkynLYYka3GkCw4SPRX48T+qoXJN1mjzRmu8WZM1njm6Ne9VzIMfb4AmJqQuVbX3DJqI7i4/xY48RsDi9EI2uyUokW2fjFHGRfMEff4ag5DPjsYmMfbCFxwnl7nWNCu95wmqiB4QwQpeB6936Id1CuDDyksPr+4bGLaaleG/LNiVmQdwBxPwmqOFMu3r6dGLDiAzK5DK5jPf8Bv5DnvbEiidhRsWTuRcKTOuKT8g22MTXcm+Rb67Jn2Luq3NIZpRRkisL0jGIf3t+EbhDdNLz2DeH40n/+WmQ9LjRKPcYDIy0dSAX9NeRPwb/W58alF4PvNFTdFdPlyZFXUhDl+1pfuc2U+S7wjtJISHGYKfPbDyFrMISNuNtUzQCmaJEzEJFq9H+6TcLPP3S2Htn/GRq32at3tsgUHWAM63qHBD8SrAk5+Vnt+QOnjtW+SmZFTFjBhFslcwT+Sa7QeOf+J0xDMt7J5br57u54ZkhJF32ec5Xxev0iXl79qcHAzktU1OXiPvoPmp/FP72n5i+50p9IQvN4hnih4Ptrw69C4S6GZjSLTCYad3Qm+wFAKTQKm76eVuBYPC625kTf6SzZBBEzA+NHvrVwlXoHN17XP5/y02xZZ/omNm+aXUTMzWTDx/9WvT1aKz/x9wNGcqSKyMBZ61g0G+kkB1CjCSEcnbQZr4yeRHAOqlT7oPkINza3zjdNigi/uifLFn03QL+cdBDptyWCwPOiLiydw+F7h16qOjwSLASp+wJ/3k+djCfUDu8MFFxDOYGs+h7NWwj9wSN8OiW6GWrd25qjkBpmXWSY6OGYgxzLx4ROx3axmzVxnXe/ku+RWNKQPH2RERdyHGGMl3XMrW+1K0hOr8u+Lel/yx5d8qdBaMfOjNA/uneSzvmn/HmdKzfUw9JCemZgKrjqVtBP8s7lxKSgi6wa2d95slGoeKEjS+uiduGGeq2RcWDdUf+/na6/2S9vipn04wKCXqnHc7qj6SmEjgKsSAmvIBE+nxnHe1JSfaRx28vHLWZ3sWbthEGzuGcoFzx0SKUCYNrv+umpsAez/1/H/HE9X/qy/03sg9/GgXAz3n5vLpAZdkrw6n16fLHj0BP3rZV1UoyVi7hVemFuCL2IkbF8GcTKlHEBbrbyztWFaRYF39AJP3Z3H6Iei4H6N/I5hP0oO0YiEZbsHM6Y3vy2EfAqXI6zlot+qEmZctS4B5HFKdk+ff48b8UPnl/bhADaOlZ/7d74wzmzfnyZUlP64VD8mqIJ0D7TDb7fkrQao95OAY/P6jemok44PJetmDYLWRrL9+VGf/j3B2hL3oLdpmUL5MzP9mmLj1e/3kH+/+3bzgKR9M1M9XCtr8Vp5a+q9Jq60BZP469KSre29TVpnop7QrtykgI4z3m9YMDznXec4datu18Saqpj37EKrySSTowa8CfOXocDV8Wsty4I5Klhq6q/lsAeAR/djvduWG7m3TNra6BkF6+w19jyy/x5tP4wMei5/mv8c1FfXukvAfq6qhddpqIryrS423iiUVnYrSIvf/1fQWXyYe9nXU564EZf13lOP/UzW7eH3eThyeHPpipM7OnuXyLFqh4rqdPcZvkyu2i3xHJOaBUv+V9I0IQuCA9h7D4Wuo0C5cP+ewflrY+DvYy5BZTArKh+S/zTXgwPj2t/ds99uUqfygMS+Wn8MK//74kbMIzXr4MsFCzlCsihqO6h5vHdpNMJGx1PhiPi0z8eLhfN49K1ogCSvU2VLxmBXmTBegusVWVDrzdbbunlME6E4CQSW9ZxzQXGRbtYD5Wu1OkaYnkYTf1+MRR+jSmdgUvj+G9F2SWbA+7WAcUPsofqUn7T7ywEM2XNRxeqBp8pzGHPwOH/CXyBlja4bLiTv6Zl0q1CvtLDFQadzoEQ2bKSJpoW3xRLp4sVv3o3jO+1Dtg8+1HbYpe2DP0rRLhMX/10g5Cp2sK+7sCwKKTywNdAVngDaiRhtjtS2OL3d6lJK3Up+821H/5fChYzjZPXomPUkvRH8MKFgysq1AVKI8xFy9UzwR8ZvDs611wWvPvydqoo2L6Kf4KPbRvilOuoln4tAKT7LmeWBBtpJSopUpRU+SaHG/CbAlr6W58Mmv/NhJSpeTcY5UAC3OO7i2N55+Eey+JuXZRGE/Tx2PaabMb2xtB4AqJzlXgmaehib/6vFqfWJOF/340wjHjk67Yqu0powe9torTNcuzzPPxRD+ejzoYYx0+Sisxben7d1SYqCq1xUMN+jAJFhOR9XFXJgQBVTon0Epna6Z3zWZrqkT0Zlq8OZ7rrbhBr65NvvtZCOM7FDQzy/kfqd/AmZ6AUUuchKyoKUFPxAgpakNBXtn7C/dInRYTofUVVJfWJJGapdynDrkh4KRPKX6uUqgzd5yrt+TpYU7Q9k+jb+55jrUJvYcuOGJ49gA9kpc+jRbvHOwl7aViaE2cJdW3dwjowLGTrjEErcyVIfMPgt41JDZc7zl1i/9C7QqD5YD32JO9iUkzVaYIhxcPZXxbJJF8Ll9srXB2O8/PM+E30fEMJ2NUQf/9MLdzobmX6AZHD6uvjZtctr+HQKOkrWNuMrR75jkz3Roz9pydgDMU2c6I9verhxwRUGeSVNmKBrfSu+O611bt+1e1f7rIWOisuVKk85XE/Qjv4Cm/3VGsl84euLMEFYSWgeQyxOQ7oD5wI+CguzXvyF11hScBtrncF6RfvpeP9UVR+VqcvooZXEmwXv2Q7X2mwrkKBFRSadqurPl1BULMYfH4sjPn1N5nR6D/0izOtXSP1QE5zYLc/vweq4wFVN0ZbWFa1aB1fnUkMYz9467Ru1j5b/Fn8qmrVv5W0zRxa3yMaHfTeX1sfx7bw0Ecg+JfwXvg5AyA5JGmHuHY1A7vdvsvJL6vZTSR/2/xfLdqh2PpeqSztdhzReoOO3Ai8KEISPYbPVRtvtlLjMd448tJf/6NTVmY2kCv57bz8ahdbbOIrIhy29Nk1V8O59Q2DAVP2Yt36PmrJ/4qeFFRWet1vK9Ff9Ha3ouN38KGxLZzsS+rdjpy36/KF1Zx2FfGaaQ+ucoS6CvtUZVLPYQouRnKLrrDyAre3tO9J/Iu83nBGRAUU9+Ck/4kjO/vrOayIAt/CpaNNo8oi/dAEUDr0p3GbqF1GRgabbLJwGHVoHc2BBNGdHXE/lG3/gWInrCIHvNaPcny68EO1grQYmHym3uL/T67s61jsp7u6I3VlunF16zWElfWJ3bL1F5srWkm5B0XvPOBh31nDl6NkyDqSeuq7pJTTfg1Hc8dToyBxJ22b36st8bNPUtjM7iWgtmu4iFNISspTb2JFOkoTpOD1aRsCnpwtsRxnRkk+puezI+PmT0YOSDC3mwDdND70TVlLPN4u2YxOX+MuwTi1zWvELiV8qJKeBm2PNmigoNWWo06ddOJUXL7JsaKhqsB0BrbZlpE/nylW0WujeDT1Xy+U+zKbmfzGuIRbxqiB2d04DvBepGYskDd0Qf2oATxtfD6ejZ2/ubfh1LfRXEcLTwVYq95c5RyPjix7DeJK36RZXpbZ4ANYnSo8KMNV4INxAugzXjEmtCh0JXvD17Mv3g97Cb/yo8VZkuU06u31keKQa38nGqS2EoO3iFKOGBRobxeqD+yE5uNk5RDu3nBsVPCmDKFfNN/FRK/3kRFNH54F2OOXfDZgWP2NcsLC08bs9pLu0u3vnaWkvwLyh9SJP+K1TzHZC+sBpVdiMyiLAx6jRKPUxKTRs9/A04MIxWhUm3imHy4jCf+2kQM5II1C0W+GAU7+xPDPiyWtwRFVK9PAeHjMf7aoYzF6RPs5RrJoV14d41jL888ZKbTCmaM1TnaCugRcXZGmEN3D/rBlMm5RO6cLn2dPVNgAgQucdMfDx5F7S/9R63NYVxWEusPQz/Xh6d8QqrjaD+WaJ1wNJKo6pcCjQQadzFDTp+qTfRKNHWxb2L/Z3Vb66KZyBU6rMSJYBNzbtwX09tmUfWMR3eifRWcp34suvRn/uJc03qBd+ALkAO4xe5p1oitDfqyna0HNKcYAXIw10hCM1oc61huWZKY5f850DLTSr2xqRDVguXNv9q8O3ed5n2bdrpR39i3SbDz+RAHDDv1Tf5KfQ/h5uxPCAEb/s4zNeWB9t6a2O3MIOrYaF5U5YY4mtDRb+n8d9DFY4eOUzXRdqZ9NgkgCqRseLKunSHQUDf4YUcR9CSu3AcSzFpZZAvm+wtYT/1/sYNBr8ZolKFS0gbdtGZe4Ms02gi6IeC1rWDmqSgtWg1ambL8oHOx6PXm3c36RxWAQIxlSE7A3MBG0GZLrZVzt5HKHO+ZT9URplI38PJamYpj9DDqJDFF0eMo/8D","base64");case k.Emoji:return r("AA4IAAAAAAAAAGFAAYkEdvvtmk+ozUEUx4f37iuPJ38Wehb6/dyFnrdjZ/U2YsVO2YiFhYUFpaQU6imKLLx6FiSSRGEjFoqFUpTIgpJ/UVI2Skkp39udnzdvnJk5M/P7c587pz7N3N/MnDnnzJlzf7fu/gEhDoFj4CSYBhfBUXCiD9r9iUQfcwVcA7eJsXuyfag8ewyeeeh/AV4rn9/J9hP4aln33TL2E4hBIeaDYbAMrASrwVqwDmwAE2Az2Aq2gR1gF9gz6BejfZ7zVQ7KtUcidFTNjRJ1He9hPxOJRCKRSCQSiUQikUgkEolEf3G0YZr2P5FIzF3u9IANMWxe3GUnGGyAfFiIXeAceA2mhoT4vECIC2g/oB1d2G1VtuPZhJjh7NDs8Y9gGnPuyrVv0a5aBD/BcfAItEaE2DgyW08/osc2kUgk+oXJkeZ/gzRN7DtEjL6Y/WPtd63Xx3z248yj9Lns8TnLKn7j+vjF2T82H00+h8Yk1IaQ+8Udd+nm+jxX60tIXKrcvwobQ++2yb+6fG86t2Lv3v+K68yqzIHQOXP9fpZ9TjY7fX3pVf9jc7dOW7ixj82904NCnCGYku15cEn+z/sq2pvgjhy7Dx6Bp+ClQc8b8Em2X8F32f/V+U9/q9sfRrsMjIIcrJHP18p2HdoNYAJsAlvANrBDjnfY3era2OnvRf8AONyaHYtJ5fMp9KfAefnssmyvo73VmrH/LvoPwGPwRO73HO0r2Vd9fY9nX8A38AP8brnPh4pZXQwMdW1YODRD07WybvYNzPtLL8nSgLGlTJIkMUnOfBYqS0rU5SshfpTpu03mWlx6RTdFiI46pS1xSdV2ZRXrV6UsX9oa6rm3tT5lA+e8684Han8fG7hzm/ZLFfWc2tozlUyOZRZyoi8U3dS8gjFiPBe0TttnSjdlp21uLsx2ZuLf3HfhssfmAxULjo8++6l9m71c0fVRuWQ6Y5cd6lxTfLl5oGI7K07+FvMo/3xzgBODYrytzS3GxrT1pjip44UUOsYlY2Lmfur5IoiWEtsY5ztYt81HckNf35+yQ73HpjmuvfV8qUN0u13iG1N9rybWmiQ0R0LWucTnDHx0cp5VIZy7nmmE1L+6KMO2EIldb9Nbhg6V0HsRe5/aWp9DqGQVsLwmOqK+e/jClTJqjOtMc/HveWbC3159jUrIezm1vknUs84ZcHU26Y9tfDxCtx4nPWb6uLpnAWWH+m5sizPnfHzPysdnNV90/SsIms7roqViz6UMW3z287GHsk+fy/Vl3KIzxN8mzz1rcP8OLsmEuVYUlOFDZoGqWXoNKhh36MoIXVRdHCPWFbnp0l/EQ9+HYxdnnk0f5QsXn7XU3FyYbbPp1Mdcczm1y1XTYqXsGuJbx03z9Hh1KO6FembUGpcevXZR6PtmBp163vjWiLIl86QK8dk/tr66aq6LWN9iRdcXqj90fVn7x+7DxVdM7/+c+uXzbupT77jvnIJ4ZkIw9y+TMr4v1muoMaL6oXaa3s99fwNkkbhqWsi4j21lnHuoPpc9arxj4ukTm9B1Bbac4fpQBYUsaRhd/gA=","base64");case k.GraphemeBreak:return r("AA4QAAAAAAAAAIggAUEHvvjtnGuIVkUYx8/2Xvfi7uYHC4OwwhAykDIwUCxSKyKxomWh2iDJIso2ilLyw1sYVGzBkppGlgWRRBeLgiWoFqJyMyIwukkR2Q2yC22lfmjt//bOYcfHmTkz58ycOevOAz9mzlyfeeaZmXPOnncvKEXRJWAV6AeDYB2XljVsgAfBRjCkUX4TeFKRvwPsBLvACBgFu8HH4DOu3D6wH/wM/gD/gAnwL6iUo6gDzASzwWlgbrlVdz4LFyJcDJaBFWAl6AMD4HpwE7gd3APWgQZ4gLt+BGxm5beD51j9l8By8Abr5y2W/x7X/h6wl13vA1+DH7j8Zr1fEI6z+CGER1i8SakSRZ2VVrwH4SwWPxXhmeBs8CJX/jxcLwHLweWVyfQmV1cmuY6xGtzI4Muq2K5Zzja3Qcc7wXC5RTNtPa7vY7o/RMYwhjInlY9OG1aMcyvLexrh8yy+AfzN8l9B2mvgTTAKdoNPWLnPWfiNoP3vkXZA0W+DkdU+4+jjMOtnGZfeHMMCg/kN2GeC+qbAB2z0s43fO6r+xx0IBAKBQCAQCAQCgYCKDjy7HuGuT9R4fzETdWZzz7ynIz4XzAcLWfpihBeBy6qt94FXIbwG3MDyb0Y4CO5i1xsQHkC4MeFZegj5m8BmsAU8DraCbeCJkBfyQl7IC3nW854BO8Ga8H47EAg4ZFfVbftDpcm/q1P6BWn8/fGIY910aMxoMQrmaBB1R1Fv97Hpq0haA9ejIOqJokU9rbRbEe4AX4C/wLzeKPquHc8AHVF0JRgG9bYWY1yc8qcij+eczlbYj/Ax8C4odUXRErC2S6+NQCAQCByfvIxz4O2ubGfotQnneDv5numdApz7lA+g0x6JXmNlO32MGY57r6B8hemyj+Ttx/VvCA+Cn6qt77x+R3iQlTsEJhCv1DAftVZ+N8JZtck2TqkJdAZn1Ca/AzwL8XMF5Zqcj/QLubxLEb9CUrZJH/IGuPw1taN9ZS2X1/x+725FW/cq8prcj/yHSZlHcb0FPAWeBS+w/FcT2hIxwtUZRfx90sZHuP6UpX1l0P63KXRxwY8e9fiV9T1eAFschg4ToFyfTOus+9NHRi90urgAerim+Q3iyfXWvmdSbw7qzANfCvbYBQWcT11bLKq3wqUIV4CVU2gsfdB1IEFf0z3gdTa/q6eAHejYbpkCOqfhjozj+rAAY2j+TqXBMUhoKFhfP7b8dGNpqe1/8AiixQlcvKRZR4cg/iTY354f5+n/NuetPM2xKXn1UzTxPYdp550PZfHjXSoSdMXU5kU+c4q4v+Tlg6oxVBLK0DZEZV0Ir5cvKZKvFFmmgx1sjS0PG8jOw6R0Vbm8xGa/SeedLV91cbbQPdp1H0lUDexhW+L+4zmpcujoTcvH8Sihrol+vvY2Op68+6Y6yGxIdeTLm/SlWzbP+SiTuK/1oloforIivWlZm3bM2r5svfNtV7myJv5lIq79K+t+ZFMPXh8X6zvtfutDZHttlaTT9afbtkn/rnzbpH/RGUqvdeffh/D7JT3D6PhE82t7fPSexafQ+VSd70n+r/POKev6l+nIl6e+62ot2Zw/6qNpz4ak+2Rboqtvmn59n4t59Ed9VtSfbf9Kg869WNb+suhni6yiazc6XpMzJqvoPiu4sEfaNpqiY5+sOvP1a56pe6bdM7aErkfb4rJtWT9Je3XSvY/u+zTTtZtljce0ZWhH1qbIBjSdishesnZc79mic8KF8OPVOav5MEqoo2tHHR+UtZ2nJI1TNl4+3Ze4uBfyNQ+8iHxJtOZdrlvah2juRfqZis4+r7MWbdlBtD+YYvrcq9Kbz8s6zvhM6ojsfe+a57e0eZ1Tsn5ttZPGv0Rtqa5laTZFtCe51sH3mZO0X8n2r7wkzX5l49yM+06rlwsx3bPT+JWPZ2pXIjpPVfcfvtdiLL7OA10bpfVxnTqyfTcvsW170bkYkTRZPVNdRHOlKmcqsncVfF+2n4M7QVeO5N2fqdh8l0ilyO8LTcWWDxbl93Ym9xiye3Kddl1L2udGVVsuJG+7xMLvqT5E93xKqptWVO9KZPcfom8bTHQx+T2OicjuqWw/O/i6b3X1LKz77pkft+o7c5F9bd2nyHSWvVuUCa+Xrg1cCH0W4v1Kdq3reyY603Z17ZCXnXjJ8n6X9w+XYqt92RhE45GtAR/vkUSiGksssvdfvsZgu8+0vpvGZ2W+ofIhk7Z1zlnbkubMsqmLaL/mn8VFe2isQ4XFK1G6+bQlKhvGQn2QL0/bylt05j0P26p8TvT7NZ32svZL55SK7PfxujZ1ubaS1nSkoYstSWOPuP+kcbg+13TWA7Wnql68d+W5X8n2WGrnLOdjktB1ZUPyfqflel90uf/SeS4CSfpmHb9pPZu+mVZ09xAdX0lbX2Vzus/ScrL9Ommd2hiTK8mjj6R+bWOrL50xmIzXlch0t70+supkSzfTdZPUrwvJ256uZEZOZPUF2/+P8D8=","base64");case k.LineBreak:return r("AA4IAAAAAAAAARtwAeQTG+ztnQmsXUUZx6eX8tb7Vl4fi6+0tGVNkbWiCCIVRAsYZIdC1LKIrEpRwiKyNCxCKMpSURZbIwaUEohSJETAkLBG1iggaFmiCAQwoJDQBP+HM8P93nT25ZxXuV/yy5xlZr5vvvlmztxzzr33gbUYeww8DVaC9wCbzFgXGASjYMOAdGOwJZgDdgZzwTywLzjUUG4BOJbsHw1OBAvBGeAccBH4EbgaLAU3glvAClLuLnAfeBg8CZ4BL4CV4BXwFngPsLUZ6wQDYF0wtnZZxyyks8F2YA7YGewO9gb7gfngCHAc+A44DZwDLgKLwRJwPfgV378FrAB3g/vBo+DP4G/gZfA6eAesAo0OxnrAMNgATAObgq3ADuBz4IvgK+BAcDD4OngFfXcM0pPAqXz/B0gvAN9GmxYjXQKuAzfw88s7Sm7n6Z0dZfv/yNOHOlo8wXkaPMsZ5T5/kW+/ivQN8F++v4qnjU60CQx3tspsgO0ZZD8FW5D6tsX2jmAumAf27Wy191BsLwDHkvwnY/t0cDY/tgjpJeAKcA1YysvfiPQWnmcFP3YQuBvb94NHwVOdpX+fQ7o18r2M9HXwDljFy67VVaY9SIfB+uBTOLcR0s3BVl36ds7h2PyxAde1A+rahde3B9I9wX5gPjgCHAcWgjPAeeBisBgsAdeDZeAmcCuv4w6e3oP0AfAYeBqsBP/k595E+h+wStMO1l2mnUg7wIDEINleD4yBWWA22A58FnwB7An2A/PBEeA4sBCcAc7jOi5AuhhcyfevQfqLbv/4+jUvcxvS33uUvxd5HwB/8ijzVPf4sfgc9l8Gr3OK/n8H6SowuaeMtybSdTijZFtmQzALzAbbg53AbmAvsD/fPgwcCY4h5U4g26eAM/n2IoOuNm3apEXMEXXb0aZNmzZt2rRp02bN4sIJYAPlUp5e2VPeD7F9Rv4p8i3rKbdvQvoiOXdbj77cnTh3L3gQPM7zPYP0yMnl/ZoXsP2vnvI+4b+RvgdYb3k/8GYc68L2YG9Zbj2k03tb95YKNsP+1uDT4PM83+69423YG/sHgAPBQeBgcAg4FMxvn2ufa59rn2ufS35uAfgWOL63vGdaJ6f01kvd7W/TZiITu549E2NsEbikd/za74pe+9pWcDXJ+yB/JrQUx34Jbga/A3eB+6Q6H8L+E+BZ8CJ4FbzZWz6zeRfpBzXPPQU/HyhZCaYPYp42cAV4CnQNMfalofHnLuT7P0H6CJg8zNhuYBG4a7g89xbS2etgjQ/OBveAF+DPjeCPb4ClPeW6vwm79gKsk7ETeUpZjmOXTyp5A9ufbI4/fxD2l4AV/PjzSKf2MXY4uBY8D6b2Y7+/VU8dXDsB9Mu+bdOmTZuPC89jDjypeAcG14iBZrnmoNfwdXFsGpjRbB3bDNtbge3ADs3V1yy78Lxzkc7j2/s0y/fb9kd6GD92pEJfQfGe0Imw7XicP5nnPZWnZyE9F1xA9LqsYYr3Vor3qRaj3CGTy+ujKH89tpeBm7iO4p2r2/j5O5HeCx6U9D3ebK2FnsH2yuI88ZHI9xY/9h7SXdEuhmtvB+jvW93+LYk/LhNrqb4yndrntl4sbC/ybyzVX/hvy76yz+bwdOe+0i/FO2FbFfcHsb9XX7m/P9LDwAK+fyzSk8H3+H5xD/IsbJ8PDsT2pUTfVdi+DszH8RuQLge/BXeB+xTtKOx7F3U+gnNP8fZuU7xvpGnzh/2Jc6/3tfaL/O9gfxUvPxlx3ewvz48gHQOz+vX1ze5f/VjB9ji+E5gL5pE8D8Nv+2L/ULAAHA1O7C/LfBfp9/l28U6frc/OQ94LwWVgCbgGLCO6bsL2cnA7+AO4j7TNxiOafE/i+F/BS/3+76DFMtyp9nXBawZ73nZs8/8T25E55aM5IQHvcz+vNaDP06E51zdQv19C2z1FalPx7meV+inF3FDM11MHWted4ro3g+9vgXQb8BmwayafC1u+PKA+/tWB8j3Pg8j5rw3U/5yuTqZUoCM0phbxufWbE2CM1slxjjG6EPlOBWd5xvRIT/1tdB3bBeejfReDyz8GcVHMVz9DO5dJc71YP9jGT5GeyvdvRB23ghW8rg7y/vzdCl/eT3QWa2vV+k+c34O/X/AoyvwF/J2X/QfSF8Abhmvzate1pj3P26jvXY86dRT+/YBfFzoGsR4AUwbr73fBJZY191TYurHB3qKNW+L8HMc2ffhZarAst/sE8oOKvQf1/XrA4Pj4PLyCthzF7TmW6DptcnkPQFemGCcnI//p4FzwQ/BjXv5qB5ttc/tS1HHDYPm9n9/w9NbB8twdg/7X8ntQ5gHwGH9+II4/h+2XwGvgbXL8fWw3hsrnDL1geKg8vh7SaUOtfJtgewu+vy3SHYdWXzvMHWptn9Bdnp/Hj+3D04ORdpJ6D8f2UXz/BJ4uRHq6VP/cofHtPBf75w+tHleXDrXmzquG/P2Xkutq1l83RftvGGp9f69AHh/0nMzyofrnsFjuX2vSR0xizEoDoFjxteQPWduhjCsd/FZscWsQw4Ohi4rX/D7cLo41y1uGH50rHlkN8BTTBBtypJ/TTeiU9nPT5G3oq1gv1V/05TDfL/z/cRdVTK6jOZ6DEVb2SxHzPYSif6ZwxLYYIw3W6lNRTuQdlcpSuqT9Jssbb1My1z/R9U80RHzQGBD7rj6TY4qWGbWUrYKqxu2awEhgGR0hNtj6S4h8vF86r8sn19XtkC+EHHWmjO26bctFlX4XUnebbRRjo6Gwt4fv1z3vhNBgrTiepNju5KlN1q0Qm245rlzEpf97CfLnGh+fd5JUUHdsU3LEmevnxV6yLduUs82dzN52m3/k86q8Io+rP2LbxSr0YVUxJaTucVK3n0T/hkhV8VeVT+Qy4hVr6qMiH/2cX4WtOvvl47p8QmJsii0f0nZqt69+laS0kzGzLsb84y0mdmOoQkdM+3PGWMq22+ryta/BqXKelcef6zjT7ceMK9N5KjqbXPqE5lXtizpsMklxTNcmWZdv/4rPDyr/iOP0+qRrl2yXyoeqtpjKpepf27Zoi9wm2bdyu3V+kOvUiUs8yuLav6p5wjX+qP0+41fVJ67lUvZv6PhVxYBqX+iKkRTjt4eZxdRepth36Q9m2PchdP40iSlfrvnTdc4z2WyLdVU7dGVMbZaPqfLp9KiOu45hKrb51RSjruPPFidUUq6HxHVSZ5PvGo5Z9kP6IqY8bZvresi1P00+U/mBKbZjxrNJXJ9n0na5lFG1q6r+1eUVUnX/qkRla0z/6uYkF/Eduzn6NxRqc2x/6nwo6/O1TUjK+Vj3uUbYH7K+de13lV9S1e2Tz8UOKqrxaIsXUx7bGPedn2kc+sp6EwRZeiLr62bufhT3gUz+YVKqsj+HT3LVrfJ9qA1CfONW1WejEvTYCNlu8H3VTxeM8HLyM1vbdSr1fUD5ub1Ii3cLh0nqc/00zVOM2eccHQ2H46ZrlQsx9qWCsdZ4N11/Xa41NBZ1a1vxfphK6p5zfedHuW1V6TfN8S7XeSqu138X1q+ZDWrmEzUTujZkmuO6GAopH6vfZ/6vs30+dlXZvtQIkT/3ma4jOe2osv06ya3Pdr5q38tUqV+sFUP932D2dY9P3/vqN+Fzfyy1blm/6bNg7vb7SoguuRyL0J96PSp8P0b2RezS+wFCYu9jx44BcV587hT2j0rH5RgT3xepyv4YTGKK5Sps6ya6qvSPq1TlA52NIZ+NqcSWl30lxkPs577U97dcJVRvaHnXeoX4+FVlV+5xqosXkafKex+yL1PMx7HlU7Qh5X2yWFHVW+UcGKKfSsj9sQYLW2u79IlLPXT9Wpfffdula2eq+/G5xkAqPS765bjyeW9ZZ3Pq5x25CPncGovKX65ldCLHeMzYoDFnintVbOpsDfWFq6+YJa0LV/tD685lV2qbVfpsOkZJPtUcJRiR9qeyMhY3ZK24lPNNY+N/S6OLtX73qEuxT/MWTCcU9YnfaFKNq0JvrwVqQ6FnjKPzTT9r3bcbc8ivw7S2oPsbKcoyTXtNc4sQl9+IEe2jv3ci/waKS3kW4BdqayE9BuTfEPJBVbZXsR2jo8ejn2LWLCahfhXxLveh6f0xCi3n811O17jJ8ftFJt2q3wFS/Y6UCZ0+33KufpElhz4fm0LborJLPqY6L1L5d8NsfavyhdwGk+9MMeQSDyF9bdObYjyYfGPaTxE/qep39Vms72Lt8mV6Ahvk99JCbZ3B8dGZw6czJGLqqkJ8ryc56Q4sI8dJDrt8xlQKXaE2uPrSpx7VvutxuY7Y9rn63bVMjvFuarfNb6IecX6GQs9MlmZ+CWmjzodVXbNMflTNJTM0eVLYXJX/be2uGjnmbchjUxXTUzT5VeNBPkfHnc5PKjtU9ajsmWnQq0Llq5kSVcUI3e/SUJwTz8ll++X1mWua4zocGu8513s2nba0Dp2+aZ1+q1J3VbGSKq5dEJLbbyl0mO4LU6HvvYl70p3M7XmdSbqZ+3uYKsn9zNtFYvooxXndNcaG6TkOfe7QZOP7mV7D6L5tTpPr7yQ65OccqrZO4+iejTQVOnRt0ukS12SXtgjxXZuFUqUumx0+MlHsSGWfLEUsDHNEnjGy7XrNd80/RrZpORu6Z0m6vKrj4tmm7I9ZfNuW5qYqPTb9Lu22nZvFWiL6akxC9MlE83+q9qvib5bUfpVU2ecp9aWoy1dmRVKlr0P8Zft8m8MueY6M6cPU/rJJinVzg7l/PrDh+/5iaomxXfXuTeg7gLE20DUvJWX7TeWZlLqUjZEUfjPt646lxPXdUJ92i3d7cvlNRvx+hvhsZZPQd55EPMd+PyPVe90+/nGJJ5s+0f7c8Zfy3bRCRx2/qUHF5HM6T6rmqyINjTdRT+x3m2K+Z0ftSB0HrrHgO5/Kdfv6X+7X0O8JhoiqD2LHoyo+fceiTl+q8yG6uxOcd8HHntTzZ4PFx7MsG4NNKqRqfb6S8reQZKnj95Bk2bRmfMaWTVzrKP5bbhJz/5+6bo+88v/bmY4zTV5dOZ1tqYiVlLb4Iu5xx7SxDh/I35WI/dxQfJ9I3NsX/20oP5eabrA/Vr/qvpHv+wtyOdM9qWGSFiLu7dL3Y2x6bPcHxfd2VPfAcq0rUozjjXgq/CC3ReXjYSn1uWcp37fs9Kwjlmag7bn00+dsdFv4aU24Ry73rxDTmEl9nor4/hw9L767U0iK6xudzzZj5X1+Ibb6U4/jVHW72J+zfIxOKg2mv/dctU0p+zfWL1VJlf0voJ9v69AfI7nv8YfYWlWfudzPq6M/hZ8aDv6z1aOqwydmcvd/HX7N2V4fCanb9XxsW3x1ubYpt6SKkdC+tuVN0Te+bZDtS+krk37d3OMaD6F94CNV+DyHLh+bhLj0Rw69VbbfRad8zTdd/23PvWUdVbfTtH5xXduZpGHBVt7kf5e8Or3TLXpNdaaOM5t/1oQx5eNDXwnVG1t3Th/Isez6TDr2+adPW+hzWLl8qLj6wURMX+j0pY4rm/4UMRUituftrp/3YseKaxzTvqF95drWWDtD41Kex33fN6HbOeelnPNJ6DM2H7tU10ufOEnhX9reIqW/B2kTVYzStojYkeNMbPu8/z0q1S/m9ZQ+8J2zco5HeU6TY8Smn0mp6lyMj1zzqp4FhPovxp8qSf0+sUub5LbH+sJWVtaly6ManyY/6vbpMdN48rnnbNJl6mfXODDZ6LqOU83lvtcB0X65/rokdp1Z1Xrfd27QtU+F+H/QAvp/QLp+98ElzuW8PhLrf/m/fF1IKbmuBXI86yTWf7FSx/+opPxfG1f/ifJ0bIT+h05KybkeUcWiLD7rY9d1R6q203w+ZVzXLTH+ZtI2U+TpllI615rWrFTqvL6lus4VdYySuqoUnzGTwlehflSdV30ebTA/X/rOGVXMQ/I4EPFB/yvddXyo2htLqnpifcgc8qjiw8d3Ked/kz+FiO/ypvKhkNA4jC1rE9c4s+XNEWdUVNc0l/nKJrmuX0yzXaUPmWZb9pNJctqoGn+xEltf7n5SofqPnlhCJPZ5tagjdK5nidoRI7n7ukkYJsj55GMT4TdUY/UWMmJA9f/wqfonld9Crxep3wcRolu7ukqsHT5raBUu7xBR8fG/zX85xopKctfvIznaTPvSdp82pq26z6Gp1sShnzUp8m8Yjlh06mwIFd331nTfV0stvuOMSdtV2akT+r3G2PIudbj0l4k65iaT+NZBx7PqXYmqJXZeiZmbUn9+d0X3udB0PgUu9ee6VuXW4/MZO6Wkbkfd+l1tVM0rsk06G0PsZo5lJ4JPbO33tdn1PJVcPhLi+rkgN7nmStUclaoeVb2u/qd5fb8bYhPdNTH3NdXXplS2yTa66tLlzSExY1Rnp0tcCgm9/6KyJURC56lU/RGilxLzvMP2H9gq+5jlvG8cmWIjxB++48WnPlW8hfpf3DNOITF9ID+fUD2vCLWHsfHlfWNGlVeux2SD7pgqNcW3S3lVfaryLvHvOv50PokZeyFjWBYXPTn1+0hsPSH/UUjv96T+38Mc/6OY2t7Ye2QqNq8Ile6ZmuMpUPVBlTp0x+l/lar8oDpfNVsokO1T2WsjhW0++nzsUdkn53Vty0xDnT6xpUp1unRlQ8eA6doR24eu16icdedqmy1uXfovtH5XnSmo2o8hekxjvar/jab/xUmfh5rakaLPfOddX52p4yq133PrT21/KvtyjdfY9unWOy7x67OW8Il3nzVCleuyXDpUa5kYfab1UcyasI41cOy6NeXcxQLLxEjs+99V9ZMMlVz3+l0k1bOOVPI/","base64");default:throw Error()}},e}()),F=c,U=1<<(F.isEmojiShift,F.isEmojiPresentationShift,F.isEmojiModifierShift,F.isEmojiModifierBaseShift,F.isEmojiComponentShift,F.isExtPictographicShift),G=B.createTrie(k.Emoji);function W(e){return 0!=(G.get(e)&U)}var Z=Object.freeze({__proto__:null,CR:3,Control:1,Extend:4,L:7,LF:2,LV:11,LVT:12,Other:0,Prepend:5,Regional_Indicator:13,SpacingMark:6,T:9,V:8,ZWJ:10,default:{CR:3,Control:1,Extend:4,L:7,LF:2,LV:11,LVT:12,Other:0,Prepend:5,Regional_Indicator:13,SpacingMark:6,T:9,V:8,ZWJ:10}}),V=Z.Control,H=Z.LF,z=Z.CR,Y=Z.Extend,K=Z.Prepend,Q=Z.SpacingMark,q=Z.L,X=Z.V,J=Z.T,$=Z.ZWJ,ee=Z.LV,et=Z.LVT,en=Z.Regional_Indicator,er=B.createTrie(k.GraphemeBreak);function ei(e,t,n){var r=t[0],i=n[0];if(r===z&&i===H)return!1;if(r===V||r===z||r===H||i===V||i===z||i===H)return!0;if(r===q&&(i===q||i===X||i===ee||i===et)||(r===ee||r===X)&&(i===X||i===J)||(r===et||r===J)&&i===J||i===Y||i===$||i===Q||r===K)return!1;if(r===$&&n[1]){for(var o=0,a=!1,s=e.length-1;s>=0;s--){if((u=e[s])[0]!==Y){a=u[1];break}o+=1}return!(o>=0&&a)}if(i===en&&r===en){var u,c=0;for(s=e.length-1;s>=0&&(u=e[s])[0]===en;s--)c+=1;return c%2!=0}return!0}function eo(e,t){if(void 0===t&&(t=0),t<0)return 0;if(t>=e.length-1)return e.length;for(var n=[],r=i(e,t),o=er.get(r),a=W(r),s=t+1;s<e.length;s++)if(!(e.charCodeAt(s-1)<=56319&&e.charCodeAt(s-1)>=55296&&e.charCodeAt(s)<=57343&&e.charCodeAt(s)>=56320)){var u=i(e,s),c=er.get(u),l=W(u);if(ei(n,[o,a],[c,l]))return s;n.push([o,a]),o=c,a=l}return e.length}var ea=B.createTrie(k.CommonProps),es=JSON.parse('{\n    "categories": [\n        "Cc",\n        "Zs",\n        "Po",\n        "Sc",\n        "Ps",\n        "Pe",\n        "Sm",\n        "Pd",\n        "Nd",\n        "Lu",\n        "Sk",\n        "Pc",\n        "Ll",\n        "So",\n        "Lo",\n        "Pi",\n        "Cf",\n        "No",\n        "Pf",\n        "Lt",\n        "Lm",\n        "Mn",\n        "Cn",\n        "Me",\n        "Mc",\n        "Nl",\n        "Zl",\n        "Zp",\n        "Cs",\n        "Co"\n    ],\n    "combiningClasses": [\n        "Not_Reordered",\n        "Above",\n        "Above_Right",\n        "Below",\n        "Attached_Above_Right",\n        "Attached_Below",\n        "Overlay",\n        "Iota_Subscript",\n        "Double_Below",\n        "Double_Above",\n        "Below_Right",\n        "Above_Left",\n        "CCC10",\n        "CCC11",\n        "CCC12",\n        "CCC13",\n        "CCC14",\n        "CCC15",\n        "CCC16",\n        "CCC17",\n        "CCC18",\n        "CCC19",\n        "CCC20",\n        "CCC21",\n        "CCC22",\n        "CCC23",\n        "CCC24",\n        "CCC25",\n        "CCC30",\n        "CCC31",\n        "CCC32",\n        "CCC27",\n        "CCC28",\n        "CCC29",\n        "CCC33",\n        "CCC34",\n        "CCC35",\n        "CCC36",\n        "Nukta",\n        "Virama",\n        "CCC84",\n        "CCC91",\n        "CCC103",\n        "CCC107",\n        "CCC118",\n        "CCC122",\n        "CCC129",\n        "CCC130",\n        "CCC132",\n        "Attached_Above",\n        "Below_Left",\n        "Left",\n        "Kana_Voicing",\n        "CCC26",\n        "Han_Reading",\n        "Right"\n    ],\n    "scripts": [\n        "Common",\n        "Latin",\n        "Bopomofo",\n        "Inherited",\n        "Greek",\n        "Zzzz",\n        "Coptic",\n        "Cyrillic",\n        "Armenian",\n        "Hebrew",\n        "Arabic",\n        "Syriac",\n        "Thaana",\n        "Nko",\n        "Samaritan",\n        "Mandaic",\n        "Devanagari",\n        "Bengali",\n        "Gurmukhi",\n        "Gujarati",\n        "Oriya",\n        "Tamil",\n        "Telugu",\n        "Kannada",\n        "Malayalam",\n        "Sinhala",\n        "Thai",\n        "Lao",\n        "Tibetan",\n        "Myanmar",\n        "Georgian",\n        "Hangul",\n        "Ethiopic",\n        "Cherokee",\n        "Canadian_Aboriginal",\n        "Ogham",\n        "Runic",\n        "Tagalog",\n        "Hanunoo",\n        "Buhid",\n        "Tagbanwa",\n        "Khmer",\n        "Mongolian",\n        "Limbu",\n        "Tai_Le",\n        "New_Tai_Lue",\n        "Buginese",\n        "Tai_Tham",\n        "Balinese",\n        "Sundanese",\n        "Batak",\n        "Lepcha",\n        "Ol_Chiki",\n        "Braille",\n        "Glagolitic",\n        "Tifinagh",\n        "Han",\n        "Hiragana",\n        "Katakana",\n        "Yi",\n        "Lisu",\n        "Vai",\n        "Bamum",\n        "Syloti_Nagri",\n        "Phags_Pa",\n        "Saurashtra",\n        "Kayah_Li",\n        "Rejang",\n        "Javanese",\n        "Cham",\n        "Tai_Viet",\n        "Meetei_Mayek",\n        "null",\n        "Linear_B",\n        "Lycian",\n        "Carian",\n        "Old_Italic",\n        "Gothic",\n        "Old_Permic",\n        "Ugaritic",\n        "Old_Persian",\n        "Deseret",\n        "Shavian",\n        "Osmanya",\n        "Osage",\n        "Elbasan",\n        "Caucasian_Albanian",\n        "Vithkuqi",\n        "Linear_A",\n        "Cypriot",\n        "Imperial_Aramaic",\n        "Palmyrene",\n        "Nabataean",\n        "Hatran",\n        "Phoenician",\n        "Lydian",\n        "Meroitic_Hieroglyphs",\n        "Meroitic_Cursive",\n        "Kharoshthi",\n        "Old_South_Arabian",\n        "Old_North_Arabian",\n        "Manichaean",\n        "Avestan",\n        "Inscriptional_Parthian",\n        "Inscriptional_Pahlavi",\n        "Psalter_Pahlavi",\n        "Old_Turkic",\n        "Old_Hungarian",\n        "Hanifi_Rohingya",\n        "Yezidi",\n        "Old_Sogdian",\n        "Sogdian",\n        "Old_Uyghur",\n        "Chorasmian",\n        "Elymaic",\n        "Brahmi",\n        "Kaithi",\n        "Sora_Sompeng",\n        "Chakma",\n        "Mahajani",\n        "Sharada",\n        "Khojki",\n        "Multani",\n        "Khudawadi",\n        "Grantha",\n        "Newa",\n        "Tirhuta",\n        "Siddham",\n        "Modi",\n        "Takri",\n        "Ahom",\n        "Dogra",\n        "Warang_Citi",\n        "Dives_Akuru",\n        "Nandinagari",\n        "Zanabazar_Square",\n        "Soyombo",\n        "Pau_Cin_Hau",\n        "Bhaiksuki",\n        "Marchen",\n        "Masaram_Gondi",\n        "Gunjala_Gondi",\n        "Makasar",\n        "Cuneiform",\n        "Cypro_Minoan",\n        "Egyptian_Hieroglyphs",\n        "Anatolian_Hieroglyphs",\n        "Mro",\n        "Tangsa",\n        "Bassa_Vah",\n        "Pahawh_Hmong",\n        "Medefaidrin",\n        "Miao",\n        "Tangut",\n        "Nushu",\n        "Khitan_Small_Script",\n        "Duployan",\n        "SignWriting",\n        "Nyiakeng_Puachue_Hmong",\n        "Toto",\n        "Wancho",\n        "Mende_Kikakui",\n        "Adlam"\n    ],\n    "eastAsiaWidths": [\n        "N",\n        "Na",\n        "A",\n        "W",\n        "H",\n        "F"\n    ]\n}'),eu=Math.log2||function(e){return Math.log(e)/Math.LN2},ec=function(e){return eu(e)+1|0},el=ec(es.categories.length-1),ed=ec(es.combiningClasses.length-1),ef=ec(es.scripts.length-1),ep=ec(es.eastAsiaWidths.length-1),eh=ed+ef+ep+10,eg=ep+10,em=(1<<el)-1,ev=(1<<ef)-1,ey=function(e){var t=ea.get(e);return es.categories[t>>eh&em]},eb=function(e){var t=ea.get(e);return es.scripts[t>>eg&ev]},e_=function(){function e(e){this.codePoints=e}return e.fromStringSlice=function(t,n,r){return new e(o(t.slice(n,r+1)))},e.prototype.toString=function(){return a.apply(void 0,this.codePoints)},e}(),eC=function(){function e(e){this.codePointGenerated=!1,this.codePoint2CharCodeIndexMap=[],this.charCode2CodePointIndexMap=[],this.graphemeGenerated=!1,this.graphemeIndecies=[],this.str=e}return e.prototype.codePoints=function(){return this.generateCodePoints(),this._codePoints||[]},e.prototype.toString=function(){return this.str},e.prototype.graphemes=function(){var e=this;return this.generateGraphemes(),this.graphemeIndecies.map(function(t){return e_.fromStringSlice(e.str,t.start,t.end)})},e.prototype.charCodeCount=function(){return this.str.length},e.prototype.codePointCount=function(){return this.codePoints().length},e.prototype.graphemeCount=function(){return this.generateGraphemes(),this.graphemeIndecies.length},e.prototype.codePointAt=function(e){return this.codePoints()[e]},e.prototype.codePointAtCharCodePoint=function(e){var t=this.charCodeIndex2CodePointIndex(e);return this.codePointAt(t)},e.prototype.charCodeAt=function(e){return this.str.charCodeAt(e)},e.prototype.graphemeAt=function(e){this.generateGraphemes();var t=this.graphemeIndecies[e];return e_.fromStringSlice(this.str,t.start,t.end)},e.prototype.codePointIndex2CharCodeIndexRange=function(e){return this.generateCodePoints(),this.codePoint2CharCodeIndexMap[e]},e.prototype.graphemeIndex2CharCodeIndexRange=function(e){return this.generateGraphemes(),this.graphemeIndecies[e]},e.prototype.charCodeIndex2CodePointIndex=function(e){return this.generateCodePoints(),this.charCode2CodePointIndexMap[e]},e.prototype.charCodeIndex2GraphemeIndex=function(e){this.generateGraphemes();for(var t=0,n=this.graphemeIndecies.length-1;t<=n;){var r=t+Math.floor((n-t)/2),i=this.graphemeIndecies[r];if(i.start<=e&&i.end>=e)return r;if(e<i.start)n=r-1;else{if(!(e>i.end))throw Error("Error binary search grapheme index from char code index. Must be a bug.");t=r+1}}return -1},e.prototype.sliceByCharCode=function(t,n){var r=void 0===n?this.charCodeCount():n;return new e(this.str.slice(t,r))},e.prototype.sliceByGrapheme=function(t,n){this.generateGraphemes();var r=void 0===n?this.graphemeCount():n,i=this.graphemeIndex2CharCodeIndexRange(t).start,o=this.graphemeIndex2CharCodeIndexRange(r-1).end;return new e(this.str.slice(i,o+1))},e.prototype.sliceByCodePoint=function(t,n){var r=void 0===n?this.codePointCount():n,i=this.codePointIndex2CharCodeIndexRange(t).start,o=this.codePointIndex2CharCodeIndexRange(r-1).end;return new e(this.str.slice(i,o+1))},e.prototype.generateCodePoints=function(){if(!this.codePointGenerated){for(var e=[],t=[],n=[],r=this.str.length,i=0;i<r;i++){var o=this.str.charCodeAt(i);if(s(o)&&i<=r-1){var a=this.str.charCodeAt(i+1);if(u(a)){i+=1,n.push(((1023&o)<<10)+(1023&a)+65536),e.push({start:i-1,end:i});var c=n.length-1;t[i-1]=c,t[i]=c;continue}}n.push(o),e.push({start:i,end:i}),t[i]=n.length-1}this._codePoints=n,this.codePoint2CharCodeIndexMap=e,this.charCode2CodePointIndexMap=t,this.codePointGenerated=!0}},e.prototype.generateGraphemes=function(){if(!this.graphemeGenerated){for(var e=this.str.length,t=[],n=0;n<e;){var r=eo(this.str,n);t.push({start:n,end:r-1}),n=r}this.graphemeIndecies=t,this.graphemeGenerated=!0}},e}(),eI=Object.freeze({__proto__:null,AI:21,AL:9,B2:31,BA:2,BB:22,BK:4,CB:40,CJ:36,CL:18,CM:1,CP:13,CR:5,EB:35,EM:42,EX:7,GL:20,H2:37,H3:38,HL:23,HY:15,ID:34,IN:32,IS:14,JL:25,JT:27,JV:26,LF:3,NL:19,NS:28,NU:17,OP:12,PO:11,PR:10,QU:8,RI:41,SA:24,SG:39,SP:6,SY:16,WJ:33,XX:0,ZW:29,ZWJ:30,default:{AI:21,AL:9,B2:31,BA:2,BB:22,BK:4,CB:40,CJ:36,CL:18,CM:1,CP:13,CR:5,EB:35,EM:42,EX:7,GL:20,H2:37,H3:38,HL:23,HY:15,ID:34,IN:32,IS:14,JL:25,JT:27,JV:26,LF:3,NL:19,NS:28,NU:17,OP:12,PO:11,PR:10,QU:8,RI:41,SA:24,SG:39,SP:6,SY:16,WJ:33,XX:0,ZW:29,ZWJ:30}}),eE=eI.XX,ew=eI.CM,eS=eI.BA,eD=eI.LF,eM=eI.BK,eT=eI.CR,eA=eI.SP,ex=eI.EX,eN=eI.QU,eO=eI.AL,ek=eI.PR,eR=eI.PO,eL=eI.OP,ej=eI.CP,eP=eI.IS,eB=eI.HY,eF=eI.SY,eU=eI.NU,eG=eI.CL,eW=eI.NL,eZ=eI.GL,eV=eI.AI,eH=eI.BB,ez=eI.HL,eY=eI.SA,eK=eI.JL,eQ=eI.JV,eq=eI.JT,eX=eI.NS,eJ=eI.ZW,e$=eI.ZWJ,e0=eI.B2,e1=eI.IN,e2=eI.WJ,e4=eI.ID,e3=eI.EB,e5=eI.CJ,e9=eI.H2,e8=eI.H3;eI.SG;var e6,e7=eI.CB,te=eI.RI,tt=eI.EM,tn=[eO,ez],tr=[eM,eT,eD,eW],ti=[eA,eJ],to=[ek,eR],ta=[eK,eQ,eq,e9,e8],ts=[eB,eS],tu=[9001,65288],tc=tr.concat(ti,eJ);function tl(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==eA)return r;n-=1}return -1}function td(e,t,n,r){var i=r[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var o=n;o<=r.length;){if((a=r[o+=1])===t)return!0;if(a!==eA)break}if(i===eA)for(o=n;o>0;){var a,s=r[o-=1];if(Array.isArray(e)?-1!==e.indexOf(s):e===s)for(var u=n;u<=r.length;){if((a=r[u+=1])===t)return!0;if(a!==eA)break}if(s!==eA)break}return!1}!function(e){e[e.Mandatory=0]="Mandatory",e[e.Allowed=1]="Allowed",e[e.NotAllowed=2]="NotAllowed"}(e6||(e6={}));var tf,tp,th,tg=[function(e){var t=e.current,n=e.next;if(t===eT&&n===eD)return e6.NotAllowed},function(e){var t=e.current;if(-1!==tr.indexOf(t))return e6.Mandatory},function(e){var t=e.next;if(-1!==tr.indexOf(t))return e6.NotAllowed},function(e){var t=e.next;if(-1!==ti.indexOf(t))return e6.NotAllowed},function(e){if(tl(e.index,e.types)===eJ)return e6.Allowed},function(e){if(e.current===e$)return e6.NotAllowed},function(e){var t=e.current,n=e.next;if(t===e2||n===e2)return e6.NotAllowed},function(e){if(e.current===eZ)return e6.NotAllowed},function(e){var t=e.current,n=e.next;if(-1===[eA,eS,eB].indexOf(t)&&n===eZ)return e6.NotAllowed},function(e){if(-1!==[eG,ej,ex,eP,eF].indexOf(e.next))return e6.NotAllowed},function(e){if(tl(e.index,e.types)===eL)return e6.NotAllowed},function(e){if(td(eN,eL,e.index,e.types))return e6.NotAllowed},function(e){if(td([eG,ej],eX,e.index,e.types))return e6.NotAllowed},function(e){if(td(e0,e0,e.index,e.types))return e6.NotAllowed},function(e){if(e.current===eA)return e6.Allowed},function(e){var t=e.current,n=e.next;if(t===eN||n===eN)return e6.NotAllowed},function(e){var t=e.next,n=e.current;if(t===e7||n===e7)return e6.Allowed},function(e){var t=e.current;if(-1!==[eS,eB,eX].indexOf(e.next)||t===eH)return e6.NotAllowed},function(e){var t=e.index,n=e.types,r=e.current,i=t-1;if((i>=0?n[i]:0)===ez&&-1!==ts.indexOf(r))return e6.NotAllowed},function(e){var t=e.current,n=e.next;if(t===eF&&n===ez)return e6.NotAllowed},function(e){if(e.next===e1)return e6.NotAllowed},function(e){var t=e.current,n=e.next;if(-1!==tn.indexOf(n)&&t===eU||-1!==tn.indexOf(t)&&n===eU)return e6.NotAllowed},function(e){var t=e.current,n=e.next;if(t===ek&&-1!==[e4,e3,tt].indexOf(n)||-1!==[e4,e3,tt].indexOf(t)&&n===eR)return e6.NotAllowed},function(e){var t=e.current,n=e.next;if(-1!==tn.indexOf(t)&&-1!==to.indexOf(n)||-1!==to.indexOf(t)&&-1!==tn.indexOf(n))return e6.NotAllowed},function(e){var t,n=e.index,r=e.types,i=e.current,o=e.next,a=n-1,s=n+1;if(-1!==[ek,eR].indexOf(i)&&(o===eU||-1!==[eL,eB].indexOf(o)&&r[s+1]===eU)||-1!==[eL,eB].indexOf(i)&&o===eU||i===eU&&-1!==[eU,eF,eP].indexOf(o))return e6.NotAllowed;if(-1!==[eU,eF,eP,eG,ej].indexOf(o))for(var u=n;u>=0;){if((t=r[u])===eU)return e6.NotAllowed;if(-1===[eF,eP].indexOf(t))break;u-=1}if(-1!==[ek,eR].indexOf(o))for(u=-1!==[eG,ej].indexOf(i)?a:n;u>=0;){if((t=r[u])===eU)return e6.NotAllowed;if(-1===[eF,eP].indexOf(t))break;u-=1}},function(e){var t=e.current,n=e.next;if(eK===t&&-1!==[eK,eQ,e9,e8].indexOf(n)||-1!==[eQ,e9].indexOf(t)&&-1!==[eQ,eq].indexOf(n)||-1!==[eq,e8].indexOf(t)&&n===eq)return e6.NotAllowed},function(e){var t=e.current,n=e.next;if(-1!==ta.indexOf(t)&&-1!==[e1,eR].indexOf(n)||-1!==ta.indexOf(n)&&t===ek)return e6.NotAllowed},function(e){var t=e.current,n=e.next;if(-1!==tn.indexOf(t)&&-1!==tn.indexOf(n))return e6.NotAllowed},function(e){var t=e.current,n=e.next;if(t===eP&&-1!==tn.indexOf(n))return e6.NotAllowed},function(e){var t=e.current,n=e.next,r=e.codePoints,i=e.index+1;if(-1!==tn.concat(eU).indexOf(t)&&n===eL&&-1===tu.indexOf(r[i])||-1!==tn.concat(eU).indexOf(n)&&t===ej)return e6.NotAllowed},function(e){var t=e.index,n=e.types,r=e.indicies,i=e.current,o=e.next;if(i===te&&o===te){for(var a=r[t],s=1;a>0&&n[a-=1]===te;)s+=1;if(s%2!=0)return e6.NotAllowed}},function(e){var t=e.current,n=e.next,r=e.codePoints,i=e.index;if(n===tt&&(t===e3||W(r[i])&&"Cn"===ey(r[i])))return e6.NotAllowed}],tm=["Lu","Ll","Lt","Lm","Lo","Nd","Nl","No"],tv=B.createTrie(k.LineBreak);function ty(e,t){void 0===t&&(t=tf.Strict);var n=[],r=[],i=[];return e.forEach(function(e,o){var a=tv.get(e),s=ey(e);if(i.push(tm.includes(s)),-1!==[tf.Normal,tf.Auto,tf.Loose].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(o),n.push(e7);if(a===eN){if(8220===e)return r.push(o),n.push(eL);if(8221===e)return r.push(o),n.push(eG)}if(a===ew||a===e$){if(0===o)return a===e$?(r.push(o),n.push(e$)):(r.push(o),n.push(eO));var u=tb(o-1,n);return -1===u?(r.push(o),n.push(eO)):-1===tc.indexOf(u)?(r.push(r[o-1]),n.push(u)):(r.push(o),n.push(eO))}return r.push(o),a===e5?t===tf.Strict?n.push(eX):n.push(e4):a===eY||a===eV?n.push(eO):a===eE?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(e4):n.push(eO):void n.push(a)}),[r,n,i]}function tb(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==e$&&r!==ew)return r;n-=1}return -1}function t_(e,t,n,r,i,o){if(void 0===i&&(i=null),void 0===o&&(o=null),0===n[r])return e6.NotAllowed;var a=r-1;if(Array.isArray(i)&&!0===i[a])return e6.NotAllowed;var s,u=a+1,c=t[a],l=t[u];return tg.some(function(r){return void 0!==(s=r({codePoints:e,index:a,types:t,indicies:n,current:c,next:l}))}),void 0!==s?s:Array.isArray(o)&&-1!==o.indexOf(c)?e6.NotAllowed:e6.Allowed}!function(e){e[e.Auto=0]="Auto",e[e.Normal=1]="Normal",e[e.Loose=2]="Loose",e[e.Strict=3]="Strict"}(tf||(tf={})),function(e){e[e.Normal=0]="Normal",e[e.BreakAll=1]="BreakAll",e[e.BreakWord=2]="BreakWord",e[e.KeepAll=3]="KeepAll"}(tp||(tp={})),function(e){e[e.Ex=ex]="Ex",e[e.Sy=eF]="Sy"}(th||(th={})),function(){function e(e,t){var n;void 0===t&&(t={lineBreak:tf.Normal,wordBreak:tp.Normal}),this.nextIndex=0,this.ustr=new eC(e),this.codePoints=this.ustr.codePoints(),this.codePointLen=this.codePoints.length,this.forbiddenBreakClasses=t.forbidClasses||[],n=function(e,t){var n=ty(e,t.lineBreak),r=n[0],i=n[1],o=n[2],a=i;return t.wordBreak!==tp.BreakAll&&t.wordBreak!==tp.BreakWord||(a=i.map(function(e){return -1!==[eU,eO,eY].indexOf(e)?e4:e})),[r,a,t.wordBreak===tp.KeepAll?o.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):null]}(this.codePoints,t),this.indicies=n[0],this.lineBreakClasses=n[1],this.forbiddenBreakpoints=n[2]}e.prototype.getGraphemeInfoFromCodePointIndex=function(e){var t=this.ustr.codePointIndex2CharCodeIndexRange(e),n=this.ustr.charCodeIndex2GraphemeIndex(t.start),r=this.ustr.graphemeIndex2CharCodeIndexRange(n),i={start:this.ustr.charCodeIndex2CodePointIndex(r.start),end:this.ustr.charCodeIndex2CodePointIndex(r.end)};return{length:i.end-i.start+1,range:i}},e.prototype.next=function(e){if(void 0===e&&(e=!1),this.nextIndex>=this.codePointLen)return null;for(var t=e6.NotAllowed;this.nextIndex<this.codePointLen;)if((t=t_(this.codePoints,this.lineBreakClasses,this.indicies,this.nextIndex+=1,this.forbiddenBreakpoints,this.forbiddenBreakClasses))!==e6.NotAllowed){if(e){var n=this.getGraphemeInfoFromCodePointIndex(this.nextIndex-1),r=n.length,i=n.range;r>1&&(this.nextIndex=i.start+r)}break}return t!==e6.NotAllowed||this.nextIndex===this.codePointLen?{required:t===e6.Mandatory,position:this.ustr.codePointIndex2CharCodeIndexRange(this.nextIndex-1).end+1}:null}}()},850244:function(e,t,n){"use strict";n.r(t),n.d(t,{BIGINT_SUPPORT:function(){return tn},ID_PREFIX_REGEX:function(){return tr},Logger:function(){return R},ToolbarModeDocType:function(){return r},addEnterpriseXsrfInterceptor:function(){return et},addLocalLogCgiInterceptor:function(){return ed},addOrUpdateQuery:function(){return F},cacheClientData:function(){return S},checkIsCurrentUser:function(){return eK},contactDocOwner:function(){return tC},cube:function(){return eA},dontWaitFor:function(){return e9},enterpriseXsrfInterceptor:function(){return $},formatBytes:function(){return e8},getAppCreatorName:function(){return tm},getAppCreatorVid:function(){return tg},getBasicClientVarsWikiInfo:function(){return tN},getCgiFunc:function(){return es},getCgiPath:function(){return ea},getClientVarsWikiInfo:function(){return tO},getCookie:function(){return G},getCubeDocId:function(){return ew},getCubeFileType:function(){return eE},getCubePlatform:function(){return eC},getCubeUserId:function(){return e_},getCubeWeixinWorkVersion:function(){return eI},getOriginDocBasicClientVarsWikiInfo:function(){return tM},getOriginDocClientVarsWikiInfo:function(){return tT},getQuery:function(){return P},getQueryV2:function(){return B},getShortcutBasicClientVarsWikiInfo:function(){return tA},getShortcutClientVarsWikiInfo:function(){return tx},getToolbarModeFromCookie:function(){return e3},getURLParameter:function(){return U},getUserId:function(){return eg},getWindowWidth:function(){return e0},isAppId:function(){return ta},isOpenId:function(){return td},isOriginDocWikiDoc:function(){return tL},isPad:function(){return e6},isPadAndAbrove418:function(){return te},isRobotId:function(){return tf},isShortCutWikiDoc:function(){return tj},isSpecialCreatorId:function(){return th},isVid:function(){return to},isWedriveUid:function(){return ts},isWedriveUin:function(){return tu},isWeworkTeamCorpID:function(){return tp},isWikiDoc:function(){return tR},isWikiEmbeded:function(){return tk},isWikiShortcut:function(){return tI},isWikiShortcutId:function(){return tE},isWxTinyid:function(){return tl},isXid:function(){return tc},lazyGetWikiShortcutId:function(){return tS},localLog:function(){return k},log:function(){return O},openApplyUseUrl:function(){return tb},openUrlInWecom:function(){return ty},openVipUrl:function(){return t_},parseXhrError:function(){return eu},sendCubeRequest:function(){return eS},setCookie:function(){return W},setToolbarModeToCookie:function(){return e4},setWindowWidth:function(){return e$},shareLanguage:function(){return M},shouldDisableTryJumpToWiki:function(){return tw},sleep:function(){return e5},subscribeIsPad:function(){return e7},subscribeIsPadAndAbrove418:function(){return tt},substrObject:function(){return ex}});var r,i=n(737033),o=n.n(i),a=n(149133),s=n.n(a),u=n(126713),c=n.n(u),l=n(352669),d=n.n(l),f=n(157682),p=n(130599),h=n.n(p),g=n(571227),m=n.n(g),v=n(766123),y=n.n(v),b=n(619097),_=n(357162),C=n(803073),I=n(384341);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S(e,t){var n="ent-ssr-sandbox-data";if("undefined"!=typeof caches)return caches.open(n).then(function(n){var r="https://".concat(location.host,"/").concat(e);return n.match(r).then(function(e){return null==e?void 0:e.json()}).then(function(e){return e||(e={}),e=w(w({},e),t),n.put(r,new Response(JSON.stringify(e),{headers:{"Content-Type":"application/json"}}))}).catch(function(e){if("undefined"!=typeof window){var t,n;null==(t=window)||null==(n=t.log)||n.error("sync to sandbox data failed",e)}})})}var D={zh:"zh-CN",zh_HK:"zh-HK",en:"en-US",th:"th",vi:"vi",ms:"ms",fil:"tl-PH",id:"id-ID",es:"es-MX",de:"de",ja:"ja","zh-CN":"zh-CN","zh-HK":"zh-HK","en-US":"en-US","zh-cn":"zh-CN","zh-tc":"zh-HK","en-us":"en-US",zh_CN:"zh-CN",en_US:"en-US",tl_PH:"tl-PH",id_ID:"id-ID",es_MX:"es-MX"};function M(e,t){e.on("languageChanged",function(){try{var n,r=Object.keys(t),i=null!=(n=e.languages.find(function(e){return -1!==r.indexOf(e)}))?n:"";D[i]&&(i=D[i]),localStorage.setItem("shared-language",i),S("common",{lang:i})}catch(e){}})}function T(){return"undefined"!=typeof location?location.hostname:""}function A(){return x()?N():"undefined"!=typeof window?window:{}}function x(){return"undefined"==typeof window&&void 0!==N()}function N(){return wx}function O(){for(var e,t,n,r=A(),i="[wdocs-utils/xsrf]",o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];"function"==typeof(null==(e=r.log)?void 0:e.log)&&(n=r.log).log.apply(n,[i].concat(a)),(t=console).warn.apply(t,[i].concat(a))}function k(){for(var e,t,n,r,i,o,a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];null!=(e=window)&&null!=(t=e.tdocs)&&t.log?window.tdocs.log({message:s.join()}):null!=(n=window)&&null!=(r=n.WeixinJSBridge)&&r.invoke?null==(i=(o=window.WeixinJSBridge).invoke)||i.call(o,"wwapp.wedoc.localLog",{level:"info",msg:s.join()},function(){}):console.warn("\u8BE5\u73AF\u5883\u4E0D\u652F\u6301localLog")}var R=function(){function e(){c()(this,e)}return d()(e,null,[{key:"info",value:function(){for(var e,t,n,r=A(),i="[info]",o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];"function"==typeof(null==(e=r.log)?void 0:e.info)?(t=r.log).info.apply(t,[i].concat(a)):(n=console).info.apply(n,[i].concat(a))}},{key:"warn",value:function(){for(var e,t,n,r=A(),i="[warn]",o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];"function"==typeof(null==(e=r.log)?void 0:e.warn)?(t=r.log).warn.apply(t,[i].concat(a)):(n=console).warn.apply(n,[i].concat(a))}},{key:"error",value:function(){for(var e,t,n,r=A(),i="[error]",o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];"function"==typeof(null==(e=r.log)?void 0:e.error)?(t=r.log).error.apply(t,[i].concat(s()(a.map(function(e){return e instanceof Error&&e.toString?e.toString():e})))):(n=console).error.apply(n,[i].concat(a))}}]),e}();function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function P(e,t){var n=(0,f.parseUrl)(e).query[t];return"string"==typeof n?n:null}function B(e,t){var n=null;if(!(n=(0,f.parseUrl)(e).query[t]))try{n=(0,f.parse)(e)[t]}catch(e){}return"string"==typeof n?n:null}function F(e,t){var n=(0,f.parseUrl)(e),r=j(j({},n.query),t);return(0,f.stringifyUrl)(j(j({},n),{},{query:r}))}var U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.search;try{return B(t,e)}catch(e){return null}};function G(e){if("undefined"==typeof document)return null;var t=new RegExp("(?:^|;+|\\s+)".concat(e,"=([^;]*)")),n=document.cookie.match(t);return(n?n[1]:null)||null}function W(e,t,n){if("undefined"==typeof document)return null;var r="";if(n){var i=new Date;i.setTime(i.getTime()+24*n*36e5),r="; expires=".concat(i.toUTCString())}document.cookie="".concat(e,"=").concat(t||"").concat(r,"; path=/")}var Z={xsrfCookieNames:["wedoc_sid","wedrive_sid","tdoc_sid"],xsrfCookieNameMiniProgram:"sid",miniProgramSessionStorageKeymap:{wx92e25c25a75c927a:"WEDRIVE_MP_SESSION",wx086c4c5c0dc9e424:"WEDOC_MP_SESSION"},xsrfQueryName:"sid",xsrfFlag:"wedoc_xsrf",whitelistDomains:["doc.weixin.qq.com","drive.weixin.qq.com","board.weixin.qq.com"]};function V(e){var t=e.indexOf("//");if(-1===t)return!0;var n=t+2,r=T();if(r)return H(e,r,n);for(var i=0;i<Z.whitelistDomains.length;i++)if(H(e,Z.whitelistDomains[i],n))return!0;return!1}function H(e,t,n){return e.slice(n,t.length+n)===t}function z(e){for(var t=["/websocket/","/info/report"],n=0,r=t;n<r.length;n++){var i=r[n];if(-1!==e.indexOf(i))return!1}return!0}function Y(){return!!x()||Z.whitelistDomains.indexOf(T())>-1}function K(){if(x()){var e=(null!=(n=null==(r=(i=A()).getAccountInfoSync)?void 0:r.call(i).miniProgram)?n:{}).appId;if("string"==typeof e){var t=Z.miniProgramSessionStorageKeymap[e];if(t){var n,r,i,o,a=A().getStorageSync(t);return null!=(o=null==a?void 0:a[Z.xsrfCookieNameMiniProgram])?o:""}}return""}for(var s=0;s<Z.xsrfCookieNames.length;s++){var u=G(Z.xsrfCookieNames[s]);if(u)return u}return""}function Q(){var e=RegExp("DistType\\/(publish|dev)","i").exec(navigator.userAgent);return null==e?void 0:e[1]}function q(){return"dev"===Q()}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $(e){if(!Y()||"POST"!==(null==(t=e.method)?void 0:t.toUpperCase())||"string"!=typeof e.url||!V(e.url)||!z(e.url))return e;var t,n,r=P(e.url,Z.xsrfQueryName),i=P(e.url,Z.xsrfFlag);if(r&&!i)return O("sid \u53C2\u6570\u5DF2\u5B58\u5728 \u4E0D\u5904\u7406 url=".concat(e.url," sid=").concat(r)),e;var a="";try{a=encodeURIComponent(K())}catch(e){}var s=F(e.url,(n={},o()(n,Z.xsrfQueryName,a),o()(n,Z.xsrfFlag,"1"),n));return J(J({},e),{},{url:s})}var ee=new(function(){function e(){if(c()(this,e),o()(this,"hooks",[]),"undefined"!=typeof XMLHttpRequest){var t=XMLHttpRequest.prototype.open,n=this.hooks;XMLHttpRequest.prototype.open=function(e,r){var i,o={method:e,url:r};n.forEach(function(e){o=e(o)});for(var a=arguments.length,s=Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];(i=t).call.apply(i,[this,o.method,o.url].concat(s))}}}return d()(e,[{key:"use",value:function(e){-1===this.hooks.indexOf(e)&&this.hooks.push(e)}},{key:"eject",value:function(e){this.hooks.splice(this.hooks.indexOf(e),1)}}]),e}());function et(){ee.use($)}var en=function(e){var t,n,r=null==e||null==(t=e.response)?void 0:t.status;if("number"==typeof r&&(r<200||r>=300))return{msg:(null==e?void 0:e.message)||(null==e||null==(n=e.response)?void 0:n.statusText)||"\u7F51\u7EDC\u9519\u8BEF",code:r||0}},er=function(e){var t,n,r,i,o,a,s,u=0;if("number"!=typeof(null==e||null==(t=e.data)?void 0:t.cgicode)||(null==e||null==(n=e.data)?void 0:n.cgicode)===0||u?"number"!=typeof(null==e||null==(r=e.data)?void 0:r.ret)||(null==e||null==(i=e.data)?void 0:i.ret)===0||u?"number"!=typeof(null==e||null==(o=e.data)?void 0:o.retcode)||(null==e||null==(a=e.data)?void 0:a.retcode)===0||u||(u=e.data.retcode):u=e.data.ret:u=e.data.cgicode,u)return{msg:"string"==typeof(null==e||null==(s=e.data)?void 0:s.msg)?e.data.msg:void 0,code:u}},ei=function(e){var t;if(null!=e&&null!=(t=e.headers)&&t["error-code"]&&"0"!==e.headers["error-code"])return{msg:e.headers["error-code"],code:e.headers["error-code"]}},eo=function(e){var t,n,r,i,o,a;if("number"==typeof(null==e||null==(t=e.data)||null==(n=t.head)?void 0:n.ret)&&(null==e||null==(r=e.data)||null==(i=r.head)?void 0:i.ret)!==0)return{msg:"string"==typeof(null==e||null==(o=e.data)||null==(a=o.head)?void 0:a.msg)?e.data.head.msg:void 0,code:e.data.head.ret}},ea=function(e){var t,n,r,i;if("string"==typeof(null==e||null==(t=e.data)||null==(n=t.head)?void 0:n.cgi))return e.data.head.cgi;if("string"==typeof(null==e||null==(r=e.request)?void 0:r.responseURL))try{return new URL(e.request.responseURL).pathname}catch(e){console.error("getCgiPath failed",e)}try{return new URL(null==e||null==(i=e.config)?void 0:i.url).pathname}catch(e){console.error("getCgiPath failed",e)}},es=function(e){var t=(null==e?void 0:e.config)||{},n=t.data,r=t.params,i=t.url,o=void 0;return"string"!=typeof n||o||(o=B(n,"func")),"object"!==h()(n)||o||(o=n.func),"string"!=typeof r||o||(o=B(r,"func")),"object"!==h()(r)||o||(o=r.func),"string"!=typeof i||o||(o=B(i,"func")),o&&String(o)},eu=function(e){var t=er(e)||eo(e)||ei(e)||en(e);if(t)return{code:t.code,msg:t.msg,path:ea(e),func:es(e)}};function ec(e,t){if(e.blackList&&e.blackList.some(function(e){return -1!=="".concat(t.url).indexOf(e)}))return t;try{"".concat(e.prefix," [cgi-log] url=").concat(t.url),k("".concat(e.prefix," [cgi-log] url=").concat(t.url))}catch(e){console.error("cgiLocalLogInterceptor fail: ",e)}return t}function el(e){return Q()?e.enableLocalLogInProduction||q()?ec.bind({},e):(console.warn("\u975E\u84DD\u76FE\u5305\uFF0C\u8DF3\u8FC7"),null):(console.warn("\u975E\u4F01\u5FAE\u684C\u9762\u7AEF\uFF0C\u8DF3\u8FC7"),null)}function ed(e){var t=el(e);t&&ee.use(t)}var ef="wedrive_uin",ep="uid",eh="wedoc_openid";function eg(){var e=G(ef),t=G(eh),n=G(ep),r=!!(e||t);return{openid:t,vid:r?e:n}}var em="wedrive_uin",ev="uid",ey="tdoc_uid",eb="wedoc_openid";function e_(){var e=G(em),t=G(eb),n=G(ev),r=G(ey);return t||r||e||n||void 0}function eC(){var e=navigator.userAgent,t=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),n=e.indexOf("Android")>-1||e.indexOf("Adr")>-1,r=e.indexOf("Windows")>-1,i=e.indexOf("Mac OS X")>-1&&!t;return t?"ios":n?"android":r?"win":i?"mac":"unknown"}function eI(){var e=function(){var e=navigator.userAgent.toLowerCase().match(/wxwork\/([0-9.]*)/);return e?e[1]:""}();return/wxworkQt/.test(navigator.userAgent)&&(e+="-qt"),e}function eE(){var e,t,n,r,i=window;return(null==(e=i.basicClientVars)||null==(t=e.docInfo)||null==(n=t.padInfo)?void 0:n.padType)||(null==(r=i.clientVars)?void 0:r.padType)||location.pathname.split("/").filter(function(e){return""!==e}).shift()}function ew(){var e,t,n,r,i=window;return(null==(e=i.basicClientVars)||null==(t=e.docInfo)||null==(n=t.padInfo)?void 0:n.padId)||(null==(r=i.clientVars)?void 0:r.padId)}function eS(e){var t=new XMLHttpRequest;t.open("POST","https://cube.weixinbridge.com/cube/report/reportbizdata?f=json"),t.send("report_items=".concat(JSON.stringify(e)))}var eD=null,eM=[],eT=null;function eA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if("undefined"!=typeof window){null===eT&&(eT=U("mode")||"");var n={action:"",biz:"",errMsg:"",doctype:eE(),platform:eC(),pathname:location.pathname||"",extra1:ew(),extra3:window.navigator.userAgent,uin:e_(),time:Math.round(Date.now()/1e3),biz_id:7199,weixin_work_version:eI(),version:window.__globalReleaseVersion,sceneMode:eT},r=Object.assign({},n,e);if(0===t)eS([r]);else{if(eM.push(r),eD)return;eD=window.setTimeout(function(){eM.length,eS(eM),eM=[],eD=null},t)}}}function ex(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=n,a=r,s=i;if(!e)return e;var u=h()(e);if("function"===u)return"[Function]";if("object"===u){if(-1===o)return"[Object]";if(-1!==(0,_.Z)(s,e))return"[Circular]";if(e instanceof Error)return"Error: ".concat(e.message);var c=(0,C.Z)(e),l=c?[]:{};s||(s=[]),s.push(e),o="number"==typeof o?o:5,a||(a=20);var d=0;return(0,b.Z)(e,function(e,n){if(!c||d<a){d+=1;var r=ex(e,t,o-1,a,s);c?l.push(r):l[n]=r}}),c&&e.length>a&&l.push("[!!skip log:".concat(e.length-a,"/").concat(e.length,"...]")),l}return"string"===u&&e.length>t?"".concat(e.substr(0,t-12),"[sub log...]"):e}var eN="lastCheckUserReloadTime",eO="checkUserReloadCount",ek=3,eR=3e5,eL=function(){return"undefined"!=typeof location&&"/txdoc/apply_page"===location.pathname},ej=/wxwork/.test("undefined"==typeof navigator?"":navigator.userAgent);function eP(){if("undefined"==typeof navigator)return!1;var e=/(wxdrive)/i.test(navigator.userAgent);return!!(/(mobile)/i.test(navigator.userAgent)&&!e||/(pad)/i.test(navigator.userAgent)&&!e)}function eB(){if("undefined"!=typeof localStorage)try{localStorage.setItem(eO,"0")}catch(e){console.error(e)}}function eF(){if("undefined"==typeof localStorage)return 0;var e=+(localStorage.getItem(eO)||"0");return isNaN(e)?0:e}function eU(){if("undefined"!=typeof localStorage){var e=eF();try{localStorage.setItem(eO,"".concat(e+1))}catch(e){console.error(e)}}}var eG=function(e){return new Promise(function(t){return setTimeout(t,e)})};function eW(e,t){document.cookie="".concat(e,"=clear; expires=Sun, 31 Dec 2017 12:00:00 UTC; path=/;Domain=").concat(t)}function eZ(){if("undefined"!=typeof document){var e=["wedrive_","wedoc_","tdoc_","uid"],t=document.cookie.split(";").map(function(e){return e.split("=")[0].trim()}).filter(function(t){return e.some(function(e){return t.startsWith(e)})}),n=new URL(location.href).hostname,r=n.split(".").slice(1).join("."),i=[".".concat(r),"".concat(r),".".concat(n),"".concat(n)];t.forEach(function(e){i.forEach(function(t){eW(e,t)})})}}function eV(e,t,n,r){return eH.apply(this,arguments)}function eH(){return(eH=m()(y().mark(function e(t,n,r,i){var o,a,s;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!=typeof localStorage){e.next=2;break}return e.abrupt("return");case 2:if(!(!isNaN(o=+(localStorage.getItem(eN)||""))&&!eL())||!(Date.now()-o<eR)){e.next=9;break}return eA({action:"reloadLessThan5min"}),O("reload less than ".concat(eR,"s, ignore")),e.abrupt("return");case 9:if(!(eF()>ek)){e.next=14;break}return eA({action:"reloadTimeReachLimit"}),O("reload more than ".concat(ek,", ignore")),e.abrupt("return");case 14:eA({action:"notCurrentUser",extra1:t,extra2:n,errMsg:r}),O("notCurrentUser, wecom=".concat(n,", cookie=").concat(t));try{localStorage.setItem(eN,"".concat(Date.now()))}catch(e){console.error(e)}return eU(),e.next=20,eG(100);case 20:return eZ(),e.prev=21,e.next=24,null==(a=window.tdocs)||null==(s=a.docLogin)?void 0:s.call(a);case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(21),O("docLogin err, continue to reload: ".concat(e.t0));case 29:"function"==typeof i?i():location.reload();case 30:case"end":return e.stop()}},e,null,[[21,26]])}))).apply(this,arguments)}function ez(e,t){return eY.apply(this,arguments)}function eY(){return(eY=m()(y().mark(function e(t,n){var r,i,o;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!=typeof window){e.next=2;break}return e.abrupt("return",{result:!0,wecomUserId:"",errMsg:""});case 2:return e.next=4,window.tdocs.getLoginCst({useOpenid:+!!n});case 4:return r=e.sent,i=n?r.openid:r.vid,o="".concat(n?"openid":"vid"," inconsistent, cookie=").concat(t,", wecom=").concat(i,"."),e.abrupt("return",{result:t===i,wecomUserId:i,errMsg:o});case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function eK(e){return eQ.apply(this,arguments)}function eQ(){return(eQ=m()(y().mark(function e(t){var n,r,i,o,a,s,u,c,l,d,f,p,h;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!=typeof window){e.next=2;break}return e.abrupt("return",!0);case 2:if(ej){e.next=5;break}return O("not wxwork, skip"),e.abrupt("return");case 5:if(!eP()){e.next=8;break}return O("mobile, skip"),e.abrupt("return");case 8:if(null!=(n=window.tdocs)&&n.getLoginCst){e.next=11;break}return O("not support getLoginCst, skip"),e.abrupt("return");case 11:if(e.prev=11,!(!(r=eg()).openid&&!r.vid)){e.next=16;break}return O("empty userId, check next time"),e.abrupt("return");case 16:if(i=!0,o=!1,a="",s="",u="",!r.openid){e.next=30;break}return e.next=24,ez(r.openid,!0);case 24:if(c=e.sent,i=i&&c.result,o=!c.wecomUserId,c.result||(a+="".concat(c.errMsg,"|"),s+="".concat(r.openid,"|"),u+="".concat(c.wecomUserId,"|")),!o){e.next=30;break}return e.abrupt("return");case 30:if(!r.vid){e.next=37;break}return e.next=33,ez(r.vid,!1);case 33:l=e.sent,i=i&&l.result,o=!l.wecomUserId,l.result||(a+="".concat(l.errMsg,"|"),s+="".concat(r.vid,"|"),u+="".concat(l.wecomUserId,"|"));case 37:if(!eL()||!(p=null==(d=window)||null==(f=d.clientVars)?void 0:f.operator_vid)){e.next=45;break}return e.next=42,ez(p,!1);case 42:i=(h=e.sent).result,o=!h.wecomUserId;case 45:if(!(!i&&!o)){e.next=50;break}return e.next=48,eV(s,u,a,t);case 48:e.next=52;break;case 50:eB(),O("checkIsCurrentUser: same user=","".concat(r.openid,"|").concat(r.vid));case 52:e.next=57;break;case 54:e.prev=54,e.t0=e.catch(11),O("checkIsCurrentUser err: ",e.t0);case 57:case"end":return e.stop()}},e,null,[[11,54]])}))).apply(this,arguments)}var eq="window_width",eX="window_width",eJ=30;function e$(){"undefined"!=typeof window&&W(eq,"".concat(window.innerWidth),eJ)}function e0(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=0;return e.length&&(t=Number(P(e,eX)||0))>0?t:(document.cookie.length&&(t=Number(G(eq)||0)),t)}var e1="env_wework_toolbar_mode";!function(e){e.Doc="doc",e.Sheet="sheet"}(r||(r={}));var e2=function(e,t){var n="".concat(e,"_").concat(e1);return t&&(n+="_".concat(t)),n};function e4(e,t,n){W(e2(t,n),e)}function e3(e,t){return G(e2(e,t))}function e5(e){return new Promise(function(t){return setTimeout(function(){t()},e)})}function e9(e){e.then(function(){})}function e8(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!+e)return"0 B";var n=1024,r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(1024)),o=+(i>=2);return"".concat(parseFloat((e/Math.pow(n,i)).toFixed(o))).concat(t?" ".concat(r[i]):"")}var e6=function(){return document.body.clientWidth>=500},e7=function(e){var t=function(){return e(e6())};return e(e6()),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}},te=function(){return e6()&&I.default.isWxWork&&I.default.isWxWorkVersionAboveOrEqual("4.1.8")},tt=function(e){e(te());var t=function(){return e(te())};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}},tn="function"==typeof BigInt,tr=/^(p|g)\./,ti={};function to(e){if("string"==typeof e&&!/^\d+$/.test(e))return!1;if(tn)try{return BigInt(e)>>ti[48]===ti[6]}catch(e){}return"number"==typeof e&&(e=String(e)),"string"==typeof e&&16===e.length&&"16888"===e.substring(0,5)}function ta(e){if("string"==typeof e&&!/^\d+$/.test(e))return!1;if(tn)try{return BigInt(e)>>ti[48]===ti[20]}catch(e){}if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return!1;var t=e.substring(0,6);return 16===e.length&&("562949"===t||"562950"===t)}function ts(e){if("string"==typeof e&&!/^\d+$/.test(e))return!1;if(tn)try{return BigInt(e)>>ti[32]===ti[3050710]}catch(e){}if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return!1;var t=e.substring(0,7);return 16===e.length&&("1310269"===t||"1310270"===t)}function tu(e){if("string"==typeof e&&!/^\d+$/.test(e))return!1;if(tn)try{var t=BigInt(e)>>ti[32];return t===ti[3050703]||t===ti[3050704]}catch(e){}if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return!1;var n=e.substring(0,7);return 16===e.length&&("1310266"===n||"1310267"===n)}function tc(e){if("string"==typeof e&&!/^\d+$/.test(e))return!1;if(tn)try{return BigInt(e)>>ti[48]===ti[28]}catch(e){}return"number"==typeof e&&(e=String(e)),"string"==typeof e&&16===e.length&&"7881"===e.substring(0,4)}function tl(e){return e.startsWith("14")}function td(e){return!/^\d+$/.test(null==e?void 0:e.replace(tr,""))}function tf(e){if(!/^\d+$/.test(e))return!1;if(tn)try{return BigInt(e)>>ti[48]===ti[30]}catch(e){}return!1}function tp(e){if("string"==typeof e&&!/^\d+$/.test(e))return!1;if(tn)try{return BigInt(e)>>ti[48]===ti[2]}catch(e){}return"number"==typeof e&&(e=String(e)),!1}tn&&(ti[2]=BigInt(2),ti[6]=BigInt(6),ti[20]=BigInt(20),ti[28]=BigInt(28),ti[30]=BigInt(30),ti[32]=BigInt(32),ti[48]=BigInt(48),ti[3050710]=BigInt(3050710),ti[3050703]=BigInt(3050703),ti[3050704]=BigInt(3050704));var th=function(e){return"5629501042540346"===e||"13102702706618269"===e},tg=function(){var e,t,n,r,i,o;return(null==(e=window)||null==(t=e.basicClientVars)||null==(n=t.docInfo)||null==(r=n.createInfo)?void 0:r.creatorId)||(null==(i=window)||null==(o=i.clientVars)?void 0:o.creatorId)||""},tm=function(){if(th((null==(e=window)||null==(t=e.basicClientVars)||null==(n=t.docInfo)||null==(r=n.createInfo)?void 0:r.creatorId)||(null==(i=window)||null==(o=i.clientVars)?void 0:o.creatorId)||""))return"\u4F01\u4E1A\u5FAE\u4FE1\u56E2\u961F";var e,t,n,r,i,o,a,s,u,c,l,d=null==(a=window)||null==(s=a.basicClientVars)||null==(u=s.docInfo)?void 0:u.createInfo;return null!=d&&d.creatorCorpId&&null!=d&&d.creatorNick?d.creatorNick:(null==(c=window)||null==(l=c.clientVars)?void 0:l.creatorNick)||""},tv=function(e){var t,n=window.location.href||"";return e.isAndroid&&(null==(t=window)?void 0:t.TenOfficeJSBridgeAndroid)&&e.isWxWork&&(document.referrer.includes("/mall")||""===document.referrer)&&n.includes("weixin.qq.com/mall")};function ty(e){if(I.default.isWxWork){var t,n,r,i,o;if(I.default.isMac||I.default.isWindows){null==(n=window)||null==(r=n.WeixinJSBridge)||null==(i=r.invoke)||i.call(r,"wwapp.openUrl",{width:"960",height:"680",forceInnerBrowser:1,url:e});return}if(tv(I.default)&&I.default.isWxWorkVersionAboveOrEqual("4.1.2")){O("new androidMallWebview"),null==(o=window)||o.TenOfficeJSBridge.invoke({func:"wwapp.tdoc.openDocLink",params:{url:e,target:3}}).then(function(t){var n,r=t.code;0!==(void 0===r?0:r)&&(O("fail to invoke wwapp.tdoc.openDocLink"),null!=(n=window.tdocs)&&n.openUrl&&(O("try to invoke window.tdocs.openUrl"),window.tdocs.openUrl({url:e,target:3})))});return}return null!=(t=window.tdocs)&&t.openUrl?void window.tdocs.openUrl({url:e,target:3}):(O("\u65E0\u6CD5\u8C03\u7528\u76F8\u5173jsapi\uFF0C\u6539\u4E3Awindow.oppen"),void window.open(e))}}function tb(e,t){var n=new URL(e);n.searchParams.set("from",t);var r=n.toString();if(O("openApplyUseUrl",r),I.default.isWxWork)return void ty(r);if(I.default.isMac||I.default.isWindows){var i="wxwork://openurl?url=".concat(encodeURIComponent(r));window.open(i)}else window.open(r)}function t_(e,t){var n=new URL(e);n.searchParams.set("from",t);var r=n.toString();if(O("openVipUrl",r),I.default.isWxWork)return void ty(r);if(I.default.isMac||I.default.isWindows){var i="wxwork://openurl?url=https%3A%2F%2Fwork.weixin.qq.com%2Fmall%2Fpage%3Fbar_bg%3DC18E27%2CA47921%26hide_more_btn%3Dtrue%26for_native%3Dtrue%26bar_cont%3DFFFFFF%2CFFFFFF%26statusbar_style%3Dlight%2Clight%26offid%3Dzd48gq0gtkulxpp%26offBizKey%3D4%26ww_vw%3D880%26ww_vh%3D640%26ww_uniq%3Dwork%2Fmall%2Fintro_wedoc%26from%3D".concat(t,"%23%2Fintro%2Fwedoc");window.open(i)}else window.open(r)}function tC(e){if(to(e))t=e;else{O("\u5F53\u524D\u521B\u5EFA\u8005id\u4E0D\u662Fvid,\u65E0\u6CD5\u5524\u8D77",e),eA({action:"capacityClickBtnFail",channel1:"contactOwner",channel2:"notVid"});return}if(I.default.isPC||I.default.isMac)if(I.default.isWxWork&&I.default.isMac){if(null!=(n=window)&&null!=(r=n.tdocs)&&r.openInBrowser)return void window.tdocs.openInBrowser({url:"wxwork://message?uin=".concat(t)});O("contactOwner fail: \u7F3A\u5C11window.tdocs.openInBrowser"),eA({action:"capacityClickBtnFail",channel1:"contactOwner",channel2:"missOpenInBrowser"})}else{var t,n,r,i,o="wxwork://message?uin=".concat(t);location.href=o}else{if(null!=(i=window.tdocs)&&i.viewProfile)return void window.tdocs.viewProfile({vid:t});O("contactOwner fail: \u7F3A\u5C11window.tdocs.viewProfile"),eA({action:"capacityClickBtnFail",channel1:"contactOwner",channel2:"missViewProfile"})}}var tI=function(){if(!window.clientVars&&!window.basicClientVars)return console.warn("\u540C\u6B65\u83B7\u53D6 wikifileid \u53EF\u80FD\u4E0D\u51C6"),/wikifileid=/.test((null==(s=location)?void 0:s.search)||"");var e,t,n,r,i,o,a,s,u,c=!1;window.clientVars?c=!!window.clientVars.shortcutIsDeleted:window.basicClientVars&&(c=!!(null!=(u=window.basicClientVars.docInfo)&&u.shortcutIsDeleted));var l=null!=(e=null!=(t=null==(n=window.clientVars)||null==(r=n.wikiInfo)?void 0:r.fileID)?t:null==(i=window.basicClientVars)||null==(o=i.docInfo)||null==(a=o.wikiInfo)?void 0:a.fileID)?e:"";return!c&&tE(l)};function tE(e){return e.startsWith("w.")&&e.includes("_l")}var tw=function(){var e,t,n,r=null==(e=window)||null==(t=e.clientVars)?void 0:t.wikiInfo,i=/wikifileid=/.test((null==(n=location)?void 0:n.search)||"");if(null!=r&&r.isWiki&&tE(null==r?void 0:r.fileID)&&!i)return!0};function tS(){return tD.apply(this,arguments)}function tD(){return(tD=m()(y().mark(function e(){return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.clientVars){e.next=2;break}return e.abrupt("return",window.clientVars.wikiInfo.fileID);case 2:if(!window.basicClientVars){e.next=4;break}return e.abrupt("return",window.basicClientVars.docInfo.wikiInfo.fileID);case 4:return e.next=6,new Promise(function(e){return setTimeout(e,100)});case 6:return e.next=8,tS();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var tM=function(){var e,t,n,r,i,o;return tI()?null==(e=window)||null==(t=e.basicClientVars)||null==(n=t.docInfo)?void 0:n.sourceFileInfo:null==(r=window)||null==(i=r.basicClientVars)||null==(o=i.docInfo)?void 0:o.wikiInfo},tT=function(){var e,t,n,r;return tI()?null==(e=window)||null==(t=e.clientVars)?void 0:t.sourceFileInfo:null==(n=window)||null==(r=n.clientVars)?void 0:r.wikiInfo},tA=function(){var e,t,n;return tI()?null==(e=window)||null==(t=e.basicClientVars)||null==(n=t.docInfo)?void 0:n.wikiInfo:void 0},tx=function(){var e,t;return tI()?null==(e=window)||null==(t=e.clientVars)?void 0:t.wikiInfo:void 0},tN=function(){return tI()?tA():tM()},tO=function(){return tI()?tx():tT()},tk=function(){var e;return/isWikiEmbedded=1/.test((null==(e=location)?void 0:e.search)||"")},tR=function(){var e,t;return!!tk()||(window.clientVars?!!(null!=(t=tO())&&t.isWiki):!!(null!=(e=tN())&&e.isWiki))},tL=function(){var e,t;return window.clientVars?!!(null!=(t=tT())&&t.isWiki):!!(null!=(e=tM())&&e.isWiki)},tj=function(){var e,t;return window.clientVars?!!(null!=(t=tx())&&t.isWiki):!!(null!=(e=tA())&&e.isWiki)}},5039:function(e,t,n){"use strict";let r;n.d(t,{$:function(){return e1},A:function(){return y},B:function(){return e6},C:function(){return C},D:function(){return eU},E:function(){return eC},F:function(){return E},G:function(){return v},H:function(){return eJ},I:function(){return eB},J:function(){return eV},K:function(){return eE},L:function(){return Y},M:function(){return j},N:function(){return eO},O:function(){return eR},P:function(){return g},Q:function(){return eo},R:function(){return p},S:function(){return eG},T:function(){return _},U:function(){return eF},V:function(){return ea},W:function(){return em},X:function(){return es},Y:function(){return n3},Z:function(){return e0},_:function(){return J},a:function(){return ee},a0:function(){return e2},a1:function(){return e4},a2:function(){return e3},a3:function(){return e5},a4:function(){return e9},a5:function(){return S},a6:function(){return O},a7:function(){return M},a8:function(){return T},a9:function(){return D},aa:function(){return N},ab:function(){return x},ac:function(){return k},ad:function(){return e_},b:function(){return et},c:function(){return er},d:function(){return en},e:function(){return R},f:function(){return W},g:function(){return F},h:function(){return I},i:function(){return V},j:function(){return $},k:function(){return eM},l:function(){return eg},m:function(){return ek},n:function(){return Z},o:function(){return ev},p:function(){return H},q:function(){return A},r:function(){return w},s:function(){return b},t:function(){return q},u:function(){return e$},v:function(){return ey},w:function(){return L},x:function(){return eK},y:function(){return m},z:function(){return ed}});var i,o,a=n(196706),s=n.n(a),u=n(730635),c=n(577467),l=n(837581);if(7719==n.j)var d=n(107977);let f="weboffice.qq.com",p="Request timeout: ",h="TDWebOffice",g="empty_edit",m="D0000000000000001",v="root:",y="_o_appId",b="_o_tcv",_="_o_tck",C="_o_customParams",I="_o_customHeaders",E=e=>"number"==typeof e,w=e=>"string"==typeof e,S=e=>"boolean"==typeof e,D=e=>"symbol"==typeof e,M=e=>void 0===e,T=e=>!!e&&"object"==typeof e,A=e=>!!e&&"object"==typeof e,x=e=>"function"==typeof e,N=e=>"object"==typeof e&&e instanceof HTMLElement,O=e=>null===e,k=()=>Math.random().toString(36).substring(2,16),R=e=>new Promise(t=>{e instanceof Promise?e.then(e=>t([e,null])).catch(e=>t([null,e])):t([e,null])}),L=(e=100)=>new Promise(t=>setTimeout(t,e)),j=()=>"ontouchstart"in window;function P(e,t){return B(e,t)}function B(e,t){if(!T(e)||!T(t))return t;if(Array.isArray(e))return Array.isArray(t)?[...e,...t]:e;let n=Object.assign({},e);return Object.entries(t).forEach(([t,r])=>{if(!T(r)&&!0!==r||!Object.prototype.hasOwnProperty.call(e,t))return void Object.assign(n,{[t]:r});T(e[t])&&!0===r||(n[t]=P(e[t],r))}),n}function F(e){let t=Date.now();return s()(`${e}_${t}_${k()}`)}let U=e=>{var t;let n=document.body;return w(e)?n=null!=(t=document.getElementById(e))?t:document.body:N(e)&&(n=e),n},G=e=>Object.entries(e).map(([e,t])=>{let n=e.replace(/([A-Z])/g,"-$1").toLowerCase();return`${n}: ${t};`}).join(""),W=(e=f)=>/^[a-z][\d+.a-z-]*:\/\//i.test(e)?e:`${location.protocol}//${e}`,Z=(e=f)=>!e.includes(f),V=(e,t=location.href)=>new URL(t).searchParams.get(e),H=e=>{var t;return null==(t=/.*\/(\w+)\/\w+\??/.exec(e))?void 0:t.pop()};function z(e){let t=new Set,n="Circular";try{return JSON.stringify(e,(e,r)=>{if(T(r)||Array.isArray(r)){if(t.has(r))return`["${n}"]`;t.add(r)}return r})}catch(t){if(Array.isArray(e))return`["${n}"]`;if(T(e))return`{"Object":["${n}"]}`;return n}}function Y(e,t,n,r){let i=0,o=0,a=()=>{if(!o){o=Date.now(),i+=1;return}if(Date.now()-o>=n){i=0,o=0;return}if(i<t-1){o=Date.now(),i+=1;return}i=0,o=0,r()};return e.addEventListener("click",a),e.addEventListener("touchend",a),()=>{e.removeEventListener("click",a),e.removeEventListener("touchend",a)}}function K(e=Date.now()){let t=new Date(e),n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),o=String(t.getHours()).padStart(2,"0"),a=String(t.getMinutes()).padStart(2,"0"),s=String(t.getSeconds()).padStart(2,"0");return`${n}/${r}/${i} ${o}:${a}:${s}`}function Q(){let{href:e}=location;return e.includes(g)||e.includes(m)}function q(e){return T(e)?window.btoa(Object.entries(e).map(([e,t])=>`${e}=${t}`).join("&")):null}class X{constructor(){this._isOpen=!1,this._promise=new Promise(e=>{this._completePromise=e})}isOpen(){return this._isOpen}open(){this._isOpen=!0,this._completePromise(!0)}wait(){return this._promise}}function J(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function $(e,t){return function(n,r){t(n,r,e)}}function ee(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function et(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;let en="1.2.3",er="webOfficeVersion",ei=e=>"string"==typeof e&&/^(\d+|x)\.(\d+|x)+\.(\d+|x)$/.test(e);function eo(){let e=new URLSearchParams(location.search).get(er);return ei(e)?e:null}function ea(e){let t=eo();if(!t||!ei(e))return!1;let n=t.split("."),r=e.split(".");for(let e=0;e<n.length&&"x"!==r[e]&&!(n[e]>r[e]);e++)if(n[e]!==r[e])return!1;return!0}function es(){let e=!!eo();return parent&&self!==parent&&e}let eu=105,ec="LogCollectionEventType";class el{constructor(e){this.isInWebOfficeIframe=e,this.weblogInited=!1,this.logDataArray=[],this.isInWebOfficeIframe||this.listenIframeLog()}write(e,t){var n;let r=e.map(e=>T(e)?JSON.parse(z(e)):e);if(this.isInWebOfficeIframe)return void this.emitIframeLog(r,t);this.logDataArray.push(r),null==(n=c.default[t])||n.call(c.default,...r)}init(e){return et(this,void 0,void 0,function*(){var t;window.localStorage.setItem(`wl-dev-console-${eu}`,"hide"),(null==(t=window.log)?void 0:t.inited)&&(this.weblogInited=!0),this.isInWebOfficeIframe||this.weblogInited||(this.weblogInited=!0,yield c.default.init(eu),e&&c.default.identify(e))})}reportToWeblog(){return et(this,void 0,void 0,function*(){this.weblogInited||(yield this.init()),c.default.loadAsset("WL_REPORT_DIALOG",{exportToFile:!0})})}generateCompressLog(){return(0,l.compressToEncodedURIComponent)(z(this.logDataArray))}copyToClipboard(){return et(this,void 0,void 0,function*(){yield navigator.clipboard.writeText(this.generateCompressLog())})}depressLogText(e){return JSON.parse((0,l.decompressFromEncodedURIComponent)(e))}listenIframeLog(){window.addEventListener("message",e=>{let t=e.data;if(t.type===ec){let{data:e,level:n}=t.data;this.write(e,n)}})}emitIframeLog(e,t){parent.postMessage({type:ec,data:{data:e,level:t}},"*")}}null!=(i=window.__TencentDocs_WebOffice_LogCollection__)||(window.__TencentDocs_WebOffice_LogCollection__=new el(es()));let ed=window.__TencentDocs_WebOffice_LogCollection__;!function(e){e.LOG="log",e.INFO="info",e.WARN="warn",e.ERROR="error"}(o||(o={}));let ef={log:"#007a41",info:"#1e6fff",warn:"#e07800",error:"#e02424",fatal:"#e02424",logType:"rgba(69, 77, 90, 0.6)"},ep=e=>`display:inline-block;background-color:${ef[e]};color:#fff;padding:2px 4px;`;class eh{constructor(e){this.name=e}log(...e){this.doLog(o.INFO,...e)}info(...e){this.doLog(o.INFO,...e)}warn(...e){this.doLog(o.WARN,...e)}error(...e){this.doLog(o.ERROR,...e)}doLog(e,...t){if(!console[e])throw Error("TencentDocsWebOfficeSDK ERROR: console[level] not exist");let n=[`[${K()}]`,`[${this.name}]`,`[${e.toUpperCase()}]`,`
${t[0]}`,...t.slice(1)];console[e](`%c${e.toUpperCase()}%c${h} ${K()}`,ep(e),ep("logType"),`
${t[0]}`,...t.slice(1)),ed.write(n,e)}}let eg=new eh(h);class em extends Error{constructor(e,t){super(e,t),super.name=`[${K()}] ${h} ERROR`,ed.write([this.stack],o.ERROR)}}function ev(e,t){if(!e)throw new em(t||"")}function ey(e){ev(!1,e)}class eb{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(0!==this._toDispose.size)try{eI(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new em("Cannot register a disposable on itself!");return this._isDisposed?eb.DISABLE_DISPOSED_WARNING||eg.warn(new em("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new em("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&this._toDispose.delete(e)}}eb.DISABLE_DISPOSED_WARNING=!1;class e_{constructor(){this._store=new eb}dispose(){this._store.dispose()}register(e){if(e===this)throw new em("Cannot register a disposable on itself!");return this._store.add(e)}}let eC=function(e){return class extends e{constructor(){super(...arguments),this.disposedStore=new eb}dispose(){this.disposedStore.dispose()}register(e){return this.disposedStore.add(e)}}};function eI(e){let t=[];for(let n of e)if(n)try{n.dispose()}catch(e){t.push(e)}if(1===t.length)throw t[0];if(t.length>1)throw AggregateError(t,"Encountered errors while disposing of store")}function eE(e,t=""){return{dispose:()=>{e()},disposableId:t}}let ew="detect-connection-api";class eS{constructor(e){this.rpc=e,this.name=ew}execute(e){return et(this,void 0,void 0,function*(){let[t,n]=yield this.rpc.call(this.name,null==e?void 0:e.needClose),r=null==n?void 0:n.message.includes(p),i=(null==e?void 0:e.retryTime)&&e.retryTime>0;return r&&i?(eg.warn("detect-connection retry"),this.execute({retryTime:e.retryTime-1})):!n&&t})}}class eD{constructor(e){this.rpc=e,this.name=ew}run(e){if(!e)return!0;this.rpc.dispose()}}let eM=(0,u.y)("IRpc"),eT="TENCENT_WEB_OFFICE_SDK_",eA=V("debug"),ex=2e3,eN=1e3;class eO{constructor(e,t={}){this.targetWindow=e,this.id=`${eT}${k()}`,this.apiListener=new Map,this.requestListener=new Map,this.handler=e=>{this.lastCommunicateTime=Date.now();let t=e.data;if(this.isRequestData(t)){if(this.isValidResponse(t)){this.lastCommunicateTime=Date.now();let e=this.getListenerKey(t);this.requestListener.has(e)&&this.requestListener.get(e)(t)}else if(this.isValidRequest(t)){this.lastCommunicateTime=Date.now();let{api:e}=t;if(this.debugInfo(`run api: ${e}, exist:`,this.apiListener.has(e)),this.apiListener.has(e)){let n=this.apiListener.get(e);et(this,void 0,void 0,function*(){try{let e=yield n.run(t.body);t.result=e}catch(e){t.error=e}finally{t.done=this.id}try{this.targetWindow.postMessage(t,"*")}catch(n){eg.warn(`[rpc] [id: ${this.id}] [${e}] [rpc run error] [postMessage error]`,n),t.result=void 0,t.error=n,this.targetWindow.postMessage(t,"*")}})}else eg.error(`[rpc] [id: ${this.id}] [rpc handler] API:${e} does not exist!`,t)}}},this.headers={};let{targetId:n,selfId:r}=t;n&&(this.targetId=`${eT}${n}`),r&&(this.id=`${eT}${r}`),window.addEventListener("message",this.handler),this.addApi(new eD(this)),this.debugInfo("new Rpc",this)}call(e,t){return R(new Promise((n,r)=>{let i=t=>{this.debugInfo(`api [${e}] resolve, result:`,t),n(t)},o=t=>{this.debugInfo(`api [${e}] reject, error:`,t),r(t)},a=this.createRequestData(e,t),s=this.getListenerKey(a),u=e=>{clearTimeout(c);let{result:t,error:n}=e;n?o(n):i(t),this.requestListener.delete(s)};this.debugInfo(`call api: ${e}, requestData:`,a);let c=setTimeout(()=>{o(new em(p+e)),this.requestListener.delete(s)},ex);this.requestListener.set(s,u);try{this.targetWindow.postMessage(a,"*")}catch(n){let t=`[rpc] [id: ${this.id}] [${e}] [rpc execute error] [postMessage error]`;eg.error(t,n),clearTimeout(c),o(new em(t)),this.requestListener.delete(s)}}))}isConnected(e){return et(this,void 0,void 0,function*(){return!!(this.lastCommunicateTime&&Date.now()-this.lastCommunicateTime<eN)||(yield new eS(this).execute(e))})}closeServer(){new eS(this).execute({needClose:!0})}addApi(e){this.apiListener.set(e.name,e)}getApi(e){return this.apiListener.get(e)}clearApi(){this.apiListener.clear()}setHeaders(e){return this.headers=Object.assign(Object.assign({},this.headers),e),this}dispose(){window.removeEventListener("message",this.handler),this.clearApi()}destroy(){this.dispose()}createRequestData(e,t){return{api:e,from:this.id,requestId:k(),timeStamp:Date.now(),headers:this.headers,body:t}}isRequestData(e){return!!T(e)&&"from"in e&&!!w(e.from)&&!!e.from.startsWith(eT)&&"timeStamp"in e&&"headers"in e}isValidResponse(e){let t=e.done&&e.from===this.id;return this.targetId?t&&e.done===this.targetId:t}isValidRequest(e){let t=e.from!==this.id&&!e.done;return this.targetId?t&&e.from===this.targetId:t}getListenerKey(e){return`${e.from}_${e.api}_${e.requestId}`}debugInfo(...e){eA&&eg.info(`[rpc] [id: ${this.id}]`,e)}}let ek=(0,u.y)("IEventEmitter"),eR=()=>{let e=(0,d.default)(),t=(t,n)=>{let r=i=>{n(i),e.off(t,r)};e.on(t,r)};return Object.assign(Object.assign({},e),{once:t,dispose:()=>{e.all.clear()}})},eL=["fullscreen","camera","clipboard-read","clipboard-write"];class ej{constructor(e){var t;this.iframeName=`WEB_OFFICE_INSTANCE_${k()}`;let n=[...new Set(eL.concat(null!=(t=e.allowList)?t:[]))].join("; ");this.iframe=document.createElement("iframe"),this.iframe.name=this.iframeName,this.iframe.height="100%",this.iframe.width="100%",this.iframe.setAttribute("referrerpolicy","origin"),this.iframe.setAttribute("frameBorder","no"),this.iframe.setAttribute("scrolling","no"),this.iframe.setAttribute("webkitallowfullscreen","true"),this.iframe.setAttribute("mozallowfullscreen","true"),this.iframe.setAttribute("allow",n),this.iframe.style.background="#FFF"}append(e){U(e).append(this.iframe)}dispose(){var e;this.iframe.src="about:blank",null==(e=this.iframe.contentWindow)||e.close(),this.iframe.remove()}}class eP{constructor(e,t){this.container=e;let n=document.createElement("div");n.style.cssText=G({position:"absolute",width:"calc(100% - 40px)",height:"100%",padding:"0 20px","padding-top":"20%",justifyContent:"center",color:"rgba(0,0,0,0.64)",backgroundColor:"#fff",fontSize:"14px",lineHeight:"20px",display:"flex",zIndex:"1"}),this.tipDom=null!=t?t:{showTip:(e,t)=>{n.innerText=e,t.insertBefore(n,t.firstChild)},hideTip:()=>{setTimeout(()=>{n.remove()},300)}}}showTip(e){this.tipDom.showTip(e,this.container)}hideTip(){this.tipDom.hideTip()}}let eB=(0,u.y)("IUIService");class eF{constructor(e){this.config=e;let{mount:t,loadingUI:n}=this.config,r=document.createElement("div");this.container=r,r.className="TENCENT_DOC_WEBOFFICE",this.hideUI(),U(t).append(r),this.iframeInstance=new ej(this.config),this.iframeInstance.append(r),this.tipsInstance=new eP(r,n)}hideUI(){this.container.style.width="1px",this.container.style.height="1px",this.container.style.position="absolute",this.container.style.left="-9999px",this.container.style.top="0",this.container.style.overflow="hidden",this.container.style.pointerEvents="none",this.container.style.margin="0",this.container.style.padding="0"}showUI(){this.container.style.width="100%",this.container.style.height="100%",this.container.style.position="relative",this.container.style.left="",this.container.style.top="",this.container.style.overflow="",this.container.style.pointerEvents="",this.container.style.margin="",this.container.style.padding=""}dispose(){this.container.remove(),this.iframeInstance.dispose(),this.tipsInstance.hideTip()}}let eU=(0,u.y)("IStateService"),eG=class extends e_{constructor(e,t,n){super(),this.ApiEvent=e,this.uiService=t,this.rpc=n,this.documentVersion="",this.isApplicationServerReady=!1,this.isApplicationReady=!1,this.init()}whenApplicationServerReady(e){return et(this,void 0,void 0,function*(){var t;this.isApplicationServerReady||(yield new Promise(e=>{this.ApiEvent.once("AfterStartWebOfficeApplicationServer",()=>e())})),(null==e?void 0:e.needConnection)!==!1&&((yield this.rpc.isConnected({retryTime:null!=(t=null==e?void 0:e.retryTime)?t:5}))||ey(`[whenApplicationServerReady] never: not connected, isApplicationServerReady: ${this.isApplicationServerReady}`))})}whenApplicationReady(e){return et(this,void 0,void 0,function*(){var t;this.isApplicationReady||(yield new Promise(e=>{this.ApiEvent.once("AfterBootstrap",()=>e())})),(null==e?void 0:e.needConnection)!==!1&&((yield this.rpc.isConnected({retryTime:null!=(t=null==e?void 0:e.retryTime)?t:5}))||ey(`[whenApplicationReady] never: not connected, isApplicationReady: ${this.isApplicationReady}`))})}init(){this.ApiEvent.on("AfterBootstrap",e=>{var t;let{version:n}=null!=(t=e.data)?t:{};this.isApplicationReady=!0,this.documentVersion=null!=n?n:"",n&&eg.log("Web-Office-Document Version:",n)}),this.ApiEvent.on("AfterStartWebOfficeApplicationServer",()=>this.isApplicationServerReady=!0);let e=new MutationObserver(e=>{for(let t of e)"attributes"===t.type&&"src"===t.attributeName&&(this.isApplicationServerReady=!1,this.isApplicationReady=!1)});e.observe(this.uiService.iframeInstance.iframe,{attributes:!0}),this.register(eE(()=>e.disconnect()))}};eG=J([$(0,ek),$(1,eB),$(2,eM),ee("design:paramtypes",[Object,eF,Object])],eG);let eW="get-cac-config-api";class eZ{constructor(e){this.rpc=e,this.name=eW}execute(e){return et(this,void 0,void 0,function*(){let[t,n]=yield this.rpc.call(this.name,e);if(n)throw n;return eH(t)})}}class eV{constructor(e){this.config=e,this.name=eW}run(e){var t,n,r,i;return(null==e?void 0:e.version)||null==(r=null==(n=null==(t=this.config.docsConfig)?void 0:t.weboffice)?void 0:n.headers)||delete r["X-Xsrf-Token"],null!=(i=this.config.docsConfig)?i:{}}}let eH=e=>(Object.entries(e).forEach(([t,n])=>{e[t]=T(n)?eH(n):ez(n)}),e),ez=(e,t=window)=>{var n;if(!w(e)||!e.startsWith(v))return e;let[r]=null!=(n=e.match(RegExp(`(?<=${v})[\\w.]*`,"gi")))?n:[""];return r?r.split(".").reduce((e,t)=>e[t],t):e},eY="get-file-info-api",eK=class{constructor(e){this.rpc=e,this.name=eY}execute(e){return et(this,void 0,void 0,function*(){let[t,n]=yield this.rpc.call(this.name,e);if(n)throw n;return t})}};eK=J([$(0,eM),ee("design:paramtypes",[Object])],eK);class eQ{constructor(){this.name=eY,this.callbackList=[]}run(e){this.fileInfo=e,this.callbackList.forEach(t=>t(e)),this.callbackList=[]}once(e){this.fileInfo?e(this.fileInfo):this.callbackList.push(e)}}let eq="event-api";class eX{constructor(e){this.rpc=e,this.name=eq}execute(e){return et(this,void 0,void 0,function*(){yield this.rpc.call(this.name,e)})}}class eJ{constructor(e){this.eventEmitter=e,this.name=eq}run(e){eg.log("EventApi",e),this.eventEmitter.emit(e.messageType,e)}}class e${constructor(e){let{messageType:t,data:n}=e;this.messageType=t,this.data=n}}function e0(){var e;return null!=(e=window.__WebOffice_Components__)?e:window.__WebOffice_Components__={__Version__:en}}function e1(){var e,t;return null!=(e=(t=e0()).__WebOffice_RPC__)?e:t.__WebOffice_RPC__=new eO(parent,{selfId:self.name})}function e2(){var e,t;return null!=(e=(t=e0()).__WebOffice_EventApiCommand__)?e:t.__WebOffice_EventApiCommand__=new eX(e1())}function e4(e){var t,n;return e&&(e0().__DocsConfig__=P(e4(),e)),null!=(t=(n=e0()).__DocsConfig__)?t:n.__DocsConfig__={}}function e3(e,t){if(t){let n=P(t.getAllConfig(),e);t.bind(n)}["normal","reading"].forEach(t=>{var n;(null==(n=window.AppConfig)?void 0:n[t])&&(window.AppConfig[t]=P(window.AppConfig[t],e))}),eg.log("InsertWebOfficeConfig success",e4(e))}let e5=es()?e=>{e2().execute(new e$(e))}:()=>{};function e9(e){if(!es())return;let t=e1().getApi(eY);t&&t.once(e)}let e8="update-cac-config-api",e6=class{constructor(e,t){this.rpc=e,this.stateService=t,this.name=e8}execute(e){return et(this,void 0,void 0,function*(){yield this.stateService.whenApplicationReady();let[t,n]=yield this.rpc.call(this.name,e);return!n&&t})}};e6=J([$(0,eM),$(1,eU),ee("design:paramtypes",[Object,eG])],e6);let e7=!1;class te{constructor(){this.name=e8}run(e){var t;return this.insertWebOfficeConfig(e),null==(t=te.onConfigUpdate)||t.call(te,e),ea("1.1.1")||e7||(document.body.dispatchEvent(new Event("first-init-cac-config")),e7=!0),!0}insertWebOfficeConfig(e){e3(e)}}let tt={},tn=P(tt,{}),tr=P(tt,{}),ti=P(tt,{}),to=7719==n.j?{pc:ti,pad:tr,mobile:tn}:null,ta={custom:{editRoomConnection:!1}},ts=P(tn,ta),tu=P(ts,{}),tc=P(tr,ta),tl=P(tc,{}),td=P(ti,ta),tf=P(td,{}),tp=7719==n.j?{pc:tf,pad:tl,mobile:tu}:null,th={},tg=P(tn,th),tm=P(tg,{}),tv=P(tr,th),ty=P(tv,{}),tb=P(ti,th),t_=P(tb,{}),tC=7719==n.j?{pc:t_,pad:ty,mobile:tm}:null,tI={},tE=P(tn,tI),tw=P(tE,{}),tS=P(tr,tI),tD=P(tS,{}),tM=P(ti,tI),tT=P(tM,{}),tA=7719==n.j?{pc:tT,pad:tD,mobile:tw}:null,tx=7719==n.j?{defaults:to,toc:tA,paas:tp,private:tC}:null,tN={},tO=P(tN,{}),tk=P(tN,{}),tR=P(tN,{}),tL=7719==n.j?{pc:tR,pad:tk,mobile:tO}:null,tj={custom:{editRoomConnection:!1}},tP=P(tO,tj),tB=P(tP,{}),tF=P(tk,tj),tU=P(tF,{}),tG=P(tR,tj),tW=P(tG,{}),tZ=7719==n.j?{pc:tW,pad:tU,mobile:tB}:null,tV={},tH=P(tO,tV),tz=P(tH,{}),tY=P(tk,tV),tK=P(tY,{}),tQ=P(tR,tV),tq=P(tQ,{}),tX=7719==n.j?{pc:tq,pad:tK,mobile:tz}:null,tJ={},t$=P(tO,tJ),t0=P(t$,{}),t1=P(tk,tJ),t2=P(t1,{}),t4=P(tR,tJ),t3=P(t4,{}),t5=7719==n.j?{pc:t3,pad:t2,mobile:t0}:null,t9=7719==n.j?{defaults:tL,toc:t5,paas:tZ,private:tX}:null,t8={},t6=P(t8,{}),t7=P(t8,{}),ne=P(t8,{}),nt=7719==n.j?{pc:ne,pad:t7,mobile:t6}:null,nn={custom:{editRoomConnection:!1}},nr=P(t6,nn),ni=P(nr,{}),no=P(t7,nn),na=P(no,{}),ns=P(ne,nn),nu=P(ns,{}),nc=7719==n.j?{pc:nu,pad:na,mobile:ni}:null,nl={},nd=P(t6,nl),nf=P(nd,{}),np=P(t7,nl),nh=P(np,{}),ng=P(ne,nl),nm=P(ng,{}),nv=7719==n.j?{pc:nm,pad:nh,mobile:nf}:null,ny={},nb=P(t6,ny),n_=P(nb,{}),nC=P(t7,ny),nI=P(nC,{}),nE=P(ne,ny),nw=P(nE,{}),nS=7719==n.j?{pc:nw,pad:nI,mobile:n_}:null,nD=7719==n.j?{defaults:nt,toc:nS,paas:nc,private:nv}:null,nM={},nT=P(nM,{}),nA=P(nM,{}),nx=P(nM,{}),nN=7719==n.j?{pc:nx,pad:nA,mobile:nT}:null,nO={custom:{editRoomConnection:!1}},nk=P(nT,nO),nR=P(nk,{}),nL=P(nA,nO),nj=P(nL,{}),nP=P(nx,nO),nB=P(nP,{}),nF=7719==n.j?{pc:nB,pad:nj,mobile:nR}:null,nU={},nG=P(nT,nU),nW=P(nG,{}),nZ=P(nA,nU),nV=P(nZ,{}),nH=P(nx,nU),nz=P(nH,{}),nY=7719==n.j?{pc:nz,pad:nV,mobile:nW}:null,nK={},nQ=P(nT,nK),nq=P(nQ,{}),nX=P(nA,nK),nJ=P(nX,{}),n$=P(nx,nK),n0=P(n$,{}),n1=7719==n.j?{pc:n0,pad:nJ,mobile:nq}:null,n2=7719==n.j?{defaults:nN,toc:n1,paas:nF,private:nY}:null,n4=7719==n.j?{doc:tx,pdf:t9,slide:n2,sheet:nD}:null;function n3(){return et(this,void 0,void 0,function*(){if(!es())return!1;if(r)if(r.isOpen())return!0;else return r.wait();return r=new X,re(),yield n5(),Q()&&e1().addApi(new eQ),e1().addApi(new te),e5({messageType:"AfterBootstrap",data:{time:performance.now(),version:en}}),r.open(),!0})}function n5(){return et(this,void 0,void 0,function*(){if(!ea("1.1.1")){e3(n9()),yield new Promise(e=>{document.body.addEventListener("first-init-cac-config",()=>{eg.log("first-init-cac-config",performance.now()),e(!0)},{once:!0})});return}e3(P(n9(),(yield n8())))})}function n9(){var e;let t=()=>{var e,t;return(null==(e=window.AppConfig)?void 0:e.normal.domain)==="weboffice"?"private":(null==(t=window.AppConfig)?void 0:t.normal.domain)==="paas-weboffice"?"paas":"defaults"},n=H(location.href),r=t(),i=null==(e=window.AppConfig)?void 0:e.normal.platform;try{return n4[n][r][i]}catch(e){return eg.warn("[getWebOfficeConfig] error key:",n,r,i," \nERROR:",e),{}}}function n8(){return et(this,void 0,void 0,function*(){let e=new eZ(e1()),[t,n]=yield R(e.execute({version:en}));return n&&eg.error(n),null!=t?t:{}})}let n6=Object.assign(Object.assign({"X-WebOffice-Token":window.userToken,"X-App-Id":V(y),"X-Xsrf-Token":window.xsrfToken},V(C)&&{"X-Custom-Params":V(C)}),V(I)&&{"X-Custom-Headers":V(I)});function n7(e){var t,n,r;let i=null!=(n=null==(t=e4().weboffice)?void 0:t.headers)?n:n6;for(let e in i)w(i[e])&&i[e].startsWith(v)&&(i[e]=n6[e]),null!=(r=i[e])||(i[e]=n6[e]);Object.entries(i).forEach(([t,n])=>{w(n)&&!n.startsWith(v)&&e(t,n)})}function re(){let e=e=>new URL(e,location.origin).host===location.host,t=window.fetch;if(window.fetch=function(n,r){var i;if(w(n)&&!e(n))return t.apply(this,[n,r]);let o=new Headers(null!=(i=null==r?void 0:r.headers)?i:{});n7((e,t)=>o.append(e,t));let a=Object.assign({},r,{headers:o});return t.apply(this,[n,a])},!window||!("XMLHttpRequest"in window))return;let n=window.XMLHttpRequest.prototype,r=n.open;n.open=function(...t){let n=t[1];return this.addEventListener("readystatechange",function(){this.readyState===XMLHttpRequest.OPENED&&e(n)&&n7((e,t)=>this.setRequestHeader(e,t))}),r.apply(this,t)}}},985437:function(e,t,n){"use strict";n.d(t,{E:function(){return y},G:function(){return I},I:function(){return w},P:function(){return k},R:function(){return A},W:function(){return N},a:function(){return O},b:function(){return C},c:function(){return c},d:function(){return d},e:function(){return D}});var r=n(5039),i=n(730635);class o{static getInstance(){var e;return null!=(e=o.instance)?e:o.instance=new o}constructor(){this.callStackMap=new Map,this.isAllPublic=!0}inject(e,t=!0){return this.Application=e,this.isAllPublic=t,this}}o.instance=null;let a=Symbol("__WebOfficePublic__"),s=Symbol("__WebOfficePrivate__"),u=Symbol("__WebOfficeGetter__"),c=(0,i.y)("IProxyFactory"),l=5;class d{setCommand(e){this.executeApiCommand=e}createProxy(e,t,n){if((0,r.F)(e)||(0,r.a5)(e)||(0,r.a6)(e)||(0,r.a7)(e))return e;if((0,r.r)(e))return["__deeper-data__","__function__","__getter__"].find(t=>e===t)?this.createSpecialProxy(e,t,n):e;if(!(0,r.a8)(e))return e;if(this.isNotFirstLevelFromRoot(e,t,n))return this.createSpecialProxy(e,t,n);let i=Array.isArray(e)?[]:{};return g(e).forEach(r=>{i[r]=this.createProxy(e[r],t,n?`${n}.${r}`:r)}),i}createSpecialProxy(e,t,n){return"__function__"!==e||n?((0,r.o)(n,"curKey empty in createSpecialProxy!"),this.createNode(e,t,n,i=>{(0,r.a8)(e)&&Object.entries(null!=e?e:{}).forEach(([o,a])=>{try{if(n&&n.split(".").length>l)return;Object.defineProperty(i,o,{value:this.createProxy(a,t,n?`${n}.${o}`:o),writable:!1,enumerable:!0,configurable:!1})}catch(t){r.l.error(e,o,a)}})})):(...e)=>{var n;return r.l.log("Command Apply",{callStack:"",method:"APPLY",applyParams:e}),null==(n=this.executeApiCommand)?void 0:n.execute({callStack:"",method:"APPLY",applyParams:e,callStackMapKey:t})}}createNode(e,t,n,i){let o=(e,i,o,a)=>{var s;return r.l.log("Command Set: ",{callStack:n?`${n}.${String(i)}`:String(i),method:"SET",setValue:o}),null==(s=this.executeApiCommand)||s.execute({callStack:n?`${n}.${String(i)}`:String(i),method:"SET",setValue:o,callStackMapKey:t}),!0},a=(...i)=>{var o;return"__function__"!==e&&(r.l.error(`${n} is not a Function!`),(0,r.v)(`${n} is not a Function!`)),r.l.log("Command Apply",{callStack:n,method:"APPLY",applyParams:i}),null==(o=this.executeApiCommand)?void 0:o.execute({callStack:n,method:"APPLY",applyParams:i,callStackMapKey:t})};return Object.defineProperty(a,"then",{value:e=>(0,r.b)(this,void 0,void 0,function*(){var i;(0,r.o)(n,"curKey empty in get!"),r.l.log("Command Get: ",{callStack:n,method:"GET"}),e((yield null==(i=this.executeApiCommand)?void 0:i.execute({callStack:n,method:"GET",callStackMapKey:t})))}),writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(a,"catch",{value:()=>{r.l.log("catch, catch, catch, catch, catch")},writable:!1,enumerable:!1,configurable:!1}),i(a),new Proxy(a,{set:o})}isNotFirstLevelFromRoot(e,t,n){let i=!t,o=n&&(0,r.a8)(e);return i&&o}}let f=4,p=(e,t=new Map,n=f)=>{let i=Date.now(),u=(e,t)=>t>n?"__deeper-data__":(0,r.a9)(e)?e.toString():(0,r.aa)(e)?`dom-${e.nodeName}`:(0,r.ab)(e)?"__function__":void 0,{isAllPublic:c}=o.getInstance(),l=(0,r.a8)(e)&&Object.getPrototypeOf(e)!==Object.prototype&&Object.getPrototypeOf(e)!==Array.prototype?(e,t)=>{let n;if("constructor"===t||t.startsWith("_"))return!1;if(c){(0,r.o)((0,r.q)(e),"target must be object.");let i=e[s];n=(null==i?void 0:i[t])!==!0}else{(0,r.o)((0,r.q)(e),"target must be object.");let i=e[a];n=(null==i?void 0:i[t])===!0}return n}:void 0,d=h(e,t,0,u,l);return(0,r.i)("debug")&&(r.l.log("[time] Deep-Clone-Application deepClone res: ",d),r.l.log("[time] Deep-Clone-Application deepClone time: ",Date.now()-i)),d},h=(e,t=new Map,n=0,i,o)=>{let a=null==i?void 0:i(e,n);if(a)return a;if(!(0,r.a8)(e)||(0,r.a6)(e))return e;if(t.get(e))return t.get(e);let s=Array.isArray(e)?[]:{};return t.set(e,s),g(e,o).forEach(a=>{var c;(0,r.o)((0,r.q)(e),"obj must be object."),(0,r.o)((0,r.q)(s),"res must be object."),s[a]=(null==(c=e[u])?void 0:c[a])?"__getter__":h(e[a],t,n+1,i,o)}),s};function g(e,t){if(Array.isArray(e))return Object.keys(e);let n=new Set;for(let i=e;i!==Object.prototype;i=Object.getPrototypeOf(i)){if(i===Promise.prototype){r.l.error("\u8FD4\u56DE\u7684\u7ED3\u679C\u6216\u8005\u5B9E\u4F8B\u5C5E\u6027\u4E2D\u4E0D\u53EF\u4EE5\u662Fpromise\u5BF9\u8C61! \u56E0\u4E3Apromise\u5BF9\u8C61\u65E0\u6CD5\u901A\u8FC7postmessage\u4F20\u8F93",e);break}Object.getOwnPropertyNames(i).forEach(o=>{var a,s,c,l;(null==(a=null==t?void 0:t(i,o))||a)&&(((null==(s=Reflect.getOwnPropertyDescriptor(i,o))?void 0:s.get)||(null==(c=Reflect.getOwnPropertyDescriptor(i,o))?void 0:c.set))&&((0,r.o)((0,r.q)(e),"obj must be object."),null!=(l=e[u])||(e[u]={}),e[u][o]=!0),n.add(o))})}return n}let m="execute-api",v=5e3;class y{constructor(e,t){this.rpc=e,this.proxyFactory=t,this.name=m}execute(e){return(0,r.b)(this,void 0,void 0,function*(){let[t,n]=yield this.rpc.call(this.name,e);if(n)throw n;return this.proxyFactory.createProxy(t.value,t.callStackMapKey)})}}class b{constructor(){this.name=m}run(e){return(0,r.b)(this,void 0,void 0,function*(){let t,n,{callStack:i,method:a,applyParams:s=[],setValue:u,callStackMapKey:c}=e,l=c?o.getInstance().callStackMap.get(c):o.getInstance().Application;(0,r.o)(l,c?"callInstance\u4E0D\u5B58\u5728, \u8BF7\u5373\u7528\u5373\u53D6":"Application\u672A\u6B63\u786Einject"),""===i?("GET"===a&&(0,r.v)("\u4E0D\u8BE5\u8FDB\u5165\u8FD9\u91CC!"),"SET"===a&&(0,r.v)("set\u51FD\u6570\u8FD4\u56DE\u503C\u6CA1\u6709\u610F\u4E49!"),"APPLY"===a&&"function"==typeof l&&(t=(...e)=>l(...e))):i.split(".").filter(e=>!!e).reduce((e,n,i,o)=>(n in e||(0,r.v)(`${n} is not exist in ${e}`),i===o.length-1&&"GET"===a&&(t=()=>e[n]),i===o.length-1&&"SET"===a&&(t=t=>e[n]=t),i===o.length-1&&"APPLY"===a&&"function"==typeof e[n]&&(t=(...t)=>e[n](...t)),e[n]),l);let d=Symbol("xxx"),f=d;if((0,r.o)(t,"varInstance is undefined."),"GET"===a&&(f=t()),"SET"===a&&(t(u),n={value:!0}),"APPLY"===a&&(f=yield t(...s)),f!==d)if((0,r.a8)(f)||(0,r.ab)(f)){let e=(0,r.ac)();o.getInstance().callStackMap.set(e,f),setTimeout(()=>{o.getInstance().callStackMap.delete(e)},v),n={value:p(f),callStackMapKey:e}}else n={value:p(f)};return(0,r.o)(n,"error"),n})}}let _="get-application-api",C=(0,i.y)("IGetApplicationCommand"),I=class extends r.ad{constructor(e,t,n){super(),this.rpc=e,this.proxyFactory=t,this.stateService=n,this.name=_}execute(){return(0,r.b)(this,void 0,void 0,function*(){let e=this.register(this.setReadyTimeoutLog());try{yield this.stateService.whenApplicationServerReady()}catch(e){throw new r.W(`[${_}] ${e.message}`)}finally{e.dispose()}let t=Date.now(),[n,i]=yield this.rpc.call(this.name,null);if(i)throw i;let o=this.proxyFactory.createProxy(n);return(0,r.i)("debug")&&r.l.log(`[time] [${_}]`,Date.now()-t),o})}setReadyTimeoutLog(){let e=(0,r.K)(()=>{}),t=5,n=10,i=(o=1)=>{let a=setTimeout(()=>{o<t&&i(o+1),r.l.warn(`Application init time pass ${n*o}s!`)},1e3*n);e.dispose(),e.dispose=()=>clearTimeout(a)};return i(),e}};I=(0,r._)([(0,r.j)(0,r.k),(0,r.j)(1,c),(0,r.j)(2,r.D),(0,r.a)("design:paramtypes",[Object,Object,r.S])],I);class E{constructor(){this.name=_}run(){return p(o.getInstance().Application)}}let w=(0,i.y)("IGetWeblogApiCommand"),S="get-weblog-api",D=class{constructor(e){this.rpc=e,this.name=S}execute(){return(0,r.b)(this,void 0,void 0,function*(){let[,e]=yield this.rpc.call(this.name,void 0);if(e)throw new r.W})}};D=(0,r._)([(0,r.j)(0,r.k),(0,r.a)("design:paramtypes",[Object])],D);class M{constructor(){this.name=S}run(){r.l.log(`API: ${S} runs`),window.log.loadAsset("WL_REPORT_DIALOG",{exportToFile:!0})}}(0,i.y)("IReplaceLocationApiCommand");let T="replace-location-api",A=class{constructor(e){this.rpc=e,this.name=T}execute(e){return(0,r.b)(this,void 0,void 0,function*(){let[t,n]=yield this.rpc.call(this.name,e);if(n)throw new r.W;return t})}};A=(0,r._)([(0,r.j)(0,r.k),(0,r.a)("design:paramtypes",[Object])],A);class x{constructor(){this.name=T}run(e){try{let{url:t,state:n,replace:i}=e;return i?history.replaceState(null!=n?n:{},"",t):history.pushState(null!=n?n:{},"",t),r.l.log(T,"run, params: ",e),!0}catch(e){return!1}}}class N{static getInstance(){var e;return null!=(e=N.instance)?e:N.instance=new N}constructor(){this.emitEvent=r.a3,r.l.log("web-office-application version:",r.d)}get isInWebOffice(){return N.isInWebOffice()}inject(e,t){this.isInWebOffice&&(o.getInstance().inject(e,t),this.startServer(),this.emitEvent({messageType:"AfterStartWebOfficeApplicationServer",data:{time:performance.now()}}))}startServer(){let e=(0,r.$)();e.addApi(new E),e.addApi(new b),e.addApi(new M),e.addApi(new x)}}N.instance=null,N.isInWebOffice=r.X;let O=()=>(e,t)=>{var n;(0,r.o)(void 0!==t,"WebOfficeExpose cannot be applied to a class."),(0,r.o)((0,r.q)(e),"target must be object."),null!=(n=e[a])||(e[a]={}),e[a][t]=!0},k=()=>(e,t)=>{var n;(0,r.o)(void 0!==t,"Private cannot be applied to a class."),(0,r.o)((0,r.q)(e),"target must be object."),null!=(n=e[s])||(e[s]={}),e[s][t]=!0}},536807:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_LOG_ENTRIES_PER_REQUEST=t.CHECK_CAN_REPORT_CGI=t.REPORT_CGI=t.GET_CONFIG_CGI=t.CGI_PATH=t.GLOBAL_VAR=t.STORAGE_KEY_PREFIX=t.REMOTE_PLUGINS_URL=t.DEFAULT_SDK_BROWSER_BACKEND_WEB_BUNDLE_URL=t.DEFAULT_SDK_BROWSER_BUNDLE_URL=t.CDN_PATH_PREFIX=void 0,t.CDN_PATH_PREFIX="https://weblog.cdn-go.cn/sdk/latest/",t.DEFAULT_SDK_BROWSER_BUNDLE_URL="".concat(t.CDN_PATH_PREFIX,"browser/browser.js"),t.DEFAULT_SDK_BROWSER_BACKEND_WEB_BUNDLE_URL="".concat(t.CDN_PATH_PREFIX,"browser/browser-backend-web.js"),t.REMOTE_PLUGINS_URL="".concat(t.CDN_PATH_PREFIX,"browser-remote-plugins/browser-remote-plugins.js"),t.STORAGE_KEY_PREFIX="wl",t.GLOBAL_VAR="log",t.CGI_PATH="https://at.idqqimg.com/api/v1/open/",t.GET_CONFIG_CGI="".concat(t.CGI_PATH,"log_report_whitelist"),t.REPORT_CGI="".concat(t.CGI_PATH,"log"),t.CHECK_CAN_REPORT_CGI="".concat(t.CGI_PATH,"report"),t.MAX_LOG_ENTRIES_PER_REQUEST=20},577467:function(e,t,n){"use strict";var r=n(536807);t.default=(0,n(515303).configSDK)(r.DEFAULT_SDK_BROWSER_BUNDLE_URL)},515303:function(e,t,n){"use strict";var r,i=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(s){if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyBrowserClient=t.isProxySymbol=t.LOADER_KEY=void 0,t.initGlobalSingle=g,t.configSDK=m;var u=n(388842),c=n(536807),l=n(436466),d=["debug","log","info","warn","error","fatal"];function f(e){return"object"==typeof e&&null!==e&&!0===e[t.isProxySymbol]}function p(e,t){return"function"==typeof e[t]}t.LOADER_KEY="loader",t.isProxySymbol=Symbol("isProxy");var h=function(){function e(e,n){return void 0===n&&(n=t.LOADER_KEY),this.sdkUrl=e,this.namespace=n,this[r]=!0,this.pendingOperations=[],this.initialized=!1,new Proxy(this,{get:this.getHandler.bind(this)})}return e.prototype.getLogger=function(e){var n=Object.create(this,{namespace:{value:"".concat(t.LOADER_KEY,"_").concat(e)}});return new Proxy(n,{get:this.getHandler.bind(n)})},e.prototype.init=function(e){return i(this,arguments,void 0,function(e,t){var n,r,i;return void 0===t&&(t={}),o(this,function(o){switch(o.label){case 0:if(this.initialized)throw Error("SDK is already initialized");this.initialized=!0,n=t.sdkUrl||this.sdkUrl,o.label=1;case 1:return o.trys.push([1,4,,5]),[4,(0,l.injectScript)(n,c.GLOBAL_VAR)];case 2:if(f(r=o.sent()))throw Error("Invalid SDK instance");return[4,r.init(e,t)];case 3:return o.sent(),this.client=r,this.flushPendingOperations(),[2,r];case 4:throw i=o.sent(),this.initialized=!1,Error("Error initializing SDK: ".concat(i.message));case 5:return[2]}})})},e.prototype.getHandler=function(e,t){return this.client&&p(this.client,t)?this.client[t].bind(this.client):p(e,t)?e[t].bind(e):this.createProxyMethod(t)},e.prototype.createProxyMethod=function(e){var t=this;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new Promise(function(r,i){var o=t.isLogMethod(e)?Date.now():void 0;t.pendingOperations.push({method:e,argsString:(0,u.safeStringify)(n),timestamp:o,namespace:t.namespace,resolve:r,reject:i})})}},e.prototype.flushPendingOperations=function(){if(!this.client)throw Error("Client is not initialized");for(;this.pendingOperations.length>0;){var e=this.pendingOperations.shift(),t=e.method,n=e.argsString,r=e.timestamp,i=e.namespace,o=e.resolve,a=e.reject;try{var s=this.client.getLogger(i),c=(0,u.safeParse)(n,[]),l=this.executeMethod(s,t,c,r);this.handleResult(l,o,a)}catch(e){a(e)}}},e.prototype.executeMethod=function(e,t,n,r){return this.isLogMethod(t)&&r?e[t].apply(e,s(s([],a(n),!1),[r],!1)):e[t].apply(e,s([],a(n),!1))},e.prototype.handleResult=function(e,t,n){e instanceof Promise?e.then(t).catch(n):t(e)},e.prototype.isLogMethod=function(e){return d.includes(e)},e}();function g(e,t){var n,r=null!=(n=window[e])?n:t();return window[e]=r,r}function m(e){return g(c.GLOBAL_VAR,function(){return new h(e)})}t.ProxyBrowserClient=h,r=t.isProxySymbol},436466:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(s){if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getBrowserRemotePlugin=void 0,t.injectScript=s;var o=n(536807),a=null;function s(e,t){return new Promise(function(n){var r=document.createElement("script");r.async=!0,r.src=e,r.setAttribute("retry-when-error","true"),r.onload=function(){n(t.split(".").reduce(function(e,t){return e[t]},window))},(document.head||document.body).appendChild(r)})}t.getBrowserRemotePlugin=function(e){return r(void 0,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:if(a)return[2,a];return[4,s(o.REMOTE_PLUGINS_URL,"window.WebLog.BrowserRemotePlugins")];case 1:return(t=n.sent())&&(a=new t(e)),[2,a]}})})}},340639:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GLOBAL_VAR=t.STORAGE_KEY_PREFIX=t.CDN_PATH_PREFIX=void 0,t.CDN_PATH_PREFIX="https://weblog.cdn-go.cn/sdk/latest/",t.STORAGE_KEY_PREFIX="wl",t.GLOBAL_VAR="log"},196726:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(464550),i="https://weblog.cdn-go.cn/sdk/latest/browser/browser.js";t.default=r.configSDK(i)},464550:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.configSDK=t.initGlobalSingle=t.ProxyBrowserClient=t.LOADER_KEY=void 0;var r=n(209787),i=n(994448),o=n(340639),a=n(395589);t.LOADER_KEY="loader";var s=function(){function e(e){this.isProxy=!0,this.inited=!1,this.buffers=[],this.sdkUrl=e,this.namespace=t.LOADER_KEY}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.invoke("debug",e,!0)},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.invoke("log",e,!0)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.invoke("info",e,!0)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.invoke("warn",e,!0)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.invoke("error",e,!0)},e.prototype.init=function(e,t){var n=this;return void 0===t&&(t={}),new Promise(function(i,s){if(n.inited)return s();n.inited=!0;var u=(null==t?void 0:t.sdkUrl)||n.sdkUrl;a.injectScript(u,o.GLOBAL_VAR).then(function(o){var a;if("boolean"!=typeof(null==o?void 0:o.isProxy)||!o.isProxy)for(n.realSdk=o,o.init(e,t),i(o);n.buffers.length;){var s=n.buffers.shift(),u=o.getLogger(s.n),c=u[s.f].apply(u,r.__spread(JSON.parse(s.a)));null==(a=s.r)||a.call(s,c)}})})},e.prototype.identify=function(e,t){this.invoke("identify",[e,t])},e.prototype.report=function(e,t,n){return this.invokePromise("report",[e,t,n])},e.prototype.query=function(e){return this.invokePromise("query",[e])},e.prototype.loadAsset=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.invoke("loadAsset",e)},e.prototype.getLogger=function(e){return Object.create(this,{namespace:{value:t.LOADER_KEY+"_"+e}})},e.prototype.invoke=function(e,t,n,o){try{if(n&&t.push(Date.now()),this.realSdk){var a=this.realSdk.getLogger(this.namespace),s=a[e].apply(a,r.__spread(t));null==o||o(s);return}this.buffers.push({f:e,n:this.namespace,a:i.safeStringify(t),r:o})}catch(e){console.error(e)}},e.prototype.invokePromise=function(e,t,n){var r=this;return new Promise(function(i){r.invoke(e,t,n,i)})},e}();function u(e,t){var n,r=null!=(n=window[e])?n:t();return window[e]=r,r}t.ProxyBrowserClient=s,t.initGlobalSingle=u,t.configSDK=function(e){return u(o.GLOBAL_VAR,function(){return new s(e)})}},395589:function(e,t,n){var r,i=this;Object.defineProperty(t,"__esModule",{value:!0}),t.injectScript=t.getBrowserRemotePlugin=t.REMOTE_PLUGINS_URL=void 0;var o=n(209787);function a(e,t){return new Promise(function(n){var r=document.createElement("script");r.async=!0,r.src=e,r.setAttribute("retry-when-error","true"),r.onload=function(){n(t.split(".").reduce(function(e,t){return e[t]},window))},(document.head||document.body).appendChild(r)})}t.REMOTE_PLUGINS_URL=n(340639).CDN_PATH_PREFIX+"browser-remote-plugins/browser-remote-plugins.js",t.getBrowserRemotePlugin=function(e){return o.__awaiter(i,void 0,void 0,function(){var n;return o.__generator(this,function(i){switch(i.label){case 0:if(r)return[2,r];return[4,a(t.REMOTE_PLUGINS_URL,"window.WebLog.BrowserRemotePlugins")];case 1:return n=i.sent(),[2,r=r||n&&new n(e)]}})})},t.injectScript=a},389358:function(e,t,n){r={value:!0};var r=void 0,i=n(209787),o=n(994448),a=i.__importDefault(n(196726)),s=function(){function e(){this.ravenLogger=a.default.getLogger("raven")}return e.prototype.xlog=function(e){var t,n;try{var r=e.project,i=e.release,a=e.message,s=e.exception;e.event_id||(e.event_id=o.getUUID());var u={project:r,release:i,event_id:e.event_id},c=(null==(n=null==(t=null==s?void 0:s.values)?void 0:t[0])?void 0:n.value)||"";c+=(s.values[0].stacktrace.frames||[]).reduceRight(function(e,t){var n=t.colno,r=t.lineno,i=t.function,o=t.filename;return e+"\n at "+i+" "+o+":"+r+":"+n},""),this.ravenLogger.error(a||c,u)}catch(e){}return e},e}();r=s,t.default=new s},807905:function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EventName=void 0,function(e){e.INSERT_LOG="insert_log",e.GET_CONFIG="get_config"}(n=t.EventName||(t.EventName={}))},323402:function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationsHook=void 0,function(e){e[e.BeforeInvokeLog=0]="BeforeInvokeLog"}(n=t.IntegrationsHook||(t.IntegrationsHook={}))},538356:function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=void 0,function(e){e[e.DEBUG=1]="DEBUG",e[e.LOG=1]="LOG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.FATAL=5]="FATAL"}(n=t.LogLevel||(t.LogLevel={}))},578295:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationsHook=t.LogLevel=t.EventName=void 0;var r=n(807905);Object.defineProperty(t,"EventName",{enumerable:!0,get:function(){return r.EventName}});var i=n(538356);Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return i.LogLevel}});var o=n(323402);Object.defineProperty(t,"IntegrationsHook",{enumerable:!0,get:function(){return o.IntegrationsHook}})},734479:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ajax=h,t.ajaxGet=d,t.ajaxPost=f;var r=n(652287),i=n(798074),o=4,a=200;function s(){return new XMLHttpRequest}var u=function(e){var t=[];for(var n in e)(0,r.hasOwnProperty)(e,n)&&t.push("".concat(n,"=").concat(encodeURIComponent(e[n])));return t.join("&")};function c(e,t,n){if(void 0===n&&(n="GET"),e.setRequestHeader)for(var i in("GET"===n||"POST"===n)&&e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t=t||{})(0,r.hasOwnProperty)(t,i)&&e.setRequestHeader(i,t[i])}var l=function(e,t){void 0===t&&(t={withCredentials:!1}),e.withCredentials=!!t.withCredentials};function d(e){return new Promise(function(t,n){var r=u(e.param||{}),i=e.url;i+=(i.indexOf("?")>=0?"&":"?")+r;var o=p(e,{success:function(e){t(e)},error:function(e){n(e)}});o&&(o.open("GET",i,!0),l(o,e.xhrFields),c(o,e.headers||{},"GET"),o.send())})}function f(e){return new Promise(function(t,n){var r=e.url,i="",o=p(e,{success:function(e){t(e)},error:function(e){n(e)}});o&&(o.open("POST",r,!0),"json"===e.contentType?(i=JSON.stringify(e.param),o.setRequestHeader("Content-Type","application/json")):(i=u(e.param||{}),l(o,e.xhrFields),c(o,e.headers||{},"POST")),o.send(i))})}function p(e,t){var n=s();if(!n)throw Error("XMLHttp is not defined");var r=e.timeout,u=e.dataType,c=void 0===u?"json":u;try{r&&(n.timeout=r)}catch(e){i.debugLogger.log(e)}return n.onreadystatechange=function(){var e,r;if(n.readyState===o)if(n.status===a){var i=n.responseText;"json"===c&&(i=JSON.parse(n.responseText)),null==(e=null==t?void 0:t.success)||e.call(t,i)}else null==(r=null==t?void 0:t.error)||r.call(t,{errCode:n.status})},n.onerror=function(){var e;null==(e=null==t?void 0:t.error)||e.call(t,{errCode:-1})},n.ontimeout=function(){var e;null==(e=null==t?void 0:t.error)||e.call(t,{errCode:-2})},n}function h(e){switch(e.ajaxType){case"GET":d(e);break;case"POST":f(e)}}},798074:function(e,t){"use strict";var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.debugLogger=void 0,t.debugLogger={log:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,r([],n(e),!1))},info:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.info.apply(console,r([],n(e),!1))},warn:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,r([],n(e),!1))},error:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,r([],n(e),!1))}}},388842:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(652287),t),i(n(734479),t),i(n(899661),t),i(n(798074),t),i(n(296008),t)},296008:function(e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function r(e){return"object"==typeof e&&!Array.isArray(e)}function i(e){return e instanceof Object&&e.constructor!==Object}function o(e,t,a){if(void 0===a&&(a=new WeakMap),Array.isArray(e)&&Array.isArray(t))return e.concat(t);if(i(e)||i(t))return t;if(r(e)&&r(t)){if(a.has(t))return t;a.set(t,t);var s=n({},e);for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(s[u]=o(e[u],t[u],a));return s}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.merge=o},652287:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobalObject=a,t.isType=s,t.isObject=u,t.safeParse=c,t.safeStringify=l,t.hasOwnProperty=d,t.getUUID=f;var r=n(798074);function i(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}var o={};function a(){return i()?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:o}function s(e,t){return Object.prototype.toString.call(t)==="[object ".concat(e,"]")}function u(e){return s("Object",e)}function c(e,t){try{return JSON.parse(e)}catch(e){return t}}function l(e){var t=new Set,n="Circular";try{return JSON.stringify(e,function(e,r){if(u(r)||Array.isArray(r)){if(t.has(r))return'["'.concat(n,'"]');t.add(r)}return r})}catch(t){if(r.debugLogger.error(t),u(e))return'{Object:["'.concat(n,'"]}');if(Array.isArray(e))return'["'.concat(n,'"]');return n}}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(){if("undefined"==typeof crypto)return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)});var e=new Uint16Array(8);crypto.getRandomValues(e),e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var t=function(e){for(var t=e.toString(16);t.length<4;)t="0".concat(t);return t};return t(e[0])+t(e[1])+t(e[2])+t(e[3])+t(e[4])+t(e[5])+t(e[6])+t(e[7])}},899661:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(s){if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.queryAndListenCurrentSessionInsertLog=a;var o=n(578295);function a(e,t){return r(this,void 0,void 0,function(){var n,r;return i(this,function(i){switch(i.label){case 0:return n=[],r=e.on(o.EventName.INSERT_LOG,function(e){n.push(e)}),[4,e.query()];case 1:return i.sent().concat(n).forEach(t),r(),n=[],[2,e.on(o.EventName.INSERT_LOG,t)]}})})}},148297:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ajaxPost=t.ajaxGet=t.ajax=void 0;var n=4,r=200;function i(){return new XMLHttpRequest}var o=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")};function a(e,t,n){if(void 0===n&&(n="GET"),e.setRequestHeader)for(var r in("GET"===n||"POST"===n)&&e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t=t||{})t.hasOwnProperty(r)&&e.setRequestHeader(r,t[r])}var s=function(e,t){void 0===t&&(t={withCredentials:!1}),e.withCredentials=!!t.withCredentials};function u(e){return new Promise(function(t,n){var r=o(e.param||{}),i=e.url;i+=(i.indexOf("?")>=0?"&":"?")+r;var u=l(e,{success:function(e){t(e)},error:function(e){n(e)}});u&&(u.open("GET",i,!0),s(u,e.xhrFields),a(u,e.headers||{},"GET"),u.send())})}function c(e){return new Promise(function(t,n){var r=e.url,i="",u=l(e,{success:function(e){t(e)},error:function(e){n(e)}});u&&(u.open("POST",r,!0),"json"===e.contentType?(i=JSON.stringify(e.param),u.setRequestHeader("Content-Type","application/json")):(i=o(e.param||{}),s(u,e.xhrFields),a(u,e.headers||{},"POST")),u.send(i))})}function l(e,t){var o=i();if(!o)throw Error("XMLHttp is not defined");var a=e.timeout,s=e.dataType,u=void 0===s?"json":s;try{a&&(o.timeout=a)}catch(e){}return o.onreadystatechange=function(){var e,i;if(o.readyState===n)if(o.status===r){var a=o.responseText;"json"===u&&(a=JSON.parse(o.responseText)),null==(e=null==t?void 0:t.success)||e.call(t,a)}else null==(i=null==t?void 0:t.error)||i.call(t,{errCode:o.status})},o.onerror=function(){var e;null==(e=null==t?void 0:t.error)||e.call(t,{errCode:-1})},o.ontimeout=function(){var e;null==(e=null==t?void 0:t.error)||e.call(t,{errCode:-2})},o}t.ajaxGet=u,t.ajaxPost=c,t.ajax=function(e){switch(e.ajaxType){case"GET":u(e);break;case"POST":c(e)}}},994448:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(209787);r.__exportStar(n(143321),t),r.__exportStar(n(148297),t),r.__exportStar(n(706610),t)},143321:function(e,t,n){function r(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}Object.defineProperty(t,"__esModule",{value:!0}),t.getUUID=t.safeStringify=t.isObject=t.isType=t.getGlobalObject=void 0;var i={};function o(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}function a(e){return o("Object",e)}t.getGlobalObject=function(){return r()?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:i},t.isType=o,t.isObject=a,t.safeStringify=function(e){var t=new Set,n="Circular";try{return JSON.stringify(e,function(e,r){if(a(r)||Array.isArray(r)){if(t.has(r))return'["'+n+'"]';t.add(r)}return r})}catch(t){if(console.error(t),a(e))return'{Object:["'+n+'"]}';if(Array.isArray(e))return'["'+n+'"]';return n}},t.getUUID=function(){if("undefined"==typeof crypto&&"undefined"==typeof msCrypto)return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)});var e=new Uint16Array(8);crypto.getRandomValues(e),e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var t=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return t(e[0])+t(e[1])+t(e[2])+t(e[3])+t(e[4])+t(e[5])+t(e[6])+t(e[7])}},706610:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.queryAndListenCurrentSessionInsertLog=void 0;var r=n(209787),i=n(578295);t.queryAndListenCurrentSessionInsertLog=function(e,t){return r.__awaiter(this,void 0,void 0,function(){var n,o;return r.__generator(this,function(r){switch(r.label){case 0:return n=[],o=e.on(i.EventName.INSERT_LOG,function(e){n.push(e)}),[4,e.query()];case 1:return r.sent().concat(n).forEach(t),o(),n=[],[2,e.on(i.EventName.INSERT_LOG,t)]}})})}},765415:function(e,t){"use strict";t.byteLength=c,t.toByteArray=d,t.fromByteArray=h;for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function c(e){var t=u(e),n=t[0],r=t[1];return(n+r)*3/4-r}function l(e,t,n){return(t+n)*3/4-n}function d(e){var t,n,o=u(e),a=o[0],s=o[1],c=new i(l(e,a,s)),d=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[d++]=t>>16&255,c[d++]=t>>8&255,c[d++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[d++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[d++]=t>>8&255,c[d++]=255&t),c}function f(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function p(e,t,n){for(var r=[],i=t;i<n;i+=3)r.push(f((e[i]<<16&0xff0000)+(e[i+1]<<8&65280)+(255&e[i+2])));return r.join("")}function h(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,u=r-i;s<u;s+=a)o.push(p(e,s,s+a>u?u:s+a));return 1===i?o.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&o.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),o.join("")}r[45]=62,r[95]=63},365943:function(e){var t=4,n=.001,r=1e-7,i=10,o=11,a=.1,s="function"==typeof Float32Array;function u(e,t){return 1-3*t+3*e}function c(e,t){return 3*t-6*e}function l(e){return 3*e}function d(e,t,n){return((u(t,n)*e+c(t,n))*e+l(t))*e}function f(e,t,n){return 3*u(t,n)*e*e+2*c(t,n)*e+l(t)}function p(e,t,n,o,a){var s,u,c=0;do(s=d(u=t+(n-t)/2,o,a)-e)>0?n=u:t=u;while(Math.abs(s)>r&&++c<i);return u}function h(e,n,r,i){for(var o=0;o<t;++o){var a=f(n,r,i);if(0===a)break;var s=d(n,r,i)-e;n-=s/a}return n}function g(e){return e}e.exports=function(e,t,r,i){if(!(0<=e&&e<=1&&0<=r&&r<=1))throw Error("bezier x values must be in [0, 1] range");if(e===t&&r===i)return g;for(var u=s?new Float32Array(o):Array(o),c=0;c<o;++c)u[c]=d(c*a,e,r);function l(t){for(var i=0,s=1,c=o-1;s!==c&&u[s]<=t;++s)i+=a;var l=i+(t-u[--s])/(u[s+1]-u[s])*a,d=f(l,e,r);return d>=n?h(t,l,e,r):0===d?l:p(t,i,i+a,e,r)}return function(e){return 0===e?0:1===e?1:d(l(e),t,i)}}},54631:function(e,t,n){"use strict";var r=n(548794),i=n(989657),o=n(891485);e.exports=n(185586)||r.call(o,i)},989657:function(e){"use strict";e.exports=Function.prototype.apply},891485:function(e){"use strict";e.exports=Function.prototype.call},518948:function(e,t,n){"use strict";var r=n(548794),i=n(229837),o=n(891485),a=n(54631);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new i("a function is required");return a(r,o,e)}},185586:function(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},458350:function(e,t,n){"use strict";var r=n(539925),i=n(518948),o=i([r("%String.prototype.indexOf%")]);e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?i([n]):n}},306636:function(e){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},684875:function(e){!function(){"use strict";var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&e.push(a)}}else if("object"===o){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){e.push(i.toString());continue}for(var s in i)t.call(i,s)&&i[s]&&e.push(s)}}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return n}):window.classNames=n}()},401048:function(e){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 0xff00ff&n.rotl(e,8)|0xff00ff00&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?n.push(t.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}};e.exports=n}()},416483:function(e){!function(t,n){e.exports=n()}(0,function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",s="day",u="week",c="month",l="quarter",d="year",f="date",p="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),o=n-i<0,a=t.clone().add(r+(o?-1:1),c);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return({M:c,y:d,w:u,d:s,D:f,h:a,m:o,s:i,ms:r,Q:l})[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",_={};_[b]=m;var C="$isDayjsObject",I=function(e){return e instanceof D||!(!e||!e[C])},E=function e(t,n,r){var i;if(!t)return b;if("string"==typeof t){var o=t.toLowerCase();_[o]&&(i=o),n&&(_[o]=n,i=o);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var s=t.name;_[s]=t,i=s}return!r&&i&&(b=i),i||!r&&b},w=function(e,t){if(I(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new D(n)},S=y;S.l=E,S.i=I,S.w=function(e,t){return w(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var D=function(){function m(e){this.$L=E(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[C]=!0}var v=m.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(h);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return S},v.isValid=function(){return this.$d.toString()!==p},v.isSame=function(e,t){var n=w(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return w(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<w(e)},v.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!S.u(t)||t,l=S.p(e),p=function(e,t){var i=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},h=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},g=this.$W,m=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(l){case d:return r?p(1,0):p(31,11);case c:return r?p(1,m):p(0,m+1);case u:var b=this.$locale().weekStart||0,_=(g<b?g+7:g)-b;return p(r?v-_:v+(6-_),m);case s:case f:return h(y+"Hours",0);case a:return h(y+"Minutes",1);case o:return h(y+"Seconds",2);case i:return h(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,u=S.p(e),l="set"+(this.$u?"UTC":""),p=((n={})[s]=l+"Date",n[f]=l+"Date",n[c]=l+"Month",n[d]=l+"FullYear",n[a]=l+"Hours",n[o]=l+"Minutes",n[i]=l+"Seconds",n[r]=l+"Milliseconds",n)[u],h=u===s?this.$D+(t-this.$W):t;if(u===c||u===d){var g=this.clone().set(f,1);g.$d[p](h),g.init(),this.$d=g.set(f,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](h);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[S.p(e)]()},v.add=function(r,l){var f,p=this;r=Number(r);var h=S.p(l),g=function(e){var t=w(p);return S.w(t.date(t.date()+Math.round(e*r)),p)};if(h===c)return this.set(c,this.$M+r);if(h===d)return this.set(d,this.$y+r);if(h===s)return g(1);if(h===u)return g(7);var m=((f={})[o]=t,f[a]=n,f[i]=e,f)[h]||1,v=this.$d.getTime()+r*m;return S.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=S.z(this),o=this.$H,a=this.$m,s=this.$M,u=n.weekdays,c=n.months,l=n.meridiem,d=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},f=function(e){return S.s(o%12||12,e,"0")},h=l||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(g,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return S.s(t.$y,4,"0");case"M":return s+1;case"MM":return S.s(s+1,2,"0");case"MMM":return d(n.monthsShort,s,c,3);case"MMMM":return d(c,s);case"D":return t.$D;case"DD":return S.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,u,2);case"ddd":return d(n.weekdaysShort,t.$W,u,3);case"dddd":return u[t.$W];case"H":return String(o);case"HH":return S.s(o,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return h(o,a,!0);case"A":return h(o,a,!1);case"m":return String(a);case"mm":return S.s(a,2,"0");case"s":return String(t.$s);case"ss":return S.s(t.$s,2,"0");case"SSS":return S.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")})},v.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},v.diff=function(r,f,p){var h,g=this,m=S.p(f),v=w(r),y=(v.utcOffset()-this.utcOffset())*t,b=this-v,_=function(){return S.m(g,v)};switch(m){case d:h=_()/12;break;case c:h=_();break;case l:h=_()/3;break;case u:h=(b-y)/6048e5;break;case s:h=(b-y)/864e5;break;case a:h=b/n;break;case o:h=b/t;break;case i:h=b/e;break;default:h=b}return p?h:S.a(h)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return _[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=E(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return S.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},m}(),M=D.prototype;return w.prototype=M,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",s],["$M",c],["$y",d],["$D",f]].forEach(function(e){M[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),w.extend=function(e,t){return e.$i||(e(t,D,w),e.$i=!0),w},w.locale=E,w.isDayjs=I,w.unix=function(e){return w(1e3*e)},w.en=_[b],w.Ls=_,w.p={},w})},299312:function(e){!function(t,n){e.exports=n()}(0,function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,i,o){var a=i.prototype;o.utc=function(e){var t={date:e,utc:!0,args:arguments};return new i(t)},a.utc=function(t){var n=o(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},a.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var s=a.parse;a.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),s.call(this,e)};var u=a.init;a.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else u.call(this)};var c=a.utcOffset;a.utcOffset=function(r,i){var o=this.$utils().u;if(o(r))return this.$u?0:o(this.$offset)?c.call(this):this.$offset;if("string"==typeof r&&null===(r=function(e){void 0===e&&(e="");var r=e.match(t);if(!r)return null;var i=(""+r[0]).match(n)||["-",0,0],o=i[0],a=60*i[1]+ +i[2];return 0===a?0:"+"===o?a:-a}(r)))return this;var a=Math.abs(r)<=16?60*r:r,s=this;if(i)return s.$offset=a,s.$u=0===r,s;if(0!==r){var u=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(a+u,e)).$offset=a,s.$x.$localOffset=u}else s=this.utc();return s};var l=a.format;a.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,t)},a.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var d=a.toDate;a.toDate=function(e){return"s"===e&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var f=a.diff;a.diff=function(e,t,n){if(e&&this.$u===e.$u)return f.call(this,e,t,n);var r=this.local(),i=o(e).local();return f.call(r,i,t,n)}}})},154525:function(e){"use strict";var t="%[a-f0-9]{2}",n=RegExp("("+t+")|([^%]+?)","gi"),r=RegExp("("+t+")+","gi");function i(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],i(n),i(r))}function o(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(n)||[],r=1;r<t.length;r++)t=(e=i(t,r).join("")).match(n)||[];return e}}function a(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},n=r.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var i=o(n[0]);i!==n[0]&&(t[n[0]]=i)}n=r.exec(e)}t["%C2"]="\uFFFD";for(var a=Object.keys(t),s=0;s<a.length;s++){var u=a[s];e=e.replace(RegExp(u,"g"),t[u])}return e}e.exports=function(e){if("string"!=typeof e)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return a(e)}}},719440:function(e,t,n){"use strict";var r,i=n(518948),o=n(814355);try{r=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var a=!!r&&o&&o(Object.prototype,"__proto__"),s=Object,u=s.getPrototypeOf;e.exports=a&&"function"==typeof a.get?i([a.get]):"function"==typeof u&&function(e){return u(null==e?e:s(e))}},173017:function(e){"use strict";e.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}},441209:function(e,t,n){e=n.nmd(e),function(n,r){"function"==typeof define&&define.amd?define(["module","exports"],r):r(e,t)}(0,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]?|[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g;t.default=function(){function e(t){if(n(this,e),"string"!=typeof t)throw Error("Input must be a string");this._string=t,this._match=t.match(i)||[]}return r(e,[{key:"reverse",value:function(){return this._match.reverse().join("")}},{key:"substring",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],n=this.length,r=(parseInt(e,10)||0)<0?0:parseInt(e,10)||0,i=void 0;if(i=void 0===t?n:(parseInt(t,10)||0)<0?0:parseInt(t,10)||0,r>n&&(r=n),i>n&&(i=n),r>i){var o=[i,r];r=o[0],i=o[1]}return this._match.slice(r,i).join("")}},{key:"substr",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],n=this.length,r=parseInt(e,10)||0,i=void 0;return r>=n||t<=0?"":(r<0&&(r=Math.max(0,r+n)),i=void 0===t?n:r+(parseInt(t,10)||0),this._match.slice(r,i).join(""))}},{key:"length",get:function(){return this._match.length}}]),e}(),e.exports=t.default})},493006:function(e){"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},256731:function(e){"use strict";e.exports=EvalError},246392:function(e){"use strict";e.exports=Error},33996:function(e){"use strict";e.exports=RangeError},690961:function(e){"use strict";e.exports=ReferenceError},775736:function(e){"use strict";e.exports=SyntaxError},229837:function(e){"use strict";e.exports=TypeError},937821:function(e){"use strict";e.exports=URIError},32923:function(e){"use strict";e.exports=Object},602337:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw TypeError("The listener must be a function");var s=new i(r,o||e,a),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,o),!0;case 6:return l.fn.call(l.context,t,r,i,o,a),!0}for(c=1,u=Array(d-1);c<d;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var f,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),d){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,i);break;default:if(!u)for(f=1,u=Array(d-1);f<d;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||i&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},972100:function(e){"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function i(e){console&&console.warn&&console.warn(e)}t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function a(){a.init.call(this)}e.exports=a,e.exports.once=y,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function u(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){if(u(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]),void 0===s)s=a[t]=n,++e._eventsCount;else if("function"==typeof s?s=a[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=c(e))>0&&s.length>o&&!s.warned){s.warned=!0;var o,a,s,l=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,i(l)}return e}function d(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?v(i):g(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function v(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function y(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}_(e,t,o,{once:!0}),"error"!==t&&b(e,i,{once:!0})})}function b(e,t,n){"function"==typeof e.on&&_(e,"error",t,n)}function _(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var a,s=Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else for(var c=u.length,l=g(u,c),n=0;n<c;++n)r(l[n],this,t);return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return u(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,o,a;if(u(t),void 0===(r=this._events)||void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():m(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},401469:function(e){"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),i=Array.isArray(t),o=0;o<r.length;o++){var a=r[o],s=e[a];(i?-1!==t.indexOf(a):t(a,s,e))&&(n[a]=s)}return n}},560059:function(e){"use strict";var t="Function.prototype.bind called on incompatible ",n=Object.prototype.toString,r=Math.max,i="[object Function]",o=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n},a=function(e,t){for(var n=[],r=t||0,i=0;r<e.length;r+=1,i+=1)n[i]=e[r];return n},s=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n};e.exports=function(e){var u,c=this;if("function"!=typeof c||n.apply(c)!==i)throw TypeError(t+c);for(var l=a(arguments,1),d=function(){if(this instanceof u){var t=c.apply(this,o(l,arguments));return Object(t)===t?t:this}return c.apply(e,o(l,arguments))},f=r(0,c.length-l.length),p=[],h=0;h<f;h++)p[h]="$"+h;if(u=Function("binder","return function ("+s(p,",")+"){ return binder.apply(this,arguments); }")(d),c.prototype){var g=function(){};g.prototype=c.prototype,u.prototype=new g,g.prototype=null}return u}},548794:function(e,t,n){"use strict";var r=n(560059);e.exports=Function.prototype.bind||r},539925:function(e,t,n){"use strict";var r,i=n(32923),o=n(246392),a=n(256731),s=n(33996),u=n(690961),c=n(775736),l=n(229837),d=n(937821),f=n(459273),p=n(282889),h=n(280095),g=n(67237),m=n(142046),v=n(838525),y=n(952030),b=Function,_=function(e){try{return b('"use strict"; return ('+e+").constructor;")()}catch(e){}},C=n(814355),I=n(493006),E=function(){throw new l},w=C?function(){try{return arguments.callee,E}catch(e){try{return C(arguments,"callee").get}catch(e){return E}}}():E,S=n(622644)(),D=n(614765),M=n(907032),T=n(963568),A=n(989657),x=n(891485),N={},O="undefined"!=typeof Uint8Array&&D?D(Uint8Array):r,k={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":S&&D?D([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":N,"%AsyncGenerator%":N,"%AsyncGeneratorFunction%":N,"%AsyncIteratorPrototype%":N,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":a,"%Float16Array%":"undefined"==typeof Float16Array?r:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":N,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":S&&D?D(D([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&S&&D?D(new Map()[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":C,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":s,"%ReferenceError%":u,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&S&&D?D(new Set()[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":S&&D?D(""[Symbol.iterator]()):r,"%Symbol%":S?Symbol:r,"%SyntaxError%":c,"%ThrowTypeError%":w,"%TypedArray%":O,"%TypeError%":l,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":d,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet,"%Function.prototype.call%":x,"%Function.prototype.apply%":A,"%Object.defineProperty%":I,"%Object.getPrototypeOf%":M,"%Math.abs%":f,"%Math.floor%":p,"%Math.max%":h,"%Math.min%":g,"%Math.pow%":m,"%Math.round%":v,"%Math.sign%":y,"%Reflect.getPrototypeOf%":T};if(D)try{null.error}catch(e){var R=D(D(e));k["%Error.prototype%"]=R}var L=function e(t){var n;if("%AsyncFunction%"===t)n=_("async function () {}");else if("%GeneratorFunction%"===t)n=_("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=_("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&D&&(n=D(i.prototype))}return k[t]=n,n},j={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},P=n(548794),B=n(252957),F=P.call(x,Array.prototype.concat),U=P.call(A,Array.prototype.splice),G=P.call(x,String.prototype.replace),W=P.call(x,String.prototype.slice),Z=P.call(x,RegExp.prototype.exec),V=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,H=/\\(\\)?/g,z=function(e){var t=W(e,0,1),n=W(e,-1);if("%"===t&&"%"!==n)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var r=[];return G(e,V,function(e,t,n,i){r[r.length]=n?G(i,H,"$1"):t||e}),r},Y=function(e,t){var n,r=e;if(B(j,r)&&(r="%"+(n=j[r])[0]+"%"),B(k,r)){var i=k[r];if(i===N&&(i=L(r)),void 0===i&&!t)throw new l("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new l('"allowMissing" argument must be a boolean');if(null===Z(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=z(e),r=n.length>0?n[0]:"",i=Y("%"+r+"%",t),o=i.name,a=i.value,s=!1,u=i.alias;u&&(r=u[0],U(n,F([0,1],u)));for(var d=1,f=!0;d<n.length;d+=1){var p=n[d],h=W(p,0,1),g=W(p,-1);if(('"'===h||"'"===h||"`"===h||'"'===g||"'"===g||"`"===g)&&h!==g)throw new c("property names with quotes must have matching quotes");if("constructor"!==p&&f||(s=!0),r+="."+p,B(k,o="%"+r+"%"))a=k[o];else if(null!=a){if(!(p in a)){if(!t)throw new l("base intrinsic for "+e+" exists, but the property is not available.");return}if(C&&d+1>=n.length){var m=C(a,p);a=(f=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:a[p]}else f=B(a,p),a=a[p];f&&!s&&(k[o]=a)}}return a}},907032:function(e,t,n){"use strict";e.exports=n(32923).getPrototypeOf||null},963568:function(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},614765:function(e,t,n){"use strict";var r=n(963568),i=n(907032),o=n(719440);e.exports=r?function(e){return r(e)}:i?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw TypeError("getProto: not an object");return i(e)}:o?function(e){return o(e)}:null},544080:function(e){"use strict";e.exports=Object.getOwnPropertyDescriptor},814355:function(e,t,n){"use strict";var r=n(544080);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},622644:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(932499);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},932499:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(n))return!1;var r=42;for(var i in e[t]=r,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==r||!0!==a.enumerable)return!1}return!0}},252957:function(e,t,n){"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty;e.exports=n(548794).call(r,i)},199721:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(551450),i=n(732482),o=[],a=o.forEach,s=o.slice;function u(e){return a.call(s.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e}var c=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,l=function(e,t,n){var r=n||{};r.path=r.path||"/";var i=encodeURIComponent(t),o="".concat(e,"=").concat(i);if(r.maxAge>0){var a=r.maxAge-0;if(Number.isNaN(a))throw Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(a))}if(r.domain){if(!c.test(r.domain))throw TypeError("option domain is invalid");o+="; Domain=".concat(r.domain)}if(r.path){if(!c.test(r.path))throw TypeError("option path is invalid");o+="; Path=".concat(r.path)}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw TypeError("option expires is invalid");o+="; Expires=".concat(r.expires.toUTCString())}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return o},d={create:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*n*1e3)),r&&(i.domain=r),document.cookie=l(e,encodeURIComponent(t),i)},read:function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}},f={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=d.read(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&d.create(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},p={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var r=n.substring(1).split("&"),i=0;i<r.length;i++){var o=r[i].indexOf("=");o>0&&r[i].substring(0,o)===e.lookupQuerystring&&(t=r[i].substring(o+1))}}return t}},h=null,g=function(){if(null!==h)return h;try{h="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){h=!1}return h},m={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&g()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&g()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},v=null,y=function(){if(null!==v)return v;try{v="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){v=!1}return v},b={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&y()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&y()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},_={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},C={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},I={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},E={name:"subdomain",lookup:function(e){var t="number"==typeof e.lookupFromSubdomainIndex?e.lookupFromSubdomainIndex+1:1,n="undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}};function w(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}var S=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.Z)(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return(0,i.Z)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=u(t,this.options||{},w()),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(f),this.addDetector(p),this.addDetector(m),this.addDetector(b),this.addDetector(_),this.addDetector(C),this.addDetector(I),this.addDetector(E)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return(e.forEach(function(e){if(t.detectors[e]){var r=t.detectors[e].lookup(t.options);r&&"string"==typeof r&&(r=[r]),r&&(n=n.concat(r))}}),this.services.languageUtils.getBestMatchFromCodes)?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)}))}}]),e}();S.type="languageDetector"},830551:function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+d],d+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,d=l>>1,f=5960464477539062e-23*(23===i),p=r?0:o-1,h=r?1:-1,g=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(s=+!!isNaN(t),a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+d>=1?t+=f/u:t+=f*Math.pow(2,1-d),t*u>=2&&(a++,u/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*u-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+p]=255&a,p+=h,a/=256,c-=8);e[n+p-h]|=128*g}},513149:function(e){function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function n(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}e.exports=function(e){return null!=e&&(t(e)||n(e)||!!e._isBuffer)}},192323:function(e,t,n){e=n.nmd(e);var r=200,i="__lodash_hash_undefined__",o=0x1fffffffffffff,a="[object Arguments]",s="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",d="[object Function]",f="[object GeneratorFunction]",p="[object Map]",h="[object Number]",g="[object Object]",m="[object Promise]",v="[object RegExp]",y="[object Set]",b="[object String]",_="[object Symbol]",C="[object WeakMap]",I="[object ArrayBuffer]",E="[object DataView]",w="[object Float32Array]",S="[object Float64Array]",D="[object Int8Array]",M="[object Int16Array]",T="[object Int32Array]",A="[object Uint8Array]",x="[object Uint8ClampedArray]",N="[object Uint16Array]",O="[object Uint32Array]",k=/[\\^$.*+?()[\]{}|]/g,R=/\w*$/,L=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,P={};P[a]=P[s]=P[I]=P[E]=P[u]=P[c]=P[w]=P[S]=P[D]=P[M]=P[T]=P[p]=P[h]=P[g]=P[v]=P[y]=P[b]=P[_]=P[A]=P[x]=P[N]=P[O]=!0,P[l]=P[d]=P[C]=!1;var B="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,F="object"==typeof self&&self&&self.Object===Object&&self,U=B||F||Function("return this")(),G=t&&!t.nodeType&&t,W=G&&e&&!e.nodeType&&e,Z=W&&W.exports===G;function V(e,t){return e.set(t[0],t[1]),e}function H(e,t){return e.add(t),e}function z(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););return e}function Y(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function K(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Q(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function q(e,t){return null==e?void 0:e[t]}function X(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function J(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function $(e,t){return function(n){return e(t(n))}}function ee(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var et=Array.prototype,en=Function.prototype,er=Object.prototype,ei=U["__core-js_shared__"],eo=function(){var e=/[^.]+$/.exec(ei&&ei.keys&&ei.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ea=en.toString,es=er.hasOwnProperty,eu=er.toString,ec=RegExp("^"+ea.call(es).replace(k,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),el=Z?U.Buffer:void 0,ed=U.Symbol,ef=U.Uint8Array,ep=$(Object.getPrototypeOf,Object),eh=Object.create,eg=er.propertyIsEnumerable,em=et.splice,ev=Object.getOwnPropertySymbols,ey=el?el.isBuffer:void 0,eb=$(Object.keys,Object),e_=tm(U,"DataView"),eC=tm(U,"Map"),eI=tm(U,"Promise"),eE=tm(U,"Set"),ew=tm(U,"WeakMap"),eS=tm(Object,"create"),eD=tD(e_),eM=tD(eC),eT=tD(eI),eA=tD(eE),ex=tD(ew),eN=ed?ed.prototype:void 0,eO=eN?eN.valueOf:void 0;function ek(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function eR(){this.__data__=eS?eS(null):{}}function eL(e){return this.has(e)&&delete this.__data__[e]}function ej(e){var t=this.__data__;if(eS){var n=t[e];return n===i?void 0:n}return es.call(t,e)?t[e]:void 0}function eP(e){var t=this.__data__;return eS?void 0!==t[e]:es.call(t,e)}function eB(e,t){return this.__data__[e]=eS&&void 0===t?i:t,this}function eF(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function eU(){this.__data__=[]}function eG(e){var t=this.__data__,n=e5(t,e);return!(n<0)&&(n==t.length-1?t.pop():em.call(t,n,1),!0)}function eW(e){var t=this.__data__,n=e5(t,e);return n<0?void 0:t[n][1]}function eZ(e){return e5(this.__data__,e)>-1}function eV(e,t){var n=this.__data__,r=e5(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function eH(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ez(){this.__data__={hash:new ek,map:new(eC||eF),string:new ek}}function eY(e){return tg(this,e).delete(e)}function eK(e){return tg(this,e).get(e)}function eQ(e){return tg(this,e).has(e)}function eq(e,t){return tg(this,e).set(e,t),this}function eX(e){this.__data__=new eF(e)}function eJ(){this.__data__=new eF}function e$(e){return this.__data__.delete(e)}function e0(e){return this.__data__.get(e)}function e1(e){return this.__data__.has(e)}function e2(e,t){var n=this.__data__;if(n instanceof eF){var i=n.__data__;if(!eC||i.length<r-1)return i.push([e,t]),this;n=this.__data__=new eH(i)}return n.set(e,t),this}function e4(e,t){var n=tx(e)||tA(e)?Q(e.length,String):[],r=n.length,i=!!r;for(var o in e)(t||es.call(e,o))&&!(i&&("length"==o||tI(o,r)))&&n.push(o);return n}function e3(e,t,n){var r=e[t];es.call(e,t)&&tT(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function e5(e,t){for(var n=e.length;n--;)if(tT(e[n][0],t))return n;return -1}function e9(e,t){return e&&tf(t,tB(t),e)}function e8(e,t,n,r,i,o,s){if(r&&(u=o?r(e,i,o,s):r(e)),void 0!==u)return u;if(!tj(e))return e;var u,c=tx(e);if(c){if(u=tb(e),!t)return td(e,u)}else{var l=ty(e),p=l==d||l==f;if(tk(e))return tr(e,t);if(l==g||l==a||p&&!o){if(X(e))return o?e:{};if(u=t_(p?{}:e),!t)return tp(e,e9(u,e))}else{if(!P[l])return o?e:{};u=tC(e,l,e8,t)}}s||(s=new eX);var h=s.get(e);if(h)return h;if(s.set(e,u),!c)var m=n?th(e):tB(e);return z(m||e,function(i,o){m&&(i=e[o=i]),e3(u,o,e8(i,t,n,r,o,e,s))}),u}function e6(e){return tj(e)?eh(e):{}}function e7(e,t,n){var r=t(e);return tx(e)?r:Y(r,n(e))}function te(e){return eu.call(e)}function tt(e){return!(!tj(e)||tw(e))&&(tR(e)||X(e)?ec:L).test(tD(e))}function tn(e){if(!tS(e))return eb(e);var t=[];for(var n in Object(e))es.call(e,n)&&"constructor"!=n&&t.push(n);return t}function tr(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function ti(e){var t=new e.constructor(e.byteLength);return new ef(t).set(new ef(e)),t}function to(e,t){var n=t?ti(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function ta(e,t,n){return K(t?n(J(e),!0):J(e),V,new e.constructor)}function ts(e){var t=new e.constructor(e.source,R.exec(e));return t.lastIndex=e.lastIndex,t}function tu(e,t,n){return K(t?n(ee(e),!0):ee(e),H,new e.constructor)}function tc(e){return eO?Object(eO.call(e)):{}}function tl(e,t){var n=t?ti(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function td(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function tf(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;e3(n,a,void 0===s?e[a]:s)}return n}function tp(e,t){return tf(e,tv(e),t)}function th(e){return e7(e,tB,tv)}function tg(e,t){var n=e.__data__;return tE(t)?n["string"==typeof t?"string":"hash"]:n.map}function tm(e,t){var n=q(e,t);return tt(n)?n:void 0}ek.prototype.clear=eR,ek.prototype.delete=eL,ek.prototype.get=ej,ek.prototype.has=eP,ek.prototype.set=eB,eF.prototype.clear=eU,eF.prototype.delete=eG,eF.prototype.get=eW,eF.prototype.has=eZ,eF.prototype.set=eV,eH.prototype.clear=ez,eH.prototype.delete=eY,eH.prototype.get=eK,eH.prototype.has=eQ,eH.prototype.set=eq,eX.prototype.clear=eJ,eX.prototype.delete=e$,eX.prototype.get=e0,eX.prototype.has=e1,eX.prototype.set=e2;var tv=ev?$(ev,Object):tF,ty=te;function tb(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&es.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function t_(e){return"function"!=typeof e.constructor||tS(e)?{}:e6(ep(e))}function tC(e,t,n,r){var i=e.constructor;switch(t){case I:return ti(e);case u:case c:return new i(+e);case E:return to(e,r);case w:case S:case D:case M:case T:case A:case x:case N:case O:return tl(e,r);case p:return ta(e,r,n);case h:case b:return new i(e);case v:return ts(e);case y:return tu(e,r,n);case _:return tc(e)}}function tI(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||j.test(e))&&e>-1&&e%1==0&&e<t}function tE(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function tw(e){return!!eo&&eo in e}function tS(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||er)}function tD(e){if(null!=e){try{return ea.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function tM(e){return e8(e,!0,!0)}function tT(e,t){return e===t||e!==e&&t!==t}function tA(e){return tO(e)&&es.call(e,"callee")&&(!eg.call(e,"callee")||eu.call(e)==a)}(e_&&ty(new e_(new ArrayBuffer(1)))!=E||eC&&ty(new eC)!=p||eI&&ty(eI.resolve())!=m||eE&&ty(new eE)!=y||ew&&ty(new ew)!=C)&&(ty=function(e){var t=eu.call(e),n=t==g?e.constructor:void 0,r=n?tD(n):void 0;if(r)switch(r){case eD:return E;case eM:return p;case eT:return m;case eA:return y;case ex:return C}return t});var tx=Array.isArray;function tN(e){return null!=e&&tL(e.length)&&!tR(e)}function tO(e){return tP(e)&&tN(e)}var tk=ey||tU;function tR(e){var t=tj(e)?eu.call(e):"";return t==d||t==f}function tL(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function tj(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function tP(e){return!!e&&"object"==typeof e}function tB(e){return tN(e)?e4(e):tn(e)}function tF(){return[]}function tU(){return!1}e.exports=tM},837581:function(e,t,n){e=n.nmd(e);var r=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var n=o._compress(e,6,function(e){return t.charAt(e)});switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,function(n){return i(t,e.charAt(n))})},compressToUTF16:function(t){return null==t?"":o._compress(t,15,function(t){return e(t+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=o.compress(e),n=new Uint8Array(2*t.length),r=0,i=t.length;r<i;r++){var a=t.charCodeAt(r);n[2*r]=a>>>8,n[2*r+1]=a%256}return n},decompressFromUint8Array:function(t){if(null==t)return o.decompress(t);for(var n=Array(t.length/2),r=0,i=n.length;r<i;r++)n[r]=256*t[2*r]+t[2*r+1];var a=[];return n.forEach(function(t){a.push(e(t))}),o.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,function(e){return n.charAt(e)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,function(t){return i(n,e.charAt(t))}))},compress:function(t){return o._compress(t,16,function(t){return e(t)})},_compress:function(e,t,n){if(null==e)return"";var r,i,o,a={},s={},u="",c="",l="",d=2,f=3,p=2,h=[],g=0,m=0;for(o=0;o<e.length;o+=1)if(u=e.charAt(o),Object.prototype.hasOwnProperty.call(a,u)||(a[u]=f++,s[u]=!0),c=l+u,Object.prototype.hasOwnProperty.call(a,c))l=c;else{if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(r=0;r<p;r++)g<<=1,m==t-1?(m=0,h.push(n(g)),g=0):m++;for(r=0,i=l.charCodeAt(0);r<8;r++)g=g<<1|1&i,m==t-1?(m=0,h.push(n(g)),g=0):m++,i>>=1}else{for(r=0,i=1;r<p;r++)g=g<<1|i,m==t-1?(m=0,h.push(n(g)),g=0):m++,i=0;for(r=0,i=l.charCodeAt(0);r<16;r++)g=g<<1|1&i,m==t-1?(m=0,h.push(n(g)),g=0):m++,i>>=1}0==--d&&(d=Math.pow(2,p),p++),delete s[l]}else for(r=0,i=a[l];r<p;r++)g=g<<1|1&i,m==t-1?(m=0,h.push(n(g)),g=0):m++,i>>=1;0==--d&&(d=Math.pow(2,p),p++),a[c]=f++,l=String(u)}if(""!==l){if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(r=0;r<p;r++)g<<=1,m==t-1?(m=0,h.push(n(g)),g=0):m++;for(r=0,i=l.charCodeAt(0);r<8;r++)g=g<<1|1&i,m==t-1?(m=0,h.push(n(g)),g=0):m++,i>>=1}else{for(r=0,i=1;r<p;r++)g=g<<1|i,m==t-1?(m=0,h.push(n(g)),g=0):m++,i=0;for(r=0,i=l.charCodeAt(0);r<16;r++)g=g<<1|1&i,m==t-1?(m=0,h.push(n(g)),g=0):m++,i>>=1}0==--d&&(d=Math.pow(2,p),p++),delete s[l]}else for(r=0,i=a[l];r<p;r++)g=g<<1|1&i,m==t-1?(m=0,h.push(n(g)),g=0):m++,i>>=1;0==--d&&(d=Math.pow(2,p),p++)}for(r=0,i=2;r<p;r++)g=g<<1|1&i,m==t-1?(m=0,h.push(n(g)),g=0):m++,i>>=1;for(;;){if(g<<=1,m==t-1){h.push(n(g));break}m++}return h.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(t,n,r){var i,o,a,s,u,c,l,d,f=[],p=4,h=4,g=3,m="",v=[],y={val:r(0),position:n,index:1};for(o=0;o<3;o+=1)f[o]=o;for(s=0,c=4,l=1;l!=c;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(u>0)*l,l<<=1;switch(i=s){case 0:for(s=0,c=256,l=1;l!=c;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(u>0)*l,l<<=1;d=e(s);break;case 1:for(s=0,c=65536,l=1;l!=c;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(u>0)*l,l<<=1;d=e(s);break;case 2:return""}for(f[3]=d,a=d,v.push(d);;){if(y.index>t)return"";for(s=0,c=Math.pow(2,g),l=1;l!=c;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(u>0)*l,l<<=1;switch(d=s){case 0:for(s=0,c=256,l=1;l!=c;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(u>0)*l,l<<=1;f[h++]=e(s),d=h-1,p--;break;case 1:for(s=0,c=65536,l=1;l!=c;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(u>0)*l,l<<=1;f[h++]=e(s),d=h-1,p--;break;case 2:return v.join("")}if(0==p&&(p=Math.pow(2,g),g++),f[d])m=f[d];else{if(d!==h)return null;m=a+a.charAt(0)}v.push(m),f[h++]=a+m.charAt(0),p--,a=m,0==p&&(p=Math.pow(2,g),g++)}}};return o}();"function"==typeof define&&define.amd?define(function(){return r}):null!=e?e.exports=r:"undefined"!=typeof angular&&null!=angular&&angular.module("LZString",[]).factory("LZString",function(){return r})},459273:function(e){"use strict";e.exports=Math.abs},282889:function(e){"use strict";e.exports=Math.floor},217811:function(e){"use strict";e.exports=Number.isNaN||function(e){return e!==e}},280095:function(e){"use strict";e.exports=Math.max},67237:function(e){"use strict";e.exports=Math.min},142046:function(e){"use strict";e.exports=Math.pow},838525:function(e){"use strict";e.exports=Math.round},952030:function(e,t,n){"use strict";var r=n(217811);e.exports=function(e){return r(e)||0===e?e:e<0?-1:1}},196706:function(e,t,n){!function(){var t=n(401048),r=n(306636).utf8,i=n(513149),o=n(306636).bin,a=function(e,n){e.constructor==String?e=n&&"binary"===n.encoding?o.stringToBytes(e):r.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var s=t.bytesToWords(e),u=8*e.length,c=0x67452301,l=-0x10325477,d=-0x67452302,f=0x10325476,p=0;p<s.length;p++)s[p]=(s[p]<<8|s[p]>>>24)&0xff00ff|(s[p]<<24|s[p]>>>8)&0xff00ff00;s[u>>>5]|=128<<u%32,s[(u+64>>>9<<4)+14]=u;for(var h=a._ff,g=a._gg,m=a._hh,v=a._ii,p=0;p<s.length;p+=16){var y=c,b=l,_=d,C=f;c=h(c,l,d,f,s[p+0],7,-0x28955b88),f=h(f,c,l,d,s[p+1],12,-0x173848aa),d=h(d,f,c,l,s[p+2],17,0x242070db),l=h(l,d,f,c,s[p+3],22,-0x3e423112),c=h(c,l,d,f,s[p+4],7,-0xa83f051),f=h(f,c,l,d,s[p+5],12,0x4787c62a),d=h(d,f,c,l,s[p+6],17,-0x57cfb9ed),l=h(l,d,f,c,s[p+7],22,-0x2b96aff),c=h(c,l,d,f,s[p+8],7,0x698098d8),f=h(f,c,l,d,s[p+9],12,-0x74bb0851),d=h(d,f,c,l,s[p+10],17,-42063),l=h(l,d,f,c,s[p+11],22,-0x76a32842),c=h(c,l,d,f,s[p+12],7,0x6b901122),f=h(f,c,l,d,s[p+13],12,-0x2678e6d),d=h(d,f,c,l,s[p+14],17,-0x5986bc72),l=h(l,d,f,c,s[p+15],22,0x49b40821),c=g(c,l,d,f,s[p+1],5,-0x9e1da9e),f=g(f,c,l,d,s[p+6],9,-0x3fbf4cc0),d=g(d,f,c,l,s[p+11],14,0x265e5a51),l=g(l,d,f,c,s[p+0],20,-0x16493856),c=g(c,l,d,f,s[p+5],5,-0x29d0efa3),f=g(f,c,l,d,s[p+10],9,0x2441453),d=g(d,f,c,l,s[p+15],14,-0x275e197f),l=g(l,d,f,c,s[p+4],20,-0x182c0438),c=g(c,l,d,f,s[p+9],5,0x21e1cde6),f=g(f,c,l,d,s[p+14],9,-0x3cc8f82a),d=g(d,f,c,l,s[p+3],14,-0xb2af279),l=g(l,d,f,c,s[p+8],20,0x455a14ed),c=g(c,l,d,f,s[p+13],5,-0x561c16fb),f=g(f,c,l,d,s[p+2],9,-0x3105c08),d=g(d,f,c,l,s[p+7],14,0x676f02d9),l=g(l,d,f,c,s[p+12],20,-0x72d5b376),c=m(c,l,d,f,s[p+5],4,-378558),f=m(f,c,l,d,s[p+8],11,-0x788e097f),d=m(d,f,c,l,s[p+11],16,0x6d9d6122),l=m(l,d,f,c,s[p+14],23,-0x21ac7f4),c=m(c,l,d,f,s[p+1],4,-0x5b4115bc),f=m(f,c,l,d,s[p+4],11,0x4bdecfa9),d=m(d,f,c,l,s[p+7],16,-0x944b4a0),l=m(l,d,f,c,s[p+10],23,-0x41404390),c=m(c,l,d,f,s[p+13],4,0x289b7ec6),f=m(f,c,l,d,s[p+0],11,-0x155ed806),d=m(d,f,c,l,s[p+3],16,-0x2b10cf7b),l=m(l,d,f,c,s[p+6],23,0x4881d05),c=m(c,l,d,f,s[p+9],4,-0x262b2fc7),f=m(f,c,l,d,s[p+12],11,-0x1924661b),d=m(d,f,c,l,s[p+15],16,0x1fa27cf8),l=m(l,d,f,c,s[p+2],23,-0x3b53a99b),c=v(c,l,d,f,s[p+0],6,-0xbd6ddbc),f=v(f,c,l,d,s[p+7],10,0x432aff97),d=v(d,f,c,l,s[p+14],15,-0x546bdc59),l=v(l,d,f,c,s[p+5],21,-0x36c5fc7),c=v(c,l,d,f,s[p+12],6,0x655b59c3),f=v(f,c,l,d,s[p+3],10,-0x70f3336e),d=v(d,f,c,l,s[p+10],15,-1051523),l=v(l,d,f,c,s[p+1],21,-0x7a7ba22f),c=v(c,l,d,f,s[p+8],6,0x6fa87e4f),f=v(f,c,l,d,s[p+15],10,-0x1d31920),d=v(d,f,c,l,s[p+6],15,-0x5cfebcec),l=v(l,d,f,c,s[p+13],21,0x4e0811a1),c=v(c,l,d,f,s[p+4],6,-0x8ac817e),f=v(f,c,l,d,s[p+11],10,-0x42c50dcb),d=v(d,f,c,l,s[p+2],15,0x2ad7d2bb),l=v(l,d,f,c,s[p+9],21,-0x14792c6f),c=c+y>>>0,l=l+b>>>0,d=d+_>>>0,f=f+C>>>0}return t.endian([c,l,d,f])};a._ff=function(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},a._gg=function(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},a._hh=function(e,t,n,r,i,o,a){var s=e+(t^n^r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},a._ii=function(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+(i>>>0)+a;return(s<<o|s>>>32-o)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,n){if(null==e)throw Error("Illegal argument "+e);var r=t.wordsToBytes(a(e,n));return n&&n.asBytes?r:n&&n.asString?o.bytesToString(r):t.bytesToHex(r)}}()},957699:function(e,t,n){"use strict";n.r(t);var r=Number.isNaN||function(e){return"number"==typeof e&&e!==e};function i(e,t){return!!(e===t||r(e)&&r(t))}function o(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1;return!0}t.default=function(e,t){void 0===t&&(t=o);var n,r,i=[],a=!1;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a&&n===this&&t(o,i)||(r=e.apply(this,o),a=!0,n=this,i=o),r}}},360240:function(e,t,n){var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"==typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&u&&"function"==typeof u.get?u.get:null,l=s&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,g=Object.prototype.toString,m=Function.prototype.toString,v=String.prototype.match,y=String.prototype.slice,b=String.prototype.replace,_=String.prototype.toUpperCase,C=String.prototype.toLowerCase,I=RegExp.prototype.test,E=Array.prototype.concat,w=Array.prototype.join,S=Array.prototype.slice,D=Math.floor,M="function"==typeof BigInt?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,x="function"==typeof Symbol&&"object"==typeof Symbol.iterator,N="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===x?"object":"symbol")?Symbol.toStringTag:null,O=Object.prototype.propertyIsEnumerable,k=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function R(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||I.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-D(-e):D(e);if(r!==e){var i=String(r),o=y.call(t,i.length+1);return b.call(i,n,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,n,"$&_")}var L=n(568171),j=L.custom,P=q(j)?j:null,B={__proto__:null,double:'"',single:"'"},F={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function U(e,t,n){var r=B[n.quoteStyle||t];return r+e+r}function G(e){return b.call(String(e),/"/g,"&quot;")}function W(e){return!N||!("object"==typeof e&&(N in e||void 0!==e[N]))}function Z(e){return"[object Array]"===ee(e)&&W(e)}function V(e){return"[object Date]"===ee(e)&&W(e)}function H(e){return"[object RegExp]"===ee(e)&&W(e)}function z(e){return"[object Error]"===ee(e)&&W(e)}function Y(e){return"[object String]"===ee(e)&&W(e)}function K(e){return"[object Number]"===ee(e)&&W(e)}function Q(e){return"[object Boolean]"===ee(e)&&W(e)}function q(e){if(x)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!A)return!1;try{return A.call(e),!0}catch(e){}return!1}function X(e){if(!e||"object"!=typeof e||!M)return!1;try{return M.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,i,s){var u=r||{};if($(u,"quoteStyle")&&!$(B,u.quoteStyle))throw TypeError('option "quoteStyle" must be "single" or "double"');if($(u,"maxStringLength")&&("number"==typeof u.maxStringLength?u.maxStringLength<0&&u.maxStringLength!==1/0:null!==u.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var d=!$(u,"customInspect")||u.customInspect;if("boolean"!=typeof d&&"symbol"!==d)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($(u,"indent")&&null!==u.indent&&"	"!==u.indent&&!(parseInt(u.indent,10)===u.indent&&u.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if($(u,"numericSeparator")&&"boolean"!=typeof u.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var f=u.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return ec(t,u);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var p=String(t);return f?R(t,p):p}if("bigint"==typeof t){var g=String(t)+"n";return f?R(t,g):g}var m=void 0===u.depth?5:u.depth;if(void 0===i&&(i=0),i>=m&&m>0&&"object"==typeof t)return Z(t)?"[Array]":"[Object]";var v=eg(u,i);if(void 0===s)s=[];else if(en(s,t)>=0)return"[Circular]";function _(t,n,r){if(n&&(s=S.call(s)).push(n),r){var o={depth:u.depth};return $(u,"quoteStyle")&&(o.quoteStyle=u.quoteStyle),e(t,o,i+1,s)}return e(t,u,i+1,s)}if("function"==typeof t&&!H(t)){var I=et(t),D=ev(t,_);return"[Function"+(I?": "+I:" (anonymous)")+"]"+(D.length>0?" { "+w.call(D,", ")+" }":"")}if(q(t)){var T=x?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):A.call(t);return"object"!=typeof t||x?T:ed(T)}if(eu(t)){for(var j="<"+C.call(String(t.nodeName)),F=t.attributes||[],W=0;W<F.length;W++)j+=" "+F[W].name+"="+U(G(F[W].value),"double",u);return j+=">",t.childNodes&&t.childNodes.length&&(j+="..."),j+="</"+C.call(String(t.nodeName))+">"}if(Z(t)){if(0===t.length)return"[]";var J=ev(t,_);return v&&!eh(J)?"["+em(J,v)+"]":"[ "+w.call(J,", ")+" ]"}if(z(t)){var el=ev(t,_);return"cause"in Error.prototype||!("cause"in t)||O.call(t,"cause")?0===el.length?"["+String(t)+"]":"{ ["+String(t)+"] "+w.call(el,", ")+" }":"{ ["+String(t)+"] "+w.call(E.call("[cause]: "+_(t.cause),el),", ")+" }"}if("object"==typeof t&&d){if(P&&"function"==typeof t[P]&&L)return L(t,{depth:m-i});else if("symbol"!==d&&"function"==typeof t.inspect)return t.inspect()}if(er(t)){var ey=[];return a&&a.call(t,function(e,n){ey.push(_(n,t,!0)+" => "+_(e,t))}),ep("Map",o.call(t),ey,v)}if(ea(t)){var eb=[];return l&&l.call(t,function(e){eb.push(_(e,t))}),ep("Set",c.call(t),eb,v)}if(ei(t))return ef("WeakMap");if(es(t))return ef("WeakSet");if(eo(t))return ef("WeakRef");if(K(t))return ed(_(Number(t)));if(X(t))return ed(_(M.call(t)));if(Q(t))return ed(h.call(t));if(Y(t))return ed(_(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||void 0!==n.g&&t===n.g)return"{ [object globalThis] }";if(!V(t)&&!H(t)){var e_=ev(t,_),eC=k?k(t)===Object.prototype:t instanceof Object||t.constructor===Object,eI=t instanceof Object?"":"null prototype",eE=!eC&&N&&Object(t)===t&&N in t?y.call(ee(t),8,-1):eI?"Object":"",ew=(eC||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(eE||eI?"["+w.call(E.call([],eE||[],eI||[]),": ")+"] ":"");return 0===e_.length?ew+"{}":v?ew+"{"+em(e_,v)+"}":ew+"{ "+w.call(e_,", ")+" }"}return String(t)};var J=Object.prototype.hasOwnProperty||function(e){return e in this};function $(e,t){return J.call(e,t)}function ee(e){return g.call(e)}function et(e){if(e.name)return e.name;var t=v.call(m.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function en(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return -1}function er(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}function ei(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}function eo(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}function ea(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}function es(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}function eu(e){return!!e&&"object"==typeof e&&(!!("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}function ec(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return ec(y.call(e,0,t.maxStringLength),t)+r}var i=F[t.quoteStyle||"single"];return i.lastIndex=0,U(b.call(b.call(e,i,"\\$1"),/[\x00-\x1f]/g,el),"single",t)}function el(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+_.call(t.toString(16))}function ed(e){return"Object("+e+")"}function ef(e){return e+" { ? }"}function ep(e,t,n,r){return e+" ("+t+") {"+(r?em(n,r):w.call(n,", "))+"}"}function eh(e){for(var t=0;t<e.length;t++)if(en(e[t],"\n")>=0)return!1;return!0}function eg(e,t){var n;if("	"===e.indent)n="	";else{if("number"!=typeof e.indent||!(e.indent>0))return null;n=w.call(Array(e.indent+1)," ")}return{base:n,prev:w.call(Array(t+1),n)}}function em(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+w.call(e,","+n)+"\n"+t.prev}function ev(e,t){var n,r=Z(e),i=[];if(r){i.length=e.length;for(var o=0;o<e.length;o++)i[o]=$(e,o)?t(e[o],e):""}var a="function"==typeof T?T(e):[];if(x){n={};for(var s=0;s<a.length;s++)n["$"+a[s]]=a[s]}for(var u in e)if($(e,u)&&(!r||String(Number(u))!==u||!(u<e.length)))if(x&&n["$"+u]instanceof Symbol)continue;else I.call(/[^\w$]/,u)?i.push(t(u,e)+": "+t(e[u],e)):i.push(u+": "+t(e[u],e));if("function"==typeof T)for(var c=0;c<a.length;c++)O.call(e,a[c])&&i.push("["+t(a[c])+"]: "+t(e[a[c]],e));return i}},974049:function(e,t,n){"use strict";var r=n(636257);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},240507:function(e,t,n){e.exports=n(974049)()},636257:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},725308:function(e,t,n){"use strict";e.exports=n(926039)},926039:function(e,t,n){"use strict";var r=t;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(816495),r.BufferWriter=n(690396),r.Reader=n(804199),r.BufferReader=n(419242),r.util=n(967032),r.rpc=n(763497),r.roots=n(905473),r.configure=i,i()},804199:function(e,t,n){"use strict";e.exports=u;var r,i=n(967032),o=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var c="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},l=function(){return i.Buffer?function(e){return(u.create=function(e){return i.Buffer.isBuffer(e)?new r(e):c(e)})(e)}:c};function d(){var e=new o(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw s(this,8);return new o(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}u.create=l(),u.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,u.prototype.uint32=function(){var e=0xffffffff;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return e}}(),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return f(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|f(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return(this.pos+=e,Array.isArray(this.buf))?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},u.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do if(this.pos>=this.len)throw s(this);while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!==(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){r=e,u.create=l(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(u.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},419242:function(e,t,n){"use strict";e.exports=o;var r=n(804199);(o.prototype=Object.create(r.prototype)).constructor=o;var i=n(967032);function o(e){r.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},905473:function(e){"use strict";e.exports={}},763497:function(e,t,n){"use strict";t.Service=n(206120)},206120:function(e,t,n){"use strict";e.exports=i;var r=n(967032);function i(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!n}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(e,s,t,n,i,o);if(!s.rpcImpl)return void setTimeout(function(){a(Error("already ended"))},0);try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(e,n){if(e)return s.emit("error",e,t),a(e);if(null===n)return void s.end(!0);if(!(n instanceof i))try{n=i[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",n,t),a(null,n)})}catch(e){s.emit("error",e,t),setTimeout(function(){a(e)},0);return}},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},448215:function(e,t,n){"use strict";e.exports=i;var r=n(967032);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/0x100000000>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>0xffffffff&&(n=0,++r>0xffffffff&&(r=0))),new i(n,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e))if(!r.Long)return i.fromNumber(parseInt(e,10));else e=r.Long.fromString(e);return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+0x100000000*n)}return this.lo+0x100000000*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?o:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},967032:function(e,t,n){"use strict";var r=t;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function o(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),n&&i(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(545317),r.base64=n(598660),r.EventEmitter=n(823745),r.float=n(319059),r.inquire=n(350491),r.utf8=n(768375),r.pool=n(118601),r.LongBits=n(448215),r.isNode=!!(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!!(null!=n&&e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(!!t)},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=o,r.ProtocolError=o("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;if(!e){r._Buffer_from=r._Buffer_allocUnsafe=null;return}r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}}},816495:function(e,t,n){"use strict";e.exports=d;var r,i=n(967032),o=i.LongBits,a=i.base64,s=i.utf8;function u(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function c(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}var f=function(){return i.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function p(e,t,n){t[n]=255&e}function h(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e}function g(e,t){this.len=e,this.next=void 0,this.val=t}function m(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function v(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}d.create=f(),d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,n){return this.tail=this.tail.next=new u(e,t,n),this.len+=t,this},g.prototype=Object.create(u.prototype),g.prototype.fn=h,d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new g((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(m,10,o.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=o.from(e);return this._push(m,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(m,t.length(),t)},d.prototype.bool=function(e){return this._push(p,1,+!!e)},d.prototype.fixed32=function(e){return this._push(v,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=o.from(e);return this._push(v,4,t.lo)._push(v,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var y=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(i.isString(e)){var n=d.alloc(t=a.length(e));a.decode(e,n,0),e=n}return this.uint32(t)._push(y,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(p,1,0)},d.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new u(c,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},d._configure=function(e){r=e,d.create=f(),r._configure()}},690396:function(e,t,n){"use strict";e.exports=o;var r=n(816495);(o.prototype=Object.create(r.prototype)).constructor=o;var i=n(967032);function o(){r.call(this)}function a(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},o._configure()},573285:function(e){"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC3986";e.exports={default:r,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:r}},815944:function(e,t,n){"use strict";var r=n(715377),i=n(515354);e.exports={formats:n(573285),parse:i,stringify:r}},515354:function(e,t,n){"use strict";var r=n(397508),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},s=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},u=function(e,t,n){if(e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&n>=t.arrayLimit)throw RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(1===t.arrayLimit?"":"s")+" allowed in an array.");return e},c="utf8=%26%2310003%3B",l="utf8=%E2%9C%93",d=function(e,t){var n={__proto__:null},d=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;d=d.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var f=t.parameterLimit===1/0?void 0:t.parameterLimit,p=d.split(t.delimiter,t.throwOnLimitExceeded?f+1:f);if(t.throwOnLimitExceeded&&p.length>f)throw RangeError("Parameter limit exceeded. Only "+f+" parameter"+(1===f?"":"s")+" allowed.");var h=-1,g=t.charset;if(t.charsetSentinel)for(m=0;m<p.length;++m)0===p[m].indexOf("utf8=")&&(p[m]===l?g="utf-8":p[m]===c&&(g="iso-8859-1"),h=m,m=p.length);for(m=0;m<p.length;++m)if(m!==h){var m,v,y,b=p[m],_=b.indexOf("]="),C=-1===_?b.indexOf("="):_+1;-1===C?(v=t.decoder(b,a.decoder,g,"key"),y=t.strictNullHandling?null:""):(v=t.decoder(b.slice(0,C),a.decoder,g,"key"),y=r.maybeMap(u(b.slice(C+1),t,o(n[v])?n[v].length:0),function(e){return t.decoder(e,a.decoder,g,"value")})),y&&t.interpretNumericEntities&&"iso-8859-1"===g&&(y=s(String(y))),b.indexOf("[]=")>-1&&(y=o(y)?[y]:y);var I=i.call(n,v);I&&"combine"===t.duplicates?n[v]=r.combine(n[v],y):I&&"last"!==t.duplicates||(n[v]=y)}return n},f=function(e,t,n,i){var o=0;if(e.length>0&&"[]"===e[e.length-1]){var a=e.slice(0,-1).join("");o=Array.isArray(t)&&t[a]?t[a].length:0}for(var s=i?t:u(t,n,o),c=e.length-1;c>=0;--c){var l,d=e[c];if("[]"===d&&n.parseArrays)l=n.allowEmptyArrays&&(""===s||n.strictNullHandling&&null===s)?[]:r.combine([],s);else{l=n.plainObjects?{__proto__:null}:{};var f="["===d.charAt(0)&&"]"===d.charAt(d.length-1)?d.slice(1,-1):d,p=n.decodeDotInKeys?f.replace(/%2E/g,"."):f,h=parseInt(p,10);n.parseArrays||""!==p?!isNaN(h)&&d!==p&&String(h)===p&&h>=0&&n.parseArrays&&h<=n.arrayLimit?(l=[])[h]=s:"__proto__"!==p&&(l[p]=s):l={0:s}}s=l}return s},p=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,u=n.depth>0&&a.exec(o),c=u?o.slice(0,u.index):o,l=[];if(c){if(!n.plainObjects&&i.call(Object.prototype,c)&&!n.allowPrototypes)return;l.push(c)}for(var d=0;n.depth>0&&null!==(u=s.exec(o))&&d<n.depth;){if(d+=1,!n.plainObjects&&i.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(u[1])}if(u){if(!0===n.strictDepth)throw RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");l.push("["+o.slice(u.index)+"]")}return f(l,t,n,r)}},h=function(e){if(!e)return a;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==e.throwOnLimitExceeded&&"boolean"!=typeof e.throwOnLimitExceeded)throw TypeError("`throwOnLimitExceeded` option must be a boolean");var t=void 0===e.charset?a.charset:e.charset,n=void 0===e.duplicates?a.duplicates:e.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||a.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:a.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:a.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,duplicates:n,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:a.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof e.throwOnLimitExceeded&&e.throwOnLimitExceeded}};e.exports=function(e,t){var n=h(t);if(""===e||null==e)return n.plainObjects?{__proto__:null}:{};for(var i="string"==typeof e?d(e,n):e,o=n.plainObjects?{__proto__:null}:{},a=Object.keys(i),s=0;s<a.length;++s){var u=a[s],c=p(u,i[u],n,"string"==typeof e);o=r.merge(o,c,n)}return!0===n.allowSparse?o:r.compact(o)}},715377:function(e,t,n){"use strict";var r=n(60316),i=n(397508),o=n(573285),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},u=Array.isArray,c=Array.prototype.push,l=function(e,t){c.apply(e,u(t)?t:[t])},d=Date.prototype.toISOString,f=o.default,p={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,filter:void 0,format:f,formatter:o.formatters[f],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},h=function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e},g={},m=function e(t,n,o,a,s,c,d,f,m,v,y,b,_,C,I,E,w,S){for(var D,M=t,T=S,A=0,x=!1;void 0!==(T=T.get(g))&&!x;){var N=T.get(t);if(A+=1,void 0!==N)if(N===A)throw RangeError("Cyclic object value");else x=!0;void 0===T.get(g)&&(A=0)}if("function"==typeof v?M=v(n,M):M instanceof Date?M=_(M):"comma"===o&&u(M)&&(M=i.maybeMap(M,function(e){return e instanceof Date?_(e):e})),null===M){if(c)return m&&!E?m(n,p.encoder,w,"key",C):n;M=""}if(h(M)||i.isBuffer(M))return m?[I(E?n:m(n,p.encoder,w,"key",C))+"="+I(m(M,p.encoder,w,"value",C))]:[I(n)+"="+I(String(M))];var O=[];if(void 0===M)return O;if("comma"===o&&u(M))E&&m&&(M=i.maybeMap(M,m)),D=[{value:M.length>0?M.join(",")||null:void 0}];else if(u(v))D=v;else{var k=Object.keys(M);D=y?k.sort(y):k}var R=f?String(n).replace(/\./g,"%2E"):String(n),L=a&&u(M)&&1===M.length?R+"[]":R;if(s&&u(M)&&0===M.length)return L+"[]";for(var j=0;j<D.length;++j){var P=D[j],B="object"==typeof P&&P&&void 0!==P.value?P.value:M[P];if(!d||null!==B){var F=b&&f?String(P).replace(/\./g,"%2E"):String(P),U=u(M)?"function"==typeof o?o(L,F):L:L+(b?"."+F:"["+F+"]");S.set(t,A);var G=r();G.set(g,S),l(O,e(B,U,o,a,s,c,d,f,"comma"===o&&E&&u(M)?null:m,v,y,b,_,C,I,E,w,G))}}return O},v=function(e){if(!e)return p;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");var t,n=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if(void 0!==e.format){if(!a.call(o.formatters,e.format))throw TypeError("Unknown format option provided.");r=e.format}var i=o.formatters[r],c=p.filter;if(("function"==typeof e.filter||u(e.filter))&&(c=e.filter),t=e.arrayFormat in s?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":p.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");var l=void 0===e.allowDots?!0===e.encodeDotInKeys||p.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:l,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:p.allowEmptyArrays,arrayFormat:t,charset:n,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:p.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:c,format:r,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}};e.exports=function(e,t){var n,i,o=e,a=v(t);"function"==typeof a.filter?o=(i=a.filter)("",o):u(a.filter)&&(n=i=a.filter);var c=[];if("object"!=typeof o||null===o)return"";var d=s[a.arrayFormat],f="comma"===d&&a.commaRoundTrip;n||(n=Object.keys(o)),a.sort&&n.sort(a.sort);for(var p=r(),h=0;h<n.length;++h){var g=n[h],y=o[g];a.skipNulls&&null===y||l(c,m(y,g,d,f,a.allowEmptyArrays,a.strictNullHandling,a.skipNulls,a.encodeDotInKeys,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset,p))}var b=c.join(a.delimiter),_=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&("iso-8859-1"===a.charset?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),b.length>0?_+b:""}},397508:function(e,t,n){"use strict";var r=n(573285),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}},u=function(e,t){for(var n=t&&t.plainObjects?{__proto__:null}:{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},c=function e(t,n,r){if(!n)return t;if("object"!=typeof n&&"function"!=typeof n){if(o(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var a=t;return(o(t)&&!o(n)&&(a=u(t,r)),o(t)&&o(n))?(n.forEach(function(n,o){if(i.call(t,o)){var a=t[o];a&&"object"==typeof a&&n&&"object"==typeof n?t[o]=e(a,n,r):t.push(n)}else t[o]=n}),t):Object.keys(n).reduce(function(t,o){var a=n[o];return i.call(t,o)?t[o]=e(t[o],a,r):t[o]=a,t},a)},l=1024;e.exports={arrayToObject:u,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],o=i.obj[i.prop],a=Object.keys(o),u=0;u<a.length;++u){var c=a[u],l=o[c];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:o,prop:c}),n.push(l))}return s(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,i,o){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var u="",c=0;c<s.length;c+=l){for(var d=s.length>=l?s.slice(c,c+l):s,f=[],p=0;p<d.length;++p){var h=d.charCodeAt(p);if(45===h||46===h||95===h||126===h||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||o===r.RFC1738&&(40===h||41===h)){f[f.length]=d.charAt(p);continue}if(h<128){f[f.length]=a[h];continue}if(h<2048){f[f.length]=a[192|h>>6]+a[128|63&h];continue}if(h<55296||h>=57344){f[f.length]=a[224|h>>12]+a[128|h>>6&63]+a[128|63&h];continue}p+=1,h=65536+((1023&h)<<10|1023&d.charCodeAt(p)),f[f.length]=a[240|h>>18]+a[128|h>>12&63]+a[128|h>>6&63]+a[128|63&h]}u+=f.join("")}return u},isBuffer:function(e){return!!e&&"object"==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:c}},157682:function(e,t,n){"use strict";let r=n(245632),i=n(154525),o=n(734214),a=n(401469),s=e=>null==e,u=Symbol("encodeFragmentIdentifier");function c(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{let i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[f(t,e),"[",i,"]"].join("")]:[...n,[f(t,e),"[",f(i,e),"]=",f(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[f(t,e),"[]"].join("")]:[...n,[f(t,e),"[]=",f(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[f(t,e),":list="].join("")]:[...n,[f(t,e),":list=",f(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t="bracket-separator"===e.arrayFormat?"[]=":"=";return n=>(r,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?r:(i=null===i?"":i,0===r.length)?[[f(n,e),t,f(i,e)].join("")]:[[r,f(i,e)].join(e.arrayFormatSeparator)]}default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,f(t,e)]:[...n,[f(t,e),"=",f(r,e)].join("")]}}function l(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t){r[e]=n;return}void 0===r[e]&&(r[e]={}),r[e][t[1]]=n};case"bracket":return(e,n,r)=>{if(t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),!t){r[e]=n;return}if(void 0===r[e]){r[e]=[n];return}r[e]=[].concat(r[e],n)};case"colon-list-separator":return(e,n,r)=>{if(t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),!t){r[e]=n;return}if(void 0===r[e]){r[e]=[n];return}r[e]=[].concat(r[e],n)};case"comma":case"separator":return(t,n,r)=>{let i="string"==typeof n&&n.includes(e.arrayFormatSeparator),o="string"==typeof n&&!i&&p(n,e).includes(e.arrayFormatSeparator);n=o?p(n,e):n;let a=i||o?n.split(e.arrayFormatSeparator).map(t=>p(t,e)):null===n?n:p(n,e);r[t]=a};case"bracket-separator":return(t,n,r)=>{let i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!i){r[t]=n?p(n,e):n;return}let o=null===n?[]:n.split(e.arrayFormatSeparator).map(t=>p(t,e));if(void 0===r[t]){r[t]=o;return}r[t]=[].concat(r[t],o)};default:return(e,t,n)=>{if(void 0===n[e]){n[e]=t;return}n[e]=[].concat(n[e],t)}}}function d(e){if("string"!=typeof e||1!==e.length)throw TypeError("arrayFormatSeparator must be single character string")}function f(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function p(e,t){return t.decode?i(e):e}function h(e){return Array.isArray(e)?e.sort():"object"==typeof e?h(Object.keys(e)).sort((e,t)=>Number(e)-Number(t)).map(t=>e[t]):e}function g(e){let t=e.indexOf("#");return -1!==t&&(e=e.slice(0,t)),e}function m(e){let t="",n=e.indexOf("#");return -1!==n&&(t=e.slice(n)),t}function v(e){let t=(e=g(e)).indexOf("?");return -1===t?"":e.slice(t+1)}function y(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):t.parseBooleans&&null!==e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())&&(e="true"===e.toLowerCase()),e}function b(e,t){d((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);let n=l(t),r=Object.create(null);if("string"!=typeof e||!(e=e.trim().replace(/^[?#&]/,"")))return r;for(let i of e.split("&")){if(""===i)continue;let[e,a]=o(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:p(a,t),n(p(e,t),a,r)}for(let e of Object.keys(r)){let n=r[e];if("object"==typeof n&&null!==n)for(let e of Object.keys(n))n[e]=y(n[e],t);else r[e]=y(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((e,t)=>{let n=r[t];return n&&"object"==typeof n&&!Array.isArray(n)?e[t]=h(n):e[t]=n,e},Object.create(null))}t.extract=v,t.parse=b,t.stringify=(e,t)=>{if(!e)return"";d((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);let n=n=>t.skipNull&&s(e[n])||t.skipEmptyString&&""===e[n],r=c(t),i={};for(let t of Object.keys(e))n(t)||(i[t]=e[t]);let o=Object.keys(i);return!1!==t.sort&&o.sort(t.sort),o.map(n=>{let i=e[n];return void 0===i?"":null===i?f(n,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?f(n,t)+"[]":i.reduce(r(n),[]).join("&"):f(n,t)+"="+f(i,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);let[n,r]=o(e,"#");return Object.assign({url:n.split("?")[0]||"",query:b(v(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:p(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0,[u]:!0},n);let r=g(e.url).split("?")[0]||"",i=t.extract(e.url),o=Object.assign(t.parse(i,{sort:!1}),e.query),a=t.stringify(o,n);a&&(a=`?${a}`);let s=m(e.url);return e.fragmentIdentifier&&(s=`#${n[u]?f(e.fragmentIdentifier,n):e.fragmentIdentifier}`),`${r}${a}${s}`},t.pick=(e,n,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[u]:!1},r);let{url:i,query:o,fragmentIdentifier:s}=t.parseUrl(e,r);return t.stringifyUrl({url:i,query:a(o,n),fragmentIdentifier:s},r)},t.exclude=(e,n,r)=>{let i=Array.isArray(n)?e=>!n.includes(e):(e,t)=>!n(e,t);return t.pick(e,i,r)}},679204:function(e){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e,r,i,o,a){!function e(n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=r-i+1,c=Math.log(s),l=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*l*(s-l)/s)*(u-s/2<0?-1:1),f=Math.max(i,Math.floor(r-u*l/s+d)),p=Math.min(o,Math.floor(r+(s-u)*l/s+d));e(n,r,f,p,a)}var h=n[r],g=i,m=o;for(t(n,i,r),a(n[o],h)>0&&t(n,i,o);g<m;){for(t(n,g,m),g++,m--;a(n[g],h)<0;)g++;for(;a(n[m],h)>0;)m--}0===a(n[i],h)?t(n,i,m):t(n,++m,o),m<=r&&(i=m+1),r<=m&&(o=m-1)}}(e,r,i||0,o||e.length-1,a||n)}function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function n(e,t){return e<t?-1:+(e>t)}var r=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return -1}function o(e,t){a(e,0,e.children.length,t,e)}function a(e,t,n,r,i){i||(i=h(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=t;o<n;o++){var a=e.children[o];s(i,e.leaf?r(a):a)}return i}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function u(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function l(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function d(e){return e.maxX-e.minX+(e.maxY-e.minY)}function f(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function p(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function h(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,n,r,i,o){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=i)){var s=n+Math.ceil((r-n)/i/2)*i;e(t,s,n,r,o),a.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(e){var t=this.data,n=[];if(!p(e,t))return n;for(var r=this.toBBox,i=[];t;){for(var o=0;o<t.children.length;o++){var a=t.children[o],s=t.leaf?r(a):a;p(e,s)&&(t.leaf?n.push(a):f(e,s)?this._all(a,n):i.push(a))}t=i.pop()}return n},r.prototype.collides=function(e){var t=this.data;if(!p(e,t))return!1;for(var n=[];t;){for(var r=0;r<t.children.length;r++){var i=t.children[r],o=t.leaf?this.toBBox(i):i;if(p(e,o)){if(t.leaf||f(e,o))return!0;n.push(i)}}t=n.pop()}return!1},r.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},r.prototype.clear=function(){return this.data=h([]),this},r.prototype.remove=function(e,t){if(!e)return this;for(var n,r,o,a=this.data,s=this.toBBox(e),u=[],c=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],n=c.pop(),o=!0),a.leaf){var l=i(e,a.children,t);if(-1!==l)return a.children.splice(l,1),u.push(a),this._condense(u),this}o||a.leaf||!f(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(u.push(a),c.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(e){return e},r.prototype.compareMinX=function(e,t){return e.minX-t.minX},r.prototype.compareMinY=function(e,t){return e.minY-t.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(e){return this.data=e,this},r.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},r.prototype._build=function(e,t,n,r){var i,a=n-t+1,s=this._maxEntries;if(a<=s)return o(i=h(e.slice(t,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),(i=h([])).leaf=!1,i.height=r;var u=Math.ceil(a/s),c=u*Math.ceil(Math.sqrt(s));g(e,t,n,c,this.compareMinX);for(var l=t;l<=n;l+=c){var d=Math.min(l+c-1,n);g(e,l,d,u,this.compareMinY);for(var f=l;f<=d;f+=u){var p=Math.min(f+u-1,d);i.children.push(this._build(e,f,p,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){for(var i,o,a=1/0,s=1/0,u=void 0,c=0;c<t.children.length;c++){var d=t.children[c],f=l(d),p=(i=e,(Math.max((o=d).maxX,i.maxX)-Math.min(o.minX,i.minX))*(Math.max(o.maxY,i.maxY)-Math.min(o.minY,i.minY))-f);p<s?(s=p,a=f<a?f:a,u=d):p===s&&f<a&&(a=f,u=d)}t=u||t.children[0]}return t},r.prototype._insert=function(e,t,n){var r=n?e:this.toBBox(e),i=[],o=this._chooseSubtree(r,this.data,t,i);for(o.children.push(e),s(o,r);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(r,i,t)},r.prototype._split=function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var a=this._chooseSplitIndex(n,i,r),s=h(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,o(n,this.toBBox),o(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(e,t){this.data=h([e,t]),this.data.height=e.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(e,t,n){for(var r,i,o,s,u,c,d,f=1/0,p=1/0,h=t;h<=n-t;h++){var g=a(e,0,h,this.toBBox),m=a(e,h,n,this.toBBox),v=(i=g,o=m,s=void 0,u=void 0,c=void 0,d=void 0,s=Math.max(i.minX,o.minX),u=Math.max(i.minY,o.minY),Math.max(0,(c=Math.min(i.maxX,o.maxX))-s)*Math.max(0,(d=Math.min(i.maxY,o.maxY))-u)),y=l(g)+l(m);v<f?(f=v,r=h,p=y<p?y:p):v===f&&y<p&&(p=y,r=h)}return r||n-t},r.prototype._chooseSplitAxis=function(e,t,n){var r=e.leaf?this.compareMinX:u,i=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},r.prototype._allDistMargin=function(e,t,n,r){e.children.sort(r);for(var i=this.toBBox,o=a(e,0,t,i),u=a(e,n-t,n,i),c=d(o)+d(u),l=t;l<n-t;l++){var f=e.children[l];s(o,e.leaf?i(f):f),c+=d(o)}for(var p=n-t-1;p>=t;p--){var h=e.children[p];s(u,e.leaf?i(h):h),c+=d(u)}return c},r.prototype._adjustParentBBoxes=function(e,t,n){for(var r=n;r>=0;r--)s(t[r],e)},r.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():o(e[t],this.toBBox)},r})},359793:function(e,t,n){"use strict";var r=n(360240),i=n(229837),o=function(e,t,n){for(var r,i=e;null!=(r=i.next);i=r)if(r.key===t)return i.next=r.next,n||(r.next=e.next,e.next=r),r},a=function(e,t){if(e){var n=o(e,t);return n&&n.value}},s=function(e,t,n){var r=o(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},u=function(e,t){return!!e&&!!o(e,t)},c=function(e,t){if(e)return o(e,t,!0)};e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new i("Side channel does not contain "+r(e))},delete:function(t){var n=e&&e.next,r=c(e,t);return r&&n&&n===r&&(e=void 0),!!r},get:function(t){return a(e,t)},has:function(t){return u(e,t)},set:function(t,n){e||(e={next:void 0}),s(e,t,n)}};return t}},878373:function(e,t,n){"use strict";var r=n(539925),i=n(458350),o=n(360240),a=n(229837),s=r("%Map%",!0),u=i("Map.prototype.get",!0),c=i("Map.prototype.set",!0),l=i("Map.prototype.has",!0),d=i("Map.prototype.delete",!0),f=i("Map.prototype.size",!0);e.exports=!!s&&function(){var e,t={assert:function(e){if(!t.has(e))throw new a("Side channel does not contain "+o(e))},delete:function(t){if(e){var n=d(e,t);return 0===f(e)&&(e=void 0),n}return!1},get:function(t){if(e)return u(e,t)},has:function(t){return!!e&&l(e,t)},set:function(t,n){e||(e=new s),c(e,t,n)}};return t}},878511:function(e,t,n){"use strict";var r=n(539925),i=n(458350),o=n(360240),a=n(878373),s=n(229837),u=r("%WeakMap%",!0),c=i("WeakMap.prototype.get",!0),l=i("WeakMap.prototype.set",!0),d=i("WeakMap.prototype.has",!0),f=i("WeakMap.prototype.delete",!0);e.exports=u?function(){var e,t,n={assert:function(e){if(!n.has(e))throw new s("Side channel does not contain "+o(e))},delete:function(n){if(u&&n&&("object"==typeof n||"function"==typeof n)){if(e)return f(e,n)}else if(a&&t)return t.delete(n);return!1},get:function(n){return u&&n&&("object"==typeof n||"function"==typeof n)&&e?c(e,n):t&&t.get(n)},has:function(n){return u&&n&&("object"==typeof n||"function"==typeof n)&&e?d(e,n):!!t&&t.has(n)},set:function(n,r){u&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new u),l(e,n,r)):a&&(t||(t=a()),t.set(n,r))}};return n}:a},60316:function(e,t,n){"use strict";var r=n(229837),i=n(360240),o=n(359793),a=n(878373),s=n(878511)||a||o;e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new r("Side channel does not contain "+i(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,n){e||(e=s()),e.set(t,n)}};return t}},734214:function(e){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];let n=e.indexOf(t);return -1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},997420:function(e,t){!function(e,n){n(t)}(0,function(e){"use strict";function t(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}function n(e){return t("Boolean",e)}function r(e){return t("Number",e)}function i(e){return t("String",e)}function o(e){return t("Function",e)}function a(e){return t("Array",e)}function s(e){return t("Date",e)}function u(e){return t("RegExp",e)}function c(e){return t("Object",e)}function l(e){return t("Error",e)}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(var r in e)if(e.hasOwnProperty(r)){var i=c(e[r]),o=a(e[r]);i||o?n&&(i?(t[r]={},d(e[r],t[r],n-1)):o&&(t[r]=[],d(e[r],t[r],n-1))):t[r]=e[r]}}function f(e){return c(e)?JSON.stringify(e):e}function p(e){return c(e)?e:JSON.parse(e)}var h=void 0!==h?h:{};"undefined"!=typeof window?h=window:"undefined"!=typeof self&&(h=self);var g=h;function m(e,t,n,r,i){var o=new Date;o.setTime(o.getTime()+(n?864e5*n:2592e6)),g.document&&(document.cookie=e+"="+encodeURIComponent(f(t))+";expires="+o.toGMTString()+";path="+(r||"/")+";"+(i?"domain="+i+";":""))}function v(e,t,n){var r=new Date(0);g.document&&(document.cookie=e+"=;expires="+r.toUTCString()+";path="+(t||"/")+";"+(n?"domain="+n+";":""))}function y(e){var t=RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)"),n="";return g.document&&(n=g.document.cookie.match(t)),(n?n[1]:"")||null}function b(e,t){if(e){var n=t,r=s(e)?e:new Date(e),i={"M+":r.getMonth()+1,"d+":r.getDate(),"h+":r.getHours()%12===0?12:r.getHours()%12,"H+":r.getHours(),"m+":r.getMinutes(),"s+":r.getSeconds(),"q+":Math.floor((r.getMonth()+3)/3),S:r.getMilliseconds()},o={0:"\u65E5",1:"\u4E00",2:"\u4E8C",3:"\u4E09",4:"\u56DB",5:"\u4E94",6:"\u516D"};for(var a in/(y+)/.test(n)&&(n=n.replace(RegExp.$1,String(r.getFullYear()).substr(4-RegExp.$1.length))),/(E+)/.test(n)&&(n=n.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"\u661F\u671F":"\u5468":"")+o[String(r.getDay())])),i)RegExp("("+a+")").test(n)&&(n=n.replace(RegExp.$1,1===RegExp.$1.length?i[a]:("00"+i[a]).substr(String(i[a]).length)));return n}}function _(e,t){var n=f(t);void 0!==g.Storage?localStorage.setItem(e,n):m(e,n)}function C(e){return void 0!==g.Storage?localStorage.getItem(e):y(e)}function I(e){void 0!==g.Storage?delete localStorage[e]:v(e)}function E(e){if(g.document){var t=document.createElement("iframe");t.src=e,t.height=0,t.width=0,t.style.cssText="display: none",document.body.appendChild(t),setTimeout(function(){document.body.removeChild(t),t=null},2e3)}}function w(e){var t="";return e&&0!==e.length?t=(t=(t=(t=(t=(t=(t=e.replace(/&/g,"&#38;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/\'/g,"&#39;")).replace(/\"/g,"&quot;")).replace(/ /g,"&nbsp;")).replace(/\n/g,"<br>"):""}function S(e){var t="";return 0===e.length?"":t=(t=(t=(t=(t=(t=(t=e.replace(/&#38;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&#39;/g,"'")).replace(/&quot;/g,'"')).replace(/&nbsp;/g," ")).replace(/<br>/g,"\n")}var D={_getHash:function(){return g.location.hash},_getSearch:function(){return g.location.search}};function M(e){var t="";return g.location&&(t=D._getHash().match(RegExp("(#|&)"+e+"=([^&#]*)(#|&|$)"))),t?decodeURIComponent(t[2]):""}function T(e){var t="";return g.location&&(t=D._getSearch().match(RegExp("(\\?|&)"+e+"=([^&]*)(#|&|$)"))),t?decodeURIComponent(t[2]):""}function A(e){var t="",n=g.location;return n&&(t=D._getSearch().match(RegExp("(\\?|#|&)"+e+"=([^&]*)(#|&|$)"))),!t&&n&&(t=D._getHash().match(RegExp("(#|&)"+e+"=([^&#]*)(#|&|$)"))),t?decodeURIComponent(t[2]):""}e.extend=d,e.setCookie=m,e.delCookie=v,e.getCookie=y,e.formatDate=b,e.setItem=_,e.getItem=C,e.delItem=I,e.callApi=E,e.encodeHTML=w,e.decodeHTML=S,e.isType=t,e.isBoolean=n,e.isNumber=r,e.isString=i,e.isFunction=o,e.isArray=a,e.isDate=s,e.isRegExp=u,e.isObject=c,e.isError=l,e.getHash=M,e.getUrlParam=A,e.getQuery=T,e._stringify=f,e._parse=p,Object.defineProperty(e,"__esModule",{value:!0})})},795591:function(e,t){!function(e,n){n(t)}(0,function(e){"use strict";function t(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}var n=new(function(){function e(){t(this,e)}return e.prototype.injectReporter=function(e,t){this.reporter=e,this.cb=t},e.prototype.report=function(){this.cb(this.reporter)},e}()),r=void 0!==r?r:{};"undefined"!=typeof window?r=window:"undefined"!=typeof self&&(r=self);var i={dataReturnSuccessCondition:function(){return!0},beforeRequest:function(e){return e},beforeResponse:function(e,t,n){t(e)}},o=4,a=200;function s(){}function u(e){var t=i.beforeRequest(e),n={};return n.url=t.url,n.paramObj=t.param||{},n.successCb=t.success||s,n.errorCb=t.error||s,n.localData=t.localData||null,n.xhrFields=t.xhrFields||{},n.headers=t.headers||{},n.method=t.ajaxType||"GET",n.dataType=t.dataType||"json",n.async=t.async,n.timeout=t.timeout,n.method=n.method.toUpperCase(),n}function c(){for(var e=null,t=[function(){return new XMLHttpRequest},function(){return new XDomainRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.xmlhttp")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=0,r=t.length;n<r;n++){try{e=t[n]()}catch(e){continue}break}return e}function l(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function d(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]="string"==typeof r?encodeURIComponent(r):r}return JSON.stringify(t)}function f(e,t){var n=e;return n+((e.indexOf("?")>0?"&":"?")+t)}function p(e,t,n){if(e.setRequestHeader){t["Content-type"]||"GET"!==n&&"POST"!==n||e.setRequestHeader("Content-type","application/x-www-form-urlencoded");var r=t||{};for(var i in r)r.hasOwnProperty(i)&&e.setRequestHeader(i,r[i])}}function h(e,t){e.withCredentials=!0,!1===t.withCredentials&&(e.withCredentials=!1)}function g(e){i.dataReturnSuccessCondition=e.dataReturnSuccessCondition||i.dataReturnSuccessCondition,i.beforeRequest=e.beforeRequest||i.beforeRequest,i.beforeResponse=e.beforeResponse||i.beforeResponse}function m(e){var t=u(e),n=l(t.paramObj),r=f(t.url,n),i=C(t);i&&(i.open("GET",r,!0),I(i,t),h(i,t.xhrFields),p(i,t.headers,"GET"),i.send())}function v(e){var t=u(e),n="",r=t.url,i=C(t);i&&(i.open("POST",r,!0),e.type&&"json"===e.type?(n=d(t.paramObj),t.headers["Content-type"]="application/json"):e.type&&"raw"===e.type?(t.headers["Content-type"]="application/json",n="[object object]"===Object.prototype.toString.call(t.paramObj)?JSON.stringify(t.paramObj):t.paramObj):n=l(t.paramObj),I(i,t),h(i,t.xhrFields),p(i,t.headers,"POST"),i.send(n))}function y(e){var t=u(e),n=t.url,r=C(t);r&&(r.open("POST",n,!0),I(r,t),h(r,t.xhrFields),p(r,t.headers,"FORM"),r.send(t.paramObj))}function b(e){var t=u(e);if(!t.paramObj)throw Error("Please provide parameter for jsonp");function n(e){setTimeout(function(){e.parentNode.removeChild(e)},200)}t.paramObj.jsonCbName||(t.paramObj.jsonCbName="jsonCb_"+Date.now()),t.paramObj.callback=t.paramObj.jsonCbName,delete t.paramObj.jsonCbName,r[t.paramObj.callback]=function(e){if(t.localData)return void _(t.localData,t);_(e,t),n(a)};var i=l(t.paramObj),o=f(t.url,i),a=r&&r.document?r.document.createElement("script"):{},s=r&&r.document?r.document.getElementsByTagName("head")[0]:{};a.src=o,s.appendChild(a),a.onerror=function(e){t.errorCb({errCode:e}),n(a)}}function _(e,t){i.beforeResponse(e,function(e){i.dataReturnSuccessCondition(e)?t.successCb(e):t.errorCb(e)},t.errorCb)}function C(e){var t=c();if(!t)throw Error("XMLHttp is not defined");return e.localData?void _(e.localData,e):(t.async=!1!==e.async,t.onreadystatechange=function(){if(t.readyState===o)if(t.status===a){var r=t.responseText;if("json"===e.dataType)try{r=JSON.parse(t.responseText)}catch(e){if(n.reporter)n.report();else throw e}_(r,e)}else e.errorCb({errCode:t.status})},t.onerror=function(){e.errorCb({errCode:-1})},t.ontimeout=function(){e.errorCb({errCode:-2})},t)}function I(e,t){t.timeout&&(e.timeout=t.timeout)}var E={ajax:function(e){switch(u(e).method){case"JSONP":b(e);break;case"GET":m(e);break;case"POST":v(e);break;case"FORM":y(e)}},ajaxGet:m,ajaxPost:v,ajaxForm:y,ajaxJsonp:b,ajaxInit:g,reporter:n};e.ajaxInit=g,e.ajaxGet=m,e.ajaxPost=v,e.ajaxForm=y,e.ajaxJsonp=b,e.default=E,Object.defineProperty(e,"__esModule",{value:!0})})},245632:function(e){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},892674:function(e,t,n){var r=n(862335),i=n(685234),o=i;o.v1=r,o.v4=i,e.exports=o},140614:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},210537:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=Array(16);e.exports=function(){for(var e,t=0;t<16;t++)(3&t)===0&&(e=0x100000000*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},862335:function(e,t,n){var r,i,o=n(210537),a=n(140614),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==f){var p=o();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=i=(p[6]<<8|p[7])&16383)}var h=void 0!==e.msecs?e.msecs:new Date().getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,m=h-s+(g-u)/1e4;if(m<0&&void 0===e.clockseq&&(f=f+1&16383),(m<0||h>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=g,i=f;var v=((0xfffffff&(h+=122192928e5))*1e4+g)%0x100000000;l[c++]=v>>>24&255,l[c++]=v>>>16&255,l[c++]=v>>>8&255,l[c++]=255&v;var y=h/0x100000000*1e4&0xfffffff;l[c++]=y>>>8&255,l[c++]=255&y,l[c++]=y>>>24&15|16,l[c++]=y>>>16&255,l[c++]=f>>>8|128,l[c++]=255&f;for(var b=0;b<6;++b)l[c+b]=d[b];return t||a(l)}},685234:function(e,t,n){var r=n(210537),i=n(140614);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},42693:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r,i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}for(var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=function(e){return"string"==typeof e&&a.test(e)},u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n},d=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return l(r)}},511108:function(e,t,n){"use strict";e.exports=n.p+"assets/application-vnd.ms-excel.4ae001de5b47a709.svg"},146315:function(e,t,n){"use strict";e.exports=n.p+"assets/application-vnd.ms-powerpoint.eebc495a8a8bebb5.svg"},337292:function(e,t,n){"use strict";e.exports=n.p+"assets/application-vnd.ms-word.eef15638ac174dfe.svg"},917310:function(e,t,n){"use strict";e.exports=n.p+"assets/application-vnd.tdocs-apps.board.9b8087ab9a17d13a.svg"},543654:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMy4yNSA0LjM0NGMwLS44NjMuNy0xLjU2MyAxLjU2My0xLjU2M2gxNC4zNzVjLjg2MiAwIDEuNTYyLjcgMS41NjIgMS41NjN2MTUuMzEyYzAgLjg2My0uNyAxLjU2My0xLjU2MiAxLjU2M0g0LjgxM2MtLjg2MyAwLTEuNTYzLS43LTEuNTYzLTEuNTYzeiIvPjxwYXRoIGZpbGw9IiM0QjhERkYiIGZpbGwtb3BhY2l0eT0iLjY0IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOS4xODggMy43MTlINC44MTNhLjYyNS42MjUgMCAwIDAtLjYyNS42MjV2MTUuMzEyYzAgLjM0NS4yOC42MjUuNjI1LjYyNWgxNC4zNzVjLjM0NSAwIC42MjUtLjI4LjYyNS0uNjI1VjQuMzQ0YS42MjUuNjI1IDAgMCAwLS42MjUtLjYyNU00LjgxMyAyLjc4Yy0uODYzIDAtMS41NjMuNy0xLjU2MyAxLjU2M3YxNS4zMTJjMCAuODYzLjcgMS41NjMgMS41NjMgMS41NjNoMTQuMzc1Yy44NjIgMCAxLjU2Mi0uNyAxLjU2Mi0xLjU2M1Y0LjM0NGMwLS44NjMtLjctMS41NjMtMS41NjItMS41NjN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMjUyNV81MTgxMCkiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYuMzc1IDYuNDM4YzAtLjIwOC4xNjgtLjM3NS4zNzUtLjM3NWgxMC41Yy4yMDcgMCAuMzc1LjE2Ny4zNzUuMzc1djExLjEyNWEuMzc1LjM3NSAwIDAgMS0uMzc1LjM3NUg2Ljc1YS4zNzUuMzc1IDAgMCAxLS4zNzUtLjM3NXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiNmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjk5OSA2LjA2M2gtMS44NzZ2MS44NTVIMTJ2MS44NTVoLTEuODc2djEuODU2SDEydjEuODU1aDEuODc0VjExLjYzSDEyVjkuNzczaDEuODc0VjcuOTE4SDEyeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzI1MjVfNTE4MTAiIHgxPSI5LjQxMSIgeDI9IjguOTMyIiB5MT0iOC4zOTMiIHkyPSIxOC4xMTkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBzdG9wLWNvbG9yPSIjNUE5N0ZGIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjNEI4REZGIi8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PC9zdmc+"},916913:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMy4yNSA0LjM0NGMwLS44NjMuNy0xLjU2MyAxLjU2My0xLjU2M2gxNC4zNzVjLjg2MiAwIDEuNTYyLjcgMS41NjIgMS41NjN2MTUuMzEyYzAgLjg2My0uNyAxLjU2My0xLjU2MiAxLjU2M0g0LjgxM2MtLjg2MyAwLTEuNTYzLS43LTEuNTYzLTEuNTYzeiIvPjxwYXRoIGZpbGw9IiMwMEFBNUIiIGZpbGwtb3BhY2l0eT0iLjY0IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOS4xODggMy43MTlINC44MTNhLjYyNS42MjUgMCAwIDAtLjYyNS42MjV2MTUuMzEyYzAgLjM0NS4yOC42MjUuNjI1LjYyNWgxNC4zNzVjLjM0NSAwIC42MjUtLjI4LjYyNS0uNjI1VjQuMzQ0YS42MjUuNjI1IDAgMCAwLS42MjUtLjYyNU00LjgxMyAyLjc4Yy0uODYzIDAtMS41NjMuNy0xLjU2MyAxLjU2M3YxNS4zMTJjMCAuODYzLjcgMS41NjMgMS41NjMgMS41NjNoMTQuMzc1Yy44NjIgMCAxLjU2Mi0uNyAxLjU2Mi0xLjU2M1Y0LjM0NGMwLS44NjMtLjctMS41NjMtMS41NjItMS41NjN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMjUyMF81MzAzMCkiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTguMDIgNy4zMWMwLS4wNC4wMy0uMDcyLjA2OC0uMDc2bDguOTgzLS45MzRhLjA3Ny4wNzcgMCAwIDEgLjA4NS4wNzZ2MS4wMjJsLjAwMS4wMDFxLjAwMSAwIC4wMDIuMDAydjUuODU1cTAgLjAwNC4wMDQuMDA0LjAwMyAwIC4wMDQuMDAzdjIuNzg2YS4wOC4wOCAwIDAgMS0uMDU3LjA3NWwtMy40MzUuOTFhLjA3Ny4wNzcgMCAwIDEtLjA5Ny0uMDc1di0yLjY5MWMwLS4wMzUuMDI0LS4wNjYuMDU4LS4wNzVsMS41MDctLjM5OWEuMDguMDggMCAwIDAgLjA1OC0uMDc0VjguNTg5YS4wNzcuMDc3IDAgMCAwLS4wODYtLjA3N2wtNS4wNy41NjNhLjA4LjA4IDAgMCAwLS4wNjguMDc2djQuNzM5cTAgLjAwMy4wMDUuMDAzLjAwNCAwIC4wMDQuMDAzdjIuNzg3YS4wOC4wOCAwIDAgMS0uMDU3LjA3NGwtMy40MzUuOTFhLjA3Ny4wNzcgMCAwIDEtLjA5Ny0uMDc1di0yLjY5MWMwLS4wMzUuMDIzLS4wNjUuMDU3LS4wNzRsMS41MDgtLjRhLjA4LjA4IDAgMCAwIC4wNTctLjA3NFY3LjMxIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMjUyMF81MzAzMCIgeDE9IjE2LjY1NSIgeDI9IjcuNzUyIiB5MT0iNy4yNDciIHkyPSIxNy44OTkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBzdG9wLWNvbG9yPSIjMEJCNDY1Ii8+PHN0b3Agb2Zmc2V0PSIuNTEiIHN0b3AtY29sb3I9IiMwMEFBNUIiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48L3N2Zz4="},656678:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMy4yNSA0LjM0NGMwLS44NjMuNy0xLjU2MyAxLjU2My0xLjU2M2gxNC4zNzVjLjg2MiAwIDEuNTYyLjcgMS41NjIgMS41NjN2MTUuMzEyYzAgLjg2My0uNyAxLjU2My0xLjU2MiAxLjU2M0g0LjgxM2MtLjg2MyAwLTEuNTYzLS43LTEuNTYzLTEuNTYzeiIvPjxwYXRoIGZpbGw9IiM0QjhERkYiIGZpbGwtb3BhY2l0eT0iLjY0IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOS4xODggMy43MTlINC44MTNhLjYyNS42MjUgMCAwIDAtLjYyNS42MjV2MTUuMzEyYzAgLjM0NS4yOC42MjUuNjI1LjYyNWgxNC4zNzVjLjM0NSAwIC42MjUtLjI4LjYyNS0uNjI1VjQuMzQ0YS42MjUuNjI1IDAgMCAwLS42MjUtLjYyNU00LjgxMyAyLjc4Yy0uODYzIDAtMS41NjMuNy0xLjU2MyAxLjU2M3YxNS4zMTJjMCAuODYzLjcgMS41NjMgMS41NjMgMS41NjNoMTQuMzc1Yy44NjIgMCAxLjU2Mi0uNyAxLjU2Mi0xLjU2M1Y0LjM0NGMwLS44NjMtLjctMS41NjMtMS41NjItMS41NjN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMjUyMF81MzAyOCkiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTguODY1IDguOTU3Yy44MiAwIDEuNDg0LS42NDggMS40ODQtMS40NDcgMC0uOC0uNjY1LTEuNDQ3LTEuNDg0LTEuNDQ3LS44MiAwLTEuNDg1LjY0Ny0xLjQ4NSAxLjQ0N3MuNjY1IDEuNDQ3IDEuNDg1IDEuNDQ3bS4yNTQgMi43MmMuMDYtLjA5LjE5LS4wOTUuMjU1LS4wMWwxLjc2IDIuMzE4YS4xNTYuMTU2IDAgMCAwIC4yNTItLjAwNWwyLjU0Ny0zLjY2YS4xNTYuMTU2IDAgMCAxIC4yNi4wMDVsNC4xOTQgNi42ODZhLjE1Ni4xNTYgMCAwIDEtLjEzMi4yMzlINS43NWEuMTU2LjE1NiAwIDAgMS0uMTMtLjI0MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhcl8yNTIwXzUzMDI4IiB4MT0iOC45OTUiIHgyPSI4LjY4NCIgeTE9IjguNzk0IiB5Mj0iMTcuMjI3IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agc3RvcC1jb2xvcj0iIzVGOUFGRiIvPjxzdG9wIG9mZnNldD0iLjkwMSIgc3RvcC1jb2xvcj0iIzRCOERGRiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg=="},706818:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMy4yNSA0LjM0NGMwLS44NjMuNy0xLjU2MyAxLjU2My0xLjU2M2gxNC4zNzVjLjg2MiAwIDEuNTYyLjcgMS41NjIgMS41NjN2MTUuMzEyYzAgLjg2My0uNyAxLjU2My0xLjU2MiAxLjU2M0g0LjgxM2MtLjg2MyAwLTEuNTYzLS43LTEuNTYzLTEuNTYzeiIvPjxwYXRoIGZpbGw9IiM2RjdERTgiIGZpbGwtb3BhY2l0eT0iLjY0IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOS4xODggMy43MTlINC44MTNhLjYyNS42MjUgMCAwIDAtLjYyNS42MjV2MTUuMzEyYzAgLjM0NS4yOC42MjUuNjI1LjYyNWgxNC4zNzVjLjM0NSAwIC42MjUtLjI4LjYyNS0uNjI1VjQuMzQ0YS42MjUuNjI1IDAgMCAwLS42MjUtLjYyNU00LjgxMyAyLjc4Yy0uODYzIDAtMS41NjMuNy0xLjU2MyAxLjU2M3YxNS4zMTJjMCAuODYzLjcgMS41NjMgMS41NjMgMS41NjNoMTQuMzc1Yy44NjIgMCAxLjU2Mi0uNyAxLjU2Mi0xLjU2M1Y0LjM0NGMwLS44NjMtLjctMS41NjMtMS41NjItMS41NjN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMjUyMF81MzAyOSkiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTguOTM3IDYuODIzYzAtLjEyNS4xNC0uMTk5LjI0My0uMTNsNy42ODcgNS4xMjVhLjE1Ni4xNTYgMCAwIDEgMCAuMjZMOS4xOCAxNy4yMDNhLjE1Ni4xNTYgMCAwIDEtLjI0My0uMTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMjUyMF81MzAyOSIgeDE9IjE2LjUwOCIgeDI9IjcuMDM1IiB5MT0iNi41MzEiIHkyPSIxNi4xNzMiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBzdG9wLWNvbG9yPSIjODg5NkZGIiBzdG9wLW9wYWNpdHk9Ii45OSIvPjxzdG9wIG9mZnNldD0iLjc2NiIgc3RvcC1jb2xvcj0iIzZGN0RFOCIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg=="},546556:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjNDU0RDVBIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNiAxM1YzSDh2MTBINGw4IDggOC04eiIgY2xpcC1ydWxlPSJldmVub2RkIiBzdHlsZT0iZmlsbDojNDU0ZDVhO2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAuMjcwNiAuMzAyIC4zNTI5KTtmaWxsLW9wYWNpdHk6MSIvPjwvc3ZnPg=="},272561:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjRUU1RjVGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNiAxM1YzSDh2MTBINGw4IDggOC04eiIgY2xpcC1ydWxlPSJldmVub2RkIiBzdHlsZT0iZmlsbDojZWU1ZjVmO2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAuOTMzMyAuMzcyNSAuMzcyNSk7ZmlsbC1vcGFjaXR5OjEiLz48L3N2Zz4="},715697:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjNDU0RDVBIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNi45NSAxMS4yOTMgOS44NzkgNC4yMjIgNC4yMjIgOS44NzlsNy4wNyA3LjA3LTIuODI4IDIuODNoMTEuMzE0VjguNDYzeiIgY2xpcC1ydWxlPSJldmVub2RkIiBzdHlsZT0iZmlsbDojNDU0ZDVhO2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAuMjcwNiAuMzAyIC4zNTI5KTtmaWxsLW9wYWNpdHk6MSIvPjwvc3ZnPg=="},665831:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjRkZBQjAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNi45NSAxMS4yOTMgOS44NzkgNC4yMjIgNC4yMjIgOS44NzlsNy4wNyA3LjA3LTIuODI4IDIuODNoMTEuMzE0VjguNDYzeiIgY2xpcC1ydWxlPSJldmVub2RkIiBzdHlsZT0iZmlsbDojZmZhYjAwO2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAxIC42NzA2IDApO2ZpbGwtb3BhY2l0eToxIi8+PC9zdmc+"},810742:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjNDU0RDVBIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Im0yMSAxMi04LTh2NEgzdjhoMTB2NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3R5bGU9ImZpbGw6IzQ1NGQ1YTtmaWxsOmNvbG9yKGRpc3BsYXktcDMgLjI3MDYgLjMwMiAuMzUyOSk7ZmlsbC1vcGFjaXR5OjEiLz48L3N2Zz4="},143246:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjRkZBQjAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Im0yMSAxMi04LTh2NEgzdjhoMTB2NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3R5bGU9ImZpbGw6I2ZmYWIwMDtmaWxsOmNvbG9yKGRpc3BsYXktcDMgMSAuNjcwNiAwKTtmaWxsLW9wYWNpdHk6MSIvPjwvc3ZnPg=="},6052:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjNDU0RDVBIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOS43NzggNC4yMjJIOC40NjRsMi44MyAyLjgyOC03LjA3MiA3LjA3MiA1LjY1NyA1LjY1NiA3LjA3MS03LjA3IDIuODI4IDIuODI3eiIgY2xpcC1ydWxlPSJldmVub2RkIiBzdHlsZT0iZmlsbDojNDU0ZDVhO2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAuMjcwNiAuMzAyIC4zNTI5KTtmaWxsLW9wYWNpdHk6MSIvPjwvc3ZnPg=="},932518:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjRkZBQjAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOS43NzggNC4yMjJIOC40NjRsMi44MyAyLjgyOC03LjA3MiA3LjA3MiA1LjY1NyA1LjY1NiA3LjA3MS03LjA3IDIuODI4IDIuODI3eiIgY2xpcC1ydWxlPSJldmVub2RkIiBzdHlsZT0iZmlsbDojZmZhYjAwO2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAxIC42NzA2IDApO2ZpbGwtb3BhY2l0eToxIi8+PC9zdmc+"},119594:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDBENjg5IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Im0xMiAzLTggOGg0djEwaDhWMTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3R5bGU9ImZpbGw6IzAwZDY4OTtmaWxsOmNvbG9yKGRpc3BsYXktcDMgMCAuODM5MiAuNTM3Myk7ZmlsbC1vcGFjaXR5OjEiLz48L3N2Zz4="},190463:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjNDU0RDVBIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Im0xMiAzLTggOGg0djEwaDhWMTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3R5bGU9ImZpbGw6IzQ1NGQ1YTtmaWxsOmNvbG9yKGRpc3BsYXktcDMgLjI3MDYgLjMwMiAuMzUyOSk7ZmlsbC1vcGFjaXR5OjEiLz48L3N2Zz4="},32397:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjRkZBQjAwIiBkPSJNMTEuMTM4IDQuNDY1YTEgMSAwIDAgMSAxLjcyNCAwbDguMjUxIDE0LjAyOEExIDEgMCAwIDEgMjAuMjUyIDIwSDMuNzQ4YTEgMSAwIDAgMS0uODYyLTEuNTA3eiIgc3R5bGU9ImZpbGw6I2ZmYWIwMDtmaWxsOmNvbG9yKGRpc3BsYXktcDMgMSAuNjcwNiAwKTtmaWxsLW9wYWNpdHk6MSIvPjwvc3ZnPg=="},928705:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMjAgMTJhOCA4IDAgMSAxLTE2IDAgOCA4IDAgMCAxIDE2IDAiIHN0eWxlPSJmaWxsOiNmZmY7ZmlsbC1vcGFjaXR5OjEiLz48cGF0aCBmaWxsPSIjNDU0RDVBIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOS43NSAxMkE3Ljc1IDcuNzUgMCAxIDEgMTIgNC4yNVYxMnpNMjEgMTJhOSA5IDAgMSAxLTE4IDAgOSA5IDAgMCAxIDE4IDAiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3R5bGU9ImZpbGw6IzQ1NGQ1YTtmaWxsOmNvbG9yKGRpc3BsYXktcDMgLjI3MDYgLjMwMiAuMzUyOSk7ZmlsbC1vcGFjaXR5OjEiLz48L3N2Zz4="},659136:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMjAgMTJhOCA4IDAgMSAxLTE2IDAgOCA4IDAgMCAxIDE2IDAiIHN0eWxlPSJmaWxsOiNmZmY7ZmlsbC1vcGFjaXR5OjEiLz48cGF0aCBmaWxsPSIjNDU0RDVBIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMiAxOS43NVY0LjI1YTcuNzUgNy43NSAwIDEgMCAwIDE1LjVNMTIgM2E4Ljk3IDguOTcgMCAwIDEgNi4zNzggMi42NUE5IDkgMCAxIDEgMTIgMyIgY2xpcC1ydWxlPSJldmVub2RkIiBzdHlsZT0iZmlsbDojNDU0ZDVhO2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAuMjcwNiAuMzAyIC4zNTI5KTtmaWxsLW9wYWNpdHk6MSIvPjwvc3ZnPg=="},264747:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMjAgMTJhOCA4IDAgMSAxLTE2IDAgOCA4IDAgMCAxIDE2IDAiIHN0eWxlPSJmaWxsOiNmZmY7ZmlsbC1vcGFjaXR5OjEiLz48cGF0aCBmaWxsPSIjNDU0RDVBIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMiAzYTkgOSAwIDEgMS0uMDUzIDE4QTkgOSAwIDAgMSAxMiAzbTAgMS4yNUE3Ljc1IDcuNzUgMCAwIDAgNC4yNSAxMkgxMnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3R5bGU9ImZpbGw6IzQ1NGQ1YTtmaWxsOmNvbG9yKGRpc3BsYXktcDMgLjI3MDYgLjMwMiAuMzUyOSk7ZmlsbC1vcGFjaXR5OjEiLz48L3N2Zz4="},237636:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDBENjg5IiBkPSJNMjEgMTJhOSA5IDAgMSAxLTE4IDAgOSA5IDAgMCAxIDE4IDAiIHN0eWxlPSJmaWxsOiMwMGQ2ODk7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIDAgLjgzOTIgLjUzNzMpO2ZpbGwtb3BhY2l0eToxIi8+PHBhdGggZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTAuNTM2IDE0LjAxNS0zLjA5NC0zLjA5My0uODg0Ljg4NCAzLjk3OCAzLjk3NyA2LjgwNS02LjgwNi0uODg0LS44ODR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIHN0eWxlPSJmaWxsOiNmZmY7ZmlsbC1vcGFjaXR5OjEiLz48L3N2Zz4="},991463:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMjAgMTJhOCA4IDAgMSAxLTE2IDAgOCA4IDAgMCAxIDE2IDAiIHN0eWxlPSJmaWxsOiNmZmY7ZmlsbC1vcGFjaXR5OjEiLz48cGF0aCBmaWxsPSIjNDU0RDVBIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMiAxOS43NWE3Ljc1IDcuNzUgMCAxIDAgMC0xNS41IDcuNzUgNy43NSAwIDAgMCAwIDE1LjVNMTIgMjFhOSA5IDAgMSAwIDAtMTggOSA5IDAgMCAwIDAgMTgiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3R5bGU9ImZpbGw6IzQ1NGQ1YTtmaWxsOmNvbG9yKGRpc3BsYXktcDMgLjI3MDYgLjMwMiAuMzUyOSk7ZmlsbC1vcGFjaXR5OjEiLz48L3N2Zz4="},970607:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDBENjg5IiBkPSJNMjEgMTJhOSA5IDAgMSAxLTE4IDAgOSA5IDAgMCAxIDE4IDAiIHN0eWxlPSJmaWxsOiMwMGQ2ODk7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIDAgLjgzOTIgLjUzNzMpO2ZpbGwtb3BhY2l0eToxIi8+PC9zdmc+"},830236:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjNDU0RDVBIiBkPSJNMjEgMTJhOSA5IDAgMSAxLTE4IDAgOSA5IDAgMCAxIDE4IDAiIHN0eWxlPSJmaWxsOiM0NTRkNWE7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIC4yNzA2IC4zMDIgLjM1MjkpO2ZpbGwtb3BhY2l0eToxIi8+PC9zdmc+"},680521:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjQ0JDREQxIiBkPSJNMjEgMTJhOSA5IDAgMSAxLTE4IDAgOSA5IDAgMCAxIDE4IDAiIHN0eWxlPSJmaWxsOiNjYmNkZDE7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIC43OTYxIC44MDM5IC44MTk2KTtmaWxsLW9wYWNpdHk6MSIvPjwvc3ZnPg=="},600528:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjRkZBM0EzIiBkPSJNMjEgMTJhOSA5IDAgMSAxLTE4IDAgOSA5IDAgMCAxIDE4IDAiIHN0eWxlPSJmaWxsOiNmZmEzYTM7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIDEgLjYzOTIgLjYzOTIpO2ZpbGwtb3BhY2l0eToxIi8+PC9zdmc+"},689689:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjRUU1RjVGIiBkPSJNMjEgMTJhOSA5IDAgMSAxLTE4IDAgOSA5IDAgMCAxIDE4IDAiIHN0eWxlPSJmaWxsOiNlZTVmNWY7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIC45MzMzIC4zNzI1IC4zNzI1KTtmaWxsLW9wYWNpdHk6MSIvPjwvc3ZnPg=="},497504:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjRkZBQjAwIiBkPSJNMjEgMTJhOSA5IDAgMSAxLTE4IDAgOSA5IDAgMCAxIDE4IDAiIHN0eWxlPSJmaWxsOiNmZmFiMDA7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIDEgLjY3MDYgMCk7ZmlsbC1vcGFjaXR5OjEiLz48L3N2Zz4="},109741:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjRUU1RjVGIiBkPSJNMjEgMTJhOSA5IDAgMSAxLTE4IDAgOSA5IDAgMCAxIDE4IDAiIHN0eWxlPSJmaWxsOiNlZTVmNWY7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIC45MzMzIC4zNzI1IC4zNzI1KTtmaWxsLW9wYWNpdHk6MSIvPjxwYXRoIGZpbGw9IiNmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0ibTExLjA4IDEyLTMuMDc1IDMuMDc2Ljg4NC44ODQgMy4wNzYtMy4wNzYgMy4xMSAzLjExLjg4NS0uODgzTDEyLjg0OCAxMmwzLjExMi0zLjExMi0uODg0LS44ODMtMy4xMTEgMy4xMUw4Ljg4OSA4LjA0bC0uODg0Ljg4NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3R5bGU9ImZpbGw6I2ZmZjtmaWxsLW9wYWNpdHk6MSIvPjwvc3ZnPg=="},409127:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjRkZBQjAwIiBkPSJNMjEgMTJhOSA5IDAgMSAxLTE4IDAgOSA5IDAgMCAxIDE4IDAiIHN0eWxlPSJmaWxsOiNmZmFiMDA7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIDEgLjY3MDYgMCk7ZmlsbC1vcGFjaXR5OjEiLz48cGF0aCBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMiA5LjVhMSAxIDAgMSAwIDAtMiAxIDEgMCAwIDAgMCAybS43NSA3LjV2LTYuNWgtMS41VjE3eiIgY2xpcC1ydWxlPSJldmVub2RkIiBzdHlsZT0iZmlsbDojZmZmO2ZpbGwtb3BhY2l0eToxIi8+PC9zdmc+"},666156:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDBENjg5IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Im0yMC40ODUgNy43NTgtMi4xMjEtMi4xMjItOC40ODUgOC40ODVMNS42MzYgOS44OCAzLjUxNSAxMmw0LjI0MiA0LjI0MyAyLjEyMiAyLjEyMXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3R5bGU9ImZpbGw6IzAwZDY4OTtmaWxsOmNvbG9yKGRpc3BsYXktcDMgMCAuODM5MiAuNTM3Myk7ZmlsbC1vcGFjaXR5OjEiLz48L3N2Zz4="},985353:function(e,t,n){"use strict";e.exports=n.p+"assets/file_smartcanvas_64.93a3dc9e3e00c330.svg"},151491:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDBENjg5IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjI1IDNINXYxOGgxLjI1di00LjU4M0wyMCAxMCA2LjI1IDMuNTgzeiIgY2xpcC1ydWxlPSJldmVub2RkIiBzdHlsZT0iZmlsbDojMDBkNjg5O2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAwIC44MzkyIC41MzczKTtmaWxsLW9wYWNpdHk6MSIvPjwvc3ZnPg=="},816675:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjRUU1RjVGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjI1IDNINXYxOGgxLjI1di00LjU4M0wyMCAxMCA2LjI1IDMuNTgzeiIgY2xpcC1ydWxlPSJldmVub2RkIiBzdHlsZT0iZmlsbDojZWU1ZjVmO2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAuOTMzMyAuMzcyNSAuMzcyNSk7ZmlsbC1vcGFjaXR5OjEiLz48L3N2Zz4="},963290:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjRkZBQjAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjI1IDNINXYxOGgxLjI1di00LjU4M0wyMCAxMCA2LjI1IDMuNTgzeiIgY2xpcC1ydWxlPSJldmVub2RkIiBzdHlsZT0iZmlsbDojZmZhYjAwO2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAxIC42NzA2IDApO2ZpbGwtb3BhY2l0eToxIi8+PC9zdmc+"},606686:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjRkZBQjAwIiBkPSJNMTIuMjk2IDQuMDczYy4xMTMuMDU5LjIwNi4xNS4yNjUuMjYybDIuNTQzIDQuNzY5IDUuMzcuOTE5YS42MjkuNjI5IDAgMCAxIC4zNDYgMS4wNTZsLTMuNzk3IDMuODY3Ljc3NSA1LjMzNmEuNjMuNjMgMCAwIDEtLjUzOC43MTIuNjQuNjQgMCAwIDEtLjM3LS4wNTlMMTIgMTguNTU2bC00Ljg5IDIuMzhhLjY0LjY0IDAgMCAxLS44NS0uMjg3LjYyLjYyIDAgMCAxLS4wNTgtLjM2N2wuNzc1LTUuMzM2LTMuNzk3LTMuODY3YS42MjMuNjIzIDAgMCAxIC4wMTItLjg4OC42NC42NCAwIDAgMSAuMzM1LS4xNjhsNS4zNjktLjkyIDIuNTQyLTQuNzY4YS42NC42NCAwIDAgMSAuODU4LS4yNjIiIHN0eWxlPSJmaWxsOiNmZmFiMDA7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIDEgLjY3MDYgMCk7ZmlsbC1vcGFjaXR5OjEiLz48L3N2Zz4="},936318:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjNDU0RDVBIiBkPSJNMTcuNSA0aDR2MTZoLTR6TTEyLjUgOGg0djEyaC00ek03LjUgMTJoNHY4aC00eiIgc3R5bGU9ImZpbGw6IzQ1NGQ1YTtmaWxsOmNvbG9yKGRpc3BsYXktcDMgLjI3MDYgLjMwMiAuMzUyOSk7ZmlsbC1vcGFjaXR5OjEiLz48cGF0aCBmaWxsPSIjNUM5OEZGIiBkPSJNMi41IDE2aDR2NGgtNHoiIHN0eWxlPSJmaWxsOiM1Yzk4ZmY7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIC4zNiAuNTk0NyAxKTtmaWxsLW9wYWNpdHk6MSIvPjwvc3ZnPg=="},544633:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjNDU0RDVBIiBkPSJNMTcuNSA0aDR2MTZoLTR6TTEyLjUgOGg0djEyaC00eiIgc3R5bGU9ImZpbGw6IzQ1NGQ1YTtmaWxsOmNvbG9yKGRpc3BsYXktcDMgLjI3MDYgLjMwMiAuMzUyOSk7ZmlsbC1vcGFjaXR5OjEiLz48cGF0aCBmaWxsPSIjNUM5OEZGIiBkPSJNNy41IDEyaDR2OGgtNHpNMi41IDE2aDR2NGgtNHoiIHN0eWxlPSJmaWxsOiM1Yzk4ZmY7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIC4zNiAuNTk0NyAxKTtmaWxsLW9wYWNpdHk6MSIvPjwvc3ZnPg=="},928521:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjNDU0RDVBIiBkPSJNMTcuNSA0aDR2MTZoLTR6IiBzdHlsZT0iZmlsbDojNDU0ZDVhO2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAuMjcwNiAuMzAyIC4zNTI5KTtmaWxsLW9wYWNpdHk6MSIvPjxwYXRoIGZpbGw9IiM1Qzk4RkYiIGQ9Ik0xMi41IDhoNHYxMmgtNHpNNy41IDEyaDR2OGgtNHpNMi41IDE2aDR2NGgtNHoiIHN0eWxlPSJmaWxsOiM1Yzk4ZmY7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIC4zNiAuNTk0NyAxKTtmaWxsLW9wYWNpdHk6MSIvPjwvc3ZnPg=="},365408:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjNUM5OEZGIiBkPSJNMTcuNSA0aDR2MTZoLTR6TTEyLjUgOGg0djEyaC00ek03LjUgMTJoNHY4aC00ek0yLjUgMTZoNHY0aC00eiIgc3R5bGU9ImZpbGw6IzVjOThmZjtmaWxsOmNvbG9yKGRpc3BsYXktcDMgLjM2IC41OTQ3IDEpO2ZpbGwtb3BhY2l0eToxIi8+PC9zdmc+"},769675:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjNDU0RDVBIiBkPSJNMTcuNSA0aDR2MTZoLTR6TTEyLjUgOGg0djEyaC00ek03LjUgMTJoNHY4aC00ek0yLjUgMTZoNHY0aC00eiIgc3R5bGU9ImZpbGw6IzQ1NGQ1YTtmaWxsOmNvbG9yKGRpc3BsYXktcDMgLjI3MDYgLjMwMiAuMzUyOSk7ZmlsbC1vcGFjaXR5OjEiLz48L3N2Zz4="},727906:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTIuMjk2IDQuMDczYy4xMTMuMDU5LjIwNi4xNS4yNjUuMjYybDIuNTQzIDQuNzY5IDUuMzcuOTE5YS42MjkuNjI5IDAgMCAxIC4zNDYgMS4wNTZsLTMuNzk3IDMuODY3Ljc3NSA1LjMzNmEuNjMuNjMgMCAwIDEtLjUzOC43MTIuNjQuNjQgMCAwIDEtLjM3LS4wNTlMMTIgMTguNTU2bC00Ljg5IDIuMzhhLjY0LjY0IDAgMCAxLS44NS0uMjg3LjYyLjYyIDAgMCAxLS4wNTgtLjM2N2wuNzc1LTUuMzM2LTMuNzk3LTMuODY3YS42MjMuNjIzIDAgMCAxIC4wMTItLjg4OC42NC42NCAwIDAgMSAuMzM1LS4xNjhsNS4zNjktLjkyIDIuNTQyLTQuNzY4YS42NC42NCAwIDAgMSAuODU4LS4yNjIiIHN0eWxlPSJmaWxsOiNmZmY7ZmlsbC1vcGFjaXR5OjEiLz48cGF0aCBmaWxsPSIjRkZBQjAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40NTIgMTAuMDA3IDEyIDUuNDA3bC0yLjQ1MiA0LjYtNS4xNTQuODgyIDMuNjQ0IDMuNzEtLjc0NiA1LjEzNkwxMiAxNy40NDVsNC43MDggMi4yOS0uNzQ2LTUuMTM2IDMuNjQ0LTMuNzF6bS42NTItLjkwMy0yLjU0My00Ljc2OWEuNjM4LjYzOCAwIDAgMC0xLjEyMyAwTDguODk3IDkuMTA0bC01LjM3LjkxOWEuNjQuNjQgMCAwIDAtLjMzNC4xNjguNjIzLjYyMyAwIDAgMC0uMDEyLjg4OGwzLjc5NyAzLjg2Ny0uNzc1IDUuMzM2YS42Mi42MiAwIDAgMCAuMDU4LjM2N2MuMTU1LjMxMS41MzUuNDQuODUuMjg2TDEyIDE4LjU1Nmw0Ljg5IDIuMzhhLjY0LjY0IDAgMCAwIC4zNy4wNTguNjMuNjMgMCAwIDAgLjUzOC0uNzEybC0uNzc1LTUuMzM2IDMuNzk3LTMuODY3YS42MjUuNjI1IDAgMCAwLS4zNDctMS4wNTZ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIHN0eWxlPSJmaWxsOiNmZmFiMDA7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIDEgLjY3MDYgMCk7ZmlsbC1vcGFjaXR5OjEiLz48bWFzayBpZD0ibWFzazBfNzlfMjMwNjM4IiB3aWR0aD0iMTAiIGhlaWdodD0iMjEiIHg9IjIiIHk9IjIiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHN0eWxlPSJtYXNrLXR5cGU6YWxwaGEiPjxwYXRoIGZpbGw9IiNEOUQ5RDkiIGQ9Ik0yLjc3NiAyLjQ5M0gxMnYxOS45ODRIMi43NzZ6IiBzdHlsZT0iZmlsbDojZDlkOWQ5O2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAuODUxIC44NTEgLjg1MSk7ZmlsbC1vcGFjaXR5OjEiLz48L21hc2s+PGcgbWFzaz0idXJsKCNtYXNrMF83OV8yMzA2MzgpIj48cGF0aCBmaWxsPSIjRkZBQjAwIiBkPSJNMTIuMjk2IDQuMDczYy4xMTMuMDU5LjIwNi4xNS4yNjUuMjYybDIuNTQzIDQuNzY5IDUuMzcuOTE5YS42MjkuNjI5IDAgMCAxIC4zNDYgMS4wNTZsLTMuNzk3IDMuODY3Ljc3NSA1LjMzNmEuNjMuNjMgMCAwIDEtLjUzOC43MTIuNjQuNjQgMCAwIDEtLjM3LS4wNTlMMTIgMTguNTU2bC00Ljg5IDIuMzhhLjY0LjY0IDAgMCAxLS44NS0uMjg3LjYyLjYyIDAgMCAxLS4wNTgtLjM2N2wuNzc1LTUuMzM2LTMuNzk3LTMuODY3YS42MjMuNjIzIDAgMCAxIC4wMTItLjg4OC42NC42NCAwIDAgMSAuMzM1LS4xNjhsNS4zNjktLjkyIDIuNTQyLTQuNzY4YS42NC42NCAwIDAgMSAuODU4LS4yNjIiIHN0eWxlPSJmaWxsOiNmZmFiMDA7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIDEgLjY3MDYgMCk7ZmlsbC1vcGFjaXR5OjEiLz48L2c+PC9zdmc+"},957333:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjRUU1RjVGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Im0xOC4zNjQgNy43NTgtMi4xMjEtMi4xMjJMMTIgOS44OCA3Ljc1NyA1LjYzNiA1LjYzNiA3Ljc1OCA5Ljg3OSAxMmwtNC4yNDMgNC4yNDMgMi4xMjEgMi4xMjFMMTIgMTQuMTIxbDQuMjQzIDQuMjQzIDIuMTItMi4xMjFMMTQuMTIyIDEyeiIgY2xpcC1ydWxlPSJldmVub2RkIiBzdHlsZT0iZmlsbDojZWU1ZjVmO2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAuOTMzMyAuMzcyNSAuMzcyNSk7ZmlsbC1vcGFjaXR5OjEiLz48L3N2Zz4="},9894:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjRkZBQjAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMy41IDQuNTg2aC0zdjEwaDN6TTEyIDE5LjQxNGExLjUgMS41IDAgMSAwIDAtMyAxLjUgMS41IDAgMCAwIDAgMyIgY2xpcC1ydWxlPSJldmVub2RkIiBzdHlsZT0iZmlsbDojZmZhYjAwO2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAxIC42NzA2IDApO2ZpbGwtb3BhY2l0eToxIi8+PC9zdmc+"},351150:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjRkZBQjAwIiBkPSJNNCA5YTEgMSAwIDAgMSAxLTFoMTRhMSAxIDAgMCAxIDEgMXY2YTEgMSAwIDAgMS0xIDFINWExIDEgMCAwIDEtMS0xeiIgc3R5bGU9ImZpbGw6I2ZmYWIwMDtmaWxsOmNvbG9yKGRpc3BsYXktcDMgMSAuNjcwNiAwKTtmaWxsLW9wYWNpdHk6MSIvPjwvc3ZnPg=="},98832:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjNUM5OEZGIiBkPSJNMyA0YTEgMSAwIDAgMSAxLTFoMTZhMSAxIDAgMCAxIDEgMXYxNmExIDEgMCAwIDEtMSAxSDRhMSAxIDAgMCAxLTEtMXoiIHN0eWxlPSJmaWxsOiM1Yzk4ZmY7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIC4zNiAuNTk0NyAxKTtmaWxsLW9wYWNpdHk6MSIvPjxwYXRoIGZpbGw9IiM0NTRENUEiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjUgNC4yNXYxNS41aDE1LjVWNC4yNXpNNCAzYTEgMSAwIDAgMC0xIDF2MTZhMSAxIDAgMCAwIDEgMWgxNmExIDEgMCAwIDAgMS0xVjRhMSAxIDAgMCAwLTEtMXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3R5bGU9ImZpbGw6IzQ1NGQ1YTtmaWxsOmNvbG9yKGRpc3BsYXktcDMgLjI3MDYgLjMwMiAuMzUyOSk7ZmlsbC1vcGFjaXR5OjEiLz48cGF0aCBmaWxsPSIjNDU0RDVBIiBkPSJNMy43MDYgMy43MjRIMjAuMzZWMTJIMy43MDZ6IiBzdHlsZT0iZmlsbDojNDU0ZDVhO2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAuMjcwNiAuMzAyIC4zNTI5KTtmaWxsLW9wYWNpdHk6MSIvPjxwYXRoIGZpbGw9IiM0NTRENUEiIGQ9Ik0yMC4yNzYgMy42NzN2MTYuNjUzSDEyVjMuNjczeiIgc3R5bGU9ImZpbGw6IzQ1NGQ1YTtmaWxsOmNvbG9yKGRpc3BsYXktcDMgLjI3MDYgLjMwMiAuMzUyOSk7ZmlsbC1vcGFjaXR5OjEiLz48cGF0aCBmaWxsPSIjNDU0RDVBIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMS4zNzUgM0g0YTEgMSAwIDAgMC0xIDF2MTZhMSAxIDAgMCAwIDEgMWgxNmExIDEgMCAwIDAgMS0xVjRhMSAxIDAgMCAwLTEtMWgtOC42MjVtMCAxLjI1SDQuMjV2Ny4xMjVoNy4xMjV6TTQuMjUgMTIuNjI1djcuMTI1aDcuMTI1di03LjEyNXptOC4zNzUgNy4xMjVoNy4xMjV2LTcuMTI1aC03LjEyNXptNy4xMjUtOC4zNzVoLTcuMTI1VjQuMjVoNy4xMjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIHN0eWxlPSJmaWxsOiM0NTRkNWE7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIC4yNzA2IC4zMDIgLjM1MjkpO2ZpbGwtb3BhY2l0eToxIi8+PC9zdmc+"},534750:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjNUM5OEZGIiBkPSJNMyA0YTEgMSAwIDAgMSAxLTFoMTZhMSAxIDAgMCAxIDEgMXYxNmExIDEgMCAwIDEtMSAxSDRhMSAxIDAgMCAxLTEtMXoiIHN0eWxlPSJmaWxsOiM1Yzk4ZmY7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIC4zNiAuNTk0NyAxKTtmaWxsLW9wYWNpdHk6MSIvPjxwYXRoIGZpbGw9IiM0NTRENUEiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjUgNC4yNXYxNS41aDE1LjVWNC4yNXpNNCAzYTEgMSAwIDAgMC0xIDF2MTZhMSAxIDAgMCAwIDEgMWgxNmExIDEgMCAwIDAgMS0xVjRhMSAxIDAgMCAwLTEtMXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3R5bGU9ImZpbGw6IzQ1NGQ1YTtmaWxsOmNvbG9yKGRpc3BsYXktcDMgLjI3MDYgLjMwMiAuMzUyOSk7ZmlsbC1vcGFjaXR5OjEiLz48cGF0aCBmaWxsPSIjNDU0RDVBIiBkPSJNMy43MDYgMy43MjRIMjAuMzZWMTJIMy43MDZ6IiBzdHlsZT0iZmlsbDojNDU0ZDVhO2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAuMjcwNiAuMzAyIC4zNTI5KTtmaWxsLW9wYWNpdHk6MSIvPjxwYXRoIGZpbGw9IiM0NTRENUEiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjM3NSAzSDRhMSAxIDAgMCAwLTEgMXYxNmExIDEgMCAwIDAgMSAxaDE2YTEgMSAwIDAgMCAxLTFWNGExIDEgMCAwIDAtMS0xaC04LjYyNW0wIDEuMjVINC4yNXY3LjEyNWg3LjEyNXpNNC4yNSAxMi42MjV2Ny4xMjVoNy4xMjV2LTcuMTI1em04LjM3NSA3LjEyNWg3LjEyNXYtNy4xMjVoLTcuMTI1em03LjEyNS04LjM3NWgtNy4xMjVWNC4yNWg3LjEyNXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3R5bGU9ImZpbGw6IzQ1NGQ1YTtmaWxsOmNvbG9yKGRpc3BsYXktcDMgLjI3MDYgLjMwMiAuMzUyOSk7ZmlsbC1vcGFjaXR5OjEiLz48L3N2Zz4="},652986:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjNUM5OEZGIiBkPSJNMyA0YTEgMSAwIDAgMSAxLTFoMTZhMSAxIDAgMCAxIDEgMXYxNmExIDEgMCAwIDEtMSAxSDRhMSAxIDAgMCAxLTEtMXoiIHN0eWxlPSJmaWxsOiM1Yzk4ZmY7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIC4zNiAuNTk0NyAxKTtmaWxsLW9wYWNpdHk6MSIvPjxwYXRoIGZpbGw9IiM0NTRENUEiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjUgNC4yNXYxNS41aDE1LjVWNC4yNXpNNCAzYTEgMSAwIDAgMC0xIDF2MTZhMSAxIDAgMCAwIDEgMWgxNmExIDEgMCAwIDAgMS0xVjRhMSAxIDAgMCAwLTEtMXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3R5bGU9ImZpbGw6IzQ1NGQ1YTtmaWxsOmNvbG9yKGRpc3BsYXktcDMgLjI3MDYgLjMwMiAuMzUyOSk7ZmlsbC1vcGFjaXR5OjEiLz48cGF0aCBmaWxsPSIjNDU0RDVBIiBkPSJNMTIgMy43MjRoOC4zNlYxMkgxMnoiIHN0eWxlPSJmaWxsOiM0NTRkNWE7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIC4yNzA2IC4zMDIgLjM1MjkpO2ZpbGwtb3BhY2l0eToxIi8+PHBhdGggZmlsbD0iIzQ1NEQ1QSIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTEuMzc1IDNINGExIDEgMCAwIDAtMSAxdjE2YTEgMSAwIDAgMCAxIDFoMTZhMSAxIDAgMCAwIDEtMVY0YTEgMSAwIDAgMC0xLTFoLTguNjI1bTAgMS4yNUg0LjI1djcuMTI1aDcuMTI1ek00LjI1IDEyLjYyNXY3LjEyNWg3LjEyNXYtNy4xMjV6bTguMzc1IDcuMTI1aDcuMTI1di03LjEyNWgtNy4xMjV6bTcuMTI1LTguMzc1aC03LjEyNVY0LjI1aDcuMTI1eiIgY2xpcC1ydWxlPSJldmVub2RkIiBzdHlsZT0iZmlsbDojNDU0ZDVhO2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAuMjcwNiAuMzAyIC4zNTI5KTtmaWxsLW9wYWNpdHk6MSIvPjwvc3ZnPg=="},359022:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjNUM5OEZGIiBkPSJNMyA0YTEgMSAwIDAgMSAxLTFoMTZhMSAxIDAgMCAxIDEgMXYxNmExIDEgMCAwIDEtMSAxSDRhMSAxIDAgMCAxLTEtMXoiIHN0eWxlPSJmaWxsOiM1Yzk4ZmY7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIC4zNiAuNTk0NyAxKTtmaWxsLW9wYWNpdHk6MSIvPjxwYXRoIGZpbGw9IiM0NTRENUEiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjUgNC4yNXYxNS41aDE1LjVWNC4yNXpNNCAzYTEgMSAwIDAgMC0xIDF2MTZhMSAxIDAgMCAwIDEgMWgxNmExIDEgMCAwIDAgMS0xVjRhMSAxIDAgMCAwLTEtMXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3R5bGU9ImZpbGw6IzQ1NGQ1YTtmaWxsOmNvbG9yKGRpc3BsYXktcDMgLjI3MDYgLjMwMiAuMzUyOSk7ZmlsbC1vcGFjaXR5OjEiLz48cGF0aCBmaWxsPSIjNDU0RDVBIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMS4zNzUgM0g0YTEgMSAwIDAgMC0xIDF2MTZhMSAxIDAgMCAwIDEgMWgxNmExIDEgMCAwIDAgMS0xVjRhMSAxIDAgMCAwLTEtMWgtOC42MjVtMCAxLjI1SDQuMjV2Ny4xMjVoNy4xMjV6TTQuMjUgMTIuNjI1djcuMTI1aDcuMTI1di03LjEyNXptOC4zNzUgNy4xMjVoNy4xMjV2LTcuMTI1aC03LjEyNXptNy4xMjUtOC4zNzVoLTcuMTI1VjQuMjVoNy4xMjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIHN0eWxlPSJmaWxsOiM0NTRkNWE7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIC4yNzA2IC4zMDIgLjM1MjkpO2ZpbGwtb3BhY2l0eToxIi8+PC9zdmc+"},337677:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjNDU0RDVBIiBkPSJNMyA0YTEgMSAwIDAgMSAxLTFoMTZhMSAxIDAgMCAxIDEgMXYxNmExIDEgMCAwIDEtMSAxSDRhMSAxIDAgMCAxLTEtMXoiIHN0eWxlPSJmaWxsOiM0NTRkNWE7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIC4yNzA2IC4zMDIgLjM1MjkpO2ZpbGwtb3BhY2l0eToxIi8+PHBhdGggZmlsbD0iIzQ1NEQ1QSIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC4yNSA0LjI1djE1LjVoMTUuNVY0LjI1ek00IDNhMSAxIDAgMCAwLTEgMXYxNmExIDEgMCAwIDAgMSAxaDE2YTEgMSAwIDAgMCAxLTFWNGExIDEgMCAwIDAtMS0xeiIgY2xpcC1ydWxlPSJldmVub2RkIiBzdHlsZT0iZmlsbDojNDU0ZDVhO2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAuMjcwNiAuMzAyIC4zNTI5KTtmaWxsLW9wYWNpdHk6MSIvPjxwYXRoIGZpbGw9IiM0NTRENUEiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjM3NSAzSDRhMSAxIDAgMCAwLTEgMXYxNmExIDEgMCAwIDAgMSAxaDE2YTEgMSAwIDAgMCAxLTFWNGExIDEgMCAwIDAtMS0xaC04LjYyNW0wIDEuMjVINC4yNXY3LjEyNWg3LjEyNXpNNC4yNSAxMi42MjV2Ny4xMjVoNy4xMjV2LTcuMTI1em04LjM3NSA3LjEyNWg3LjEyNXYtNy4xMjVoLTcuMTI1em03LjEyNS04LjM3NWgtNy4xMjVWNC4yNWg3LjEyNXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3R5bGU9ImZpbGw6IzQ1NGQ1YTtmaWxsOmNvbG9yKGRpc3BsYXktcDMgLjI3MDYgLjMwMiAuMzUyOSk7ZmlsbC1vcGFjaXR5OjEiLz48L3N2Zz4="},186177:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjRUU1RjVGIiBkPSJNMTEuMjkzIDIuNzA3YTEgMSAwIDAgMSAxLjQxNCAwbDguNTg2IDguNTg2YTEgMSAwIDAgMSAwIDEuNDE0bC04LjU4NiA4LjU4NmExIDEgMCAwIDEtMS40MTQgMGwtOC41ODYtOC41ODZhMSAxIDAgMCAxIDAtMS40MTR6IiBzdHlsZT0iZmlsbDojZWU1ZjVmO2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAuOTMzMyAuMzcyNSAuMzcyNSk7ZmlsbC1vcGFjaXR5OjEiLz48L3N2Zz4="},477442:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTIuMjk2IDQuMDczYy4xMTMuMDU5LjIwNi4xNS4yNjUuMjYybDIuNTQzIDQuNzY5IDUuMzcuOTE5YS42MjkuNjI5IDAgMCAxIC4zNDYgMS4wNTZsLTMuNzk3IDMuODY3Ljc3NSA1LjMzNmEuNjMuNjMgMCAwIDEtLjUzOC43MTIuNjQuNjQgMCAwIDEtLjM3LS4wNTlMMTIgMTguNTU2bC00Ljg5IDIuMzhhLjY0LjY0IDAgMCAxLS44NS0uMjg3LjYyLjYyIDAgMCAxLS4wNTgtLjM2N2wuNzc1LTUuMzM2LTMuNzk3LTMuODY3YS42MjMuNjIzIDAgMCAxIC4wMTItLjg4OC42NC42NCAwIDAgMSAuMzM1LS4xNjhsNS4zNjktLjkyIDIuNTQyLTQuNzY4YS42NC42NCAwIDAgMSAuODU4LS4yNjIiIHN0eWxlPSJmaWxsOiNmZmY7ZmlsbC1vcGFjaXR5OjEiLz48cGF0aCBmaWxsPSIjRkZBQjAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40NTIgMTAuMDA3IDEyIDUuNDA3bC0yLjQ1MiA0LjYtNS4xNTQuODgyIDMuNjQ0IDMuNzEtLjc0NiA1LjEzNkwxMiAxNy40NDVsNC43MDggMi4yOS0uNzQ2LTUuMTM2IDMuNjQ0LTMuNzF6bS42NTItLjkwMy0yLjU0My00Ljc2OWEuNjM4LjYzOCAwIDAgMC0xLjEyMyAwTDguODk3IDkuMTA0bC01LjM3LjkxOWEuNjQuNjQgMCAwIDAtLjMzNC4xNjguNjIzLjYyMyAwIDAgMC0uMDEyLjg4OGwzLjc5NyAzLjg2Ny0uNzc1IDUuMzM2YS42Mi42MiAwIDAgMCAuMDU4LjM2N2MuMTU1LjMxMS41MzUuNDQuODUuMjg2TDEyIDE4LjU1Nmw0Ljg5IDIuMzhhLjY0LjY0IDAgMCAwIC4zNy4wNTguNjMuNjMgMCAwIDAgLjUzOC0uNzEybC0uNzc1LTUuMzM2IDMuNzk3LTMuODY3YS42MjUuNjI1IDAgMCAwLS4zNDctMS4wNTZ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIHN0eWxlPSJmaWxsOiNmZmFiMDA7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIDEgLjY3MDYgMCk7ZmlsbC1vcGFjaXR5OjEiLz48L3N2Zz4="},600957:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjNDU0RDVBIiBkPSJNMyA0YTEgMSAwIDAgMSAxLTFoMTZhMSAxIDAgMCAxIDEgMXYxNmExIDEgMCAwIDEtMSAxSDRhMSAxIDAgMCAxLTEtMXoiIHN0eWxlPSJmaWxsOiM0NTRkNWE7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIC4yNzA2IC4zMDIgLjM1MjkpO2ZpbGwtb3BhY2l0eToxIi8+PHBhdGggZmlsbD0iIzAwRDY4OSIgZD0iTTE4IDEyYTYgNiAwIDEgMS0xMiAwIDYgNiAwIDAgMSAxMiAwIiBzdHlsZT0iZmlsbDojMDBkNjg5O2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAwIC44MzkyIC41MzczKTtmaWxsLW9wYWNpdHk6MSIvPjwvc3ZnPg=="},458718:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjNDU0RDVBIiBkPSJNMyA0YTEgMSAwIDAgMSAxLTFoMTZhMSAxIDAgMCAxIDEgMXYxNmExIDEgMCAwIDEtMSAxSDRhMSAxIDAgMCAxLTEtMXoiIHN0eWxlPSJmaWxsOiM0NTRkNWE7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIC4yNzA2IC4zMDIgLjM1MjkpO2ZpbGwtb3BhY2l0eToxIi8+PHBhdGggZmlsbD0iI0VFNUY1RiIgZD0iTTE4IDEyYTYgNiAwIDEgMS0xMiAwIDYgNiAwIDAgMSAxMiAwIiBzdHlsZT0iZmlsbDojZWU1ZjVmO2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAuOTMzMyAuMzcyNSAuMzcyNSk7ZmlsbC1vcGFjaXR5OjEiLz48L3N2Zz4="},622003:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjNDU0RDVBIiBkPSJNMyA0YTEgMSAwIDAgMSAxLTFoMTZhMSAxIDAgMCAxIDEgMXYxNmExIDEgMCAwIDEtMSAxSDRhMSAxIDAgMCAxLTEtMXoiIHN0eWxlPSJmaWxsOiM0NTRkNWE7ZmlsbDpjb2xvcihkaXNwbGF5LXAzIC4yNzA2IC4zMDIgLjM1MjkpO2ZpbGwtb3BhY2l0eToxIi8+PHBhdGggZmlsbD0iI0ZGQUIwMCIgZD0iTTE4IDEyYTYgNiAwIDEgMS0xMiAwIDYgNiAwIDAgMSAxMiAwIiBzdHlsZT0iZmlsbDojZmZhYjAwO2ZpbGw6Y29sb3IoZGlzcGxheS1wMyAxIC42NzA2IDApO2ZpbGwtb3BhY2l0eToxIi8+PC9zdmc+"},875302:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjRUU1RjVGIiBkPSJtMjAgOC04IDgtOC04eiIgc3R5bGU9ImZpbGw6I2VlNWY1ZjtmaWxsOmNvbG9yKGRpc3BsYXktcDMgLjkzMzMgLjM3MjUgLjM3MjUpO2ZpbGwtb3BhY2l0eToxIi8+PC9zdmc+"},773654:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDBENjg5IiBkPSJtNCAxNiA4LTggOCA4eiIgc3R5bGU9ImZpbGw6IzAwZDY4OTtmaWxsOmNvbG9yKGRpc3BsYXktcDMgMCAuODM5MiAuNTM3Myk7ZmlsbC1vcGFjaXR5OjEiLz48L3N2Zz4="},419774:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI5IiBmaWxsPSIjRkY0NzQ3Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTMuNSA2LjVoLTNsLjUgN2gyem0tMS41IDExYTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4="},67790:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDQ4IDQ4Ij48ZyBpZD0i6KeG6KeJIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIj48cGF0aCBpZD0i5pif5b2iIiBmaWxsPSIjRkZDQzAxIiBkPSJtMjQuMjY4IDM2Ljc2Ni0xMS41NTUgNS42ODJhMS41IDEuNSAwIDAgMS0yLjE0Ny0xLjU2TDEyLjQgMjguMTQybC04Ljk3NS05LjIzNGExLjUgMS41IDAgMCAxIC44Mi0yLjUyM2wxMi42ODktMi4xOTZMMjIuOTQyIDIuOGExLjUgMS41IDAgMCAxIDIuNjUzIDBsNi4wMDkgMTEuMzkgMTIuNjg4IDIuMTk1YTEuNSAxLjUgMCAwIDEgLjgyIDIuNTIzbC04Ljk3NSA5LjIzNCAxLjgzMyAxMi43NDZhMS41IDEuNSAwIDAgMS0yLjE0NiAxLjU2eiIvPjwvZz48L3N2Zz4="},708559:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDQ4IDQ4Ij48ZyBpZD0i6KeG6KeJIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIj48ZyBpZD0iaWNvbi9uYXZpZ2F0aW9uL3N0YXIiPjxyZWN0IGlkPSLnn6nlvaIiIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgeD0iMCIgeT0iMCIvPjxwYXRoIGlkPSLot6/lvoQiIGZpbGw9IiNFMUUzRTUiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTI0Ljk2OCAyLjI3YTEuNSAxLjUgMCAwIDEgLjYyNy42MjdsNi4wMDkgMTEuMzg4IDEyLjY4OCAyLjE5NmExLjUgMS41IDAgMCAxIC44MiAyLjUyM2wtOC45NzUgOS4yMzUgMS44MzMgMTIuNzQ1YTEuNSAxLjUgMCAwIDEtMi4xNDYgMS41NmwtMTEuNTU2LTUuNjgyLTExLjU1NSA1LjY4MmExLjUgMS41IDAgMCAxLTIuMTQ3LTEuNTZMMTIuNCAyOC4yNGwtOC45NzUtOS4yMzVhMS41IDEuNSAwIDAgMSAuODItMi41MjNsMTIuNjg5LTIuMTk2IDYuMDA5LTExLjM4OGExLjUgMS41IDAgMCAxIDIuMDI2LS42MjciLz48L2c+PC9nPjwvc3ZnPg=="},706440:function(e,t,n){"use strict";e.exports=n.p+"assets/application_vnd_tdocs_apps_doc_pace_64.73987f8128c6b6a1.svg"},361730:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZyBpZD0i5YiX6KGo6aG1IiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIj48ZyBpZD0iZmlsZS1kb2MtMTYtNCIgZmlsbC1ydWxlPSJub256ZXJvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxIDEpIj48cGF0aCBpZD0i6Lev5b6EIiBmaWxsPSIjMkE2NUY1IiBkPSJNMTEuMzAzLjk4NEgyLjMzYS4yNTQuMjU0IDAgMCAwLS4yNTEuMjA4TC4wMDQgMTIuODAyYS4yNTMuMjUzIDAgMCAwIC4yNTEuMjk2aDQuOTQ2bC4zOTItLjEySDcuODlsLjMyLjEyaDMuODFjLjEyNCAwIC4yMy0uMDg4LjI1Mi0uMjA4bDEuNzA3LTkuNTV6Ii8+PHBhdGggaWQ9Iui3r+W+hCIgZmlsbD0iIzAwRENGRiIgZD0ibTExLjMwMy45ODQgMi42NzYgMi4zNTZoLTIuNzkzYS4yNTIuMjUyIDAgMCAxLS4yNTEtLjI5NXoiLz48ZyBpZD0icHJlZml4X19hLWxpbmsiIGZpbGw9IiNGRkYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEgLjk4NCkiPjxwb2x5Z29uIGlkPSJwcmVmaXhfX2EiIHBvaW50cz0iNi4yOCAwLjQ5NyAxMi4wNTggNS41ODcgMTEuOTM1IDUuNTkgOC4zOCA1LjU5IDcuMjEgMTIuMTE0IDQuMiAxMi4xMTQgNS4zNyA1LjU5IDMuMDEgNS41OSAwLjg4MyAzLjMyMSA1Ljc3OCAzLjMxMyIvPjwvZz48L2c+PC9nPjwvc3ZnPg=="},744297:function(e,t,n){"use strict";e.exports=n.p+"assets/file_doc_16.f5e2c32e47893664.svg"},283857:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE2IDE2Ij48cmVjdCB3aWR0aD0iMTQiIGhlaWdodD0iMTYiIHg9IjEiIGZpbGw9IiNmZmYiIHJ4PSIxIi8+PHBhdGggZmlsbD0iIzgxODY4RiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC4yNSAzSDguNXY0aDR2NS4yNWEuNzUuNzUgMCAwIDEtLjc1Ljc1aC03LjVhLjc1Ljc1IDAgMCAxLS43NS0uNzV2LTguNUEuNzUuNzUgMCAwIDEgNC4yNSAzbTguMjUgM3YtLjA1OWwtMy0yLjY0N1Y2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHJlY3Qgd2lkdGg9IjEzLjUiIGhlaWdodD0iMTUuNSIgeD0iMS4yNSIgeT0iLjI1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIuMTYiIHN0cm9rZS13aWR0aD0iLjUiIHJ4PSIuNzUiLz48L3N2Zz4="},613180:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE2IDE2Ij48cmVjdCB3aWR0aD0iMTQiIGhlaWdodD0iMTYiIHg9IjEiIGZpbGw9IiNmZmYiIHJ4PSIxIi8+PHBhdGggZmlsbD0iIzVDOThGRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjg5IDYuNThhMS4yOSAxLjI5IDAgMSAwLS4wMDItMi41NzggMS4yOSAxLjI5IDAgMCAwIC4wMDIgMi41NzltLTUuNjA2LjkyOWEuNTMuNTMgMCAwIDEgLjgzOS0uMTg0TDguMTQ2IDkuNjZsLjY4Ny0xLjAzMmEuNTMuNTMgMCAwIDEgLjc4Ny0uMTA5bDMuMjQgMi43ODFjLjI4LjI0LjExLjctLjI1OS43aC05LjA3YS41My41MyAwIDAgMS0uNDg2LS43NDN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cmVjdCB3aWR0aD0iMTMuNSIgaGVpZ2h0PSIxNS41IiB4PSIxLjI1IiB5PSIuMjUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9Ii4xNiIgc3Ryb2tlLXdpZHRoPSIuNSIgcng9Ii43NSIvPjwvc3ZnPg=="},782671:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMTMyODNfNjYxNjgpIj48cGF0aCBmaWxsPSIjZmZmIiBzdHJva2U9IiNEQ0RDREMiIHN0cm9rZS13aWR0aD0iLjUiIGQ9Ik0xNC40LjJjLjIgMCAuNC4yLjQuNHYxNC43YzAgLjItLjIuNC0uNC40SDEuNmMtLjIgMC0uNC0uMi0uNC0uNFYuNmMwLS4yLjItLjQuNC0uNHoiLz48cGF0aCBmaWxsPSIjRTVFNUU1IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjYgNC4yaDIuNXYzLjVINi42em0zLjUgMEgxMnYxLjNoLTEuOXpNMTIgNi41aC0xLjl2MS4zSDEyek02IDguN2g2VjEwSDZ6bTYgMi4zSDZ2MS4zaDZ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMTMyODNfNjYxNjgpIiBmaWxsLW9wYWNpdHk9Ii45NiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMSAzLjggNy4yLS43cS4zIDAgLjMuM3Y5LjRjMCAuMi0uMi4zLS4zLjNMMSAxMi4zeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi4yIDguNGgtLjdjLS40LS4yLS42LS41LS44LTF2LS4yYzAtLjIuMS0uNC4xLS42di0uNGMtLjEtLjMtLjMtLjQtLjUtLjQtLjMtLjEtLjUuMS0uNS4zLS4xLjMgMCAuOC4yIDEuNS0uMy41LS42IDEuMi0uOSAxLjYtLjIuMS0uNS4zLS43LjQtLjIuMi0uNC40LS40LjYgMCAuMSAwIC4yLjEuM3MuMi4yLjMuMmMuNCAwIC44LS4zIDEuMy0xLjJoLjJsLjItLjFjLjEgMCAuMi0uMS4zLS4xLjMtLjEuNi0uMS44LS4yLjQuMi45LjQgMS4yLjRzLjUtLjEuNS0uNGMuMS0uMi4xLS40IDAtLjUtLjItLjEtLjQtLjItLjctLjJtLTItLjVjLjMuMy41LjYuOC44aC4xSDVjLS4zLjEtLjUuMi0uOC4zLS4yIDAtLjQuMS0uNS4yaC0uMXYtLjFxLjQ1LS40NS42LTEuMm0xLjYgMWMuNC4yLjcuMi44LjJWOWwtLjEtLjFjLS4xLS4xLS4zLS4xLS43IDBoLS4xek00LjMgN2MtLjEtLjEtLjEtLjMtLjEtLjVzMC0uNC4xLS40LjEuMi4yLjRjLS4xLjItLjEuNC0uMi41bS0xLjkgMy4zcS4xNS4xNSAwIDAgLjE1LjE1IDAgMGMuMS4xLjEgMCAwIDAgLjEgMCAuMiAwIC4yLS4xcS4zLS4xNS42LS42bC4xLS4yLS4yLjFIM3YuMmMtLjEgMC0uMi4xLS4yLjFsLS4zLjNjMCAuMSAwIC4yLS4xLjIiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvZz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMTMyODNfNjYxNjgiIHgxPSI4LjM3OSIgeDI9Ii4yOTgiIHkxPSI0LjkzOSIgeTI9IjEyLjUyIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agc3RvcC1jb2xvcj0iI0ZGNzI3MiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0ZGNDc0NyIvPjwvbGluZWFyR3JhZGllbnQ+PGNsaXBQYXRoIGlkPSJjbGlwMF8xMzI4M182NjE2OCI+PHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSIjZmZmIi8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+"},576528:function(e,t,n){"use strict";e.exports=n.p+"assets/file_flowdiagram_16.1f2845587c577683.svg"},832629:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImxpbmVhckdyYWRpZW50LTEiIHgxPSI3MS44NTklIiB4Mj0iNzEuODU5JSIgeTE9IjAlIiB5Mj0iMTAzLjA1NSUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMyREE1RUIiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMyMTk4RUIiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0ibGluZWFyR3JhZGllbnQtMiIgeDE9IjEwMCUiIHgyPSIwJSIgeTE9IjE4LjgzNyUiIHkyPSI4NC45OTclIj48c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjNEREMUZGIi8+PHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjM0NCRkZGIi8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PGcgaWQ9IuWTgeexu+Wbvuagh+W6kyIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSI+PGcgaWQ9IuiFvuiur+aWh+aho+WTgeexu+Wbvuagh+WIh+WbvuW6kyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyMDIgLTI0MTQpIj48ZyBpZD0iZmlsZV9mb2xkZXJfMTYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMDIgMjQxNCkiPjxyZWN0IGlkPSJiZyIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiB4PSIwIiB5PSIwIi8+PGcgaWQ9Imljb19mb2xkZXIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEgMikiPjxwYXRoIGlkPSLnn6nlvaIiIGZpbGw9InVybCgjbGluZWFyR3JhZGllbnQtMSkiIGQ9Ik0uNjEgMGg1LjIxNWEuNjEuNjEgMCAwIDEgLjQ4NC4yMzlsMS43NTIgMi4yODhIMFYuNjFBLjYxLjYxIDAgMCAxIC42MSAwIi8+PHBhdGggaWQ9IuefqeW9oiIgZmlsbD0idXJsKCNsaW5lYXJHcmFkaWVudC0yKSIgZD0iTTAgMS45ODdoMTMuMjg1Yy4zOTUgMCAuNzE1LjMyLjcxNS43MTV2OS42MmEuNzE1LjcxNSAwIDAgMS0uNzE4LjcxNUwuNzEyIDEyLjk5QS43MTUuNzE1IDAgMCAxIDAgMTIuMjc2eiIvPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4="},776998:function(e,t,n){"use strict";e.exports=n.p+"assets/file_form_16.40401295089d728b.svg"},422126:function(e,t,n){"use strict";e.exports=n.p+"assets/file_mindmap_16.14199a51df710e90.svg"},109629:function(e,t,n){"use strict";e.exports=n.p+"assets/file_pdf_16.73aad49debf8b294.svg"},668167:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJsaW5lYXJHcmFkaWVudC0xIiB4MT0iMTAwJSIgeDI9Ii00OC4zNTQlIiB5MT0iNi4zNzMlIiB5Mj0iOTMuMDE1JSI+PHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzFFQ0NGMiIvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzQwQkVGQyIvPjwvbGluZWFyR3JhZGllbnQ+PGZpbHRlciBpZD0iZmlsdGVyLTMiIHdpZHRoPSIyMzMuMyUiIGhlaWdodD0iMjMzLjMlIiB4PSItNjYuNyUiIHk9Ii0zMy4zJSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij48ZmVPZmZzZXQgZHk9IjIiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiLz48ZmVHYXVzc2lhbkJsdXIgaW49InNoYWRvd09mZnNldE91dGVyMSIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIiBzdGREZXZpYXRpb249IjEiLz48ZmVDb2xvck1hdHJpeCBpbj0ic2hhZG93Qmx1ck91dGVyMSIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwLjA4IDAiLz48L2ZpbHRlcj48cGF0aCBpZD0icGF0aC0yIiBkPSJNMTAuNTMgMTAuMjk4Yy4zNi4xNzIuNTc4LjUxLjU3Ljg2MXYuOTgzaC02di0uOTgzYy0uMDA4LS4zNTIuMjExLS42ODkuNTctLjg2bDEuOTA2LS45NTgtLjAwMS0uMjgyYS40Ny40NyAwIDAgMC0uMTg0LS4zNyAxLjA2IDEuMDYgMCAwIDEtLjQzMi0uODM0bC0uMDA5LS42MjNjLS4wMDctLjU5NC40OS0xLjA4MiAxLjEwOC0xLjA4OWguMDQ5Yy42Mi0uMDA4IDEuMTI3LjQ2OCAxLjEzNSAxLjA2M2wuMDA4LjYyMWExLjA2IDEuMDYgMCAwIDEtLjQzNC44NjIuNDcuNDcgMCAwIDAtLjE4NS4zODJsLjAwMi4yNzV6Ii8+PC9kZWZzPjxnIGlkPSLpobXpnaItMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSI+PGcgaWQ9IlBDLeaWsOWbvuaghyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI5NSAtMjgwKSI+PGcgaWQ9Il/lm77moIcv5ZOB54mMLzA2X+WFseS6q+aWh+S7tuWkuSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjk1IDI4MCkiPjxwYXRoIGlkPSLnn6nlvaIiIGZpbGw9InVybCgjbGluZWFyR3JhZGllbnQtMSkiIGQ9Ik0uNjA3IDIuOTI0aDE0LjIxOGMuNDMyIDAgLjc4Mi4zNS43ODIuNzgydjkuNzY5YzAgLjQzMi0uMzUuNzgyLS43ODIuNzgySDEuMzg5YS43OC43OCAwIDAgMS0uNzgyLS43ODJ6Ii8+PGcgaWQ9Iui3r+W+hC1jb3B5LTkiPjx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMiIgZmlsbD0iIzAwMCIgZmlsdGVyPSJ1cmwoI2ZpbHRlci0zKSIvPjx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMiIgZmlsbD0iI0U3RjlGRiIvPjwvZz48cGF0aCBpZD0i5b2i54q257uT5ZCIIiBmaWxsPSIjMDA4RUQ3IiBkPSJNMS4yNzQgMWg1LjY1MWMuMTcyIDAgLjMzOC4wNjcuNDYyLjE4Nkw5LjI3NCAzSC42MDdWMS42NjdjMC0uMzY5LjI5OC0uNjY3LjY2Ny0uNjY3Ii8+PC9nPjwvZz48L2c+PC9zdmc+"},292957:function(e,t,n){"use strict";e.exports=n.p+"assets/file_sheet_16.f97105f2e31e81a1.svg"},562127:function(e,t,n){"use strict";e.exports=n.p+"assets/file_slide_16.bf24a997231371f1.svg"},418856:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4IiBoZWlnaHQ9IjgiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCA4IDgiPjxwYXRoIGZpbGw9IiMxRTZGRkYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTggMEg1djVIMHYzaDhWMCIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+"},902386:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48ZyBpZD0i6aG16Z2iLTEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiPjxnIGlkPSLotYTmupBf6ZO+5o6l5aSa5oCB5YiH5o2iIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcgLTE3NikiPjxnIGlkPSLnvJbnu4QiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE3IDE3NikiPjxyZWN0IGlkPSLnn6nlvaIiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgeD0iMCIgeT0iMCIgcng9IjIiLz48cGF0aCBpZD0i5b2i54q2IiBmaWxsPSIjMUU2RkZGIiBkPSJNNi4yODYgMTJhLjY3My42NzMgMCAwIDEgMCAuOTUybC0uOTUzLjk1M2EzLjM2NyAzLjM2NyAwIDAgMCA0LjYgNC45MTNsLjE2Mi0uMTUxIDIuODU3LTIuODU3YTMuMzY3IDMuMzY3IDAgMCAwLS41MjMtNS4xOWwuOTY2LS45NjdxLjI2Ny4yLjUxLjQ0MmE0LjcxNCA0LjcxNCAwIDAgMSAwIDYuNjY3bC0yLjg1NyAyLjg1N2E0LjcxNCA0LjcxNCAwIDEgMS02LjY2Ny02LjY2N0w1LjMzMyAxMmEuNjczLjY3MyAwIDAgMSAuOTUzIDBtNi42NjYtNy42MmE0LjcxNCA0LjcxNCAwIDEgMSA2LjY2NyA2LjY2OGwtLjk1Mi45NTJhLjY3My42NzMgMCAxIDEtLjk1My0uOTUybC45NTMtLjk1M2EzLjM2NyAzLjM2NyAwIDAgMC00LjYtNC45MTNsLS4xNjIuMTUxLTIuODU3IDIuODU3YTMuMzY3IDMuMzY3IDAgMCAwIC41MjQgNS4xOTFsLS45NjYuOTY3YTQuNzE0IDQuNzE0IDAgMCAxLS41MTEtNy4xMXoiLz48L2c+PC9nPjwvZz48L3N2Zz4="},494153:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDQ4IDQ4Ij48ZyBpZD0i5o6n5Lu2IiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIj48ZyBpZD0iUGxhY2Vob2xkZXLljaDkvY3lm74v5YWD57SgL+WbvueJhyIgZmlsbD0iI0NCQ0REMSIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBpZD0i5b2i54q257uT5ZCIIiBkPSJNMzUgMjBhOSA5IDAgMSAxIDAgMTggOSA5IDAgMCAxIDAtMThtMi0xMGEyIDIgMCAwIDEgMiAydjUuNjgzYTEyIDEyIDAgMCAwLTItLjUxN1YxMkg5djE3Ljk2M2w5LjIxOC0xMC4zNiA1LjYwMSA1LjAzYTEyIDEyIDAgMCAwLS42MiAyLjE4M2wtNC44MjMtNC4zM0w5IDMzLjAyMVYzNGwxNS4wODkuMDAxYy4zMjQuNzA2LjcxNCAxLjM3NiAxLjE2NCAyTDkgMzZhMiAyIDAgMCAxLTItMlYxMmEyIDIgMCAwIDEgMi0yem0tMiAxMmE3IDcgMCAxIDAgMCAxNCA3IDcgMCAwIDAgMC0xNG0xIDl2MmgtMnYtMnptMC02djVoLTJ2LTV6Ii8+PC9nPjwvZz48L3N2Zz4="},631352:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDQ4IDQ4Ij48cGF0aCBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNCA2YzkuOTQxIDAgMTggOC4wNTkgMTggMThzLTguMDU5IDE4LTE4IDE4UzYgMzMuOTQxIDYgMjQgMTQuMDU5IDYgMjQgNm0wIDJDMTUuMTYzIDggOCAxNS4xNjMgOCAyNHM3LjE2MyAxNiAxNiAxNiAxNi03LjE2MyAxNi0xNlMzMi44MzcgOCAyNCA4bS01IDI1IDE0LTktMTQtOXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="},874566:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tYWkiIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHJlY3Qgd2lkdGg9IjE1IiBoZWlnaHQ9IjE1IiB4PSIuNSIgeT0iLjUiIGZpbGw9IiNmZmYiIHN0cm9rZT0iI0Q4RDhEOCIgcng9IjIuNSIvPjxwYXRoIGZpbGw9IiNGMjdGNEUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0ibTUgOS44LS41OCAyLjEzYy0uMDEuMDYtLjA0LjA3LS4xLjA3SDMuMjNjLS4wOCAwLS4wOS0uMDItLjA4LS4xbDIuMDgtNy4wNGMuMDQtLjEzLjA2LS4yNC4wNy0uNiAwLS4wNC4wMy0uMDYuMDYtLjA2SDYuOWMuMDQgMCAuMDcgMCAuMDguMDdsMi4zMyA3LjY0Yy4wMS4wNSAwIC4wOS0uMDYuMDloLTEuMmMtLjA3IDAtLjEtLjAxLS4xMi0uMDZsLS42LTIuMTNINXptMi4wNC0xLjE0Yy0uMi0uNzktLjY5LTIuNS0uODctMy4zM2gtLjAxQzYgNi4xNiA1LjYgNy41NiA1LjMgOC42NmgxLjczem0zLjI5LTMuOTRjMC0uNDUuMzMtLjcyLjc1LS43Mi40NSAwIC43NS4zLjc1LjcyIDAgLjQ3LS4zMi43My0uNzYuNzNzLS43NC0uMjYtLjc0LS43M20uMDggMS42MWMwLS4wNi4wMy0uMDguMDktLjA4aDEuMTRjLjA2IDAgLjA5LjAyLjA5LjA4djUuNTljMCAuMDYtLjAxLjA4LS4wOS4wOGgtMS4xM2MtLjA4IDAtLjEtLjA0LS4xLS4xVjYuMzR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4="},665639:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tYW5kcm9pZCIgdmlld0JveD0iMCAwIDE2IDE2Ij48cmVjdCB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHg9Ii41IiB5PSIuNSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjRDhEOEQ4IiByeD0iMi41Ii8+PHBhdGggZmlsbD0iIzNFQzg3RCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjEgMy40N2EuNDMuNDMgMCAwIDEgLjguMzNsLS4wMi4wNi0uNiAxLjE4QTMuNTEgMy41MSAwIDAgMSAxMiA4SDQuMDFBMy41MSAzLjUxIDAgMCAxIDUuMiA1LjA0bC0uNi0xLjE4YS40My40MyAwIDAgMSAuNzQtLjQ1bC4wNC4wNi41MyAxLjA2YTQuMjYgNC4yNiAwIDAgMSA0LjE2IDBsLjUzLTEuMDZ6TTEyIDl2Mi41YTEgMSAwIDAgMS0xIDFINWExIDEgMCAwIDEtMS0xVjl6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjZmZmIiBmaWxsLW9wYWNpdHk9Ii4xNSIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC42NyA0LjA1Yy0xLjkuMy0zLjM0IDEuOC0zLjM0IDMuNjIgMCAuMSAwIC4yMi4wMi4zM0g0LjAyQTMgMyAwIDAgMSA0IDcuNjdDNCA1LjY0IDUuOCA0IDggNGMuMjMgMCAuNDUuMDIuNjcuMDVtLTMuMzQgOC42Mkg0VjguNTNoMS4zM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxjaXJjbGUgY3g9IjYiIGN5PSI2LjUiIHI9Ii41IiBmaWxsPSIjZmZmIi8+PGNpcmNsZSBjeD0iMTAiIGN5PSI2LjUiIHI9Ii41IiBmaWxsPSIjZmZmIi8+PC9zdmc+"},605121:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tYXVkaW8iIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHJlY3Qgd2lkdGg9IjE1IiBoZWlnaHQ9IjE1IiB4PSIuNSIgeT0iLjUiIGZpbGw9IiNmZmYiIHN0cm9rZT0iI0Q4RDhEOCIgcng9IjIuNSIvPjxwYXRoIGZpbGw9IiMzRUM4N0QiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODcgMTAuOGMwIDEuMjEtLjk3IDEuOC0xLjYxIDEuOC0uNzQgMC0xLjI2LS4zMy0xLjI2LS45N3MuNDEtMS4wNyAxLjMtMS4yNGwuNjItLjE4Yy4xOC0uMDMuMjctLjE1LjI3LS4zNFY1LjQ1YzAtLjI0LjEzLS4zOS40My0uNDVsNS45NS0xLjRjLjIzLS4wNC40My4xMS40My4zNHY2LjI2YzAgMS4yMi0uOTIgMS43Mi0xLjU2IDEuNzItLjczIDAtMS4yNy0uMzUtMS4yNy0xIDAtLjYzLjM5LTEuMDYgMS4yNy0xLjIzbC42Mi0uMTRjLjE4LS4wMy4yNy0uMTYuMjctLjM1VjUuOUw2LjEgNy4wNGMtLjIuMDQtLjIzLjA3LS4yMy4yOHYzLjQ2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljg3IDEwLjhjMCAxLjIxLS45NyAxLjgtMS42MSAxLjgtLjc0IDAtMS4yNi0uMzMtMS4yNi0uOTdzLjQxLTEuMDcgMS4zLTEuMjRsLjYyLS4xOGMuMTgtLjAzLjI3LS4xNS4yNy0uMzRWNS40NWMwLS4yNC4xMy0uMzkuNDMtLjQ1bC41LS4xMmMuODcuMzMgMS42My45MiAyLjE1IDEuNjlsLTIuMTcuNDhjLS4yLjA0LS4yMy4wNy0uMjMuMjh2My40NnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIgb3BhY2l0eT0iLjE1Ii8+PC9zdmc+"},949627:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tYmxhY2tib2FyZCIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTAgM2EzIDMgMCAwIDEgMy0zaDEwYTMgMyAwIDAgMSAzIDN2MTBhMyAzIDAgMCAxLTMgM0gzYTMgMyAwIDAgMS0zLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTEuMDggMy41aC0uOTRsLS4yMiAxLjhINy44N2wtLjEuOUg5LjhsLS40NCAzLjZINy4zMmwtLjExLjloMi4wNGwtLjIyIDEuOGguOTVsLjIyLTEuOGgxLjc0bC4xMS0uOWgtMS43NGwuNDQtMy42aDEuNzRsLjExLS45aC0xLjc0em0tMy44NSAwaC0uOTdsLS4yMiAxLjhINC4wNWwtLjEuOWgxLjk4bC0uNDQgMy42SDMuNWwtLjExLjloMS45OWwtLjIyIDEuOGguOTd6Ii8+PC9zdmc+"},723848:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tY2FkIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxyZWN0IHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgeD0iLjUiIHk9Ii41IiBmaWxsPSIjZmZmIiBzdHJva2U9IiNEOEQ4RDgiIHJ4PSIyLjUiLz48cGF0aCBmaWxsPSIjNDg5MkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDJoMXYyaDJ2Mmg1djFIOXYySDd2NUg2VjlINFY3SDJWNmgyVjRoMnptMiAzSDV2M2gzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+"},29821:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tY2RyIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxyZWN0IHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgeD0iLjUiIHk9Ii41IiBmaWxsPSIjZmZmIiBzdHJva2U9IiNEOEQ4RDgiIHJ4PSIyLjUiLz48cGF0aCBmaWxsPSIjM0VDODdEIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ljk4IDQuNTcgMy4wOSA2LjQ2bDQuNzMgNC43M2MuMjYuMjYuNi40My45Ny41bDIuNTEuNGMuNDguMDguOS0uMzMuODItLjgxbC0uNC0yLjUyYy0uMDctLjM3LS4yNC0uNy0uNS0uOTdMNi40OCAzLjA3bC0uNzYuNzUgNC45IDQuOS0uNzYuNzUtNC45LTQuOXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiM1RUQ2OEEiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0ibTUuNzMgMy44Mi43Ni0uNzUgNC45IDQuOS0uNzUuNzUtNC45LTQuOXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="},92139:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tZGlzayIgdmlld0JveD0iMCAwIDE2IDE2Ij48cmVjdCB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHg9Ii41IiB5PSIuNSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjRDhEOEQ4IiByeD0iMi41Ii8+PGNpcmNsZSBjeD0iOCIgY3k9IjgiIHI9IjQuOCIgZmlsbD0iIzdGOEE5QSIvPjxwYXRoIGZpbGw9IiNmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0ibTkuNTUgMi4xMiAyLjc3IDEuNi0yLjk3IDIuOTRhMS45IDEuOSAwIDAgMC0uODctLjV6bS0yLjkgNy4yMi0yLjk3IDIuOTQgMi43NyAxLjYgMS4wNy00LjA0YTEuOSAxLjkgMCAwIDEtLjg3LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIG9wYWNpdHk9Ii4yNSIvPjxjaXJjbGUgY3g9IjgiIGN5PSI4IiByPSIxLjI1IiBmaWxsPSIjZmZmIi8+PC9zdmc+"},325678:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tZXhjZWwiIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHBhdGggZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjRDhEOEQ4IiBkPSJNNSAuNWg2LjczYTEgMSAwIDAgMSAuNzEuM2wyLjc4IDIuODVhMSAxIDAgMCAxIC4yOC43VjE0YzAgLjgzLS42NyAxLjUtMS41IDEuNUg1QTEuNSAxLjUgMCAwIDEgMy41IDE0VjJjMC0uODMuNjctMS41IDEuNS0xLjV6Ii8+PHBhdGggZmlsbD0iI0Q4RDhEOCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41IDVhLjUuNSAwIDAgMCAwIDFIOWEuNS41IDAgMCAwIDAtMXptMCAyLjVhLjUuNSAwIDAgMCAwIDFIOWEuNS41IDAgMCAwIDAtMXptMy0yYzAtLjI4LjIyLS41LjUtLjVoMS41YS41LjUgMCAwIDEgMCAxSDExYS41LjUgMCAwIDEtLjUtLjVtLjUgMmEuNS41IDAgMCAwIDAgMWgxLjVhLjUuNSAwIDAgMCAwLTF6bS00IDNjMC0uMjguMjItLjUuNS0uNUg5YS41LjUgMCAwIDEgMCAxSDcuNWEuNS41IDAgMCAxLS41LS41bTQtLjVhLjUuNSAwIDAgMCAwIDFoMS41YS41LjUgMCAwIDAgMC0xeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHJlY3Qgd2lkdGg9IjgiIGhlaWdodD0iOCIgeT0iNCIgZmlsbD0iIzBDODg0QyIgcng9IjEuNSIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Im0yLjk4IDEwLjI1Ljk2LTEuNTZoLjA0bC45NyAxLjU2aDEuMDZMNC41NyA4LjAzdi0uMDFsMS40Ni0yLjJINC45OWwtLjk0IDEuNmgtLjAzbC0uOTUtMS42SDEuOThMMy4zOCA4di4wMWwtMS40IDIuMjR6Ii8+PC9zdmc+"},264306:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tZXhlIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxyZWN0IHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgeD0iLjUiIHk9Ii41IiBmaWxsPSIjZmZmIiBzdHJva2U9IiNEOEQ4RDgiIHJ4PSIyLjUiLz48cGF0aCBmaWxsPSIjN0Y4QTlBIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDUuMiAxMiA0djguNGwtOC0xeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTEyIDh2MUg0Vjh6Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTggNC40OFYxMkg3VjQuNDh6Ii8+PC9zdmc+"},759497:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tZmlsZXR5cGUtdGRvYy1mbG93Y2hhcnQiIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZmlsbD0iIzRDNjNFOSIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOCAxMGMwLTEuNDcgMS4yLTIuNjcgMi42Ny0yLjY3aDE4LjY2QzMwLjgxIDcuMzMgMzIgOC41MyAzMiAxMHYxOS4zM2MwIDEuNDgtMS4yIDIuNjctMi42NyAyLjY3SDEwLjY3QTIuNjcgMi42NyAwIDAgMSA4IDI5LjMzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzcxODdGRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMi42NyAwQTIuNjcgMi42NyAwIDAgMCAwIDIuNjd2MjYuNjZDMCAzMC44MSAxLjIgMzIgMi42NyAzMkgyOS4zYTIuNjcgMi42NyAwIDAgMS0yLjY0LTIuNjVWMi42N0EyLjY1NSAyLjY1NSAwIDAgMCAyNCAweiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIuNjciIGQ9Ik0xOC42NyAxMy4zM2gtNy4zNEEyLjY3IDIuNjcgMCAwIDAgOC42NyAxNmMwIDEuNDcgMS4yIDIuNjcgMi42NiAyLjY3SDE2YzEuNDcgMCAyLjY3IDEuMTkgMi42NyAyLjY2IDAgMS40OC0xLjIgMi42Ny0yLjY3IDIuNjdIOC42NyIgb3BhY2l0eT0iLjc1Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTE1LjMzIDEzLjMzIDMtMyAzIDMtMyAzek0xMC42NyAyMmgtNHY0aDR6Ii8+PC9zdmc+"},108787:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tZmlsZXR5cGUtdGRvYy1mb2xkZXIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZmlsbD0idXJsKCNmaWxldHlwZS10ZG9jLWZvbGRlcl9wYWludDBfbGluZWFyXzQyN180NzczKSIgZD0iTTAgMjYuNjdWNS4zM2MwLTEuNDcgMS4yLTIuNjYgMi42Ny0yLjY2aDYuNzVjLjc5IDAgMS41NC4zNSAyLjA1Ljk2TDE0IDYuNjdoMTUuMzNjMS40OCAwIDIuNjcgMS4yIDIuNjcgMi42NnYxNy4zNGMwIDEuNDctMS4yIDIuNjYtMi42NyAyLjY2SDIuNjdBMi42NyAyLjY3IDAgMCAxIDAgMjYuNjciLz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImZpbGV0eXBlLXRkb2MtZm9sZGVyX3BhaW50MF9saW5lYXJfNDI3XzQ3NzMiIHgxPSIxNi4wOCIgeDI9Ii0xMC4wMSIgeTE9Ii0xMC42IiB5Mj0iMjAuNzEiPjxzdG9wIHN0b3AtY29sb3I9IiM2QkJFRkUiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1OUFCRkUiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48L3N2Zz4="},56107:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tZmlsZXR5cGUtdGRvYy1taW5kbWFwIiB2aWV3Qm94PSIwIDAgMzIgMzIiPjxwYXRoIGZpbGw9IiM5NTUyRTAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTggMTBjMC0xLjQ3IDEuMi0yLjY3IDIuNjctMi42N2gxOC42NkMzMC44MSA3LjMzIDMyIDguNTMgMzIgMTB2MTkuMzNjMCAxLjQ4LTEuMiAyLjY3LTIuNjcgMi42N0gxMC42N0EyLjY3IDIuNjcgMCAwIDEgOCAyOS4zM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiNCNDc4RjciIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTIuNjcgMEEyLjY3IDIuNjcgMCAwIDAgMCAyLjY3djI2LjY2QzAgMzAuODEgMS4yIDMyIDIuNjcgMzJIMjkuM2EyLjY3IDIuNjcgMCAwIDEtMi42NC0yLjY1VjIuNjdBMi42NTUgMi42NTUgMCAwIDAgMjQgMHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIyLjY3IiBkPSJNMjAgMTQuNjdoLTYuMzNhNSA1IDAgMCAwLTUgNSA1IDUgMCAwIDAgNSA1SDIwIiBvcGFjaXR5PSIuNzUiLz48cmVjdCB3aWR0aD0iNiIgaGVpZ2h0PSI2IiB4PSI1LjMzIiB5PSIxNi42NyIgZmlsbD0iI2ZmZiIgcng9IjMiLz48cGF0aCBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOS4zMyAxMi42N2EyIDIgMCAxIDEgMCA0IDIgMiAwIDAgMSAwLTRtMCAxMGEyIDIgMCAxIDEgMCA0IDIgMiAwIDAgMSAwLTQiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="},416426:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tZmlsZXR5cGUtdGRvYy10ZG9jIiB2aWV3Qm94PSIwIDAgMzIgMzIiPjxwYXRoIGZpbGw9IiMyMjcyREIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTggMTBjMC0xLjQ3IDEuMi0yLjY3IDIuNjctMi42N2gxOC42NkMzMC44MSA3LjMzIDMyIDguNTMgMzIgMTB2MTkuMzNjMCAxLjQ4LTEuMiAyLjY3LTIuNjcgMi42N0gxMC42N0EyLjY3IDIuNjcgMCAwIDEgOCAyOS4zM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiM0Qjk1RjMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTIuNjcgMEEyLjY3IDIuNjcgMCAwIDAgMCAyLjY3djI2LjY2QzAgMzAuODEgMS4yIDMyIDIuNjcgMzJIMjkuM2EyLjY3IDIuNjcgMCAwIDEtMi42NC0yLjY3VjIuNjdBMi42NTUgMi42NTUgMCAwIDAgMjQgMHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0yMS4zMyAyMi42N3YyLjY2SDZ2LTIuNjZ6IiBvcGFjaXR5PSIuNzUiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMjEuMzMgMTcuMzNWMjBINnYtMi42N3oiLz48L3N2Zz4="},336852:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tZmlsZXR5cGUtdGRvYy10Zm9ybSIgdmlld0JveD0iMCAwIDMyIDMyIj48cGF0aCBmaWxsPSIjRTc5QjAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04IDEwYzAtMS40NyAxLjItMi42NyAyLjY3LTIuNjdoMTguNjZDMzAuODEgNy4zMyAzMiA4LjUzIDMyIDEwdjE5LjMzYzAgMS40OC0xLjIgMi42Ny0yLjY3IDIuNjdIMTAuNjdBMi42NyAyLjY3IDAgMCAxIDggMjkuMzN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjRkZCQTMwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yLjY3IDBBMi42NyAyLjY3IDAgMCAwIDAgMi42N3YyNi42NkMwIDMwLjgxIDEuMiAzMiAyLjY3IDMySDI5LjNhMi42NyAyLjY3IDAgMCAxLTIuNjQtMi42NVYyLjY3QTIuNjU1IDIuNjU1IDAgMCAwIDI0IDB6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Im04LjU1IDE3LjQ1LTEuODggMS44OCAzLjc3IDMuNzcgMS44OCAxLjkgMS44OS0xLjg5IDcuNTQtNy41NC0xLjg4LTEuODgtNy41NSA3LjU0LTMuNzctMy43N3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="},998857:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tZmlsZXR5cGUtdGRvYy10c2hlZXQiIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZmlsbD0iIzFCQUIzRCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOCAxMGMwLTEuNDcgMS4yLTIuNjcgMi42Ny0yLjY3aDE4LjY2QzMwLjgxIDcuMzMgMzIgOC41MyAzMiAxMHYxOS4zM2MwIDEuNDgtMS4yIDIuNjctMi42NyAyLjY3SDEwLjY3QTIuNjcgMi42NyAwIDAgMSA4IDI5LjMzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzQ0Qzk2NiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMi42NyAwQTIuNjcgMi42NyAwIDAgMCAwIDIuNjd2MjYuNjZDMCAzMC44MSAxLjIgMzIgMi42NyAzMkgyOS4zYTIuNjcgMi42NyAwIDAgMS0yLjY0LTIuNjdWMi42N0EyLjY1NSAyLjY1NSAwIDAgMCAyNCAweiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMjEuMzMgMjUuMzN2LTIuNjZoLTYuNjZ2Mi42NnptLTguNjYgMHYtMi42Nkg2djIuNjZ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIG9wYWNpdHk9Ii43NSIvPjxwYXRoIGZpbGw9IiNmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjY3IDIwdi0yLjY3SDZWMjB6bTguNjYgMHYtMi42N2gtNi42NlYyMHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="},4305:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tZmlsZXR5cGUtdGRvYy10c2xpZGUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZmlsbD0iI0U3NTUyQiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOCAxMGMwLTEuNDcgMS4yLTIuNjcgMi42Ny0yLjY3aDE4LjY2QzMwLjgxIDcuMzMgMzIgOC41MyAzMiAxMHYxOS4zM2MwIDEuNDgtMS4yIDIuNjctMi42NyAyLjY3SDEwLjY3QTIuNjcgMi42NyAwIDAgMSA4IDI5LjMzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iI0ZGN0E1NiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMi42NyAwQTIuNjcgMi42NyAwIDAgMCAwIDIuNjd2MjYuNjZDMCAzMC44MSAxLjIgMzIgMi42NyAzMkgyOS4zYTIuNjcgMi42NyAwIDAgMS0yLjY0LTIuNjVWMi42N0EyLjY1NSAyLjY1NSAwIDAgMCAyNCAweiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMjAuNjQgMjBhNy4zMyA3LjMzIDAgMSAxLTcuOTctNy45N1YyMHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIgb3BhY2l0eT0iLjc1Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMjAuNjQgMTguNjZBNy4zNCA3LjM0IDAgMCAwIDE0IDEyLjAzdjYuNjN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4="},484418:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tZm9udCIgdmlld0JveD0iMCAwIDE2IDE2Ij48cmVjdCB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHg9Ii41IiB5PSIuNSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjRDhEOEQ4IiByeD0iMi41Ii8+PHBhdGggZmlsbD0iIzdGOEE5QSIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC45NSAxMnYtLjVjLS44NC0uMS0uOTctLjI3LS45Ny0uODVWOC4zbDEuMS4wMmMuNTQuMDEuNy4yMy44NiAxLjE4aC40NlY2LjUzaC0uNDZjLS4xOC45Ni0uMzMgMS4xNy0uODcgMS4xOGwtMS4wOS4wMlY0LjU4bDEuMS4wNGMxLjQzLjA2IDEuODMuMzUgMi4xNSAxLjdoLjQ3TDExLjY0IDRINS4xdi41Yy43OS4xLjkuMjQuOS43NnY1LjQ4YzAgLjUyLS4xMS42NS0uOS43NnYuNXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="},334718:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24taHRtbCIgdmlld0JveD0iMCAwIDE2IDE2Ij48cmVjdCB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHg9Ii41IiB5PSIuNSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjRDhEOEQ4IiByeD0iMi41Ii8+PHBhdGggZmlsbD0iIzdGOEE5QSIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTAgMTEuNDEgMy41LTMuMDZ2LS43TDEwIDQuNlY2bDIuNDQgMkwxMCAxMHpNNiA0LjU5VjZMMy41NiA4IDYgMTB2MS40MkwyLjUgOC4zNXYtLjd6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4="},641281:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24ta2V5bm90ZSIgdmlld0JveD0iMCAwIDE2IDE2Ij48cmVjdCB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHg9Ii41IiB5PSIuNSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjRDhEOEQ4IiByeD0iMi41Ii8+PHBhdGggZmlsbD0iI0Q4RDhEOCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC41IDhoLTF2M0g2YS41LjUgMCAwIDAgMCAxaDRhLjUuNSAwIDAgMCAwLTFIOC41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzVEQkRGRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMy45NyA0LjU0YS42LjYgMCAwIDEgLjYtLjU0aDYuODZjLjMgMCAuNTcuMjMuNi41NGwuNCAzLjg3YS41My41MyAwIDAgMS0uNTIuNTlINC4wOWEuNTMuNTMgMCAwIDEtLjUzLS41OXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="},461880:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tbWFpbCIgdmlld0JveD0iMCAwIDE2IDE2Ij48cmVjdCB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHg9Ii41IiB5PSIuNSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjRDhEOEQ4IiByeD0iMi41Ii8+PHBhdGggZmlsbD0iI0ZDQkQzNSIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMy41IDUuNWExIDEgMCAwIDEgMS0xaDdhMSAxIDAgMCAxIDEgMXY1YTEgMSAwIDAgMS0xIDFoLTdhMSAxIDAgMCAxLTEtMXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiNGRkQzNDIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjYxIDQuNWMuNSAwIC44OS40Ljg5Ljg5di4wNkw4IDguNSAzLjUgNS40NVY1LjRjMC0uNS40LS44OS44OS0uODloNy4yMnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiNGQUE5MkYiIGQ9Ik0xMi41IDUuMzl2LjdMOCA5LjMgMy41IDYuMXYtLjcxYTEgMSAwIDAgMSAwLS4xM0w4IDguNDZsNC41LTMuMmExIDEgMCAwIDEgMCAuMTMiLz48L3N2Zz4="},498600:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tbnVtYmVycyIgdmlld0JveD0iMCAwIDE2IDE2Ij48cmVjdCB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHg9Ii41IiB5PSIuNSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjRDhEOEQ4IiByeD0iMi41Ii8+PHBhdGggZmlsbD0iI0Q4RDhEOCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMy41IDEwLjRjMC0uMjIuMTgtLjQuNC0uNGguN2MuMjIgMCAuNC4xOC40LjR2MS4yYS40LjQgMCAwIDEtLjQuNGgtLjdhLjQuNCAwIDAgMS0uNC0uNHptMi42Ny0yYzAtLjIyLjE4LS40LjQtLjRoLjdjLjIyIDAgLjQuMTguNC40djMuMmEuNC40IDAgMCAxLS40LjRoLS43YS40LjQgMCAwIDEtLjQtLjR6bTUuMzMtMmMwLS4yMi4xOC0uNC40LS40aC43Yy4yMiAwIC40LjE4LjQuNHY1LjJhLjQuNCAwIDAgMS0uNC40aC0uN2EuNC40IDAgMCAxLS40LS40eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzNFQzg3RCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC44MyA0LjRjMC0uMjIuMTgtLjQuNC0uNGguN2MuMjIgMCAuNC4xOC40LjR2Ny4yYS40LjQgMCAwIDEtLjQuNGgtLjdhLjQuNCAwIDAgMS0uNC0uNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="},305559:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tb3RoZXIiIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHJlY3Qgd2lkdGg9IjE1IiBoZWlnaHQ9IjE1IiB4PSIuNSIgeT0iLjUiIGZpbGw9IiNmZmYiIHN0cm9rZT0iI0Q4RDhEOCIgcng9IjIuNSIvPjxwYXRoIGZpbGw9IiM3RjhBOUEiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuNSA0LjYyYzAtLjQgMC0uNTkuMDgtLjc0YS43LjcgMCAwIDEgLjMtLjNjLjE1LS4wOC4zNS0uMDguNzQtLjA4SDlMMTEuNSA2djUuMzhjMCAuNCAwIC41OS0uMDguNzRhLjcuNyAwIDAgMS0uMy4zYy0uMTUuMDgtLjM1LjA4LS43NC4wOEg1LjYyYy0uNCAwLS41OSAwLS43NC0uMDhhLjcuNyAwIDAgMS0uMy0uM2MtLjA4LS4xNS0uMDgtLjM1LS4wOC0uNzR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik05IDMuNSAxMS41IDZoLTJhLjUuNSAwIDAgMS0uNS0uNXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIgb3BhY2l0eT0iLjI1Ii8+PC9zdmc+"},427826:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tcGFnZXMiIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHJlY3Qgd2lkdGg9IjE1IiBoZWlnaHQ9IjE1IiB4PSIuNSIgeT0iLjUiIGZpbGw9IiNmZmYiIHN0cm9rZT0iI0Q4RDhEOCIgcng9IjIuNSIvPjxyZWN0IHdpZHRoPSIxMiIgaGVpZ2h0PSIxIiB4PSIzLjUiIHk9IjEyIiBmaWxsPSIjRDhEOEQ4IiByeD0iLjUiLz48cGF0aCBmaWxsPSIjRjI3RjRFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMS45NCAzYS42Ny42NyAwIDAgMC0uOTUgMGwtLjY2LjY2Ljk1Ljk0LjY2LS42NmEuNjcuNjcgMCAwIDAgMC0uOTRNMTAuOSA0Ljk4bC0uOTQtLjk1LTUuODggNS44OC0uMjguNzdjLS4xLjI5LjE3LjU2LjQ1LjQ2bC43Ny0uMjl6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4="},510629:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tcGRmIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxyZWN0IHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgeD0iLjUiIHk9Ii41IiBmaWxsPSIjZmZmIiBzdHJva2U9IiNEOEQ4RDgiIHJ4PSIyLjUiLz48cGF0aCBmaWxsPSIjRjI1QTZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03LjY2IDNjLjY2IDAgLjk1LjU4Ljk0IDEuNDYgMCAuNjYtLjE2IDEuNTMtLjQzIDIuNDVsLjA0LS4xNC4zOC42MS4xNC4yLjA5LjEyYy4yNC4zMy41MS42My44LjlsLjEzLjExYTYgNiAwIDAgMSAyLjM0LS4wNGMuNzIuMTggMS4wOS42Ny44MyAxLjMyLS40Ljk5LTEuOTYuNjUtMy4zNy0uNDgtLjM1LjA3LS43LjE2LTEuMDguMjdsLS4yOC4wOC0uMTQuMDVxLS43Mi4yMjUtMS4zMi40NWwtLjEuMDNhOS4yIDkuMiAwIDAgMS0xLjY0IDIuMWMtLjY4LjU4LTEuMzIuNzEtMS43Ni4xNS0uNC0uNTItLjI2LTEuMDkuMzQtMS41N2E5IDkgMCAwIDEgMi4zOC0xLjIybC4yLS4wNy4xLS4xOWMuMTctLjI5LjMzLS41OC40Ny0uODhsLjEzLS4yOWMuMTktLjQuMzYtLjg3LjUyLTEuMzZsLjA2LS4yQzYuNDQgNC45MiA2LjQzIDMgNy42NiAzbS0yLjI1IDcuOTEuMDQtLjA1LS4wNi4wMmMtLjY0LjI4LTEuMS41NC0xLjM4Ljc3LS4zLjI2LS4zNC4zNy0uMjIuNTIuMS4xNC4zMy4xLjc0LS4yNi4yNC0uMi41LS41Ljc4LS44NnptNi41LTEuNTFjLS4yNS0uMDctLjYtLjEtMS4wMi0uMDdoLS4xNWwtLjE0LjAyLjEuMDZjLjIzLjEzLjQ1LjIzLjY1LjNsLjEyLjA0LjEyLjAzYy40LjEuNjIuMDMuNjYtLjA4LjA2LS4xNSAwLS4yMi0uMzMtLjN6TTcuOTUgNy43MmwtLjAyLjA1LS4wMi0uMDMtLjAyLjA2LS4zLjc2LS4wNy4xOC0uMi40LS4xMi4yNS4wNS0uMDItLjAyLjAzLjM4LS4xMy4zOC0uMTIuNDMtLjEzLjItLjA1LjIzLS4wNi0uMDItLjAyLjA0LS4wMS0uMDItLjAyYTggOCAwIDAgMS0uMy0uMzRsLS4xNS0uMTgtLjE0LS4xOS0uMS0uMTItLjA2LS4xLS4wNy0uMXptLS4yOC0zLjk3Yy0uMyAwLS4zNS43OC4wMiAxLjg1bC4wNS4xMy4wMi0uMWMuMDYtLjMzLjEtLjY0LjEzLS45MXYtLjI2YzAtLjUyLS4wOS0uNzEtLjIyLS43MSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+"},783693:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tcHB0IiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxwYXRoIGZpbGw9IiNmZmYiIHN0cm9rZT0iI0Q4RDhEOCIgZD0iTTUgLjVoNi43M2ExIDEgMCAwIDEgLjcxLjNsMi43OCAyLjg1YTEgMSAwIDAgMSAuMjguN1YxNGMwIC44My0uNjcgMS41LTEuNSAxLjVINUExLjUgMS41IDAgMCAxIDMuNSAxNFYyYzAtLjgzLjY3LTEuNSAxLjUtMS41eiIvPjxwYXRoIGZpbGw9IiNEOEQ4RDgiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTkuNSA1djMuNUgxM0EzLjUgMy41IDAgMSAxIDkuMyA1em0uNS4wNEEzLjUgMy41IDAgMCAxIDEyLjk2IDhIMTB6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cmVjdCB3aWR0aD0iOCIgaGVpZ2h0PSI4IiB5PSI0IiBmaWxsPSIjQ0Q0NzIzIiByeD0iMS41Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMy4zMyA4Ljh2MS40NWgtLjk2VjUuNjdoMS44NGMuOTcgMCAxLjYxLjYyIDEuNjEgMS41NnYuMDFjMCAuOTQtLjY0IDEuNTctMS42IDEuNTdoLS44OXptMC0uNzRoLjY1Yy41NSAwIC44Ny0uMy44Ny0uODJzLS4zMi0uODEtLjg3LS44MWgtLjY1eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+"},318124:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tcHNkIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxyZWN0IHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgeD0iLjUiIHk9Ii41IiBmaWxsPSIjZmZmIiBzdHJva2U9IiNEOEQ4RDgiIHJ4PSIyLjUiLz48cGF0aCBmaWxsPSIjNDg5MkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDQuMTJjMC0uMDUuMDEtLjA4LjA3LS4wOEM0LjU0IDQgNS4yMSA0IDUuOTIgNGMyIDAgMi44OCAxLjA4IDIuODggMi40OCAwIDEuODEtMS4zNSAyLjU5LTIuOTggMi41OWwtLjU2LS4wMnYyLjc5YzAgLjA2LS4wMi4wOC0uMDguMDhoLTEuMWMtLjA2IDAtLjA4LS4wMi0uMDgtLjA4em0xLjI2IDMuOGguNThjLjg1IDAgMS42NS0uMjkgMS42NS0xLjQyIDAtLjkxLS41Ny0xLjM3LTEuNTQtMS4zN2wtLjcuMDJ2Mi43NnptNS44NS0uODZjLS41NyAwLS43Ni4yOS0uNzYuNTIgMCAuMjYuMTMuNDQuOS44MyAxLjEzLjU0IDEuNDggMS4wNiAxLjQ4IDEuODMgMCAxLjE0LS44OCAxLjc2LTIuMDcgMS43NmEzLjMgMy4zIDAgMCAxLTEuNS0uM2MtLjA1LS4wMy0uMDYtLjA3LS4wNi0uMTJ2LTEuMDZjMC0uMDcuMDQtLjEuMDgtLjA2LjQ1LjMgMSAuNDMgMS40OC40My41NyAwIC44LS4yNC44LS41NiAwLS4yNi0uMTYtLjQ4LS44OS0uODYtMS4wMy0uNDktMS40NS0uOTktMS40NS0xLjggMC0uOTMuNzMtMS43IDItMS43LjYxIDAgMS4wNy4xIDEuMzEuMi4wNi4wNC4wNy4xLjA3LjE1di45OGMwIC4wNi0uMDMuMS0uMS4wNy0uMzMtLjItLjgyLS4zLTEuMjktLjN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4="},323590:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tc2tldGNoIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxyZWN0IHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgeD0iLjUiIHk9Ii41IiBmaWxsPSIjZmZmIiBzdHJva2U9IiNEOEQ4RDgiIHJ4PSIyLjUiLz48cGF0aCBmaWxsPSIjRkNCRDM1IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zLjExIDcuM2EuNDQuNDQgMCAwIDEgMC0uNTlsMi0yLjI2Yy4yNC0uMjguNi0uNDUgMS0uNDVIOS45Yy4zOCAwIC43NS4xNiAxIC40NWwxLjk5IDIuMjZjLjE0LjE3LjE0LjQxIDAgLjU4bC00LjU1IDUuMzNjLS4xOC4yLS41LjItLjY4IDBMMy4xMSA3LjI5eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iI0ZBQTkyRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA3YzAgLjEuMDQuMi4xMS4zbDQuNTUgNS4zMmMuMTguMi41LjIuNjggMGw0LjU1LTUuMzNjLjA3LS4wOC4xLS4xOS4xLS4yOUgzLjAyeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iI0ZGRDM0MiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOS44OCA0SDYuMTRjLS4yIDAtLjQuMDQtLjU2LjEyTDUgN2g2bC0uNTgtMi44OEExLjMgMS4zIDAgMCAwIDkuODggNCIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iI0ZDQkQzNSIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC40NSAxMi40Ny0uMS4xM2EuNDQuNDQgMCAwIDEtLjcgMGwtLjEtLjE1TDUgN2g2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+"},738997:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tc29saWR3b3JrcyIgdmlld0JveD0iMCAwIDE2IDE2Ij48cmVjdCB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHg9Ii41IiB5PSIuNSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjRDhEOEQ4IiByeD0iMi41Ii8+PHBhdGggZmlsbD0iI0YyNUE2RSIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIgNi40OWMwLS40OC0uMjYtLjkzLS42OC0xLjE2bC0yLjY3LTEuNWMtLjQtLjIyLS45LS4yMi0xLjMgMGwtMi42NyAxLjVDNC4yNiA1LjU2IDQgNiA0IDYuNDl2My4wMmMwIC40OC4yNi45My42OCAxLjE2bDIuNjcgMS41Yy40LjIyLjkuMjIgMS4zIDBsMi42Ny0xLjVjLjQyLS4yMy42OC0uNjguNjgtMS4xNnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iLjI1IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Im03LjM1IDMuODMtMi42NyAxLjVDNC4yNiA1LjU2IDQgNiA0IDYuNDl2My4wMmExLjMzIDEuMzMgMCAwIDAgLjY4IDEuMTZsMi42NyAxLjVjLjIuMTEuNDMuMTcuNjUuMTd2LTQuNGwzLjgxLTIuMTNjLS4xMS0uMi0uMjgtLjM3LS41LS40OGwtMi42Ni0xLjVjLS40LS4yMi0uOS0uMjItMS4zIDAiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="},599164:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tdHBsYWNlaG9sZGVyIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxnIGNsaXAtcGF0aD0idXJsKCN0cGxhY2Vob2xkZXJfY2xpcDBfNDg3XzYxOTM2KSI+PHBhdGggZmlsbD0iIzA2MEYxQSIgZmlsbC1vcGFjaXR5PSIuMSIgZD0iTTIuMiAxQzEuNTQgMSAxIDEuNTQgMSAyLjJ2MTEuNmMwIC42Ni41NCAxLjIgMS4yIDEuMkgxNGExIDEgMCAwIDEtMS0xVjIuMmMwLS42Ni0uNTQtMS4yLTEuMi0xLjJ6Ii8+PHBhdGggZmlsbD0iIzA4MTAxQSIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik0xMyA0LjVoLjhjLjY2IDAgMS4yLjU0IDEuMiAxLjJWMTRhMSAxIDAgMSAxLTIgMHoiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJ0cGxhY2Vob2xkZXJfY2xpcDBfNDg3XzYxOTM2Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMSAxaDE0djE0SDF6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+"},625486:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tdHJlcG9ydCIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZyBjbGlwLXBhdGg9InVybCgjdHJlcG9ydF9jbGlwMF81MTlfNjI4NTgpIj48cGF0aCBmaWxsPSIjRTQ4MTI1IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjUgNS43YzAtLjY2LjU0LTEuMiAxLjItMS4yaDguMWMuNjYgMCAxLjIuNTQgMS4yIDEuMlYxNGExIDEgMCAwIDEtMSAxSDUuN2ExLjIgMS4yIDAgMCAxLTEuMi0xLjJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjRkM5RDQ1IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yLjIgMUMxLjU0IDEgMSAxLjU0IDEgMi4ydjExLjZjMCAuNjYuNTQgMS4yIDEuMiAxLjJIMTRhMSAxIDAgMCAxLTEtMVYyLjJjMC0uNjYtLjU0LTEuMi0xLjItMS4yeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTcuNSAxMXYxaC00di0xeiIgb3BhY2l0eT0iLjc1Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTEwLjUgOXYxaC03Vjl6Ii8+PGNpcmNsZSBjeD0iNSIgY3k9IjUiIHI9IjEiIGZpbGw9IiNmZmYiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJ0cmVwb3J0X2NsaXAwXzUxOV82Mjg1OCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTEgMWgxNHYxNEgxeiIvPjwvY2xpcFBhdGg+PC9kZWZzPjwvc3ZnPg=="},673274:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tdHNtYXJ0c2hlZXQiIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHBhdGggZmlsbD0iIzAwQTY5MSIgZD0iTTQuNSA0LjVoOS4zM2MuNjUgMCAxLjE3LjUyIDEuMTcgMS4xN3Y4LjE2YzAgLjY1LS41MiAxLjE3LTEuMTcgMS4xN0g0LjV6Ii8+PHBhdGggZmlsbD0iIzE1Q0ZCMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMi4xNyAxQzEuNTIgMSAxIDEuNTIgMSAyLjE3djExLjY2YzAgLjY1LjUyIDEuMTcgMS4xNyAxLjE3aDExLjY1Yy0uNjQgMC0xLjE1LS41My0xLjE1LTEuMTdWMi4xN2MwLS42NS0uNTMtMS4xNy0xLjE3LTEuMTd6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMS40NiIgZD0iTTUuOTUgOC43NiA0LjMxIDcuMjRtMy4zNSAxLjUyTDkuMyA3LjI0Ii8+PHBhdGggc3Ryb2tlPSIjZmZmIiBzdHJva2Utb3BhY2l0eT0iLjc1IiBzdHJva2Utd2lkdGg9IjEuNDYiIGQ9Ik03LjY2IDEwLjUgOS4zIDEybS0zLjM1LTEuNUw0LjMxIDEyIi8+PC9zdmc+"},555512:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tdHh0IiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxyZWN0IHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgeD0iLjUiIHk9Ii41IiBmaWxsPSIjZmZmIiBzdHJva2U9IiNEOEQ4RDgiIHJ4PSIyLjUiLz48cmVjdCB3aWR0aD0iOCIgaGVpZ2h0PSIxIiB4PSI0IiB5PSI0LjUiIGZpbGw9IiM3RjhBOUEiIHJ4PSIuNSIvPjxyZWN0IHdpZHRoPSI4IiBoZWlnaHQ9IjEiIHg9IjQiIHk9IjcuNSIgZmlsbD0iIzdGOEE5QSIgcng9Ii41Ii8+PHBhdGggZmlsbD0iIzdGOEE5QSIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNCAxMWMwLS4yOC4yMi0uNS41LS41aDRhLjUuNSAwIDAgMSAwIDFoLTRBLjUuNSAwIDAgMSA0IDExIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4="},591276:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tdmVjdG9yIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxyZWN0IHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgeD0iLjUiIHk9Ii41IiBmaWxsPSIjZmZmIiBzdHJva2U9IiNEOEQ4RDgiIHJ4PSIyLjUiLz48cmVjdCB3aWR0aD0iMTEiIGhlaWdodD0iMSIgeD0iMi41IiB5PSI1IiBmaWxsPSIjRDhEOEQ4IiByeD0iLjQ0Ii8+PHBhdGggZmlsbD0iIzdGOEE5QSIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi45MyA2LjE0YTQgNCAwIDAgMC0yLjc5IDIuNzkgMS4yNSAxLjI1IDAgMSAxLTEtLjEzQTUgNSAwIDAgMSA2LjggNS4xNGExLjI1IDEuMjUgMCAwIDEgMi40IDAgNSA1IDAgMCAxIDMuNjYgMy42NiAxLjI1IDEuMjUgMCAxIDEtMSAuMTMgNCA0IDAgMCAwLTIuNzktMi43OSAxLjI1IDEuMjUgMCAwIDEtMi4xNCAwIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4="},869123:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24tdmlkZW8iIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHJlY3Qgd2lkdGg9IjE1IiBoZWlnaHQ9IjE1IiB4PSIuNSIgeT0iLjUiIGZpbGw9IiNmZmYiIHN0cm9rZT0iI0Q4RDhEOCIgcng9IjIuNSIvPjxwYXRoIGZpbGw9IiNGMjVBNkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuNSA0LjY2YS43LjcgMCAwIDEgMS4wMy0uNjJsNi4zIDMuMzRjLjUuMjYuNS45OCAwIDEuMjRsLTYuMyAzLjM0YS43LjcgMCAwIDEtMS4wMy0uNjJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0ibTkuMjggNi4wMyAyLjU1IDEuMzVjLjUuMjYuNS45OCAwIDEuMjRsLTYuMyAzLjM0YS43LjcgMCAwIDEtLjM4LjA4bDQuMTMtNnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIgb3BhY2l0eT0iLjE1Ii8+PC9zdmc+"},166568:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24td29yZCIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBmaWxsPSIjZmZmIiBzdHJva2U9IiNEOEQ4RDgiIGQ9Ik01IC41aDYuNzNhMSAxIDAgMCAxIC43MS4zbDIuNzggMi44NWExIDEgMCAwIDEgLjI4LjdWMTRjMCAuODMtLjY3IDEuNS0xLjUgMS41SDVBMS41IDEuNSAwIDAgMSAzLjUgMTRWMmMwLS44My42Ny0xLjUgMS41LTEuNXoiLz48cGF0aCBmaWxsPSIjRDhEOEQ4IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMi41NiAxMGMuMjQgMCAuNDQuMjIuNDQuNXMtLjIuNS0uNDQuNUg3LjQ0Yy0uMjQgMC0uNDQtLjIyLS40NC0uNXMuMi0uNS40NC0uNXptMC0yLjVjLjI0IDAgLjQ0LjIyLjQ0LjVzLS4yLjUtLjQ0LjVINy40NEM3LjIgOC41IDcgOC4yOCA3IDhzLjItLjUuNDQtLjV6bTAtMi41Yy4yNCAwIC40NC4yMi40NC41cy0uMi41LS40NC41SDcuNDRDNy4yIDYgNyA1Ljc4IDcgNS41cy4yLS41LjQ0LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHJlY3Qgd2lkdGg9IjgiIGhlaWdodD0iOCIgeT0iNCIgZmlsbD0iIzE4NUFCRCIgcng9IjEuNSIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0zLjE3IDEwLjQ1IDQgNy40OGguMDJsLjgyIDIuOTdoLjlsMS4xOC00LjQ0aC0uOTZsLS43IDMuMThoLS4wMkw0LjQgNi4wMWgtLjgyTDIuNzcgOS4yaC0uMDFsLS43LTMuMThoLS45N2wxLjE4IDQuNDRoLjl6Ii8+PC9zdmc+"},357412:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24teG1pbmQiIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHJlY3Qgd2lkdGg9IjE1IiBoZWlnaHQ9IjE1IiB4PSIuNSIgeT0iLjUiIGZpbGw9IiNmZmYiIHN0cm9rZT0iI0Q4RDhEOCIgcng9IjIuNSIvPjxwYXRoIGZpbGw9IiNGMjVBNkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjEgNGEuNS41IDAgMCAwLS43LS4xTDggNi4zOCA0LjYgMy45bC0uMDgtLjA1QS41LjUgMCAwIDAgNCA0LjdsMy43IDIuNy4wNy4wNWEuNS41IDAgMCAwIC41MS0uMDVMMTIgNC43bC4wNy0uMDZhLjUuNSAwIDAgMCAuMDQtLjYzek04LjIyIDguNTZhLjUuNSAwIDAgMC0uNTEuMDRMNCAxMS4zbC0uMDcuMDdhLjUuNSAwIDAgMC0uMDQuNjNsLjA2LjA3YS41LjUgMCAwIDAgLjYzLjA0TDggOS42MmwzLjQgMi40OC4wOC4wNWEuNS41IDAgMCAwIC41MS0uODVMOC4zIDguNmwtLjA3LS4wNXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="},15554:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiBmaWxsPSJub25lIiBjbGFzcz0id2Vkb2NzLWljb24gd2Vkb2NzLWljb24temlwIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxyZWN0IHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgeD0iLjUiIHk9Ii41IiBmaWxsPSIjZmZmIiBzdHJva2U9IiNEOEQ4RDgiIHJ4PSIyLjUiLz48cGF0aCBmaWxsPSIjRkNCRDM1IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04IDFINnYxaDJ2MWgyVjJIOHptMCAySDZ2MWgydjFoMlY0SDh6TTYgNWgydjFoMnYxSDhWNkg2em0wIDJoMnYxaDJ2MUg4VjhINnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="},567412:function(e,t,n){"use strict";var r,i;n.d(t,{j:function(){return r},v:function(){return i}}),function(e){e.SMART_SHEET="smartsheet",e.SMART_CANVAS="smartcanvas",e.DASHBOARD="dashboard",e.EXTERNAL="external",e.OTHER="other"}(r||(r={})),function(e){e.MESSAGE_CENTER="message_center",e.UNDO_REDO_STACK="undo_redo_stack",e.SPREAD_CONFIG="spread_config",e.USER_CENTER="user_center",e.PERMISSION="permission",e.SEARCH_CENTER="search_center",e.NATIVE_CENTER="native_center",e.UI_CENTER="ui_center",e.BROWSE_LOCATION="browse_location",e.MEETING_CENTER="meeting_center",e.COMMON_OPERATION="common_operation",e.COLLAB_CENTER="collab_center",e.RELATION_MANAGER="relation_manager",e.CONTAINER_PERMISSION="container_permission",e.CAPACITY_CHECKER="capacity_check",e.CALCULATE_API="calculate_api",e.JANK_REPORT="jank_report"}(i||(i={}))},6509:function(e,t,n){"use strict";var r,i,o;n.d(t,{R3:function(){return i},XH:function(){return o},qx:function(){return r}}),function(e){e[e.SINGLE_SELECT=1]="SINGLE_SELECT",e[e.MULTI_SELECT=2]="MULTI_SELECT",e[e.CHECKBOX=3]="CHECKBOX",e[e.STAR=4]="STAR",e[e.PROGRESS=5]="PROGRESS",e[e.ID=6]="ID",e[e.PHONE_NUM=7]="PHONE_NUM",e[e.EMAIL=8]="EMAIL",e[e.TEMPERATURE=9]="TEMPERATURE",e[e.DATE=10]="DATE",e[e.TIME=11]="TIME",e[e.IMAGE=12]="IMAGE",e[e.TEXT=13]="TEXT",e[e.NUMBER=14]="NUMBER",e[e.TELEPHONE_NUM=15]="TELEPHONE_NUM",e[e.CONTACT=16]="CONTACT",e[e.ATTACHMENT=17]="ATTACHMENT",e[e.STAFF_CARD=18]="STAFF_CARD",e[e.GROUP_CARD=19]="GROUP_CARD",e[e.SCHEDULE=20]="SCHEDULE",e[e.TODO=21]="TODO",e[e.THIRD_PARTY_APP=22]="THIRD_PARTY_APP",e[e.MINI_APP=23]="MINI_APP",e[e.DATE_REMINDER=24]="DATE_REMINDER",e[e.MAP_LOACTION=25]="MAP_LOACTION"}(r||(r={})),function(e){e[e.HYPERLINK=1]="HYPERLINK",e[e.MENTION=2]="MENTION",e[e.RICHTEXT=3]="RICHTEXT"}(i||(i={})),function(e){e[e.PBDEFAULT=0]="PBDEFAULT",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE",e[e.SINGLE_ACCOUNTING=3]="SINGLE_ACCOUNTING",e[e.DOUBLE_ACCOUNTING=4]="DOUBLE_ACCOUNTING",e[e.NONE=5]="NONE"}(o||(o={}))},75032:function(e,t,n){"use strict";n.d(t,{zl:function(){return B},tI:function(){return u},yh:function(){return z},yH:function(){return b},FM:function(){return v},Dy:function(){return N},NG:function(){return k},o0:function(){return _},bP:function(){return L},ll:function(){return p},Yt:function(){return G},Bz:function(){return F},Xy:function(){return S},SF:function(){return x},tr:function(){return g},w7:function(){return Y},Pb:function(){return y}});var r=n(593323),i=n(758699),o=n(209787);function a(e){return e===Array||Array.isArray(e)}function s(e){return a(e)||e===Map||e instanceof Map||e===Set||e instanceof Set||e===WeakMap||e instanceof WeakMap||e===WeakSet||e instanceof WeakSet}function u(e){return e===Promise||e instanceof Promise}function c(e){return"string"==typeof e||e instanceof String||e===String}function l(e){return"number"==typeof e||e instanceof Number||e===Number}function d(e){return"boolean"==typeof e||e instanceof Boolean||e===Boolean}function f(e){return c(e)||l(e)||d(e)}function p(e){return e.prototype?e:e.constructor}function h(e){return"symbol"==typeof e?e:p(e)}n(575739),n(726817);var g=e=>{var t;return"function"==typeof e?null!=(t=e.displayName)?t:e.name:g(e.constructor)},m=e=>e.toString().replace("Symbol(","").replace(")",""),v=e=>{switch(typeof e){default:return`${e}`;case"symbol":return m(e);case"function":return g(e)}};function y(e){return Object.getPrototypeOf(e)}function b(e,t){var n;return Object.getOwnPropertyDescriptor(null!=(n=null==e?void 0:e.prototype)?n:e,t)}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==t||f(t)||"symbol"==typeof t||"function"==typeof t)return t;e=a(t)?e||[]:e||{};var r=n.default?n.default:(e,t)=>(e.push(t),e),i=(n,r)=>{a(t)?e.push(r):e[n]=r};return Object.keys(t).forEach(o=>{var s=t[o];if(null!=s&&(""!==s||""===e[o])){if(f(s)||"function"==typeof s)return void i(o,s);if(a(s)){s=s.map(e=>_(void 0,e)),i(o,[].concat(e[o]||[],s).reduce((e,t)=>n[o]?n[o](e,t):r(e,s),[]));return}a(t)?i(o,_(void 0,s,n)):i(o,_(e[o],s,n))}}),a(e)&&e.reduce((e,t)=>r(e,t),[]),e}function C(e){return null===e}function I(e){return void 0===e}function E(e){return C(e)||I(e)}function w(e){return"object"==typeof e&&!C(e)}function S(e,t){try{if(e===t)return!E(e);if(!w(e)||!w(t))return!1;if(Array.isArray(e)||Array.isArray(t)){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;return!e.some((e,n)=>!S(e,t[n]))}if(e instanceof Map||t instanceof Map){if(!(e instanceof Map)||!(t instanceof Map)||e.size!==t.size)return!1;for(var n=e.entries(),r=n.next().value;r;){var[i,o]=r;if(!S(o,t.get(i)))return!1;r=n.next().value}return!0}if(e instanceof Object&&t instanceof Object){if(Object.keys(e).length!==Object.keys(t).length)return!1;return!Object.entries(e).some(e=>{var[n,r]=e;return!S(r,t[n])})}}catch(e){console.error("workbench deep equal function crash",e)}return!1}var D="design:paramtypes",M="design:type",T="design:returntype",A=new Map,x=function(){function e(){(0,r._)(this,e)}return e.set=function(e,t,n,r){var i=A.has(e)?A.get(e):[],o=p(n);i.includes(o)||(i.push(o),A.set(e,i)),Reflect.defineMetadata(e,t,p(n),r)},e.getParamTypes=function(e,t){var n;return null!=(n=Reflect.getMetadata(D,e,t))?n:[]},e.setParamTypes=function(e,t,n){return this.set(D,n,p(e).prototype,t)},e.getOwn=function(e,t,n){return Reflect.getOwnMetadata(e,p(t),n)},e.hasOwn=function(e,t,n){return Reflect.hasOwnMetadata(e,p(t),n)},e}();x.get=(e,t,n)=>Reflect.getMetadata(e,p(t),n),x.getType=(e,t)=>Reflect.getMetadata(M,e,t),x.setType=(e,t,n)=>Reflect.defineMetadata(M,n,e,t),x.getReturnType=(e,t)=>Reflect.getMetadata(T,e,t),x.has=(e,t,n)=>Reflect.hasMetadata(e,p(t),n),x.getTargetsFromPropertyKey=e=>A.has(e)?A.get(e):[];var N=Function;function O(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return(t,n)=>{var r,i=b(t,n)||{writable:!0,configurable:!0};return i.enumerable=e,Object.defineProperty(null!=(r=null==t?void 0:t.prototype)?r:t,n,i),i}}function k(){return O(!1)}var R=function(){function e(t,n,i){(0,r._)(this,e),this.rawTarget=t,this.rawPropertyKey=n,"number"==typeof i&&(this.paramIndex=i),this.target=t}return e.prototype.setTarget=function(e){var t;this.rawTarget=e,s(t="number"==typeof this.paramIndex?x.getParamTypes(this.rawTarget,this.rawPropertyKey)[this.paramIndex]:x.getType(this.rawTarget,this.rawPropertyKey))?(this.collectionType=t,this.rawType=Object):this.rawType=t,this.name=v(this.rawPropertyKey)},(0,i._)(e,[{key:"index",get:function(){return this.paramIndex}},{key:"target",get:function(){return p(this.rawTarget)},set:function(e){this.setTarget(e)}},{key:"targetName",get:function(){return v(this.target)}},{key:"propertyKey",get:function(){return this.rawPropertyKey}},{key:"typeName",get:function(){return v(this.rawType)}},{key:"type",get:function(){return this.rawType},set:function(e){this.rawType=e}},{key:"collectionName",get:function(){return this.collectionType?v(this.collectionType):""}}]),e}();(0,o.__decorate)([k(),(0,o.__metadata)("design:type",N)],R.prototype,"collectionType",void 0),(0,o.__decorate)([k(),(0,o.__metadata)("design:type",String)],R.prototype,"name",void 0),(0,o.__decorate)([k(),(0,o.__metadata)("design:type",N)],R.prototype,"rawType",void 0),(0,o.__decorate)([k(),(0,o.__metadata)("design:type",Number)],R.prototype,"paramIndex",void 0);var L=function(){function e(t){(0,r._)(this,e),this.registry=t,this.forEach=(e,t)=>this.registry.forEach(e,t)}var t=e.prototype;return t.get=function(e){return this.registry.get(e)},t.set=function(e,t){return this.registry.merge(e,t),this},t.has=function(e){return this.registry.has(e)},(0,i._)(e,[{key:"size",get:function(){return this.registry.size}}]),e}(),j=n(805155),P=n(921734),B=function(){function e(){(0,r._)(this,e),this.map=new Map}var t=e.prototype;return t.get=function(e){return this.map.get(e)},t.has=function(e){return this.map.has(e)},t.set=function(e,t){return this.map.set(e,t),this},t.delete=function(e){return this.map.delete(e)},t.forEach=function(e,t){return this.map.forEach(e)},t.keys=function(){return this.map.keys()},t.values=function(){return this.map.values()},t.entries=function(){return this.map.entries()},t.clear=function(){return this.map.clear()},(0,i._)(e,[{key:"size",get:function(){return this.map.size}}]),e}(),F=function(e){function t(e){var n;return(0,r._)(this,t),(n=(0,j._)(this,t)).klass=e,n.klass=p(n.klass),n}(0,P._)(t,e);var n=t.prototype;return n.createIfNotExists=function(e){if(!this.has(e)){var t=new this.klass(e);this.set(e,t)}return this.get(e)},n.merge=function(e,t){var n=this.createIfNotExists(e);Object.keys(t).forEach(e=>{n[e]=t[e]}),this.set(e,n)},n.get=function(e){return this.map.get(h(e))},n.has=function(e){return this.map.has(h(e))},n.set=function(e,t){return this.map.set(h(e),t),this},n.delete=function(e){return this.map.delete(h(e))},t}(B),U=n(88511);function G(e){var[,t,n]=e;return"number"==typeof n?"parameter":t&&void 0===n||n&&(n.get||n.set)?"property":(null==n?void 0:n.value)?"method":"class"}var W="workbench:class:store",Z="workbench:method:store",V="workbench:property:store",H="workbench:param:store",z=function(){function e(t){(0,r._)(this,e);var[n,i,o]=t;this.map=(()=>{switch(G(t)){case"parameter":var e=this.storeGet(H,n,i);return e.has(`${o}`)||e.set(`${o}`,new Map),e.get(`${o}`);case"property":return this.storeGet(V,n,i);case"method":return this.storeGet(Z,n,i);case"class":return this.storeGet(W,n)}})()}var t=e.prototype;return t.storeGet=function(e){for(var t,n,r,i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var s=x;return(t=s).has.apply(t,[e].concat((0,U._)(o)))||(r=s).set.apply(r,[e,new Map].concat((0,U._)(o))),(n=s).get.apply(n,[e].concat((0,U._)(o)))},t.set=function(e,t){return this.map.set(v(e),t),this},t.get=function(e){return this.map.get(v(e))},t.clear=function(){return this.map.clear()},e.from=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return new e(n)},e.decorate=function(t){return function(){for(var n,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=t((n=e).from.apply(n,(0,U._)(i)),i);return"function"==typeof a&&a.apply(void 0,(0,U._)(i)),i[2]}},e}(),Y=function(e){function t(e,n,i){var o;return(0,r._)(this,t),(o=(0,j._)(this,t,[e,n,i])).store=new z([e,n,i]),o}return(0,P._)(t,e),t}(R);(0,o.__decorate)([k(),(0,o.__metadata)("design:type",z)],Y.prototype,"store",void 0)},442780:function(e,t,n){"use strict";function r(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}n.d(t,{Z:function(){return r}})},161217:function(e,t,n){"use strict";n.d(t,{N:function(){return v}});var r=n(805155),i=n(593323),o=n(921734),a=n(209787),s=n(873565),u=n(463313),c=n.n(u),l=n(298120),d=n(19021),f=n(717919),p=n(865352),h=n(139442),g=n(316258),m=function(e){function t(){return(0,i._)(this,t),(0,r._)(this,t,arguments)}return(0,o._)(t,e),t.prototype.render=function(){var e,{groups:t,totalWidth:n}=this.context.getShrinkedGroups(this.props.name),r=null!=(e=this.store.getValue(g.R.ToolbarContainerWidthAddon))?e:0,i=n+32,o=t;return n>=window.innerWidth&&(i=window.innerWidth-16),i+=r,c().createElement(l.default.Keep,null,c().createElement("div",{className:[p.Z.container,p.Z["sub-container"]].join(" "),style:{width:i,justifyContent:"flex-start"}},c().createElement(f.V,{groups:o,breakAll:!0,tooltipPlacement:this.store.getValue(g.R.ToolbarButtonTooltipPlacement)})))},t}(u.Component);function v(e){return()=>c().createElement(m,{name:e})}m.contextType=d.h,(0,a.__decorate)([(0,s.tB)(),(0,a.__metadata)("design:type",h.O)],m.prototype,"store",void 0)},19021:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});var r=n(463313),i=n.n(r)().createContext({multirows:!1,getShrinkedGroups:()=>({groups:[],width:[],totalWidth:0}),dropdownRefs:new Map})},717919:function(e,t,n){"use strict";n.d(t,{V:function(){return K}});var r=n(805155),i=n(593323),o=n(921734);n(575739);var a=n(463313),s=n.n(a),u=n(209787),c=n(873565),l=n(442780),d='.toolbar-button_wrapper__aunea {\n  min-height: 20px;\n  min-width: 20px;\n  background: transparent;\n  border-radius: 2px;\n  margin-left: 4px;\n  margin-right: 4px;\n  display: flex;\n  vertical-align: bottom;\n  text-align: center;\n}\n.toolbar-button_wrapper__aunea:not(.toolbar-button_no-hover__3Bfay):hover {\n  background: var(--workbench-theme-toolbar-button-hover-background, var(--workbench-theme-global-button-hover, rgba(0, 0, 0, 0.08)));\n}\n.toolbar-button_wrapper__aunea.toolbar-button_checked__1MRH_,\n.toolbar-button_wrapper__aunea.toolbar-button_checked__1MRH_:hover,\n.toolbar-button_wrapper__aunea:active:not(.toolbar-button_no-hover__3Bfay),\n.toolbar-button_wrapper__aunea:active:not(.toolbar-button_no-hover__3Bfay):hover {\n  background: var(--workbench-theme-toolbar-button-active-background, rgba(0, 0, 0, 0.08));\n}\n.toolbar-button_wrapper__aunea.toolbar-button_disabled__nPW6l {\n  opacity: 0.4;\n}\n.toolbar-button_wrapper__aunea.toolbar-button_disabled__nPW6l > div > div > span > div:first-child {\n  opacity: 1;\n}\n.toolbar-button_wrapper__aunea:first-child {\n  margin-left: 0px;\n}\n.toolbar-button_wrapper__aunea:last-child {\n  margin-right: 0px;\n}\n.toolbar-button_wrapper__aunea svg path.secondary {\n  fill: var(--workbench-theme-toolbar-icon-secondary-color, var(--workbench-theme-global-icon-secondary-color, currentColor)) !important;\n  opacity: var(--workbench-theme-toolbar-icon-secondary-color-opacity, var(--workbench-theme-global-icon-secondary-color-opacity, 0.4));\n}\n.toolbar-button_wrapper__aunea svg path[fill]:not(g[fill="none"]),\n.toolbar-button_wrapper__aunea svg g[fill]:not(g[fill="none"]),\n.toolbar-button_wrapper__aunea path.primary {\n  fill: var(--workbench-theme-toolbar-icon-primary-color, var(--workbench-theme-global-icon-primary-color, currentColor)) !important;\n}\n.toolbar-button_wrapper__aunea path.primary {\n  opacity: var(--workbench-theme-toolbar-icon-primary-color-opacity, var(--workbench-theme-global-icon-primary-color-opacity, 1));\n}\n.toolbar-button_wrapper__aunea svg path[stroke]:not(g[stroke="none"]),\n.toolbar-button_wrapper__aunea svg g[stroke]:not(g[stroke="none"]) {\n  stroke: var(--workbench-theme-toolbar-icon-primary-color, var(--workbench-theme-global-icon-primary-color, currentColor)) !important;\n}\n.toolbar-button_toolbar-item-focus__2IRXz {\n  background: var(--workbench-theme-global-button-hover, rgba(0, 0, 0, 0.08)) !important;\n}\n.toolbar-button_color-indicator__3siIn {\n  box-sizing: border-box;\n  height: 3px;\n  background-color: #ff0000;\n  display: block;\n  position: absolute;\n}\n.toolbar-button_input-outline__2lds0 {\n  height: 24px;\n}\n.toolbar-button_input-outline__2lds0 > div > div > span > div:first-child {\n  padding: 0px 1px 0px 7px;\n  border-radius: 4px;\n  border: solid 1px var(--workbench-theme-toolbar-border-without-drawer, #E0E0E0);\n}\n.toolbar-button_input-outline__2lds0 > div > div > span > div:first-child .toolbar-button_arrow__7HFl- {\n  margin-top: 10px;\n}\n.toolbar-button_input-connected-outline__2jjWI {\n  height: 24px;\n  margin-right: 0;\n}\n.toolbar-button_input-connected-outline__2jjWI > div > div > span > div:first-child {\n  padding: 0px 4px;\n  border-radius: 4px 0 0 4px;\n  border: solid 1px var(--workbench-theme-toolbar-border-without-drawer, #E0E0E0);\n}\n.toolbar-button_input-connected-outline__2jjWI > div > div > span > div:first-child .toolbar-button_arrow__7HFl- {\n  margin-top: 10px;\n}\n.toolbar-button_input-connected-outline__2jjWI + .toolbar-button_input-connected-outline__2jjWI {\n  margin-right: 4px;\n  margin-left: 0;\n}\n.toolbar-button_input-connected-outline__2jjWI + .toolbar-button_input-connected-outline__2jjWI > div > div > span > div:first-child {\n  border-radius: 0 4px 4px 0;\n  border-left-width: 0;\n}\n.toolbar-button_arrow-container__5QXnN {\n  vertical-align: middle;\n  float: right;\n  padding: 0 3px;\n  text-align: center;\n  height: 24px;\n  margin: auto;\n}\n.toolbar-button_arrow-container__5QXnN.toolbar-button_clickable__2VuKO:hover {\n  background: var(--workbench-theme-global-button-hover, rgba(0, 0, 0, 0.08));\n}\n.toolbar-button_arrow-container__5QXnN.toolbar-button_toolbar-item-focus__2IRXz {\n  background: var(--workbench-theme-global-button-hover, rgba(0, 0, 0, 0.08)) !important;\n}\n.toolbar-button_arrow-container__5QXnN.toolbar-button_multi-line-arrow__3hlLW {\n  height: 24px;\n}\n.toolbar-button_dropdown-button__1Amcu > div > div {\n  display: flex;\n}\n.toolbar-button_arrow__7HFl- {\n  -webkit-mask-image: url("data:image/svg+xml,%3Csvg viewBox%3D%220 0 6 4%22 fill%3D%22none%22 xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E    %3Cpath fill-rule%3D%22evenodd%22 clip-rule%3D%22evenodd%22 d%3D%22M2.84 3.787a.2.2 0 00.32 0l2.6-3.467a.2.2 0 00-.16-.32H.4a.2.2 0 00-.16.32l2.6 3.467Z%22 fill%3D%22%2381868F%22%2F%3E%3C%2Fsvg%3E");\n  mask-image: url("data:image/svg+xml,%3Csvg viewBox%3D%220 0 6 4%22 fill%3D%22none%22 xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E    %3Cpath fill-rule%3D%22evenodd%22 clip-rule%3D%22evenodd%22 d%3D%22M2.84 3.787a.2.2 0 00.32 0l2.6-3.467a.2.2 0 00-.16-.32H.4a.2.2 0 00-.16.32l2.6 3.467Z%22 fill%3D%22%2381868F%22%2F%3E%3C%2Fsvg%3E");\n  background-color: var(--workbench-theme-toolbar-icon-primary-color, var(--workbench-theme-toolbar-foreground, #000000));\n  float: right;\n  padding: 0;\n  vertical-align: middle;\n  width: 6px;\n  height: 4px;\n  pointer-events: none;\n  margin: 10px 0 0 0;\n  -webkit-mask-repeat: no-repeat;\n  mask-repeat: no-repeat;\n}\n.toolbar-button_divider__GeIh5 {\n  height: var(--divider-height, 22px);\n  width: var(--divider-width, 1px);\n  background-color: var(--workbench-theme-statusbar-border, rgba(0, 0, 0, 0.08));\n  margin: 0 8px;\n  vertical-align: top;\n  display: inline-block;\n  flex-shrink: 0;\n}\n.toolbar-button_divider__GeIh5.toolbar-button_multirows__70wEx {\n  height: 52px;\n  margin: 0 8px;\n}\n.toolbar-button_divider__GeIh5:last-child {\n  display: none;\n}\n.toolbar-button_toolbar-badge__bIo_X {\n  vertical-align: top;\n  display: flex !important;\n}\n.toolbar-button_prevent-capture__2-Nwa {\n  pointer-events: none;\n}\n',f={wrapper:"toolbar-button_wrapper__aunea","no-hover":"toolbar-button_no-hover__3Bfay",checked:"toolbar-button_checked__1MRH_",disabled:"toolbar-button_disabled__nPW6l","toolbar-item-focus":"toolbar-button_toolbar-item-focus__2IRXz","color-indicator":"toolbar-button_color-indicator__3siIn","input-outline":"toolbar-button_input-outline__2lds0",arrow:"toolbar-button_arrow__7HFl-","input-connected-outline":"toolbar-button_input-connected-outline__2jjWI","arrow-container":"toolbar-button_arrow-container__5QXnN",clickable:"toolbar-button_clickable__2VuKO","multi-line-arrow":"toolbar-button_multi-line-arrow__3hlLW","dropdown-button":"toolbar-button_dropdown-button__1Amcu",divider:"toolbar-button_divider__GeIh5",multirows:"toolbar-button_multirows__70wEx","toolbar-badge":"toolbar-button_toolbar-badge__bIo_X","prevent-capture":"toolbar-button_prevent-capture__2-Nwa"};(0,l.Z)(d);var p=n(355838),h=n(448965),g=n(973468),m=n(19021),v=n(170840);function y(e){var t,{color:n,className:r}=e;if(!n)return null;var i=null!=(t=(0,v.oo)(n))?t:(0,v.jM)(n),o={backgroundColor:n,border:(0,v.eO)(null!=i?i:{r:0,g:0,b:0,alpha:0})?"1px solid rgba(0, 0, 0, 0.12)":"1px solid transparent"};return s().createElement("div",{className:[r,f["color-indicator"]].join(" "),style:o})}var b='.buttons_actual__2bXuf {\n  color: var(--workbench-theme-toolbar-foreground, #000000);\n}\n.buttons_icon-container__1Miuv {\n  display: flex;\n}\n.buttons_icon__nRCff {\n  width: 24px;\n  height: 24px;\n  padding: 2px;\n  box-sizing: border-box;\n  position: relative;\n}\n.buttons_icon__nRCff img,\n.buttons_icon__nRCff svg {\n  height: 100%;\n  width: 100%;\n}\n.buttons_icon__nRCff div:not(.buttons_color-indicator__3SgCd) {\n  width: 100%;\n  height: 100%;\n  background-size: contain;\n}\n[data-row-count="1"] .buttons_vertical__DA2is > .buttons_icon-container__1Miuv + .buttons_text__2D6X_ {\n  display: block;\n  min-width: 32px;\n}\n[data-row-count="1"] .buttons_vertical__DA2is > .buttons_icon-container__1Miuv > .buttons_text__2D6X_ {\n  display: none;\n}\n[data-row-count="1"] .buttons_vertical__DA2is .buttons_icon__nRCff {\n  padding: 0;\n}\n[data-row-count="1"] .buttons_vertical__DA2is .buttons_arrow__1jdSV {\n  margin-left: 0;\n}\n[data-row-count="1"] .buttons_vertical__DA2is .buttons_icon-container__1Miuv {\n  justify-content: center;\n}\n[data-row-count="1"] .buttons_vertical__DA2is .buttons_color-indicator__3SgCd {\n  left: 2px;\n  right: 2px;\n  bottom: 1px;\n}\n.buttons_icon-container__1Miuv + .buttons_text__2D6X_ {\n  margin-top: 6px;\n  margin-bottom: 2px;\n  padding: 0 2px;\n  display: none;\n}\n.buttons_icon-container__1Miuv > .buttons_text__2D6X_ {\n  line-height: 24px;\n  margin-right: 2px;\n  padding: 0 2px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.buttons_text__2D6X_ {\n  cursor: default;\n  font-size: 12px;\n  line-height: 16px;\n  box-sizing: border-box;\n}\n.buttons_icon__nRCff:empty,\n.buttons_text__2D6X_:empty,\n.buttons_arrow__1jdSV:empty,\n.buttons_icon-button__1NcIP .buttons_text__2D6X_,\n.buttons_text-button__x1J-I .buttons_icon__nRCff {\n  display: none;\n}\n.buttons_arrow__1jdSV {\n  margin-left: auto;\n  width: 12px;\n}\n.buttons_color-indicator__3SgCd {\n  bottom: 2px;\n  left: 4px;\n  right: 4px;\n}\n',_={actual:"buttons_actual__2bXuf","icon-container":"buttons_icon-container__1Miuv",icon:"buttons_icon__nRCff","color-indicator":"buttons_color-indicator__3SgCd",vertical:"buttons_vertical__DA2is",text:"buttons_text__2D6X_",arrow:"buttons_arrow__1jdSV"};(0,l.Z)(b);var C=(0,a.forwardRef)((e,t)=>{var{name:n,ariaAttributes:r,icon:i,text:o,arrow:u,color:c,clickable:l,style:d,widthRange:f,shrinkSteps:p,shrinkType:h,priority:g,onClick:v,onDoubleClick:b,onMouseDown:C}=e,I=(0,a.useContext)(m.h),E=[_.actual];I.multirows&&i&&o&&E.push(_.vertical);var w=u&&l;return s().createElement("div",Object.assign({id:`toolbar-button-${n}`,key:`toolbar-button-${n}`},r,{role:w?"group":"button",className:E.join(" "),style:d,onClick:v,onDoubleClick:b,onMouseDown:C,"data-width-range":JSON.stringify(f),"data-shrink-steps":JSON.stringify(p),"data-shrink-type":h,"data-priority":g,ref:t}),s().createElement("div",{className:_["icon-container"],"aria-hidden":!w},s().createElement("div",{className:_.icon,role:"button","aria-label":null==r?void 0:r["aria-label"]},i,s().createElement(y,{color:c,className:_["color-indicator"]})),s().createElement("div",{className:_.text},o),s().createElement("div",{className:_.arrow},u)),s().createElement("div",{className:_.text,"aria-hidden":!0},o))}),I=n(298120),E=n(75032),w=n(899448),S=n(532895),D=n(366168),M=n(779577);function T(e,t){var n=function(t){function n(e){var t;return(0,i._)(this,n),(t=(0,r._)(this,n,[e])).promiseCanceled=!0,t.state={promiseResult:void 0,promiseResolved:!1},t}(0,o._)(n,t);var a=n.prototype;return a.settlePromise=function(){e.then(e=>{this.promiseCanceled||this.setState({promiseResult:e,promiseResolved:!0})}).catch(e=>{D.r.error(e)})},a.componentDidMount=function(){this.promiseCanceled=!1,this.settlePromise()},a.componentWillUnmount=function(){this.promiseCanceled=!0},a.render=function(){if(!this.state.promiseResolved)return s().createElement(M.S,null,null);var e=this.state.promiseResult;return s().createElement(M.S,null,null!=e?e:null)},n}(s().Component);return s().createElement(n,null)}var A=function(e){function t(){return(0,i._)(this,t),(0,r._)(this,t,arguments)}return(0,o._)(t,e),t.prototype.render=function(){var e,t,n=[f["arrow-container"],null!=(e=this.props.className)?e:""];this.props.isFocusArrow&&n.push(f["toolbar-item-focus"]),this.props.clickable&&n.push(f.clickable);var r=null==(t=this.props.ariaAttributes)?void 0:t["aria-label"];return s().createElement("div",{className:n.join(" "),onClick:this.props.clickable?this.props.onDropdownClick:void 0,role:this.props.clickable?"button":"","aria-hidden":!this.props.clickable,"aria-expanded":this.props.clickable&&this.props.active,"aria-label":this.props.clickable?`${r} \u{66F4}\u{591A}\u{9009}\u{9879}`:void 0,onMouseDown:e=>{e.preventDefault()}},s().createElement("div",{className:f.arrow}))},t}(a.PureComponent),x=(0,a.forwardRef)((e,t)=>{var{alignment:n,name:r,unionClick:i,hasArrow:o,disabled:u,preventDropdownScrollHide:c,isFocus:l,dragOptions:d,dropdownPlacement:h,dropdownContent:v,renderChildren:y,onButtonClick:b,onButtonDoubleClick:_,onVisibleChange:C,onDropdownClick:D,shouldDrag:M,onDrag:x,onDragStart:N,onDragEnd:O}=e,k=(0,a.useContext)(g.FN),R=(0,a.useContext)(m.h),[L,j]=(0,a.useState)(!1),P=(0,p.k)(M,!1),{refCallback:B}=(0,w.c)({enable:P,onDrag:x,onDragEnd:O,onDragStart:N,dragOptions:d}),F=(0,a.useCallback)(e=>{k.store.update(S.j.ToolbarDropdownEvent,{target:r,type:"click"}),b(e),!i&&v&&e.stopPropagation(),k.store.update(S.j.isFocusedByClick,!0)},[k,r,b,i,v]),U=(0,a.useCallback)(e=>{k.store.update(S.j.ToolbarDropdownEvent,{target:r,type:"doubleClick"}),_(e),k.store.update(S.j.isFocusedByClick,!0)},[k,r,_]),G=(0,a.useCallback)(()=>void 0===o||o,[o]),W=(0,a.useCallback)(e=>{k.store.update(S.j.ToolbarDropdownEvent,{target:r,type:e?"dropdownOpen":"dropdownClose"}),null==C||C(e),j(e)},[k,C]);(0,a.useImperativeHandle)(t,()=>({handleHiddenDropdown:()=>{W(!1)},handleVisibleChange:W}),[W]);var Z=()=>{var t={onClick:F,onDoubleClick:U,onMouseDown:e=>{P||e.preventDefault()},arrow:G()?s().createElement(A,Object.assign({clickable:!i,active:L},e,{onDropdownClick:e=>{W(!L),D(e)}})):void 0,style:P?{cursor:"grab"}:void 0};return y(e,t,B)},V=(0,a.useCallback)(()=>{var e,t;return null==(t=null==(e=k.editor)?void 0:e.surface)?void 0:t.requestFocus},[k]),H=Z();if(v){var z=null;if(L){var Y=v();z=(0,E.tI)(Y)?T(Y):Y}var K={dropContent:z,disabled:u,dropContentStyle:{marginLeft:0,marginTop:0},alignment:n,placement:h,key:"inner-dropdown",visible:L,onVisibleChange:W,autoFocus:!0,viewportMargin:4,className:f["dropdown-button"],disableScrollHide:c,zIndex:9998,onRestoreFocus:()=>{if(V()&&!l)return V(),!1}};return s().createElement(I.default,Object.assign({},K,{ref:e=>{var t;return null==(t=R.dropdownRefs)?void 0:t.set(r,e)}}),H)}return H}),N=n(14026),O=n(289602),k=n(88511),R=n(439506);function L(e){if(!(!e.tooltip||(0,R.X3)(e.tooltip))){var t,n,r=!!/(Mac)/i.exec(window.navigator.platform),i=!!/(iPad)/i.exec(window.navigator.platform);if(!i){var o=(0,p.k)(e.tooltip,"");if(r&&(null==(t=e.shortcut)?void 0:t.mac)){var a=e.shortcut.mac;if(Array.isArray(o)){var s=(0,k._)(o);return s[0]=`${o[0]} (${a})`,s}return`${o} (${a})`}if(!i&&(null==(n=e.shortcut)?void 0:n.win)){var u=e.shortcut.win;if(Array.isArray(o)){var c=(0,k._)(o);return c[0]=`${o[0]} (${u})`,c}return`${o} (${u})`}}}}function j(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||"none"===window.getComputedStyle(e).display)return 0;var n=e.getBoundingClientRect().width;return t?n:n+(parseFloat(window.getComputedStyle(e).marginLeft||"0")+parseFloat(window.getComputedStyle(e).marginRight||"0"))}var P=function(e){function t(){var e;return(0,i._)(this,t),e=(0,r._)(this,t,arguments),e.wrapper=s().createRef(),e.width=0,e.state={showTooltip:e.props.showToolTip},e}(0,o._)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e,t,n=null==(e=this.wrapper.current)?void 0:e.rootRef;(null==n?void 0:n.current)&&(this.width=j(n.current.parentElement,!0),null==(t=this.context.shrinkManager)||t.updateWidth(this.props.item.name,this.width))},n.componentWillUnmount=function(){var e;null==(e=this.context.shrinkManager)||e.withdraw(this.props.item.name)},n.componentDidUpdate=function(){var e,t,n=null==(e=this.wrapper.current)?void 0:e.rootRef;if(null==n?void 0:n.current){var r=j(n.current.parentElement,!0);r!==this.width&&(this.width=r,null==(t=this.context.shrinkManager)||t.updateWidth(this.props.item.name,this.width))}},n.render=function(){var e,t,{badge:n,className:r,item:i,placement:o="bottom"}=this.props,a={};this.props.checkColor&&(a.background=this.props.checkColor);var c=s().createElement(N.default,{dot:n,className:f["toolbar-badge"],style:{width:6,height:6,top:0,right:0,border:"none"},key:"button-with-badge"},this.props.children),l=L(i),d=null!=l?l:(0,p.k)(this.props.item.tooltip,"");if((0,R.X3)(d)){var{content:h}=d,g=(0,u.__rest)(d,["content"]);e=h,t=g}else e=d;return s().createElement(O.default,Object.assign({disabled:!d,overlayHoverable:!1,alignment:"center",hoverDelay:200,placement:o,className:`button-wrapper ${r}`,title:e},t,{ref:this.wrapper,overlayClassName:this.props.overlayClassName,visible:this.props.showToolTip,style:Object.assign({verticalAlign:"bottom",width:"max-content"},a),onVisibleChange:e=>{var t,n,r;null==(t=null==d?void 0:d.onVisibleChange)||t.call(d,e),null==(r=(n=this.props).onVisibleChange)||r.call(n,e)}}),c)},t}(a.PureComponent);P.contextType=m.h;var B=n(29756),F=n(753760),U=function(e){function t(e){var n;return(0,i._)(this,t),(n=(0,r._)(this,t,[e])).dropdownButton=s().createRef(),n.badgeConsumed=!1,n.getDropdownProps=()=>{var e,t,r,i;return Object.assign(Object.assign({},n.props),{disabled:!n.isEnable(),unionClick:void 0===n.props.onArrowClick&&!(null==(e=n.props.onClick)?void 0:e.hasRaw),isFocusArrow:null!=(t=n.props.isFocusArrow)&&t,alignment:null!=(r=n.props.dropdownAlignment)?r:"left",dropdownPlacement:null!=(i=n.props.dropdownPlacement)?i:"auto",hasArrow:n.isArrow(),onButtonClick:n.handleClick,onButtonDoubleClick:n.handleDoubleClick,onDropdownClick:n.handleDropdownClick,onVisibleChange:n.onVisibleChange,ariaAttributes:n.getAriaAttributes(),renderChildren:n.getChild.bind(n)})},n.onVisibleChange=e=>{var t,r;null==(r=(t=n.props).onDropdownVisibleChange)||r.call(t,e),n.setState({dropdownClosed:!e},()=>{n.setState({showTooltip:!n.props.isFocus&&n.isShowToolTip(n.state.showTooltip)})}),e&&n.handleBadge()},n.handleClick=e=>{n.context.store.update(S.j.ToolbarEvent,{target:n.props.name,type:"click"}),n.context.store.update(S.j.isFocusedByClick,!0),n.isEnable()&&n.props.onClick&&((0,F.Mf)(n.props.onClick,e),n.props.onClick()),n.isEnable()?n.handleBadge():e.stopPropagation()},n.handleDoubleClick=e=>{n.context.store.update(S.j.ToolbarEvent,{target:n.props.name,type:"doubleClick"}),n.isEnable()&&n.props.onDoubleClick&&n.props.onDoubleClick(),n.isEnable()?n.handleBadge():e.stopPropagation()},n.handleDropdownClick=e=>{n.context.store.update(S.j.ToolbarEvent,{target:n.props.name,type:"dropdownOpen"}),n.isEnable()&&n.props.onArrowClick&&n.props.onArrowClick(),e.stopPropagation()},n.getChild=(e,t,r)=>{var{icon:i,style:o,color:a,name:c,text:l="",content:d,widthRange:f,shrinkSteps:p,maxWidth:h,shrinkType:g,priority:m,onClick:v,onDoubleClick:y}=n.props,{style:b}=t,_=(0,u.__rest)(t,["style"]),I=null!=h?h:null==f?void 0:f[1],E=Object.assign(Object.assign(Object.assign({},o),b),{maxWidth:I});if(e.dropdownContent&&(E.paddingRight=0),d)return s().createElement("div",{id:`toolbar-button-${c}`,style:E,onClick:v,onDoubleClick:y,"data-width-range":JSON.stringify(f),"data-shrink-steps":JSON.stringify(p),"data-shrink-type":g,"data-priority":m},d);var w={name:c,clickable:!e.unionClick,style:E,color:a},S=n.getAriaAttributes();return s().createElement(C,Object.assign({},w,{icon:i,text:l,ariaAttributes:S},_,{widthRange:f,shrinkSteps:p,shrinkType:g,priority:m,ref:r}))},n.handleDropdownVisibleChange=e=>{var t;n.dropdownButton&&(null==(t=n.dropdownButton.current)||t.handleVisibleChange(e))},n.state={dropdownClosed:!0,showTooltip:!1},n}(0,o._)(t,e);var n=t.prototype;return n.getWrapperClass=function(){var{className:e,isFocus:t,text:n,verticallyArrange:r,outlineType:i=h.V.DEFAULT,preventHighlight:o}=this.props,a=f.wrapper;return e&&(a+=` ${e}`),this.isChecked()&&(a+=` ${f.checked}`),!this.isEnable()&&(a+=` ${f.disabled}`,this.props.content&&(a+=` ${f["prevent-capture"]}`)),t&&(a+=` ${f["toolbar-item-focus"]}`),n&&!r&&(a+=` ${f[i]}`),o&&(a+=` ${f["no-hover"]}`),a},n.getAriaAttributes=function(){var e={},{ariaLabel:t,tooltip:n,text:r}=this.props;e["aria-disabled"]=!this.isEnable();var i="string"==typeof n?n:void 0,o=t;return(void 0===o||""===o)&&(o=r),(void 0===o||""===o)&&(o=i),e["aria-label"]=o,this.isArrow()&&(e["aria-haspopup"]=!0,e["aria-expanded"]=!this.state.dropdownClosed),void 0!==this.props.checked&&(e["aria-pressed"]=this.isChecked()),e},n.handleBadge=function(){this.props.badge&&!this.props.disabled&&this.badgeService.removeBadgeOn("toolbar",this.props.name)},n.closeDropdown=function(){var e;null==(e=this.dropdownButton.current)||e.handleHiddenDropdown()},n.isArrow=function(){var e,{hasArrow:t,onArrowClick:n,dropdownContent:r}=this.props;return!!(null!=(e=t&&r)?e:n)},n.render=function(){if(this.shouldHide())return null;var e=this.getWrapperClass();this.badgeConsumed=!1;var t=this.getDropdownProps(),n={className:e,showToolTip:this.isShowToolTip(this.state.showTooltip),badge:!this.badgeConsumed&&this.props.badge&&!this.props.disabled,placement:this.props.placement,item:this.props,checkColor:this.props.checked?(0,p.k)(this.props.highlightColor,""):"",hasArrow:this.isArrow(),onVisibleChange:e=>{this.setState({showTooltip:this.isShowToolTip(e)})}};return s().createElement(M.S,null,s().createElement(P,Object.assign({},n,{key:this.props.name}),s().createElement(x,Object.assign({ref:this.dropdownButton},t))))},n.isShowToolTip=function(e){return!1!==this.state.dropdownClosed&&(!!this.props.isFocus||e)},n.isChecked=function(){var e;return null!=(e=this.props.checked)?e:!1===this.state.dropdownClosed},n.isEnable=function(){return!this.props.disabled},n.isTailShelterToolbarButton=function(){return this.props.name.endsWith("-tail-shelter")},n.shouldHide=function(){return this.isTailShelterToolbarButton()?0===this.props.toolarContext.getShrinkedGroups(this.props.name).groups.length:this.props.hide},t}(a.PureComponent);U.contextType=g.FN,U.defaultProps={hasArrow:!0,text:"",tooltip:"",disabled:!1,checked:!1,badge:!1},(0,u.__decorate)([(0,c.tB)(B.c),(0,u.__metadata)("design:type",Object)],U.prototype,"badgeService",void 0);var G=e=>s().createElement(m.h.Consumer,null,t=>s().createElement(U,Object.assign({},e,{toolarContext:t}))),W=n(865352),Z=function(e){function t(){return(0,i._)(this,t),(0,r._)(this,t,arguments)}return(0,o._)(t,e),t.prototype.render=function(){var{row:e,tooltipPlacement:t}=this.props;return s().createElement("div",{className:W.Z.row},e.map(e=>s().createElement(G,Object.assign({key:e.name,placement:t},e))))},t}(a.Component),V=function(e){function t(){return(0,i._)(this,t),(0,r._)(this,t,arguments)}return(0,o._)(t,e),t.prototype.render=function(){var{group:e,shelter:t,tooltipPlacement:n,moreText:r,ssrHide:i,shelterId:o}=this.props,a=e.filter(e=>e.length>0).length;return s().createElement(s().Fragment,null,s().createElement("div",{id:e[0][0].name,className:`virtual-group ${W.Z["virtual-group"]}`,style:i?{display:"none"}:{},"data-row-count":a,"data-more-text":r,"data-shelter-id":o},e.filter(e=>e.length>0).map((e,t)=>s().createElement(Z,{key:t,row:e,tooltipPlacement:n}))),t?s().createElement("div",{className:`virtual-group ${W.Z["virtual-group"]}`,"data-row-count":1},s().createElement(Z,{row:[t],tooltipPlacement:n})):null)},t}(a.Component),H=function(e){function t(){var e;return(0,i._)(this,t),e=(0,r._)(this,t,arguments),e.buttonDividerRef=(0,a.createRef)(),e}(0,o._)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e,t=j(this.buttonDividerRef.current,!1);this.props.id&&(null==(e=this.context.shrinkManager)||e.updateWidth(this.props.id,t))},n.componentWillUnmount=function(){var e;this.props.id&&(null==(e=this.context.shrinkManager)||e.withdraw(this.props.id))},n.render=function(){var e,{multirows:t}=this.context;return s().createElement("div",{ref:this.buttonDividerRef,id:null!=(e=this.props.id)?e:"",className:`${f.divider} ${t?f.multirows:""}`})},t}(a.Component);H.contextType=m.h;var z=n(794284),Y=n(883787),K=function(e){function t(){return(0,i._)(this,t),(0,r._)(this,t,arguments)}return(0,o._)(t,e),t.prototype.render=function(){var{groups:e,addShelter:t,breakAll:n,tooltipPlacement:r,moreText:i}=this.props;return e.filter(e=>e.items.length>0).map(e=>{var o=e.shelter&&t?s().createElement(V,{key:`group-shelter-${e.shelter.name}`,group:[[e.shelter]],moreText:i,tooltipPlacement:r}):null,a=e.items.every(e=>1===e.buttons.length);if(a&&!n){var u=!1;return e.items.reduce((e,n)=>{var r=e[e.length-1];if(u||!r||n.shelter||n.ssrHide){var i=Object.assign(Object.assign({},n),{buttons:n.buttons.map(e=>e.map(e=>Object.assign(Object.assign({},e),{shrinkType:n.shrinkType,priority:n.priority})))});e.push(i),n.shelter&&t&&(i.buttons[0]=n.buttons[0].concat(n.shelter))}else r.buttons[0]=r.buttons[0].concat(n.buttons[0].map(e=>Object.assign(Object.assign({},e),{shrinkType:n.shrinkType,priority:n.priority})));return u=!!n.shelter,e},[]).map(e=>s().createElement(V,{key:e.key,group:[e.buttons[0]],moreText:i,tooltipPlacement:r,ssrHide:e.ssrHide,shelterId:e.shelterId})).concat(o)}return e.items.flatMap(e=>a&&n&&e.buttons[0].length>1?e.buttons[0].map((n,o)=>s().createElement(V,{key:`${e.key}-${o}`,group:[[n]],shelter:t&&o===e.buttons[0].length-1?e.shelter:null,moreText:i,tooltipPlacement:r,ssrHide:e.ssrHide,shelterId:e.shelterId})):s().createElement(V,{key:e.key,group:e.buttons,shelter:t?e.shelter:null,moreText:i,tooltipPlacement:r,ssrHide:e.ssrHide,shelterId:e.shelterId})).concat(o)}).flatMap((e,n,o)=>[e,n===o.length-1&&t?s().createElement(V,{key:"overall-shelter",group:[[{name:Y.G,icon:z.k,badge:!1,force:0,hasArrow:!1,text:this.props.moreText,dropdownContent:()=>null}]],moreText:i,tooltipPlacement:r}):s().createElement(H,{id:`toolbar-group-divider-${n}`,key:`toolbar-group-divider-${n}`})])},t}(a.PureComponent)},865352:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(442780),i=".toolbar_container__3r-Et {\n  display: flex;\n  align-items: center;\n  flex-wrap: nowrap;\n  white-space: nowrap;\n  justify-content: flex-start;\n  position: relative;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n}\n.toolbar_sub-container__uPSIr {\n  margin-right: 0;\n  background: var(--workbench-theme-toolbar-background, #f9fafb);\n  padding: 0 16px;\n  transition: background 0.3s ease;\n  box-sizing: border-box;\n  box-shadow: rgba(0, 0, 0, 0.12) 0px 2px 6px 0px;\n  border: 1px solid var(--workbench-theme-toolbar-border);\n  border-radius: 2px;\n  height: auto;\n  width: auto;\n  overflow: visible;\n  justify-content: center;\n  flex-wrap: wrap;\n}\n.toolbar_sub-container__uPSIr .toolbar_virtual-group__3MJqx {\n  margin-top: 12px;\n  margin-bottom: 12px;\n}\n.toolbar_container__3r-Et.toolbar_hidden__2I957 {\n  position: absolute;\n  left: -10000px;\n}\n.toolbar_virtual-group__3MJqx {\n  margin-left: 4px;\n  margin-right: 4px;\n}\n.toolbar_virtual-group__3MJqx:first-child {\n  margin-left: 0px;\n}\n.toolbar_virtual-group__3MJqx:last-child {\n  margin-right: 0px;\n}\n.toolbar_row__1nqMX {\n  display: flex;\n  justify-content: left;\n  flex-direction: row;\n  margin-bottom: 4px;\n  margin-top: 4px;\n}\n.toolbar_row__1nqMX:first-child {\n  margin-top: 0px;\n}\n.toolbar_row__1nqMX:last-child {\n  margin-bottom: 0px;\n}\n.toolbar_shrink-debugger__3SCkV {\n  position: absolute;\n  left: 0;\n  bottom: -16px;\n  opacity: 0.6;\n  background-color: #B48EAD;\n  color: black;\n  border-radius: 2px;\n}\n.toolbar_shrink-debugger__3SCkV > span {\n  display: inline-block;\n  border-radius: 2px;\n}\n.toolbar_vertical__SBkAq.toolbar_container__3r-Et {\n  flex-direction: column;\n  --divider-height: 1px;\n  --divider-width: 16px;\n}\n",o={container:"toolbar_container__3r-Et","sub-container":"toolbar_sub-container__uPSIr","virtual-group":"toolbar_virtual-group__3MJqx",hidden:"toolbar_hidden__2I957",row:"toolbar_row__1nqMX","shrink-debugger":"toolbar_shrink-debugger__3SCkV",vertical:"toolbar_vertical__SBkAq"};(0,r.Z)(i)},794284:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var r=n(463313),i=n.n(r),o=i().createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i().createElement("g",{id:"\u89C6\u89C9",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i().createElement("g",{id:"03_\u8BC4\u8BBA_\u8BC4\u8BBA\u5F52\u6863",transform:"translate(-243.000000, -195.000000)"},i().createElement("g",{id:"\u7F16\u7EC4",transform:"translate(243.000000, 195.000000)"},i().createElement("rect",{id:"bg",x:"0",y:"0",width:"24",height:"24",rx:"2"}),i().createElement("path",{d:"M7,11 L7,13 L5,13 L5,11 L7,11 Z M13,11 L13,13 L11,13 L11,11 L13,11 Z M19,11 L19,13 L17,13 L17,11 L19,11 Z",id:"\u5F62\u72B6\u7ED3\u5408",fill:"#464D5A",fillRule:"nonzero"})))))},883787:function(e,t,n){"use strict";n.d(t,{G:function(){return r}});var r="toolbar-overall-shelter"},439506:function(e,t,n){"use strict";n.d(t,{Tc:function(){return s},X3:function(){return o},bR:function(){return a}});var r=n(463313),i=n.n(r);function o(e){return!!e&&("string"==typeof e.content||i().isValidElement(e.content||Array.isArray(e.content)))}function a(e){return"right-prefer"===e?["right","left"]:"left-prefer"===e?["left","right"]:e}function s(e){return"start-prefer"===e?"start":"end-prefer"===e?"end":e}},285419:function(e,t,n){"use strict";var r;n.d(t,{v:function(){return r}}),function(e){e.CONTEXT_MENU="context_menu",e.MOBILE_CONTEXT_MENU="mobile_context_menu",e.MENU="menu",e.MOBILE_MENU="mobile_menu",e.TOOLBAR="toolbar",e.MOBILE_TOOLBAR="mobile_toolbar",e.STATUSBAR="statusbar",e.TITLEBAR="titlebar",e.MOBILE_TITLEBAR="mobile_titlebar",e.KEYMAP="keymap",e.FLOAT_WIDGET="float_widget",e.EMBED_WIDGET="embed_widget",e.WRAPPED_WIDGET="wrapped_widget",e.MOBILE_ACTION_BUTTON="mobile_action_buttons"}(r||(r={}))},246821:function(e,t,n){"use strict";n.d(t,{e:function(){return o},h:function(){return i}});var r=n(285419),i={toolbarItems:r.v.TOOLBAR,mobileToolbarItems:r.v.MOBILE_TOOLBAR,menuItems:r.v.MENU,mobileMenuItems:r.v.MOBILE_MENU,statusbarItems:r.v.STATUSBAR,contextMenuItems:r.v.CONTEXT_MENU,mobileContextMenuItems:r.v.MOBILE_CONTEXT_MENU,keymapConfigs:r.v.KEYMAP,titlebarItems:r.v.TITLEBAR,mobileTitlebarItems:r.v.MOBILE_TITLEBAR,mobileActionButtons:r.v.MOBILE_ACTION_BUTTON},o={[r.v.MOBILE_MENU]:"mobileMenuItems",[r.v.MENU]:"menuItems",[r.v.TOOLBAR]:"toolbarItems",[r.v.MOBILE_TOOLBAR]:"mobileToolbarItems",[r.v.CONTEXT_MENU]:"contextMenuItems",[r.v.MOBILE_CONTEXT_MENU]:"mobileContextMenuItems",[r.v.TITLEBAR]:"titlebarItems",[r.v.MOBILE_TITLEBAR]:"mobileTitlebarItems",[r.v.STATUSBAR]:"statusbarItems",[r.v.MOBILE_ACTION_BUTTON]:"mobileActionButtons",[r.v.KEYMAP]:"keymapConfigs"}},298263:function(e,t,n){"use strict";n.d(t,{X:function(){return s}});var r=n(593323),i=n(209787),o=n(709429),a=n(434522),s=function(){function e(t){(0,r._)(this,e),this.surfaceService=t}var t=e.prototype;return t.isAvailable=function(e,t){if(!e||!e.adapters)return!0;var n,r=this.surfaceService.info.current,i=null==r?void 0:r.id;if(t&&(i=this.surfaceService.getSurfaceId(t)),!r)return!1;var o=this.surfaceService.getAdapter(i);return null!=(n=e.adapters)&&!!n.some(e=>o&&o.toString()===e)},t.matchOpenedEditors=function(e){return(null==e?void 0:e.adapters)?this.surfaceService.editors.filter(t=>e.adapters.includes(t.adapter.toString())).map(e=>e.editor):[]},e}();s=(0,i.__decorate)([(0,o.t)({overridable:!0}),(0,i.__metadata)("design:paramtypes",[a.W])],s)},355838:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var r=n(88511);function i(e,t){for(var n,i=arguments.length,o=Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return"function"==typeof e?null!=(n=e.apply(void 0,(0,r._)(o)))?n:t:null!=e?e:t}},276009:function(e,t,n){"use strict";n.d(t,{C:function(){return d}});var r=n(805155),i=n(593323),o=n(425601),a=n(982121),s=n(921734),u=n(88511);n(575739);var c=n(743401),l=n(753760),d=function(e){function t(){var e;return(0,i._)(this,t),e=(0,r._)(this,t,arguments),e.pathMap=new Map,e.reversedPathMap=new Map,e.cacheConfigs=new Map,e}(0,s._)(t,e);var n=t.prototype;return n.setSchema=function(e){this.schema=e,this.updateState()},n.getSchema=function(){return this.schema},n.isInActiveSchema=function(e){return!0},n.getPathByConfig=function(e){var t;return null!=(t=this.pathMap.get(e))?t:[]},n.getConfigByPath=function(e){return Array.isArray(e)?this.reversedPathMap.get(e.join("/")):this.reversedPathMap.get(e)},n.get=function(e){return(0,o._)((0,a._)(t.prototype),"get",this).call(this,e,this.getDefaultConfig())},n.buildConfig=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[e].concat((0,u._)(t)).join("/"),r=this.cacheConfigs.get(n);return r||(r=this.get(e),this.cacheConfigs.set(n,r)),r},n.setPathToActionInfoInConfig=function(e,t){var n,r=[];t&&(n=r).push.apply(n,(0,u._)(t)),r.push(e.name),this.pathMap.set(e,r),this.reversedPathMap.set(r.join("/"),e),Object.entries(e).forEach(t=>{var[n,r]=t;if((0,l._i)(r)){var i=this.getPathByConfig(e);r.point=Object.assign(Object.assign({},r.point),{path:i,name:e.name}),e[n]=r}})},n.getMergedConfig=function(e){var n=!1;!this.hasConfig(e)&&Object.keys(this.schema).includes(e)&&(this.configs.set(e,{name:e}),n=!0);var r=(0,o._)((0,a._)(t.prototype),"getMergedConfig",this).call(this,e);return n&&this.configs.remove(e),r},n.mergeSchema=function(e){this.mergeSchemaWithoutUpdate(e),this.updateState()},n.onUpdate=function(){(0,o._)((0,a._)(t.prototype),"onUpdate",this).call(this),this.pathMap.clear(),this.reversedPathMap.clear(),this.cacheConfigs.clear()},n.forceUpdateWithStore=function(e,t){var n=e.getValue(t);return null===n?void this.onUpdate():Array.isArray(n)?void e.get(t).next(n.slice()):"object"==typeof n?void e.get(t).next(Object.assign({},n)):void e.get(t).next(n)},t}(c.V)},743401:function(e,t,n){"use strict";n.d(t,{V:function(){return v}});var r=n(593323);n(726817);var i=n(75032),o=n(366032),a=n(656671),s=n(789544),u=n(366168),c=n(753760),l=n(277510);function d(e,t){return RegExp(`^${e.replace(/:\w+/g,"\\w+")}$`).test(t)}function f(e){return!!e.includes(":")}n(575739),n(738355);var p=n(380192),h=function(){function e(){var t=this;(0,r._)(this,e),this.getMatchPoint=e=>{var t=this.namedPlaceholders.filter(t=>d(t,e));if(t.length>1)throw Error(`Ambiguous match points found for key ${e}, match points ${t.join(", ")}`);return t[0]},this.matchPointMemoizedCacheKey=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.namedPlaceholders.length+n[0]},this.getMemorizedMatchPoint=(0,p.Z)(this.getMatchPoint,this.matchPointMemoizedCacheKey),this.namedPlaceholders=[]}return e.prototype.addMatchPoint=function(e){f(e)&&!this.namedPlaceholders.includes(e)&&this.namedPlaceholders.push(e)},e}(),g=function(){function e(){(0,r._)(this,e),this.configs=new Map,this.namedPlaceHolder=new h}var t=e.prototype;return t.set=function(e,t){this.configs.set(e,t),f(e)&&this.namedPlaceHolder.addMatchPoint(e)},t.remove=function(e){if(!this.configs.has(e))return void u.r.warn(`The config "${e}" does not exist, thus ignored.`);this.configs.delete(e)},t.has=function(e){var t=this.configs.has(e);return t||this.namedPlaceHolder.getMatchPoint(e)&&(t=!0),t},t.get=function(e){var t=this.configs.get(e);if(t)return t;var n=this.namedPlaceHolder.getMatchPoint(e);if(n){var r=this.configs.get(n);r&&(t=Object.assign(Object.assign({},r),{name:e}))}return t},t.getAllKeys=function(){var e=[];for(var t of this.configs.keys())e.push(t);return e},e}(),m=function(){function e(){(0,r._)(this,e),this.callbacks=new Map,this.namedPlaceHolder=new h}var t=e.prototype;return t.getAll=function(e){var t,n,r=new Map,i=this.namedPlaceHolder.getMemorizedMatchPoint(e);return null==(t=this.callbacks.get(null!=i?i:""))||t.forEach((e,t)=>r.set(t,e.clone())),null==(n=this.callbacks.get(e))||n.forEach((e,t)=>r.set(t,e.clone())),r},t.get=function(e){return this.callbacks.get(e)},t.set=function(e,t){this.callbacks.set(e,t),f(e)&&this.namedPlaceHolder.addMatchPoint(e)},t.getMatchPoint=function(e){return this.namedPlaceHolder.getMatchPoint(e)},e}(),v=function(){function e(){(0,r._)(this,e),this.debounceTime=10,this.configs=new g,this.callbacks=new m,this.middlewares=new Map,this.subject=new o.x,this.subject.asObservable().pipe((0,a.h)(()=>{var e;return!this.interceptor||!!(null==(e=this.interceptor)?void 0:e.call(this))}),(0,s.b)(this.debounceTime)).subscribe(()=>this.onUpdate())}var t=e.prototype;return t.setUpdateInterceptor=function(e){this.interceptor=e},t.onUpdate=function(){},t.register=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.hasConfig(e.name)&&u.r.warn(`[From: ${(0,i.ll)(this).displayName}] The config "${e.name}" has already been registered, it has been replaced by new config.`),this.configs.set(e.name,e),t&&this.updateState()},t.remove=function(e){this.configs.remove(e)},t.hasConfig=function(e){return this.configs.has(e)},t.getMergedConfig=function(e){if(this.hasConfig(e)){var t=this.getUIConfig(e),n=this.callbacks.getAll(e),r={};n.forEach((e,t)=>{r[t]=e}),this.middlewares.forEach((e,t)=>{r[t]?r[t]=r[t].clone():r[t]=(0,c.mN)([]),r[t].setMiddlewares(e)});var i=Object.assign(Object.assign({},t),r);return this.updateActionPoint(i),i}},t.updateActionPoint=function(e){var t=this.callbacks.getMatchPoint(e.name);for(var[n,r]of Object.entries(e))(0,c._i)(r)&&(r.point=Object.assign(Object.assign({},r.point),{from:(0,i.tr)(this.constructor),name:e.name,trigger:n,matchPoint:t}))},t.get=function(e,t){var n=this.getMergedConfig(e);return n||t},t.getUIConfig=function(e){return this.configs.get(e)},t.updateState=function(){this.subject.next()},t.update=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?this.$forceUpdate():this.subject.next()},t.bind=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this.callbacks.get(e);i||(i=new Map,this.callbacks.set(e,i));var o=i.get(t);o&&u.r.warn(`There is already a "${String(t)}" action point for config "${e}" and will be override by duplicate declaration. Search "@${o.point.from}('${e}', '${String(t)}')" in your codebase to find it.`),i.set(t,n),r&&this.updateState()},t.use=function(e,t){var n=l.g.from(e).build(),r=this.middlewares.get(t);r?r.unshift(n):r=[n],this.middlewares.set(t,r),this.update()},t.getCallbackConfig=function(e){return this.callbacks.get(e)},e}()},366168:function(e,t,n){"use strict";n.d(t,{r:function(){return i}});var r=n(593323),i=new(function(){function e(){(0,r._)(this,e)}var t=e.prototype;return t.dateFormat=function(e){var t=e.getFullYear(),n=`${e.getMonth()+1}`.padStart(2,"0"),r=`${e.getDate()}`.padStart(2,"0"),i=`${e.getHours()}`.padStart(2,"0"),o=`${e.getMinutes()}`.padStart(2,"0"),a=`${e.getSeconds()}`.padStart(2,"0");return`${t}/${n}/${r} ${i}:${o}:${a}`},t.write=function(e,t){if(!this.use){var n=`[${this.dateFormat(new Date)}] [${e}] [Workbench] - ${t}`;switch(e){case"FATAL":case"ERROR":console.error(n);break;case"WARN":console.warn(n)}}},t.debug=function(e){var t;null==(t=this.use)||t.debug(e),this.write("DEBUG",e)},t.info=function(e){var t;null==(t=this.use)||t.info(e),this.write("INFO",e)},t.warn=function(e){var t;null==(t=this.use)||t.warn(e),this.write("WARN",e)},t.error=function(e){var t;null==(t=this.use)||t.error(e),this.write("ERROR",e)},t.fatal=function(e){var t;null==(t=this.use)||t.fatal(e),this.write("FATAL",e)},e}())},973468:function(e,t,n){"use strict";n.d(t,{FN:function(){return g},x9:function(){return p}});var r=n(593323),i=n(758699),o=n(209787),a=n(463313),s=n.n(a),u=n(873565),c=n(434522),l=n(139442),d=n(619276),f=n(34453),p=function(){function e(){(0,r._)(this,e)}var t=e.prototype;return t.isOnline=function(){return f.u.getInstance().isOnline},t.controllerInfo=function(e){var t=e.from+e.name;return{configController:this.trackControllerService.getConfigController(t),callBackController:this.trackControllerService.getConfigController(t)}},(0,i._)(e,[{key:"editors",get:function(){var e,t=u.Am.get(c.W);return(null!=(e=null==t?void 0:t.editors)?e:[]).map(e=>e.editor)}},{key:"editor",get:function(){var e=u.Am.get(c.W);if(e&&this.editors.length>0){var t=e.info.current,n=null==t?void 0:t.id;return e.getEditor(n)}return null}},{key:"store",get:function(){return u.Am.get(l.O)}}]),e}();(0,o.__decorate)([(0,u.tB)(),(0,o.__metadata)("design:type",d.r)],p.prototype,"trackControllerService",void 0);var h=new(p=(0,o.__decorate)([(0,u.GS)()],p)),g=s().createContext(h)},109399:function(e,t,n){"use strict";n.d(t,{K:function(){return u}});var r=n(805155),i=n(593323),o=n(758699),a=n(921734),s=n(75032),u=function(e){function t(e){var n;return(0,i._)(this,t),(n=(0,r._)(this,t,[e]))._store=s.yh.from(e),n}return(0,a._)(t,e),(0,o._)(t,[{key:"useClass",get:function(){return this._useClass||this.provide},set:function(e){this._store=s.yh.from(e),this._useClass=e}},{key:"store",get:function(){return this._store}},{key:"scope",get:function(){return this.store.get("st ore")},set:function(e){this.store.set("store",e)}}]),t}(n(873565).zt)},535875:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(873565);function i(e){return t=>{var n,i;return"string"==typeof e?(i=e,r.Am.service(t,{type:"adapter"})):(i=e.name,r.Am.set({provide:null!=(n=e.token)?n:t,useClass:t,singleton:!0,type:"adapter"})),t.prototype.toString=()=>i,r.Am.service(t,{type:"adapter"}),r.Am.invokable(t),t}}},533618:function(e,t,n){"use strict";n.d(t,{L:function(){return s}});var r=n(209787),i=n(873565),o=n(929675),a=n(456441);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=>{t.prototype.toString=()=>{var n;return null!=(n=e.name)?n:t.name},t.displayName=e.name;var{provide:n}=e,s=(0,r.__rest)(e,["provide"]);return a.j.merge(t,e),n?i.Am.service(n,t,Object.assign(Object.assign({},s),{type:"feature"})):i.Am.service(t,Object.assign(Object.assign({},s),{type:"feature"})),i.Am.invokable(t),i.Am.addPostConstructor(null!=n?n:t,n=>{var r,a=i.Am.get(o.U),s=i.ll.get(t);s&&(s.instance=n,a.mount([null!=(r=e.provide)?r:t]))}),t}}},709429:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var r=n(209787),i=n(873565);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=>{var{provide:n,name:o}=e,a=(0,r.__rest)(e,["provide","name"]);return o&&(t.displayName=o),n?i.Am.service(n,t,Object.assign(Object.assign({},a),{type:"service"})):i.Am.service(t,Object.assign(Object.assign({},a),{type:"service"})),i.Am.invokable(t),t}}},899448:function(e,t,n){"use strict";n.d(t,{c:function(){return v}});var r=n(463313),i=n.n(r),o=n(774012),a=n(991983),s=n(662012),u=n(96918),c=n(908951),l=n(779606),d=n(952604),f=n(280318),p=n(963468),h=n(75032),g=e=>{var{position:t,children:n}=e;return i().createElement("div",{style:{position:"fixed",left:`${t.x}px`,top:`${t.y}px`,zIndex:99999}},n)},m=n(753760);function v(e){var{onDragStart:t,onDragEnd:n,onDrag:v,dragOptions:y,enable:b=!0}=e,{capture:_=!0,preventDefault:C=!1,stopPropagation:I=!1,offset:E}=null!=y?y:{},{x:w=0,y:S=0}=null!=E?E:{},D=(0,r.useCallback)(e=>{C&&e.preventDefault(),I&&e.stopPropagation()},[C,I]),M="workbench-drag-wrapper",T=(0,r.useRef)(),[A,x]=(0,r.useState)(!1),[N,O]=(0,r.useState)({x:-1,y:-1}),[k,R]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(document&&T.current&&b){var e=T.current,r=(0,a.R)(e,"mousedown",{capture:_}),i=(0,a.R)(document,"mousemove",{capture:_}),o=(0,a.R)(document,"mouseup",{capture:_}),g=r.pipe((0,u.w)(r=>{x(!0);var a=document.querySelectorAll("iframe");a.forEach(e=>{e.style["pointer-events"]="none"});var s=e.getBoundingClientRect(),u={x:r.clientX-s.left+w,y:r.clientY-s.top+S};O(u),t&&(0,m.Mf)(t,r);var p=null==t?void 0:t(u);(0,h.tI)(p)?p.then(e=>e&&R(e)):p&&R(p),D(r);var g=o.pipe((0,c.P)()).subscribe(e=>{n&&(0,m.Mf)(n,e),null==n||n(N),x(!1),a.forEach(e=>{e.style["pointer-events"]="auto"}),D(e)});return i.pipe((0,l.U)(e=>({position:{x:e.clientX-u.x+2*w,y:e.clientY-u.y+2*S},event:e})),(0,d.R)(o),(0,f.x)(()=>g.unsubscribe()))}),(0,p.R)(s.Z)).subscribe(e=>{var{position:t,event:n}=e;O(t),v&&(0,m.Mf)(v,n),null==v||v(t),D(n)});return()=>g.unsubscribe()}},[]),(0,r.useEffect)(()=>{if(k){var e=document.querySelector(`body > div#${M}`);if(A){if(!e){var t=document.createElement("div");t.id=M,document.body.appendChild(t)}(0,o.render)(i().createElement(g,{position:N,key:M},k),e)}else e&&((0,o.unmountComponentAtNode)(e),e.remove())}},[k,A,N]),{isDragging:A,position:N,refCallback:(0,r.useCallback)(e=>{b&&e&&(T.current=e)},[])}}},34453:function(e,t,n){"use strict";n.d(t,{u:function(){return u}});var r=n(593323),i=n(896433),o=n(952280),a=n(873565),s=n(724538),u=function(){function e(){(0,r._)(this,e)}return e.getInstance=function(){var t;if(void 0===e.networkInstance){var n=a.Am.get(s.A),r=i.Z.create(null!=(t=n.network)?t:{autoRun:!1});e.networkInstance=(0,o.X)(r)}return e.networkInstance},e}()},171960:function(e,t,n){"use strict";n.d(t,{P:function(){return c}});var r=n(805155),i=n(593323),o=n(758699),a=n(921734),s=n(209787),u=n(75032),c=function(e){function t(e,n){var o;return(0,i._)(this,t),(o=(0,r._)(this,t,[e,n,Object.getOwnPropertyDescriptor(e,n)])).methodClassName=n,o.beforeMiddlewares=[],o.middlewares=[],o.afterMiddlewares=[],o.type=u.SF.getReturnType(o.rawTarget,o.methodName),o}(0,a._)(t,e);var n=t.prototype;return n.merge=function(e){var t=e.filter(e=>"string"!=typeof e&&!!e);return this.middlewares=this.middlewares.concat(t),this},n.get=function(e){var t=u.yh.from(this.target).get(e),n=(0,u.o0)(void 0,t),r=this.store.get(e);return void 0!==r&&(n=(0,u.o0)(n,r)),n},n.before=function(e){return this.beforeMiddlewares=this.beforeMiddlewares.concat(e),this},n.after=function(e){return this.afterMiddlewares=this.afterMiddlewares.concat(e),this},n.inherit=function(e){var n=new t(e,this.methodClassName);return n.inheritedEndpoint=this,n.middlewares=this.middlewares,n.beforeMiddlewares=this.beforeMiddlewares,n.afterMiddlewares=this.afterMiddlewares,n},(0,o._)(t,[{key:"methodName",get:function(){return this.methodClassName}}]),t}(u.w7);(0,s.__decorate)([(0,u.NG)(),(0,s.__metadata)("design:type",Array)],c.prototype,"beforeMiddlewares",void 0),(0,s.__decorate)([(0,u.NG)(),(0,s.__metadata)("design:type",Array)],c.prototype,"middlewares",void 0),(0,s.__decorate)([(0,u.NG)(),(0,s.__metadata)("design:type",Array)],c.prototype,"afterMiddlewares",void 0),(0,s.__decorate)([(0,u.NG)(),(0,s.__metadata)("design:type",c)],c.prototype,"inheritedEndpoint",void 0)},753760:function(e,t,n){"use strict";n.d(t,{Mf:function(){return h},_i:function(){return p},mN:function(){return m}});var r=n(805155),i=n(593323),o=n(758699),a=n(921734),s=n(88511),u=n(762563);n(575739);var c=n(873565),l=n(139442),d=n(316258),f={success:"#2e7d32",stop:"#bf360c",error:"#d32f2f",skip:"#757575"};function p(e){return!!("function"==typeof e&&e.point&&e.context&&e.hasNext&&e.stop)}function h(e,t){p(e)&&(e.context.event=t)}var g=function(e){function t(){return(0,i._)(this,t),(0,r._)(this,t,arguments)}(0,a._)(t,e);var n=t.prototype;return n.setMiddlewares=function(e){this.middlewares=e},n.clone=function(){var e=m(this.handlers,this.point,this.context.metadata);return e.debug=this.debug,e.hasRaw=this.hasRaw,e},n.init=function(e){this.handlers=e,this.debug=!1,this.debugInfo=[],this.runningHandlerInfo={},this.middlewares=[],this.hasCalled=!1,this.hasRaw=!1},n.getHandlers=function(){return this.middlewares.concat(this.handlers)},n.getNext=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=()=>{};if(t.hasCalled=this.hasCalled,this.hasNext()){this.index+=1;var n=this.getHandlers()[this.index];(t=()=>(t.hasCalled=!0,n(this,e))).hasCalled=this.hasCalled}return this.hasCalled=!1,t},n.setOnCall=function(e){this.onCall=e},n.setContext=function(e){Object.assign(this.context,e)},n.hasNext=function(){return this.index<this.getHandlers().length-1},n.run=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.rawArguments=t,this.index=-1,this.debugInfo=[],this.runningHandlerInfo={},this.onCall&&this.onCall(),this.next(),(this.debug||c.Am.get(l.O).getValue(d.R.DebugMode))&&this.printDebugInfo();var{data:r}=this;return this.cleanResult(),r},n.cleanResult=function(){this.result=void 0},n.traceStart=function(e,t){var n=Date.now();this.runningHandlerInfo[e]={start:n,type:t}},n.traceEnd=function(e,t){var n=Date.now(),r=this.runningHandlerInfo[e];r&&this.debugInfo.push([e,r.type,t,n-r.start])},n.storeData=function(e){this.result=e},n.stop=function(){this.hasCalled=!0},n.getArguments=function(){return this.rawArguments},n.printDebugInfo=function(){var e=["font-family: Consolas, monospace","display: inline-block","padding: 2px","border: 1px solid #ffa000","background-color: #ffd14933"];console.group(`%c@${this.point.from}(${this.point.name}, ${this.point.trigger})`,e.join(";")),this.debugInfo.forEach(e=>{var[t,n,r,i]=e;`%c${r}%c`.padEnd(14," "),f[r]}),console.groupEnd()},(0,o._)(t,[{key:"next",get:function(){return this.getNext()}},{key:"skip",get:function(){return this.getNext(!0)}},{key:"data",get:function(){return this.result}}]),t}((0,u._)(Function));function m(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{name:"",from:"",trigger:"",path:[]},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i).run.apply(t,(0,s._)(n))};return g.prototype.init.call(i,e),Object.setPrototypeOf(i,g.prototype),i.context={metadata:r},i.point=n,i}},864009:function(e,t,n){"use strict";n.d(t,{d:function(){return d}});var r=n(805155),i=n(593323),o=n(758699),a=n(921734),s=n(209787),u=n(75032),c=n(109399),l=n(975855),d=function(e){function t(e){var n;return(0,i._)(this,t),(n=(0,r._)(this,t,[e])).controllerMiddlewares={useBefore:[],use:[],useAfter:[]},n.toolbarItems=[],n.mobileToolbarItems=[],n.menuItems=[],n.mobileMenuItems=[],n.statusbarItems=[],n.contextMenuItems=[],n.mobileContextMenuItems=[],n.keymapConfigs=[],n.titlebarItems=[],n.mobileTitlebarItems=[],n.mobileActionButtons=[],n.type="controller",n}return(0,a._)(t,e),(0,o._)(t,[{key:"middlewares",get:function(){return this.controllerMiddlewares},set:function(e){Object.keys(e).forEach(t=>{this.controllerMiddlewares[t]=this.controllerMiddlewares[t].concat(e[t])})}},{key:"actionPoints",get:function(){return l.q.getActionPoints((0,u.ll)(this.provide))}}]),t}(c.K);(0,s.__decorate)([(0,u.NG)(),(0,s.__metadata)("design:type",Object)],d.prototype,"controllerMiddlewares",void 0),(0,s.__decorate)([(0,u.NG)(),(0,s.__metadata)("design:type",String)],d.prototype,"name",void 0),(0,s.__decorate)([(0,u.NG)(),(0,s.__metadata)("design:type",Object),(0,s.__metadata)("design:paramtypes",[Object])],d.prototype,"middlewares",null),(0,s.__decorate)([(0,u.NG)(),(0,s.__metadata)("design:type",Array),(0,s.__metadata)("design:paramtypes",[])],d.prototype,"actionPoints",null)},277510:function(e,t,n){"use strict";n.d(t,{g:function(){return y}});var r=n(593323),i=n(88511);n(738355);var o=n(209787),a=n(873565),s=n(75032),u=n(565981),c=n(937179),l=n(631285),d=n(811319),f=n(171960),p=n(758699),h=n(347072),g=function(){function e(t,n){(0,r._)(this,e),this.handler=t,this.methodKey=n,this.handlerType="function",this.injectable=!1,this.nextFunction=!1,this.resolve()}return e.prototype.resolve=function(){var e=this.handler;if(d.Q.has(this.handler)){var t=d.Q.get(this.handler);this.handlerType="middleware",this.methodKey="use",e=t.useClass}else l.p.has(this.handler)&&(this.handlerType="controller");this.methodKey&&(this.injectable=h.d.isInjectable(e,this.methodKey))},(0,p._)(e,[{key:"type",get:function(){return this.handlerType}},{key:"methodName",get:function(){return this.methodKey}},{key:"hasNextFunction",get:function(){return this.nextFunction}},{key:"target",get:function(){return this.handler}},{key:"services",get:function(){return this.injectable?h.d.getParams(this.target,this.methodName):[]}}]),e}();(0,o.__decorate)([(0,s.NG)(),(0,o.__metadata)("design:type",String)],g.prototype,"handlerType",void 0),(0,o.__decorate)([(0,s.NG)(),(0,o.__metadata)("design:type",Object)],g.prototype,"injectable",void 0),(0,o.__decorate)([(0,s.NG)(),(0,o.__metadata)("design:type",Object)],g.prototype,"nextFunction",void 0);var m=n(366168),v=n(298263),y=function(){function e(t){(0,r._)(this,e),this.handlerMetadata=t}var t=e.prototype;return t.build=function(){return(e,t)=>this.invoke(e,t)},t.middlewareHandler=function(){var e=d.Q.get(this.handlerMetadata.target);if(!e)throw Error(`${(0,s.FM)(this.handlerMetadata.target)} middleware component not found in the MiddlewareRegistry`);var{instance:t}=e;return t||(t=a.Am.get(e.useClass)),function(){for(var e,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.use.bind(t),(e=t).use.apply(e,(0,i._)(r))}},t.controlHandler=function(){var e=l.p.get(this.handlerMetadata.target);if(!e)throw Error("Controller component not found in the ControllerRegistry");var t=e.useClass;return void 0===e.instance&&(e.instance=a.Am.invoke(t)),e.instance[this.handlerMetadata.methodName].bind(e.instance)},t.getHandler=function(){if(this.handler)return this.handler;switch(this.handlerMetadata.type){default:case"function":this.handler=this.handlerMetadata.target;break;case"middleware":this.handler=this.middlewareHandler();break;case"controller":this.handler=this.controlHandler()}return this.handler},t.invoke=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var n,r,o,a,s,u,{target:c,methodName:l,type:f}=this.handlerMetadata;if(e.traceStart(`${c.name} # ${l}`,f),t){e.traceEnd(`${c.name} # ${l}`,"skip"),null==(n=e.skip)||n.call(e);return}var p=this.runPreHandlers(e);if("controller"===f){var h=p.findIndex(e=>void 0!==e),g=e.getArguments();if(h<0)p=g;else for(var v=h-1,y=0;v>=0;v-=1,y+=1)p[v]=g[y]}("middleware"!==f||this.adapterMatchService.isAvailable(d.Q.get(c),e.context.editor))&&(u=this.getHandler().apply(void 0,(0,i._)(p))),void 0!==u&&"function"!==f&&e.storeData(u),e.hasCalled?(e.traceEnd(`${c.name} # ${l}`,"stop"),null==(o=e.skip)||o.call(e)):(e.traceEnd(`${c.name} # ${l}`,"success"),null==(r=e.next)||r.call(e))}catch(t){var{target:b,methodName:_}=this.handlerMetadata;m.r.error(null!=(a=t.stack)?a:`Error occured at ${b.name} # ${_}: ${t}`),e.traceEnd(`${b.name} # ${_}`,"error"),null==(s=e.skip)||s.call(e)}},t.runPreHandlers=function(e){var{context:t}=a.Am.get(c.O);return this.handlerMetadata.services.map(n=>{var r;return null==(r=u.A.get(n.service))?void 0:r({context:t,runner:e,param:n})})},e.from=function(t){return new e(t instanceof f.P?new g(t.target,t.methodName):new g(t))},e}();(0,o.__decorate)([(0,a.tB)(),(0,o.__metadata)("design:type",v.X)],y.prototype,"adapterMatchService",void 0)},975855:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var r=n(593323);n(575739);var i=n(75032),o=n(171960),a=function(){function e(){(0,r._)(this,e)}return e.inherit=function(t){for(var n=[],r=(0,i.Pb)(t);r&&e.hasActionPoints(r);)this.getOwnActionPoints(r).forEach(e=>{var r=e.inherit(t);n.push(r)}),r=(0,i.Pb)(r);return n},e.getOwnActionPoints=function(t){return this.hasActionPoints(t)||i.SF.set(e.name,[],t),i.SF.getOwn(e.name,t)},e.getActionPoints=function(e){return this.getOwnActionPoints(e)},e.hasActionPoints=function(t){return i.SF.hasOwn(e.name,t)},e.get=function(t,n){if(!this.has(t,n)){var r=new o.P(t,n);e.getActionPoints(t).push(r),i.SF.set(e.name,r,t,n)}return i.SF.getOwn(e.name,t,n)},e.has=function(t,n){return i.SF.hasOwn(e.name,t,n)},e.useBefore=function(e,t,n){return this.get(e,t).before(n),this},e.use=function(e,t,n){return this.get(e,t).merge(n),this},e.useAfter=function(e,t,n){return this.get(e,t).after(n),this},e.store=function(e,t){return i.yh.from(e,t,Object.getOwnPropertyDescriptor(e,t))},e.setMetadata=function(t,n,r,i){return e.store(r,i).set(t,n),e},e.getMetadata=function(t,n,r){return e.store(n,r).get(t)},e}()},631285:function(e,t,n){"use strict";n.d(t,{p:function(){return o}});var r=n(75032),i=n(864009),o=new r.Bz(i.d)},456441:function(e,t,n){"use strict";n.d(t,{j:function(){return c}});var r=n(75032),i=n(805155),o=n(593323),a=n(921734),s=n(209787),u=function(e){function t(e){var n;return(0,o._)(this,t),(n=(0,i._)(this,t,[e])).adapters=[],n.mounted=!1,n.lifeCycleCount=0,n.type="feature",n}(0,a._)(t,e);var n=t.prototype;return n.onOpen=function(){this.lifeCycleCount+=1},n.onClose=function(){this.lifeCycleCount-=1},n.isNotClosed=function(){return 0!==this.lifeCycleCount},t}(n(109399).K);(0,s.__decorate)([(0,r.NG)(),(0,s.__metadata)("design:type",Array)],u.prototype,"adapters",void 0);var c=new r.Bz(u)},811319:function(e,t,n){"use strict";n.d(t,{Q:function(){return u}});var r=n(75032),i=n(805155),o=n(593323),a=n(921734),s=function(e){function t(){return(0,o._)(this,t),(0,i._)(this,t,arguments)}return(0,a._)(t,e),t}(n(109399).K),u=new r.Bz(s)},347072:function(e,t,n){"use strict";n.d(t,{d:function(){return d}});var r=n(593323),i=n(75032),o=n(805155),a=n(758699),s=n(921734),u=n(209787),c=function(e){function t(){return(0,r._)(this,t),(0,o._)(this,t,arguments)}return(0,s._)(t,e),t.prototype.toJSON=function(){return{service:(0,i.FM)(this.rawService),name:this.name,use:this.typeName,expression:this.expression}},(0,a._)(t,[{key:"service",get:function(){return this.rawService},set:function(e){this.rawService=e,this.name=(0,i.FM)(e)}}]),t}(i.w7);(0,u.__decorate)([(0,i.NG)(),(0,u.__metadata)("design:type",Object)],c.prototype,"rawService",void 0);var l="workbench:params:metadata",d=function(){function e(){(0,r._)(this,e)}return e.get=function(e,t,n){var r=this.getParams(e,t);return r[n]=r[n]||new c(e,t,n),r[n]},e.set=function(e,t,n,r){var o=i.SF.has(l,e,t)?i.SF.get(l,e,t):[];o[n]=r,i.SF.set(l,o,e,t)},e.usePreHandler=function(t,n){var r=e.get(n.target,n.propertyKey,n.parameterIndex);return r.service=t,n.expression&&(r.expression=n.expression),n.useFunction&&(r.converter=n.useFunction),e.set(n.target,n.propertyKey,n.parameterIndex,r),this},e.decorate=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(r,i,o)=>{if("number"==typeof o){var a=Object.assign({target:r,propertyKey:i,parameterIndex:o},n);"symbol"==typeof t&&e.usePreHandler(t,a)}}},e}();d.getParams=(e,t)=>i.SF.has(l,e,t)?i.SF.get(l,e,t):[],d.isInjectable=(e,t)=>{var n;return(null!=(n=i.SF.get(l,e,t))?n:[]).length>0}},565981:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});var r=new Map},29756:function(e,t,n){"use strict";n.d(t,{c:function(){return r}});var r=Symbol("service:badge")},937179:function(e,t,n){"use strict";n.d(t,{O:function(){return l}});var r=n(593323),i=n(758699),o=n(209787),a=n(366168),s=n(973468),u=n(709429),c=n(436114),l=function(){function e(t,n){(0,r._)(this,e),this.workbenchContext=t,this.eventEmitter=n}return e.prototype.inject=function(e,t){if(e in s.x9.prototype)return void a.r.error(`Duplicate injection for key: ${e}`);var n=()=>t;"function"==typeof t&&(n=t),Object.defineProperty(s.x9.prototype,e,{get:n}),this.eventEmitter.emit("$onInjectContext",{key:e,value:t})},(0,i._)(e,[{key:"context",get:function(){return this.workbenchContext}}]),e}();l=(0,o.__decorate)([(0,u.t)(),(0,o.__metadata)("design:paramtypes",[s.x9,c.v])],l)},888385:function(e,t,n){"use strict";n.d(t,{H:function(){return O}});var r=n(805155),i=n(593323),o=n(921734);n(738355);var a=n(209787),s=n(873565),u=n(75032),c=n(709429),l=n(631285),d=n(736669),f=n(696272),p=n(753760),h=function(){function e(t,n,r){(0,i._)(this,e),this.actionPoint=t,this.point=n,this.middlewares=r}return e.prototype.buildActionPointRunner=function(){var e,t=null==(e=this.actionPoint.get(`${(0,u.tr)(this.point.from)}.${this.point.trigger}`))?void 0:e[this.point.name],n=(0,p.mN)(this.middlewares,this.point,t);return n.debug=this.actionPoint.get("debug"),n.hasRaw=!0,n},e}();n(575739);var g=n(277510);function m(e,t){var n=[];return v(n,e.useBefore),v(n,e.use),v(n,t.beforeMiddlewares),v(n,t.middlewares),v(n,[t]),v(n,t.afterMiddlewares),v(n,e.useAfter),n}function v(e,t){null==t||t.forEach(t=>{t&&e.push(g.g.from(t).build())})}var y=n(619276);function b(e,t){e.getControllerRelatedUIServices().forEach((e,n)=>{t.has(n)&&e.updateState()})}var _=function(){function e(t,n,r){(0,i._)(this,e),this.provider=t,this.serviceCollection=n,this.postDepsConstructorCallback=r,this.runPostDepsConstructorCallback=()=>{this.postDepsConstructorCallback(this.provider.provide)},this.affectedUIService=new Set,this.buildAsyncEffect(),this.serviceToItems=new Map,this.serviceCollection.getControllerRelatedUIServices().forEach((e,t)=>{var n,r=this.serviceCollection.getItemName(t);this.serviceToItems.set(t,null!=(n=this.provider[r])?n:[])})}var t=e.prototype;return t.build=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.buildEntries(),this.buildCallbacks(),e&&this.updateAffectedUIService(),this},t.getAffectedUIServices=function(){return this.affectedUIService},t.buildCallbacks=function(){this.provider.actionPoints.forEach(e=>{var t=m(this.provider.middlewares,e),n=e.get("points");null==n||n.forEach(n=>{this.buildByPoints(n,t,e)})})},t.buildByPoints=function(e,t,n){if(this.serviceCollection.getControllerRelatedUIServices().has(e.from)){var r=s.Am.get(e.from),i=new h(n,e,t).buildActionPointRunner();r.bind(e.name,e.trigger,i),this.trackControllerService.setCallbackController(e.from+e.name,this.provider.useClass),this.affectedUIService.add(e.from)}},t.buildEntries=function(){this.serviceCollection.getControllerRelatedUIServices().forEach(e=>{var t=(0,u.tr)(e),n=this.getProviderItemsByName(t);n&&n.forEach(n=>{e.register(Object.assign({},n),!1),this.trackControllerService.setConfigController(t+n.name,this.provider.useClass),this.affectedUIService.add(t)})})},t.buildAsyncEffect=function(){this.buildIocAsyncEffect(),this.buildContainerAsyncEffect()},t.buildIocAsyncEffect=function(){u.SF.getParamTypes(this.provider.provide).forEach(e=>{if(s.Am.hasClass(e)){var t=s.Am.getClass(e);t===s.RU&&(s.Am.get(e).onModuleLoad=e=>{var t,n=s.ll.get(e),r=null!=(t=null==n?void 0:n.provide)?t:e;s.Am.addPostConstructor(r,this.runPostDepsConstructorCallback)})}})},t.buildContainerAsyncEffect=function(){var{container:e}=s.Am;if(e){var t=e.getServiceDependency(this.provider.provide);t.forEach(t=>{var n=e.getClass(t);n&&Object.getPrototypeOf(n)===d.R&&e.addHook(t,f.q.POST_CONSTRUCTOR,this.runPostDepsConstructorCallback)})}},t.updateAffectedUIService=function(){b(this.serviceCollection,this.affectedUIService)},t.getProviderItemsByName=function(e){return this.serviceToItems.get(e)},e}();(0,a.__decorate)([(0,s.tB)(y.r),(0,a.__metadata)("design:type",y.r)],_.prototype,"trackControllerService",void 0);var C=Symbol("service:controller"),I=n(196516),E=n(139442),w=n(260821),S=n(366032),D=n(316258),M=n(997293),T=n(366168),A=n(615627),x=n(276009),N=n(532895),O=function(e){function t(e,n,o){var a;return(0,i._)(this,t),(a=(0,r._)(this,t,[l.p])).serviceCollection=e,a.store=n,a.featureFlagService=o,a.controllerSettingChange=new w.t,a.postConstructorSubject=new S.x,a.affectedUIServiceMap=new WeakMap,a.affectedUIService=new Set,a.store.register(D.e.Controllers,[]).subscribe(a.controllerSettingChange),a.postConstructorSubject.asObservable().pipe((0,M.e)(20)).subscribe(e=>{if(e.length){var t=new Set(e.flatMap(e=>{var t;return Array.from(null!=(t=a.affectedUIServiceMap.get(e))?t:[])}));b(a.serviceCollection,t)}}),a.postDepsConstructorCallback=e=>{a.postConstructorSubject.next(e)},a.store.register(N.j.RefreshControllers,"").asObservable().subscribe(()=>a.buildControllers()),a}(0,o._)(t,e);var n=t.prototype;return n.subscribeToControllerChange=function(){0===this.controllerSettingChange.observers.length&&this.controllerSettingChange.subscribe(e=>{this.affectedUIService.clear(),this.buildControllers(e,!0)})},n.invoke=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,r=arguments.length>2?arguments[2]:void 0;return s.Am.invoke(null!=(t=e.provide)?t:e,n,r)},n.buildControllers=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=!1;e?e.forEach(e=>{var t=this.buildController(e,!1);n=n||t}):l.p.forEach(e=>{var t=this.buildControllerByProvider(e,!1);n=n||t}),t&&n&&this.serviceCollection.getControllerRelatedUIServices().forEach((e,t)=>{this.affectedUIService.has(t)&&e.updateState()})},n.buildController=function(e){var t,n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=l.p.get(e);if(!i)throw ReferenceError(`Controller ${(0,u.FM)(e)} is not loaded, make sure target is decorated as Controller`);if("controller"!==i.type)throw TypeError(`Provider ${(0,u.FM)(e)} is not a controller.`);return!!this.featureFlagService.getFlag(`controller.${null!=(t=i.name)?t:""}`)&&this.buildControllerByProvider(i,n,r)},n.buildControllerByProvider=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n&&(e.instance||!this.isProviderInActiveSchema(e)))return!1;for(var r=(0,u.Pb)(e.provide);r&&l.p.has(r);){var i=l.p.get(r);i.instance||new _(i,this.serviceCollection,this.postDepsConstructorCallback).build(),r=(0,u.Pb)(r)}var o=new _(e,this.serviceCollection,this.postDepsConstructorCallback).build(t);if(void 0===e.instance)try{e.instance=s.Am.get(e.useClass)}catch(t){return T.r.error(`Failed to construct controller ${e.className}, ${t}`),!1}var a=o.getAffectedUIServices();for(var c of(this.affectedUIServiceMap.set(e.provide,a),a))this.affectedUIService.add(c);return!0},n.isProviderInActiveSchema=function(e){var t=this.serviceCollection.getControllerRelatedUIServices();return!!Array.from(t).some(t=>{var[n,r]=t,i=e[this.serviceCollection.getItemName(n)];return null==i?void 0:i.some(t=>{if(!t)return!1;if(r instanceof x.C){var i=r.isInActiveSchema(t.name);return i&&T.r.info(`Controller [${e.className}] Build Triggered By: ${t.name} in ${n}`),i}return T.r.info(`Controller [${e.className}] Build Triggered By: ${t.name} in ${n}`),!0})})||e.actionPoints.some(n=>{var r=n.get("points");return null==r?void 0:r.some(n=>{var r=t.get(n.from);if(!r)return!1;if(r instanceof x.C){var i=r.isInActiveSchema(n.name);return i&&T.r.info(`Controller [${e.className}] Build Triggered By: ${n.name} in ${n.from}`),i}return T.r.info(`Controller [${e.className}] Build Triggered By: ${n.name} in ${n.from}`),!0})})},t}(u.bP);O=(0,a.__decorate)([(0,c.t)({overridable:!0,provide:C}),(0,a.__metadata)("design:paramtypes",[I.y,E.O,A.Q])],O)},619276:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var r=n(593323),i=n(209787),o=n(709429),a=function(){function e(){(0,r._)(this,e),this.configControllers=new Map,this.callbackControllers=new Map}var t=e.prototype;return t.getConfigController=function(e){return this.configControllers.get(e)},t.getCallbackController=function(e){return this.callbackControllers.get(e)},t.setConfigController=function(e,t){this.configControllers.set(e,t)},t.setCallbackController=function(e,t){this.callbackControllers.set(e,t)},e}();a=(0,i.__decorate)([(0,o.t)({overridable:!0})],a)},109646:function(e,t,n){"use strict";n.d(t,{$t:function(){return g},zv:function(){return m}});var r=n(593323),i=n(88511);n(575739);var o=n(209787),a=n(659331),s=n(139442),u=n(709429),c=n(532895),l=n(138051),d=n(436114),f=n(366168),p=n(385015),h=280,g={FLOAT:(0,l.w)("float"),PUSH:(0,l.w)("push")},m=function(){function e(t,n){(0,r._)(this,e),this.store=t,this.eventEmitter=n,this.leftDrawerMode="push",this.rightDrawerMode="float",this.leftDrawerInCloseAnimation=!1,this.rightDrawerInCloseAnimation=!1,this.onBeforeShowLeftDrawer=()=>{this.updateLeftMargin()},this.onAfterShowLeftDrawer=()=>{this.onAfterShowDrawer("left")},this.onAfterShowRightDrawer=()=>{this.onAfterShowDrawer("right")},this.onBeforeCloseLeftDrawer=()=>{this.leftDrawerInCloseAnimation=!0,this.leftDrawerMode===g.PUSH&&this.updateLeftMargin()},this.onAfterCloseLeftDrawer=()=>{var e,t,n=this.store.get(c.j.LeftDrawerInfo);null==(t=(e=n.value).onAfterCloseAnimation)||t.call(e),this.leftDrawerInCloseAnimation&&n.next({}),this.isAnimationDisabled()&&this.enableAnimation(),this.eventEmitter.emit("$leftDrawerClosed"),this.leftDrawerInCloseAnimation=!1},this.onBeforeShowRightDrawer=()=>{this.updateRightMargin()},this.onBeforeCloseRightDrawer=()=>{this.rightDrawerInCloseAnimation=!0,this.updateRightMargin()},this.onAfterCloseRightDrawer=()=>{var e,t,n=this.store.get(c.j.RightDrawerInfo);null==(t=(e=n.value).onAfterCloseAnimation)||t.call(e),this.rightDrawerInCloseAnimation&&n.next({}),this.isAnimationDisabled()&&this.enableAnimation(),this.eventEmitter.emit("$rightDrawerClosed"),this.rightDrawerInCloseAnimation=!1},t.upsert(c.j.DisableDrawerAnimation,!1),t.upsert(c.j.LeftDrawerInfo,{}),t.upsert(c.j.RightDrawerInfo,{}),t.upsert(c.j.LeftSubDrawerInfo,[]),t.upsert(c.j.RightSubDrawerInfo,[]),t.upsert(c.j.LeftDrawerPersistContent,[]),t.upsert(c.j.RightDrawerPersistContent,[]),t.upsert(c.j.LeftDrawerHiddenContent,new Map),t.upsert(c.j.RightDrawerHiddenContent,new Map),t.upsert(c.j.LeftDrawerOpened,!1),t.upsert(c.j.RightDrawerOpened,!1),t.upsert(c.j.LeftDrawerStyle,{}),t.upsert(c.j.RightDrawerStyle,{})}var t=e.prototype;return t.isLeftOpening=function(e){return!!this.isSubDrawer("left",{name:e})||this.isOpening("left",e)},t.isRightOpening=function(e){return!!this.isSubDrawer("right",{name:e})||this.isOpening("right",e)},t.isOpening=function(e,t){var n,r="left"===e?c.j.LeftDrawerInfo:c.j.RightDrawerInfo,i="left"===e?c.j.LeftDrawerOpened:c.j.RightDrawerOpened;return!!(null!=(n=this.store.getValue(i))&&n)&&(!t||this.store.get(r).value.name===t)},t.updateDrawerShowState=function(e,t){return(0,o.__awaiter)(this,void 0,void 0,function*(){var n="left"===e?c.j.LeftDrawerInfo:c.j.RightDrawerInfo,r="left"===e?c.j.LeftDrawerOpened:c.j.RightDrawerOpened,i="left"===e?this.updateLeftDrawerStyle.bind(this):this.updateRightDrawerStyle.bind(this),o="left"===e?"$leftDrawerWillOpen":"$rightDrawerWillOpen",a=this.store.getValue(n);if((null==a?void 0:a.beforeClose)&&!(yield a.beforeClose()))return void f.r.info(`Closing drawer ${a.name} have been prevent due to \`beforeClose\` hook`);this.eventEmitter.emit(o,t),this.store.update(n,t),this.store.update(r,!0),"left"===e?this.leftDrawerInCloseAnimation=!1:this.rightDrawerInCloseAnimation=!1,i({})})},t.showLeftDrawer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.showDrawer("left",e)},t.onAfterShowDrawer=function(e){var t,n="left"===e?c.j.LeftDrawerInfo:c.j.RightDrawerInfo,{onAfterOpenAnimation:r}=null!=(t=this.store.getValue(n))?t:{};null==r||r()},t.updateLeftDrawerStyle=function(e){var t={};a.w.isIPad()&&(t={paddingTop:0,marginTop:0}),this.store.update(c.j.LeftDrawerStyle,Object.assign(Object.assign({},e),t)),this.updateLeftMargin()},t.closeLeftDrawer=function(e){this.closeDrawer("left",e)},t.hideLeftDrawer=function(e){this.hideDrawer(e,"left")},t.hideRightDrawer=function(e){this.hideDrawer(e,"right")},t.hideDrawer=function(e,t){var n=("left"===t||void 0===t)&&this.isLeftOpening(e),r=("right"===t||void 0===t)&&this.isRightOpening(e);if(!n&&!r)return void f.r.info("drawerService: nothing to hide here");n&&this.hide("left",e),r&&this.hide("right",e)},t.showRightDrawer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.showDrawer("right",e)},t.showDrawer=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r.childOf&&this.isOpening(e,r.childOf)){var o="left"===e?c.j.LeftSubDrawerInfo:c.j.RightSubDrawerInfo,a=null!=(t=this.store.getValue(o))?t:[];r.name||(r.name=(0,p.D)()),a.push(r),this.store.update(o,(0,i._)(a));return}if(this.isHidden(e,r.name)){var s=this.removeFromHidden(r.name,e);s&&this.updateDrawer(e,s);return}if(this.isOpening(e,null!=(n=r.name)?n:(0,p.D)()))return void this.updateCurrentDrawer(e,r,r.name);this.updateDrawerShowState(e,r),this.clearSubDrawers(e)},t.toggleLeftDrawer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.toggleDrawer("left",e)},t.toggleRightDrawer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.toggleDrawer("right",e)},t.toggleDrawer=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isOpening(e,null!=(t=n.name)?t:(0,p.D)())?void this.hide(e,n.name):this.isHidden(e,n.name)?void this.showDrawer(e,{name:n.name}):void this.showDrawer(e,n)},t.isSubDrawer=function(e,t){var n,r="left"===e?c.j.LeftSubDrawerInfo:c.j.RightSubDrawerInfo;return(null!=(n=this.store.getValue(r))?n:[]).some(e=>e.name===t.name)},t.updateCurrentDrawer=function(e,t,n){if(this.isSubDrawer(e,Object.assign(Object.assign({},t),{name:n})))return void this.updateSubDrawer(e,Object.assign({},t),n);this.isOpening(e,null!=n?n:(0,p.D)())&&this.updateDrawer(e,t)},t.updateDrawer=function(e,t){var n=Object.assign(Object.assign({},this.getCurrentDrawer(e)),t);this.updateDrawerShowState(e,n)},t.updateSubDrawer=function(e,t,n){var r,o="left"===e?c.j.LeftSubDrawerInfo:c.j.RightSubDrawerInfo,a=null!=(r=this.store.getValue(o))?r:[];if(n){var s=a.findIndex(e=>e.name===n);a[s]=Object.assign(Object.assign({},t),{name:n}),this.store.update(o,(0,i._)(a))}},t.updateRightDrawerStyle=function(e){var t={};a.w.isIPad()&&(t={paddingTop:0,marginTop:0}),this.store.update(c.j.RightDrawerStyle,Object.assign(Object.assign({},e),t)),this.updateRightMargin()},t.closeRightDrawer=function(e){this.closeDrawer("right",e)},t.closeDrawer=function(e,t){return(0,o.__awaiter)(this,void 0,void 0,function*(){if(this.isOpening(e)){var n="left"===e?c.j.LeftDrawerOpened:c.j.RightDrawerOpened,r=this.getCurrentDrawer(e);if(r){if(r.beforeClose&&!(yield r.beforeClose()))return void f.r.info(`Closing drawer ${r.name} have been prevent due to \`beforeClose\` hook`);!1===t&&this.disableAnimation();var i=this.isHidden(e,r.name);i?this.removeFromHidden(r.name,e):this.clearSubDrawers(e),this.store.get(n).next(!1)}}})},t.setLeftDrawerMode=function(e){this.leftDrawerMode=e,this.updateLeftMargin()},t.addPersistContentToLeftDrawer=function(e){var t,n=(null!=(t=this.store.getValue(c.j.LeftDrawerPersistContent))?t:[]).concat([e]);this.store.update(c.j.LeftDrawerPersistContent,n)},t.addPersistContentToRightDrawer=function(e){var t,n=(null!=(t=this.store.getValue(c.j.RightDrawerPersistContent))?t:[]).concat([e]);this.store.update(c.j.RightDrawerPersistContent,n)},t.setRightDrawerMode=function(e){this.rightDrawerMode=e,this.updateRightMargin()},t.updateLeftMargin=function(){var e,t=this.store.getValue(c.j.EditorZoneMarginLeft);if(this.isLeftOpening()){var n=document.getElementById("workbench-drawer-left"),r=null!=(e=null==n?void 0:n.offsetWidth)?e:0,i=this.leftDrawerMode===g.PUSH?null!=r?r:h:0;this.store.upsert(c.j.EditorZoneMarginLeft,i),this.eventEmitter.emit("$editorZoneResize")}else t&&0!==t&&(this.store.upsert(c.j.EditorZoneMarginLeft,0),this.eventEmitter.emit("$editorZoneResize"))},t.updateRightMargin=function(){var e,t,n=this.store.getValue(c.j.EditorZoneMarginRight);if(this.isRightOpening()){var r=document.getElementById("workbench-drawer-right"),i=null!=(e=null==r?void 0:r.offsetWidth)?e:0,o=0;r&&(o=parseInt(null==(t=window.getComputedStyle(r))?void 0:t.right.replace("px",""),10));var a=this.rightDrawerMode===g.PUSH?(null!=i?i:h)+o:0;this.store.upsert(c.j.EditorZoneMarginRight,a),this.eventEmitter.emit("$editorZoneResize")}else n&&0!==n&&(this.store.upsert(c.j.EditorZoneMarginRight,0),this.eventEmitter.emit("$editorZoneResize"))},t.disableAnimation=function(){this.store.get(c.j.DisableDrawerAnimation).next(!0)},t.enableAnimation=function(){this.store.get(c.j.DisableDrawerAnimation).next(!1)},t.isAnimationDisabled=function(){var e;return null!=(e=this.store.getValue(c.j.DisableDrawerAnimation))&&e},t.getCurrentDrawer=function(e){var t="left"===e?c.j.LeftDrawerInfo:c.j.RightDrawerInfo;return this.store.getValue(t)},t.hide=function(e,t){var n="left"===e?c.j.LeftDrawerHiddenContent:c.j.RightDrawerHiddenContent,r="left"===e?c.j.LeftDrawerOpened:c.j.RightDrawerOpened,i="left"===e?c.j.LeftDrawerInfo:c.j.RightDrawerInfo,o=this.getCurrentDrawer(e);if(!o||t!==(null==o?void 0:o.name))return void f.r.warn("drawerService: current drawer mistmatched");if(!this.isHidden(e,t)){var a=this.store.get(i);a.next({name:""});var s=this.store.get(n);s.next(new Map(s.getValue().set(o.name,o))),this.store.get(r).next(!1)}},t.isHidden=function(e,t){var n="left"===e?c.j.LeftDrawerHiddenContent:c.j.RightDrawerHiddenContent,r=this.store.getValue(n);return!!(null==r?void 0:r.has(t))},t.removeFromHidden=function(e,t){var n="left"===t?c.j.LeftDrawerHiddenContent:c.j.RightDrawerHiddenContent,r=this.store.get(n),i=r.getValue().get(e);return null==r||r.getValue().delete(e),null==r||r.next(new Map(r.getValue())),i},t.removeLeftSubDrawer=function(e){this.removeSubDrawer("left",e)},t.removeRightSubDrawer=function(e){this.removeSubDrawer("right",e)},t.clearSubDrawers=function(e){var t="left"===e?c.j.LeftSubDrawerInfo:c.j.RightSubDrawerInfo;this.store.update(t,[])},t.removeSubDrawer=function(e,t){var n,r="left"===e?c.j.LeftSubDrawerInfo:c.j.RightSubDrawerInfo,o=null!=(n=this.store.getValue(r))?n:[];if(t){var a=o.findIndex(e=>e.name===t);a>=0&&(o.splice(a,1),this.store.update(r,(0,i._)(o)))}else this.clearSubDrawers(e)},t.getLeftDrawerMode=function(){return this.leftDrawerMode},t.getRightDrawerMode=function(){return this.rightDrawerMode},e}();m=(0,o.__decorate)([(0,u.t)({overridable:!0}),(0,o.__metadata)("design:paramtypes",[s.O,d.v])],m)},436114:function(e,t,n){"use strict";n.d(t,{v:function(){return c}});var r=n(593323),i=n(209787),o=n(366032),a=n(260821),s=n(908951),u=n(709429),c=function(){function e(){(0,r._)(this,e),this.subjects={}}var t=e.prototype;return t.createIfNotExist=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new o.x;return this.subjects[e]||(this.subjects[e]=t),this.subjects[e]},t.listen=function(e,t){return this.createIfNotExist(e),this.subjects[e].subscribe(t)},t.listenOnce=function(e,t){return this.createIfNotExist(e),this.subjects[e].pipe((0,s.P)()).subscribe(t)},t.emit=function(e,t){this.createIfNotExist(e),this.subjects[e].next(t)},t.emitReplay=function(e,t){this.createIfNotExist(e,new a.t(1)),this.subjects[e].next(t)},t.dispose=function(){Object.keys(this.subjects).forEach(e=>{var t=this.subjects[e];t.complete(),t.unsubscribe(),delete this.subjects[e]})},e}();c=(0,i.__decorate)([(0,u.t)()],c)},615627:function(e,t,n){"use strict";n.d(t,{Q:function(){return s}});var r=n(593323);n(955678);var i=n(209787),o=n(709429),a=n(873565),s=function(){function e(){(0,r._)(this,e),this.flags={}}var t=e.prototype;return t.setFlag=function(e,t){this.flags[e]=t},t.getFlag=function(e){var t;return null==(t=this.flags[e])||t},e}();s=(0,i.__decorate)([(0,o.t)({overridable:!0})],s),a.Am.factory(s,new s)},929675:function(e,t,n){"use strict";n.d(t,{U:function(){return v}});var r=n(593323);n(738355);var i=n(209787),o=n(873565),a=n(75032),s=n(882081),u=n(709429),c=n(792482),l=n(456441),d=n(366168),f=n(298263),p=n(260821),h=n(139442),g=n(316258),m=n(615627),v=function(){function e(t,n,i,o){(0,r._)(this,e),this.settings=t,this.adapterMatcher=n,this.store=i,this.featureFlagService=o,this.featuresSettingChange=new p.t,this.store.register(g.e.Features,[]).subscribe(this.featuresSettingChange)}var t=e.prototype;return t.isFeatureProvider=function(e){return(null==e?void 0:e.type)==="feature"},t.subscribeToFeatureChange=function(){this.featuresSettingChange.subscribe(e=>{e.filter(e=>!!e&&o.ll.has(e)).forEach(e=>{var t=o.ll.get(e);if(!t)throw ReferenceError(`Feature ${(0,a.FM)(e)} is not loaded, make sure you have imported the controller code somewhere.`);if(!this.isFeatureProvider(t))throw TypeError(`Provider ${(0,a.FM)(e)} is not a feature.`);this.buildFeature(t)})})},t.mount=function(e,t){e.forEach((e,n)=>{if(!e)return void d.r.error(`The ${n}-index feature is undefined`);var r,i=o.ll.get(e);this.isFeatureProvider(i)&&this.buildFeature(i,null!=(r=null==t?void 0:t.idle)?r:this.settings.idle)})},t.buildFeature=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.featureFlagService.getFlag(`feature.${null!=(t=e.name)?t:""}`)&&(n?s.pu.scheduleTask(()=>{this.mountFeature(e)},{priority:s.UL.normal}):this.mountFeature(e))},t.mountFeature=function(e){e.instance||(e.instance=o.Am.get(e.useClass));var t=l.j.get(e.useClass);if(!(null==t?void 0:t.mounted)){this.adapterMatcher.matchOpenedEditors(t).forEach(n=>{t.onOpen(),o.Am.emitAt("$onEditorOpen",e.useClass,n)}),t.mounted=!0;var n=o.Ln.get(e.provide);n&&(n.isReady=!0)}},e}();v=(0,i.__decorate)([(0,u.t)({overridable:!0}),(0,i.__metadata)("design:paramtypes",[c.I,f.X,h.O,m.Q])],v)},450499:function(e,t,n){"use strict";n.d(t,{B0:function(){return o},wh:function(){return i}});var r=n(138051);n(463313);var i={List:(0,r.w)("list"),Grid:(0,r.w)("grid")},o={TOP:(0,r.w)("top"),BOTTOM:(0,r.w)("bottom")}},796639:function(e,t,n){"use strict";n.d(t,{n:function(){return I}});var r=n(805155),i=n(593323),o=n(425601),a=n(982121),s=n(921734);n(575739);var u=n(209787),c=n(709429),l=n(139442),d=n(276009),f=n(355838),p=n(532895),h=n(316258),g=n(450499),m=n(285419),v=n(436114),y=n(139078),b=[{name:"space"}],_=(e,t)=>("string"==typeof t?t:t.key)===e,C=(e,t)=>"string"==typeof t?t===e:t.key===e||t.panel.some(t=>t.groupKey===e||t.items.some(t=>Array.isArray(t)?(0,y.MX)(t,t=>_(e,t)):_(e,t))),I=function(e){function t(e,n){var o;return(0,i._)(this,t),(o=(0,r._)(this,t)).store=e,o.eventEmitter=n,o.panels=new Map,o.currentPath=[],o.readSchema=(e,t)=>{var n,r,i,a="string"==typeof t?t:t.key;if(o.hasConfig(a)){var s=o.buildConfig(a,o.currentPath);o.setPathToActionInfoInConfig(s,o.currentPath),o.currentPath.push(a);var u=Object.assign({type:null!=(n=s.type)?n:"button"},s);"string"!=typeof t&&(u.panel={groups:t.panel.map(o.readPanelGroup),name:a,opened:o.isPanelOpened(a),forcePopup:null!=(r=t.forcePopup)&&r,forcePopupToggle:null==(i=t.forcePopupToggle)||i,popupWidth:t.popupWidth,closeFloatPanel:"float"===o.getPanelContainerType()&&!!t.closeFloatPanel},o.panels.set(a,u.panel)),e.push(u),o.currentPath.pop()}return e},o.readPanelGroup=e=>{var t=Object.assign(Object.assign({groupType:"grid"},e),{items:[]});switch(e.groupType){case g.wh.List:t.items=e.items.map(e=>Array.isArray(e)?(0,y.mx)(e)?e.map(e=>e.reduce(o.readSchema,[])):e.reduce(o.readSchema,[]):o.readSchema([],e)[0]);break;case g.wh.Grid:default:t.items=e.items.reduce(o.readSchema,[])}return t},o.store.register(p.j.MobileToolbar,{left:[],center:[],right:[]}),o.store.register(p.j.MobilePanels,[]),o.store.register(p.j.MobileSubPanel,null),o.store.register(p.j.MobileStandlonePanel,{show:!1}),o.store.register(p.j.MobilePopupPanel,{anchor:void 0}),o.schema={left:[],center:[],right:[]},b.forEach(e=>{o.configs.set(e.name,e)}),o}(0,s._)(t,e);var n=t.prototype;return n.getDefaultConfig=function(){return{name:"none",iconClass:"icon-default"}},n.$forceUpdate=function(){this.forceUpdateWithStore(this.store,p.j.MobileToolbar),this.forceUpdateWithStore(this.store,p.j.MobilePanels),this.forceUpdateWithStore(this.store,p.j.MobileSubPanel)},n.isInActiveSchema=function(e){if(this.store.getValue(p.j.ShowMobileToolbar)){var t,n,r;if(Object.values(this.schema).some(t=>t.some(t=>"string"==typeof t?t===e:t.key===e)))return!0}var i=null==(n=(null!=(t=this.store.getValue(p.j.MobilePanels))?t:[]).find(e=>e.opened))?void 0:n.name;if(!i)return!1;var o=this.schema.center.find(e=>_(i,e));if(!o)return!1;if(C(e,o))return!0;var a=null==(r=this.store.getValue(p.j.MobileSubPanel))?void 0:r.name;if(!a||"string"==typeof o)return!1;var s=null;return o.panel.some(e=>s=(0,y.MX)(e.items,e=>_(a,e))),!!s&&C(e,s)},n.mergeSchemaWithoutUpdate=function(e){this.schema={left:this.schema.left.concat(e.left),center:this.schema.center.concat(e.center),right:this.schema.right.concat(e.right)}},n.getPanelContainerType=function(e,t){return(null!=e?e:this.store.getValue(h.R.ToolbarAlignment))!==g.B0.TOP||(null!=t?t:window.innerWidth)<500?"static":"float"},n.openPanel=function(e,t,n){this.initBeforeShowPanel();var r=this.panels.get(e);if(r){var i=this.store.getValue(p.j.MobileToolbar);(null==i?void 0:i.center.some(t=>t.name===e))?(this.showToolbar(),this.updatePanel(r)):this.updateSubPanel(r),t&&this.store.update(p.j.MobileStandlonePanel,{show:!0,title:t,onClose:n})}},n.openStandlonePanel=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.initBeforeShowPanel();var n=this.panels.get(e);if(n){var r=this.store.getValue(p.j.MobileToolbar);(null==r?void 0:r.center.some(t=>t.name===e))?this.updatePanel(n):this.updateSubPanel(n),this.store.update(p.j.MobileStandlonePanel,Object.assign(Object.assign({},t),{show:!0}))}},n.closePanel=function(e){var t,n=null!=(t=this.store.getValue(p.j.MobilePanels))?t:[];this.store.update(p.j.MobilePanels,n.map(t=>Object.assign(Object.assign({},t),{opened:e!==t.name&&void 0!==e&&t.opened}))),this.eventEmitter.emit("$panelClosed"),this.store.update(p.j.MobileStandlonePanel,{show:!1}),this.store.update(p.j.MobilePopupPanel,{})},n.closeSubPanel=function(){this.store.update(p.j.MobileSubPanel,null)},n.isPanelOpened=function(e,t){var n,r=null!=(n=this.store.getValue(p.j.MobilePanels))?n:[];return e?r.some(n=>n.name===e&&n.opened&&(!t||!n.forcePopup)):r.some(e=>e.opened&&(!t||!e.forcePopup))},n.openPopupPanel=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(null!=(t=this.store.getValue(p.j.MobilePanels))?t:[]).find(t=>t.name===e);r&&(this.updatePanel(r),this.store.update(p.j.MobilePopupPanel,Object.assign({},n)))},n.showToolbar=function(){this.store.update(p.j.ShowMobileToolbar,!0),this.refreshControllers()},n.hideToolbar=function(){this.store.update(p.j.ShowMobileToolbar,!1)},n.isToolbarShowed=function(){return this.store.getValue(p.j.ShowMobileToolbar)&&!this.store.getValue(h.R.DisableToolbar)},n.onUpdate=function(){(0,o._)((0,a._)(t.prototype),"onUpdate",this).call(this),this.panels.clear();var e={left:[],center:[],right:[]};Object.entries(this.schema).forEach(t=>{var[n,r]=t;this.currentPath.push(n),e[n]=r.reduce(this.readSchema,[]),this.currentPath.pop()}),this.store.get(p.j.MobileToolbar).next(e),this.store.get(p.j.MobilePanels).next(e.center.filter(e=>e.panel).map(e=>e.panel))},n.initBeforeShowPanel=function(){this.panels.size||(this.showToolbar(),this.$forceUpdate())},n.refreshControllers=function(){var e;null==(e=this.store.get(p.j.RefreshControllers))||e.next(m.v.MOBILE_TOOLBAR)},n.updatePanel=function(e){var t;if(e){var n=null!=(t=this.store.getValue(p.j.MobilePanels))?t:[];this.store.update(p.j.MobilePanels,n.map(t=>t.name===e.name?Object.assign(Object.assign({},e),{opened:!e.forcePopup||!e.forcePopupToggle||!t.opened}):Object.assign(Object.assign({},t),{opened:!1}))),this.eventEmitter.emit("$panelShowed",e.name),this.closeSubPanel(),this.refreshControllers()}},n.updateSubPanel=function(e){var t;if(e){var n=this.get(e.name),r=(0,f.k)(null!=(t=n.text)?t:n.ariaLabel,"");this.store.update(p.j.MobileSubPanel,Object.assign(Object.assign({},e),{title:r,opened:!0})),this.refreshControllers()}else this.closeSubPanel()},t}(d.C);I=(0,u.__decorate)([(0,c.t)({overridable:!0,scope:"ui:service",name:m.v.MOBILE_TOOLBAR}),(0,u.__metadata)("design:paramtypes",[l.O,v.v])],I)},196516:function(e,t,n){"use strict";n.d(t,{y:function(){return d}});var r=n(593323),i=n(758699),o=n(88511),a=n(209787),s=n(75032),u=n(709429),c=n(743401),l=n(246821),d=function(){function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var o of((0,r._)(this,e),this.serviceMap=new Map,this.serviceOptions=new Map,n))o instanceof c.V&&this.serviceMap.set((0,s.tr)(o),o)}var t=e.prototype;return t.getControllerRelatedUIServices=function(){return this.serviceMap},t.has=function(e){return this.serviceMap.has((0,s.tr)(e))},t.add=function(e,t){var n=(0,s.tr)(e);this.serviceMap.set(n,e),t&&this.serviceOptions.set(n,t)},t.get=function(e){return this.serviceMap.get(e)},t.getItemName=function(e){var t,n;return null!=(n=null==(t=this.serviceOptions.get(e))?void 0:t.itemName)?n:l.e[e]},(0,i._)(e,[{key:"services",get:function(){return(0,o._)(this.serviceMap.values())}}]),e}();d=(0,a.__decorate)([(0,u.t)(),(0,a.__metadata)("design:paramtypes",[c.V])],d)},316258:function(e,t,n){"use strict";n.d(t,{R:function(){return i},e:function(){return o}});var r=n(138051),i={DisableToolbar:(0,r.w)("toolbar.disabled"),ToolbarAlignment:(0,r.w)("toolbar.alignment"),ToolbarTopOffset:(0,r.w)("toolbar.topOffset"),ToolbarUpdateThrottle:(0,r.w)("toolbar.updateThrottle"),ToolbarFixedKeys:(0,r.w)("toolbar.fixedKeys"),ToolbarPinnedKey:(0,r.w)("toolbar.pinnedKey"),ToolbarSchemaAnimation:(0,r.w)("toolbar.schemaAnimation"),ToolbarGridChunkSize:(0,r.w)("toolbar.gridChunkSize"),ToolbarPanelHeight:(0,r.w)("toolbar.panelHeight"),ToolbarPopupPanelMaxHeight:(0,r.w)("toolbar.popupPanelMaxHeight"),ToolbarRespectSoftKeyboard:(0,r.w)("toolbar.respectSoftKeyboard"),ToolbarButtonActiveStyle:(0,r.w)("toolbar.buttonActiveStyle"),ToolbarButtonTooltipPlacement:(0,r.w)("toolbar.buttonTooltipPlacement"),ToolbarContainerWidthAddon:(0,r.w)("toolbar.containerWidthAddon"),DisableStatusbar:(0,r.w)("statusbar.disabled"),DisableContextMenu:(0,r.w)("contextMenu.disabled"),MultiRowsContextMenu:(0,r.w)("contextMenu.multiRows"),ContextMenuShouldHideBeforeShow:(0,r.w)("contextMenu.shouldHideMenuBeforeShow"),DisableTitlebar:(0,r.w)("titlebar.disabled"),TitlebarHeight:(0,r.w)("titlebar.height"),TitlebarHoverable:(0,r.w)("titlebar.hoverable"),TitlebarContentDefaultStyle:(0,r.w)("titlebar.contentDefaultStyle"),DisableDrawer:(0,r.w)("drawer.disabled"),PaddingLeft:(0,r.w)("editorZone.paddingLeft"),PaddingRight:(0,r.w)("editorZone.paddingRight"),PaddingTop:(0,r.w)("editorZone.paddingTop"),PaddingBottom:(0,r.w)("editorZone.paddingBottom"),SupportNativeDomScrolling:(0,r.w)("editorZone.supportNativeDomScrolling"),Namespace:(0,r.w)("namespace"),DebugMode:(0,r.w)("debugMode"),SelectionThrottleTime:(0,r.w)("selectionThrottleTime"),ModelThrottleTime:(0,r.w)("modelThrottleTime"),AccessibilityDropdownAutoFocus:(0,r.w)("accessibility.dropdownAutoFocus"),AccessibilityMenuClickFocus:(0,r.w)("accessibility.menuClickFocus")},o={Controllers:(0,r.w)("controllers"),Features:(0,r.w)("features"),Services:(0,r.w)("services")}},792482:function(e,t,n){"use strict";n.d(t,{I:function(){return m}});var r,i=n(593323),o=n(758699),a=n(209787),s=n(75032),u=n(873565),c="workbench:settings",l=n(709429);function d(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=e.split(r),o=(e,r)=>r?("function"==typeof n.set?n.set(e,t):n[e]=t,!1):("function"==typeof n.set?(n.has(e)||n.set(e,{}),n=n.get(e)):n=n[e]||{},!0);o(i.shift(),!i.length););}function f(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=e.split(r),o=e=>"function"==typeof t.get?t.get(e):t[e];(t=o(i.shift()))&&i.length;);return null!=t?t:n}var p=n(139442),h=n(316258),g=n(724538),m=r=function(){function e(t,n,r){(0,i._)(this,e),this.store=t,this.map=new Map,this.platform=r,this.container=n,this.accessibility={dropdownAutoFocus:!0,menuClickFocus:!0},this.menu={schema:[]},this.contextMenu={schema:[],disabled:!1,hasOverlay:!0,shouldHideMenuBeforeShow:!1,multiRows:!1},this.toolbar={disabled:!1,alignment:"pc"===r?"left":"bottom",fixedKeys:void 0,pinnedKey:"",schemaAnimation:!1,gridChunkSize:5,panelHeight:290,respectSoftKeyboard:!0,buttonActiveStyle:"backgroundColor",topOffset:0,buttonTooltipPlacement:"bottom",updateThrottle:10},this.statusbar={schema:{left:[],right:[]},disabled:!1},this.titlebar={schema:[],disabled:!1,height:40},this.actionButtons={schema:{},disabled:!1},this.mount={controllers:[],features:[],services:[]},this.editorZone={paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0},this.extensions=[],this.namespace="workbench",this.idle=!1,this.debugMode=!1,this.network={}}var t=e.prototype;return t.forEach=function(e,t){return this.map.forEach(e,t)},t.set=function(e,t){"string"==typeof e?(d(e,t,this.map),Object.values(h.R).includes(e)&&this.store.upsert(e,t)):(Object.keys(e).forEach(t=>{Object.getOwnPropertyDescriptor(r.prototype,t)&&!["set","map","forEach","shallow"].includes(t)?this[t]=e[t]:this.set(t,e[t])}),this.forEach((e,t)=>{if(["useLogger","container"].includes(t)){this[t]=e;return}this.map.set(t,this.resolve(e))}))},t.get=function(e){return f(e,this.map)},t.resolve=function(e){return"object"==typeof e&&Object.keys(e).forEach(t=>{e[t]=this.resolve(e[t])}),e},t.shallow=function(e,t){Object.keys(t).forEach(n=>{this.set(`${e}.${n}`,t[n])})},t.addMountSettings=function(e){var t=Object.values(h.e);Object.entries(e).forEach(e=>{var n=e[0],r=e[1];t.includes(n)&&(this.store.upsert(n,r),Array.isArray(this.mount[n])&&Array.isArray(r)&&this.mount[n].concat(r))})},e.getMetadata=function(e){return s.SF.getOwn(c,e)},(0,o._)(e,[{key:"platform",get:function(){var e;return null!=(e=this.map.get("platform"))?e:"pc"},set:function(e){this.map.set("platform",e)}},{key:"accessibility",get:function(){return this.map.get("accessibility")},set:function(e){this.shallow("accessibility",e)}},{key:"container",get:function(){return this.map.get("container")},set:function(e){this.map.set("container",e)}},{key:"menu",get:function(){return this.map.get("menu")},set:function(e){this.shallow("menu",e)}},{key:"contextMenu",get:function(){return this.map.get("contextMenu")},set:function(e){this.shallow("contextMenu",e)}},{key:"toolbar",get:function(){return this.map.get("toolbar")},set:function(e){this.shallow("toolbar",e)}},{key:"statusbar",get:function(){return this.map.get("statusbar")},set:function(e){this.shallow("statusbar",e)}},{key:"titlebar",get:function(){return this.map.get("titlebar")},set:function(e){this.shallow("titlebar",e)}},{key:"actionButtons",get:function(){return this.map.get("actionButtons")},set:function(e){this.shallow("actionButtons",e)}},{key:"useLogger",get:function(){return this.map.get("useLogger")},set:function(e){this.map.set("useLogger",e)}},{key:"mount",get:function(){return this.map.get("mount")},set:function(e){this.shallow("mount",e)}},{key:"namespace",get:function(){return this.map.get("namespace")},set:function(e){this.set("namespace",e)}},{key:"editorZone",get:function(){return this.map.get("editorZone")},set:function(e){this.shallow("editorZone",e)}},{key:"idle",get:function(){return this.map.get("idle")},set:function(e){this.map.set("idle",e)}},{key:"debugMode",get:function(){return this.map.get("debugMode")},set:function(e){this.set("debugMode",e)}},{key:"extensions",get:function(){return this.map.get("extensions")},set:function(e){this.map.set("extensions",e)}},{key:"network",get:function(){return this.map.get("network")},set:function(e){this.map.set("network",e)}}]),e}();m=r=(0,a.__decorate)([(0,l.t)({provide:g.A}),(0,a.__param)(1,(0,u.tB)("container")),(0,a.__param)(2,(0,u.tB)("platform")),(0,a.__metadata)("design:paramtypes",[p.O,HTMLElement,String])],m)},724538:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});var r=Symbol.for("service:workbench-settings")},532895:function(e,t,n){"use strict";var r;n.d(t,{j:function(){return r}}),function(e){e.IsOnline="isOnline",e.FocusState="focusState",e.SelectionState="selectionState",e.SelectionTempState="selectionTempState",e.ModelState="modelState",e.ModelTempState="modelTempState",e.DisableDrawerAnimation="disableDrawerAnimation",e.LeftDrawerOpened="leftDrawerOpened",e.RightDrawerOpened="rightDrawerOpened",e.LeftDrawerInfo="leftDrawerInfo",e.RightDrawerInfo="rightDrawerInfo",e.LeftSubDrawerInfo="leftSubDrawerInfo",e.RightSubDrawerInfo="rightSubDrawerInfo",e.LeftDrawerStyle="leftDrawerStyle",e.RightDrawerStyle="rightDrawerStyle",e.LeftDrawerPersistContent="leftDrawerPersistContent",e.RightDrawerPersistContent="rightDrawerPersistContent",e.LeftDrawerHiddenContent="leftDrawerHiddenContent",e.RightDrawerHiddenContent="rightDrawerHiddenContent",e.EditorZoneMarginLeft="editorZoneMarginLeft",e.EditorZoneMarginRight="editorZoneMarginRight",e.Menu="menu",e.MobileMenu="mobileMenu",e.MobileMenuActiveTab="mobileMenuActiveTab",e.MobileMenuActiveSubPath="mobileMenuActiveSubPath",e.ContextMenu="contextMenu",e.ContextMenuInfo="contextMenuInfo",e.MobileContextMenu="mobileContextMenu",e.MobileContextMenuInfo="mobileContextMenuInfo",e.Toolbar="toolbar",e.ToolbarSubContainer="toolbarSubContainer",e.ToolbarEvent="toolbarEvent",e.ToolbarDropdownEvent="toolbarDropdownEvent",e.FixToolbarShow="transition.trigger.fixed-toolbar",e.FixToolbarDOMVisible="fixed-toolbar.dom.visible",e.RibbonActiveTab="ribbonActiveTab",e.isFocusedByClick="isFocusedByClick",e.MultiLineToolbarContainer="multiLineToolbarContainer",e.Titlebar="titlebar",e.TitlebarCalculatedWidth="titlebarCalculatedWidth",e.MobileTitlebar="mobileTitlebar",e.TitlebarShow="transition.trigger.titlebar",e.TitlebarFocus="titlebarFocus",e.TitlebarHover="titlebarHover",e.TitlebarListenMouseMove="titlebarListenMouseMove",e.TitlebarDOMVisible="titlebar.dom.visible",e.MobileToolbar="mobileToolbar",e.ShowMobileToolbar="showMobileToolbar",e.MobileToolbarPosition="mobileToolbarPosition",e.MobileToolbarPositionTrigger="mobileToolbarPositionTrigger",e.MobileToolbarConfig="mobileToolbarConfig",e.MobilePanels="mobilePanels",e.MobileSubPanel="mobileSubPanel",e.MobilePanelHeight="mobilePanelHeight",e.MobileStandlonePanel="mobileStandlonePanel",e.MobilePopupPanel="mobilePopupPanel",e.KeyboardHeight="keyboardHeight",e.ExtraButton="extraButton",e.Statusbar="statusbar",e.Surface="surface",e.FloatSurface="floatSurface",e.FloatSurfaceStyle="floatSurfaceStyle",e.FloatWidget="floatWidget",e.EmbedWidget="embedWidget",e.WrapWidget="wrapWidget",e.InsertWidget="insertWidget",e.EmbedWidgetContainer="embedWidgetContainer",e.ConfigStatus="configStatus",e.ControllerStatus="controllerStatus",e.FeatureStatus="featureStatus",e.ScopeStatus="scopeStatus",e.DisableExceptionScopes="disableExceptionScopes",e.DisableAll="disableAll",e.Badge="badge",e.RefreshControllers="refreshControllers"}(r||(r={}))},139442:function(e,t,n){"use strict";n.d(t,{O:function(){return u}});var r=n(593323),i=n(209787),o=n(81505),a=n(366168),s=n(709429),u=function(){function e(){(0,r._)(this,e),this.state=new Map}var t=e.prototype;return t.register=function(e,t){return this.state.has(e)?a.r.warn(`key ${e} has already been registered, thus ignored.`):this.state.set(e,new o.X(t)),this.get(e)},t.has=function(e){return this.state.has(e)},t.get=function(e){return this.state.get(e)},t.getValue=function(e){return this.state.has(e)?this.get(e).getValue():null},t.update=function(e,t){this.state.has(e)?this.get(e).next(t):a.r.warn(`Key "${e}" is not exists. Update ignored.`)},t.upsert=function(e,t){this.state.has(e)?this.get(e).next(t):this.register(e,t)},t.clear=function(e){this.state.delete(e)},e}();u=(0,i.__decorate)([(0,s.t)({overridable:!0})],u)},434522:function(e,t,n){"use strict";n.d(t,{W:function(){return M}});var r=n(593323),i=n(758699),o=n(88511);n(575739);var a=n(209787),s=n(139442),u=n(532895),c=n(709429),l=n(385015),d=n(260821),f=n(81505),p=n(873565),h=n(424161),g=n(998967),m=n(908951),v=n(366168),y=n(308688),b=n(316258),_=n(114320),C="root",I="float";function E(){return`grid-${(0,l.D)()}`}var w=function(){function e(){(0,r._)(this,e),this.grids=new Map}var t=e.prototype;return t.initializeDefaultGrid=function(){this.grids.set(C,{id:C,current:null}),this.grids.set(I,{id:I,current:null,type:"float",grids:[]})},t.getGrid=function(e){var t;return null!=(t=this.grids.get(e))?t:void 0},t.hasGrid=function(e){return this.grids.has(e)},t.addToFloatGrid=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){var n=this.newGridInfo(e);n.type="float",this.addSurfaceToGrid(n,e)}else{var r=this.getGrid(I);r&&this.addSurfaceToGrid(r,e)}},t.addToGrid=function(e,t,n){var r,i,o,a,s=this.grids.get(e);if(!s)return void v.r.error(`Target grid ${e} does not exist.`);var u=(null!=(i=null==(r=s.grids)?void 0:r.length)?i:0)>0;if(!u&&!n){this.addSurfaceToGrid(s,t),s.type=n;return}if(n!==s.type){if(s.grids=[],(null==(o=s.surfaces)?void 0:o.length)||(null==(a=s.grids)?void 0:a.length)){var c=Object.assign(Object.assign({},s),{id:E()});c.surfaces=s.surfaces,c.grids=s.grids,this.grids.set(c.id,c),this.addGridToTargetGrid(s,c)}var l=this.newGridInfo(t);this.grids.set(l.id,l),this.addGridToTargetGrid(s,l),s.type=n;return}if(n===s.type)if(u){var d=this.newGridInfo(t);this.addGridToTargetGrid(s,d)}else this.addSurfaceToGrid(s,t)},t.deleteGrid=function(e){var t,n,r=this.grids.get(e);if(!r)return void v.r.error(`Target grid ${e} does not exist.`);if(e!==I&&e!==C){if(r.parent){var i=this.grids.get(r.parent),o=null==(t=null==i?void 0:i.grids)?void 0:t.indexOf(e);o&&-1!==o&&(null==(n=null==i?void 0:i.grids)||n.splice(o,1))}this.grids.delete(e)}},t.addGridToTargetGrid=function(e,t){var n;null==(n=e.grids)||n.push(t.id),t.parent=e.id,"stack"===e.type&&(e.stackCurrent=t.id)},t.addSurfaceToGrid=function(e,t){var n,r=e;r.surfaces=(0,o._)(null!=(n=null==r?void 0:r.surfaces)?n:[]).concat([t.id]),t.grid=e.id,r.current=t.id},t.newGridInfo=function(e){var t={id:E(),current:null};return e&&this.addSurfaceToGrid(t,e),this.grids.set(t.id,t),t},e}();function S(e){return"string"==typeof e.id&&"string"==typeof e.grid&&void 0!==e.stream}w=(0,a.__decorate)([(0,c.t)(),(0,a.__metadata)("design:paramtypes",[])],w);var D={position:"absolute",boxShadow:"0 0 4px #999",top:160,left:0,right:0,margin:"0 auto",width:600,height:340},M=function(){function e(t,n){(0,r._)(this,e),this.store=t,this.gridService=n,this.info={current:null,focused:!1},this.config=new Map,this.editorInfos=new Map,this.editorMap=new WeakMap,this.initializeSurfaceInDefaultGrid(),t.register(u.j.FocusState,this.info),t.register(u.j.ModelState,{editor:null}),t.register(u.j.ModelTempState,{editor:null}),t.register(u.j.SelectionState,{editor:null}),t.register(u.j.SelectionTempState,{editor:null});var i,o,a={leading:!1,trailing:!0},s=null!=(i=t.getValue(b.R.ModelThrottleTime))?i:150;t.get(u.j.ModelTempState).pipe((0,h.p)(s,void 0,a)).subscribe(e=>{t.update(u.j.ModelState,e)});var c=null!=(o=t.getValue(b.R.SelectionThrottleTime))?o:150;t.get(u.j.SelectionTempState).pipe((0,h.p)(c,void 0,a)).subscribe(e=>{t.update(u.j.SelectionState,e)}),t.get(u.j.FocusState).pipe((0,g.R)((e,t)=>Object.assign(Object.assign({},e),t),{})).subscribe(e=>{this.info=e})}var t=e.prototype;return t.initializeSurfaceInDefaultGrid=function(){this.gridService.initializeDefaultGrid(),this.schema=this.compose(this.gridService.getGrid(C)),this.float=this.compose(this.gridService.getGrid(I)),this.store.register(u.j.FloatSurfaceStyle,D),this.store.register(u.j.Surface,this.schema),this.store.register(u.j.FloatSurface,this.float)},t.compose=function(e){var t,n;return{id:e.id,type:e.type,grids:null==(t=e.grids)?void 0:t.filter(e=>!!this.gridService.hasGrid(e)).map(e=>this.compose(this.gridService.getGrid(e))),surfaces:null==(n=e.surfaces)?void 0:n.map(e=>this.get(e)).filter(e=>!!e),current:e.current,stackCurrent:e.stackCurrent}},t.get=function(e){var t;return null!=(t=this.config.get(e))?t:null},t.getGrid=function(e){return this.gridService.getGrid(e)},t.update=function(){this.schema=this.compose(this.gridService.getGrid(C)),this.store.get(u.j.Surface).next(this.schema),this.float=this.compose(this.gridService.getGrid(I)),this.store.get(u.j.FloatSurface).next(this.float)},t.onFocus=function(e){var t=this.get(e),n=this.store.getValue(u.j.FocusState);(null==n?void 0:n.current)===t&&n.focused||(this.store.update(u.j.FocusState,{focused:!0,current:t}),this.forceUpdate())},t.getCurrent=function(){var e,t=this.store.getValue(u.j.FocusState);if(null==t?void 0:t.focused)return null!=(e=t.current)?e:void 0},t.setCurrent=function(e){return new Promise(t=>{var n,r,i=null==(n=this.get(e))?void 0:n.grid;if(!i)return v.r.warn("gridId not exist"),t(void 0);var o=this.gridService.getGrid(i);if(!o)return v.r.warn("grid not exist"),t(void 0);if(o.current&&o.current!==e){var a=this.getEditor(o.current),s=this.getAdapter(o.current);null==s||s.requestBlur(a)}o.current=e,this.traverseVisibility(e),this.onFocus(e),null==(r=this.config.get(e))||r.stream.pipe((0,m.P)()).subscribe(()=>{var n=this.getEditor(e),r=this.getAdapter(e);null==r||r.requestFocus(n),t(e)}),this.update()})},t.traverseVisibility=function(e){var t,n,r=e,i=this.getGridOfSurface(e);null==(t=null==i?void 0:i.surfaces)||t.forEach(e=>{var t=this.config.get(e);t&&(t.visible=!1)});do{if(!(n=this.config.get(r)))continue;this.changeSurfaceVisibility(!0,n),r=n.virtualParent}while(r);this.updateStackCurrentForStackGrid(e)},t.changeSurfaceVisibility=function(e,t){var n;t.visible=e,null==(n=t.virtualSurfaces)||n.forEach(t=>{var n=this.config.get(t);n&&this.changeSurfaceVisibility(e,n)})},t.updateStackCurrentForStackGrid=function(e){for(var t=this.getGridOfSurface(e),n=null==t?void 0:t.id;null==t?void 0:t.parent;){if(n=t.id,!(t=this.gridService.getGrid(null==t?void 0:t.parent)))return;t.current=e,"stack"===t.type&&(t.stackCurrent=n)}},t.onBlur=function(e){var t,n;e===(null==(t=this.info.current)?void 0:t.id)&&(n=e?this.get(e):this.info.current,this.store.update(u.j.FocusState,{focused:!1,current:n}))},t.newGridId=function(){return`grid-${(0,l.D)()}`},t.newSurfaceId=function(){return`surface-${(0,l.D)()}`},t.createSync=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=void 0,o={gridType:"horizontal"};if(n.length>0&&"string"==typeof n[0]){var[a="horizontal",s,u,c]=n;e=c,o=this.getModeOptions(a,s,u)}else n.length>0&&"object"==typeof n[0]&&([o,e]=n);if(o&&((0,_.Y4)(o)||(0,_.D)(o)))i=this.createGridSync(o,e);else if(o&&(0,_.PQ)(o))i=this.createStackSync(o,e);else if(o&&(0,_.Qd)(o))i=this.createFloatSync(o,e);else if(o&&(0,_.jJ)(o)){var l=o;i=this.createVirtualSync(l,e)}if(i)return this.traverseVisibility(i.id),this.update(),i},t.getModeOptions=function(e,t,n){if(t&&(o=null==(i=null==(r=this.gridService.getGrid(t))?void 0:r.surfaces)?void 0:i[0]),"horizontal"===e||"vertical"===e){var r,i,o;return{gridType:e,target:o}}return"float"===e?{gridType:"float",isNewFloat:!1,floatStyle:n}:"stack"===e?{gridType:"stack",target:o}:void 0},t.create=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.__awaiter)(this,void 0,void 0,function*(){var e=this.createSync.apply(this,(0,o._)(t));return e?y.s?Promise.resolve(Object.assign({},e)):(yield this.waitForSurfaceRender(e),Promise.resolve(e)):Promise.reject()})},t.waitForSurfaceRender=function(e){return(0,a.__awaiter)(this,void 0,void 0,function*(){var t=S(e)?e:this.get(e);if(null===t)return Promise.reject("surface id not exist");var n=yield new Promise(e=>null==t?void 0:t.stream.pipe((0,m.P)()).subscribe(t=>{e(t)}));return t.dom=n,t})},t.getGridOfSurface=function(e){var t=this.config.get(e);if(t)return this.gridService.getGrid(t.grid)},t.newSurfaceConfig=function(e,t){return{id:this.newSurfaceId(),grid:null!=e?e:this.newGridId(),stream:new d.t,ssrChildren:t,focusStream:new f.X(!1),visible:!1}},t.createGridSync=function(e,t){var n=C;if(e.target){var r=this.getGridOfSurface(e.target);if(!r)return void v.r.error(`Target grid ${e.target} does not exist.`);n=r.id}if(!this.gridService.hasGrid(n))return void v.r.error(`Target grid ${n} does not exist.`);var i=this.newSurfaceConfig(n,t);return this.gridService.addToGrid(n,i,e.gridType),this.config.set(i.id,i),i},t.createStackSync=function(e,t){var n,r,i,o,a=this.getGridOfSurface(null!=(i=null!=(n=e.target)?n:null==(r=this.info.current)?void 0:r.id)?i:C);if(e.target&&!a)return void v.r.error(`Target grid ${e.target} does not exist.`);var s=null!=(o=null==a?void 0:a.id)?o:C,u=this.newSurfaceConfig(s,t);return this.gridService.addToGrid(s,u),this.config.set(u.id,u),u},t.createFloatSync=function(e,t){var n,r=this.newSurfaceConfig(I,t);return this.gridService.addToFloatGrid(r,e.isNewFloat),this.config.set(r.id,r),r.grid===I&&(this.floatStyle=null!=(n=e.floatStyle)?n:{}),r},t.createVirtualSync=function(e,t){var n,r,i,o=C;e.target&&(o=null!=(n=null==(i=this.config.get(e.target))?void 0:i.grid)?n:C);var a=this.newSurfaceConfig(o,t);return this.gridService.addToGrid(o,a),a.targetDom=e.targetDom,a.virtualParent=null==i?void 0:i.id,!i||(null==i?void 0:i.virtualSurfaces)||(i.virtualSurfaces=[]),null==(r=null==i?void 0:i.virtualSurfaces)||r.push(a.id),this.config.set(a.id,a),a},t.close=function(e){this.closeSurface(e),this.update(),this.forceUpdate()},t.closeSurface=function(e){var t,n,r,i=this.get(e);if(i){var o=this.gridService.getGrid(i.grid);if(null==o?void 0:o.surfaces){if(i.virtualParent){var a=this.config.get(i.virtualParent),s=null!=(n=null==(t=null==a?void 0:a.virtualSurfaces)?void 0:t.indexOf(e))?n:-1;s>0&&(null==(r=null==a?void 0:a.virtualSurfaces)||r.splice(s,1))}var u=o.surfaces.indexOf(i.id);u>=0&&(o.surfaces.splice(u,1),o.surfaces.length>0?(o.current=o.surfaces[Math.max(0,u-1)],o.stackCurrent=o.current,i.visible&&this.traverseVisibility(o.current)):this.gridService.deleteGrid(i.grid),this.closeAllChildSurface(i),this.destroyEditor(e),this.config.delete(e))}}},t.closeAllChildSurface=function(e){var t=this.gridService.getGrid(e.grid);(null==t?void 0:t.surfaces)&&t.surfaces.forEach(t=>{var n=this.get(t);(null==n?void 0:n.virtualParent)===e.id&&this.closeSurface(n.id)})},t.destroyEditor=function(e){var t=this.editorInfos.get(e);t&&(this.onBlur(e),t.adapter.destroy(t.editor),this.editorMap.delete(t.editor),this.editorInfos.delete(e))},t.addEditor=function(e,t,n){this.destroyEditor(e),this.editorInfos.set(e,{editor:t,adapter:n}),"object"==typeof t&&null!==t&&this.editorMap.set(t,e)},t.getEditor=function(e){var t,n;return e&&null!=(n=null==(t=this.editorInfos.get(e))?void 0:t.editor)?n:null},t.getAdapter=function(e){var t,n;return e&&null!=(n=null==(t=this.editorInfos.get(e))?void 0:t.adapter)?n:null},t.getSurfaceId=function(e){return this.editorMap.get(e)},t.forceUpdate=function(){p.Am.emitOn("$forceUpdate",e=>"service"===e.type)},(0,i._)(e,[{key:"floatStyle",set:function(e){this.store.update(u.j.FloatSurfaceStyle,Object.assign(Object.assign({},D),e))}},{key:"editors",get:function(){return(0,o._)(this.editorInfos.values())}}]),e}();M=(0,a.__decorate)([(0,c.t)({overridable:!0}),(0,a.__metadata)("design:paramtypes",[s.O,w])],M)},114320:function(e,t,n){"use strict";n.d(t,{D:function(){return l},Kk:function(){return f},PQ:function(){return d},Qd:function(){return u},Y4:function(){return c},jJ:function(){return s}});var r=n(88511),i=n(463313),o=n.n(i),a=n(355838);function s(e){return"virtual"===e.surfaceType}function u(e){return"float"===e.gridType}function c(e){return"horizontal"===e.gridType}function l(e){return"vertical"===e.gridType}function d(e){return"stack"===e.gridType}var f=o().createContext({evaluateWithContext:function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return a.k.apply(void 0,[e,t].concat((0,r._)(i)))}})},448965:function(e,t,n){"use strict";n.d(t,{J:function(){return o},V:function(){return r}});var r,i=n(138051);!function(e){e.DEFAULT="normal-outline",e.INPUT="input-outline",e.INPUT_CONNECTED="input-connected-outline"}(r||(r={}));var o={LEFT:(0,i.w)("left"),CENTER:(0,i.w)("center")}},337353:function(e,t,n){"use strict";var r;n.d(t,{f:function(){return r}}),function(e){e[e.ON_THE_SPOT=0]="ON_THE_SPOT",e[e.GROUP_TAIL=1]="GROUP_TAIL"}(r||(r={}))},75192:function(e,t,n){"use strict";n.d(t,{O:function(){return C}});var r=n(805155),i=n(593323),o=n(425601),a=n(982121),s=n(921734),u=n(88511);n(575739);var c=n(209787),l=n(709429),d=n(276009),f=n(139442),p=n(532895),h=n(285419),g=n(385015),m=n(493885),v=n(316258),y=n(337353),b=n(794284),_=n(161217),C=function(e){function t(e,n){(0,i._)(this,t),(o=(0,r._)(this,t)).store=e,o.transitionService=n,o.force=0,o.currentPath=[],o.refreshControllers=()=>{var e;null==(e=o.store.get(p.j.RefreshControllers))||e.next(h.v.TOOLBAR)},o.readGroup=(e,t,n)=>{o.currentPath.push(`[${n}]`);var r=[],i=t.items.map(e=>{if(e.shrinkType===y.f.GROUP_TAIL&&e.shelter)return o.createTailShelter(e,t);if(e.shrinkType===y.f.GROUP_TAIL&&0===r.length){var n=o.createTailShelter(e,t);r.push(n)}return null}).filter(e=>!!e),a=t.shelter?o.buildConfig(t.shelter,(0,u._)(o.currentPath)):null;a&&o.setPathToActionInfoInConfig(a,(0,u._)(o.currentPath));var s={key:t.key,shelter:a,items:t.items.reduce(o.readVirtualGroup,[]).concat(i).concat(r)};return e.push(s),o.currentPath.pop(),e},o.readVirtualGroup=(e,t)=>{var n,{key:r,shrinkType:i}=t,a=t.shelter?o.buildConfig(t.shelter,(0,u._)(o.currentPath)):null;return a&&o.setPathToActionInfoInConfig(a,(0,u._)(o.currentPath)),e.push({key:r,shrinkType:i,priority:null!=(n=t.priority)?n:999,shelter:a,forceShrink:t.forceShrink,buttons:t.buttons.reduce(o.readRows,[])}),e},o.readRows=(e,t)=>{var n=t.map(e=>{var t=o.buildConfig(e,(0,u._)(o.currentPath));return o.setPathToActionInfoInConfig(t,(0,u._)(o.currentPath)),t});return e.push(n),e},o.store.register(p.j.FixToolbarShow,!0),o.store.register(p.j.RibbonActiveTab,""),o.store.register(v.R.ToolbarPinnedKey,null),o.store.register(v.R.ToolbarFixedKeys,null),o.store.register(p.j.ToolbarEvent,{target:"none",type:"dropdownClose"}),o.store.register(p.j.ToolbarDropdownEvent,{target:"none",type:"dropdownClose"}),o.store.register(p.j.isFocusedByClick,!0),o.store.register(v.R.DisableToolbar,!1).subscribe(e=>{o.store.upsert(p.j.FixToolbarDOMVisible,!e)}),o.store.get(p.j.RibbonActiveTab).subscribe(o.refreshControllers),o.store.get(v.R.ToolbarPinnedKey).subscribe(o.refreshControllers),o.store.get(v.R.ToolbarFixedKeys).subscribe(o.refreshControllers),o.schema={};var o,a=o.getTakeUpSpaceHeight();return o.transitionService.register("fixed-toolbar",{duration:150,entered:{},entering:{transform:"translateY(0)",transition:"all linear 0.15s",width:"100%"},exited:{transition:"all linear 0.15s",position:"fixed",width:"100%",transform:`translateY(calc(-100% - ${a}px))`,height:a},exiting:{transform:`translateY(calc(-100% - ${a}px))`,transition:"all linear 0.15s",height:a}}),o}(0,s._)(t,e);var n=t.prototype;return n.onUpdate=function(){(0,o._)((0,a._)(t.prototype),"onUpdate",this).call(this),Object.entries(this.schema).forEach(e=>{var[t,n]=e;this.currentPath.push(t);var r={label:n.label,data:n.data.reduce(this.readGroup,[]),moreText:n.moreText,moreTooltip:n.moreTooltip,keyItem:this.get(t),tooltip:n.tooltip};this.currentPath.pop(),this.store.upsert(t,r)})},n.setSchema=function(e){Object.entries(e).forEach(e=>{var[,t]=e;t.data=this.normalizeGroup(t.data)}),(0,o._)((0,a._)(t.prototype),"setSchema",this).call(this,e)},n.isInActiveSchema=function(e){var t=this.store.getValue(v.R.ToolbarPinnedKey);if(this.isInToolbarSchemaItem(e,t))return!0;var n=this.store.getValue(v.R.ToolbarFixedKeys);if(Array.isArray(n)){var r=this.store.getValue(p.j.RibbonActiveTab)||n[0];return this.isInToolbarSchemaItem(e,r)}return this.isInToolbarSchemaItem(e,n)},n.mergeSchemaWithoutUpdate=function(e){Object.entries(e).forEach(e=>{var t,[n,r]=e;this.schema[n]=Object.assign(Object.assign(Object.assign({},null!=(t=this.schema[n])?t:{}),r),{data:this.schema[n]?this.schema[n].data.concat(this.normalizeGroup(r.data)):this.normalizeGroup(r.data)})})},n.isInToolbarSchemaItem=function(e,t){if(!t)return!1;if(e===t)return!0;var n=this.schema[t];return!!n&&n.data.some(t=>(Array.isArray(t)?t:t.items).some(t=>"string"==typeof t?t===e:(Array.isArray(t)?t:t.buttons).some(t=>t.includes(e))))},n.normalizeGroup=function(e){return e.map((e,t)=>{var n={key:`TG_${t}_${(0,g.D)()}`,items:[]};return Array.isArray(e)?n.items=this.normalizeVirtualGroup(e):(n.shelter=e.shelter,n.items=this.normalizeVirtualGroup(e.items)),n})},n.normalizeVirtualGroup=function(e){return e.map((e,t)=>{var n={key:`VG_${t}_${(0,g.D)()}`,buttons:[]};if(Array.isArray(e))n.buttons=e;else{if("string"!=typeof e)return Object.assign(Object.assign(Object.assign({},n),{shrinkType:e.shelter?y.f.ON_THE_SPOT:void 0}),e);n.buttons.push([e])}return n})},n.getTakeUpSpaceHeight=function(){var e=this.store.getValue(v.R.TitlebarHoverable),t=this.store.getValue("titlebar.height");return e&&"boolean"!=typeof e&&e.takeUpSpace?e.takeUpSpaceHeight?e.takeUpSpaceHeight:t/3:0},n.getDefaultConfig=function(){return{name:"none",tooltip:"",onClick(){},shouldHide:()=>!0}},n.$forceUpdate=function(){this.force+=1,this.onUpdate()},n.createTailShelter=function(e,t){var n=this.schema[this.currentPath[0]],r=e.shelter?this.buildConfig(e.shelter,(0,u._)(this.currentPath)):{name:`${t.key}-tail-shelter`,icon:b.k,hasArrow:!1,tooltip:n.moreTooltip,text:n.moreText,dropdownContent:(0,_.N)(`${t.key}-tail-shelter`)};return this.setPathToActionInfoInConfig(r,(0,u._)(this.currentPath)),{key:`VG_tail_shelter_${(0,g.D)()}`,shelter:null,priority:999,buttons:[[r]]}},n.changeRibbonTab=function(e){this.store.update(p.j.RibbonActiveTab,e)},t}(d.C);C=(0,c.__decorate)([(0,l.t)({overridable:!0,scope:"ui:service",name:h.v.TOOLBAR}),(0,c.__metadata)("design:paramtypes",[f.O,m.Z])],C)},493885:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(593323),i=n(209787),o=n(709429),a=n(139442),s=function(){function e(t){(0,r._)(this,e),this.store=t,this.transitions=new Map}var t=e.prototype;return t.register=function(e,t){this.transitions.set(e,t);var n=`transition.trigger.${e}`;this.store.has(n)||this.store.register(n,!0)},t.get=function(e){var t;return null!=(t=this.transitions.get(e))?t:{entering:{},entered:{},exiting:{},exited:{},duration:0}},t.apply=function(e){return(0,i.__awaiter)(this,void 0,void 0,function*(){var t=e.shift();if(t){var{name:n,switchTo:r,force:i}=t,o=this.get(n),{duration:a}=o,s=`transition.trigger.${n}`,u=this.store.getValue(s);if(u===r&&!i)return void(yield this.apply(e));this.store.update(s,r),yield new Promise(e=>setTimeout(e,a)),yield this.apply(e)}})},e}();s=(0,i.__decorate)([(0,o.t)(),(0,i.__metadata)("design:paramtypes",[a.O])],s)},457974:function(e,t,n){"use strict";n.d(t,{S:function(){return T}});var r=n(805155),i=n(593323),o=n(425601),a=n(982121),s=n(921734),u=n(209787),c=n(580023),l=n(796639),d=n(873565),f=n(811319);function p(e,t){var n=f.Q.get(e);if(n){if(!n.overridable)return void console.warn("Original middleware cannot be overrided");n.useClass=t,n.instance=void 0}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>!0;return n=>{t()&&(d.Am.override(e,n),p(e,n))}}var g=n(659331),m=n(758699),v=n(709429),y=n(139442),b=n(532895),_=n(316258),C=n(789544),I=n(164392),E=n(560240),w=n(450499),S=function(){function e(t,n){var r;(0,i._)(this,e),this.store=t,this.toolbarService=n,this.keyboardHeight=-1,this.bottom=0,this.checkKeyboardSupported=!0,this.measureSpans=new Map,this.onKeyboardHeightChange=e=>{if(this.softKeyboardSupported){var t,n;if(0!==e.heightInViewport?(t=e.heightInViewport,n=e.heightInViewport):(t=0,n=e.heightOutOfViewport),t===this.bottom&&n===this.keyboardHeight)return;this.bottom=t,this.keyboardHeight=n,this.store.update(b.j.KeyboardHeight,this.keyboardHeight)}this.updateToolbarPosition()},this.store.register(b.j.MobileToolbarPosition,{}),this.store.register(b.j.KeyboardHeight,this.keyboardHeight),this.store.register(b.j.MobilePanelHeight,this.getPanelHeight()),this.store.register(b.j.ShowMobileToolbar,!0),this.store.register(b.j.MobileToolbarPositionTrigger,{}).pipe((0,C.b)(10)).subscribe(e=>{this.store.update(b.j.MobileToolbarPosition,e)}),null==(r=this.store.get(_.R.ToolbarTopOffset))||r.subscribe(e=>{this.store.update(b.j.MobileToolbarPositionTrigger,Object.assign(this.store.getValue(b.j.MobileToolbarPosition),{marginTop:e}))}),window.addEventListener("resize",()=>{this.isToolbarShow()&&this.updateToolbarPosition()},!1),this.setupKeyboard()}var t=e.prototype;return t.setupKeyboard=function(){this.store.get(b.j.MobilePanels).subscribe(()=>{this.updateToolbarPosition()}),this.store.getValue(_.R.ToolbarRespectSoftKeyboard)&&(this.softKeyboard=new E.SoftKeyboard,this.softKeyboard.on("change",e=>this.onKeyboardHeightChange(e)),window.addEventListener("unload",()=>{var e;null==(e=this.softKeyboard)||e.dispose()}),this.updateToolbarPositionWithKeyboardInfo()),this.store.get(b.j.ShowMobileToolbar).pipe((0,I.x)()).subscribe(e=>{e&&this.updateToolbarPositionWithKeyboardInfo()})},t.updateToolbarPositionWithKeyboardInfo=function(){var e;(null==(e=this.softKeyboard)?void 0:e.isSupported)&&!this.toolbarService.isPanelOpened()&&this.onKeyboardHeightChange(this.softKeyboard)},t.isPortrait=function(){var{orientation:e}=window;return 0===e||180===e},t.setCheckKeyboardSupported=function(e){this.checkKeyboardSupported=e},t.updateToolbarPosition=function(){var e=this.getToolbarBottomOffset();this.store.update(b.j.MobileToolbarPositionTrigger,e)},t.isToolbarShow=function(){return this.store.get(b.j.ShowMobileToolbar).getValue()},t.measureSafeMargin=function(){var e,t,n,r,i=this.isPortrait().toString();if(!this.measureSpans[i]){var o=document.createElement("span"),a=["top","bottom"].map(e=>`padding-${e}: calc(constant(safe-area-inset-${e}) + 0px); padding-${e}: calc(env(safe-area-inset-${e}) + 0px);`).join("");o.style.cssText=`position: absolute; top: -50000px; white-space:nowrap; overflow: hidden; ${a}`,document.body.appendChild(o),this.measureSpans[i]=o}var s=window.getComputedStyle(this.measureSpans[i]);return{top:null!=(t=parseInt(null!=(e=s.paddingTop)?e:"0",10))?t:0,bottom:null!=(r=parseInt(null!=(n=s.paddingBottom)?n:"0",10))?r:0}},t.getPanelHeight=function(){var e=this.store.getValue("toolbar.panelHeight");return g.w.isIOS()?(e+=this.measureSafeMargin().bottom,this.isPortrait()||g.w.isIPad()||(e=window.innerHeight/2)):this.isPortrait()||(e=window.innerHeight/2),e},t.hasExternalKeyboard=function(){return g.w.isIPad()&&g.w.isTencentDocsApp()&&-1!==this.keyboardHeight&&this.keyboardHeight<150},t.getToolbarBottomOffset=function(){var e,t,n=(null!=(t=null==(e=this.store.get(_.R.ToolbarAlignment))?void 0:e.getValue())?t:w.B0.BOTTOM)===w.B0.TOP;if(this.toolbarService.isPanelOpened(void 0,!0)&&!n){var r=this.getPanelHeight();return this.hasExternalKeyboard()&&(r+=this.bottom),setTimeout(()=>{this.store.update(b.j.MobilePanelHeight,r)},50),{top:"auto",bottom:`${r}px`}}var i=document.body.scrollTop,o=g.w.isIOS()?i:0,a=/(uiwebview)/i.test(navigator.userAgent),s=!this.softKeyboardSupported||a,u=this.store.getValue(_.R.ToolbarRespectSoftKeyboard),c=this.checkKeyboardSupported&&u&&s,l=this.store.getValue(_.R.ToolbarTopOffset);if(c||n)return{top:`${-1+o}px`,bottom:"auto",marginTop:l};var d=this.bottom-o;return(g.w.isIOS()||g.w.isHarmonyPhone())&&0===this.bottom&&(d+=this.measureSafeMargin().bottom),{top:"auto",bottom:0,paddingBottom:`${d}px`,marginTop:l}},(0,m._)(e,[{key:"softKeyboardSupported",get:function(){var e;return this.checkKeyboardSupported&&this.store.getValue(_.R.ToolbarRespectSoftKeyboard)&&(null==(e=this.softKeyboard)?void 0:e.isSupported)}}]),e}();S=(0,u.__decorate)([(0,v.t)({overridable:!0}),(0,u.__metadata)("design:paramtypes",[y.O,l.n])],S);var D=n(434522),M=n(366168),T=function(e){function t(e,n){var o;return(0,i._)(this,t),(o=(0,r._)(this,t,[e,n])).store=e,o.surfaceService=n,o.onFloatWidgetChange=e=>t=>{var n=!1;if(o.floatWidgets.get(e.name)&&o.floatWidgets.get(e.name).visible!==t&&(o.floatWidgets.get(e.name).visible=t,n=!0),t){var r=!1,i=!1;Array.from(o.floatWidgets.keys()).some(t=>{if(t===e.name||!o.mobileWidgetStore.getValue(t))return!1;var a=o.floatWidgets.get(t);return!!a.visible&&!a.mustBeOverLapped&&((e.topOccupied&&a.topOccupied||e.bottomOccupied&&a.bottomOccupied)&&(a.visible=!1,n=!0,a.topOccupied&&(r=!0),a.bottomOccupied&&(i=!0),o.mobileWidgetStore.update(a.name,!1)),r&&i)});var a="auto"!==o.toolbarPositionService.getToolbarBottomOffset().bottom;e.topOccupied&&!a&&o.store.getValue(b.j.ShowMobileToolbar)&&o.store.update(b.j.ShowMobileToolbar,!1),e.bottomOccupied&&(a&&o.store.getValue(b.j.ShowMobileToolbar)&&o.store.update(b.j.ShowMobileToolbar,!1),o.toolbarService.isPanelOpened()&&o.toolbarService.closePanel())}n&&o.update("float")},o.mobileWidgetStore=new y.O,o}(0,s._)(t,e);var n=t.prototype;return n.closeAllTopFloatWidget=function(){Array.from(this.floatWidgets.keys()).forEach(e=>{var t=this.floatWidgets.get(e);(null==t?void 0:t.topOccupied)&&this.mobileWidgetStore.update(e,!1)})},n.closeAllTBottomFloatWidget=function(){Array.from(this.floatWidgets.keys()).forEach(e=>{this.floatWidgets.get(e).bottomOccupied&&this.mobileWidgetStore.update(e,!1)})},n.isTopOccupied=function(){var e=!1;return Array.from(this.floatWidgets.values()).some(t=>!!t.topOccupied&&!!t.visible&&(e=!0,!0)),e},n.isBottomOccupied=function(){var e=!1;return Array.from(this.floatWidgets.values()).some(t=>!!t.bottomOccupied&&!!t.visible&&(e=!0,!0)),e},n.float=function(e){var n,r,i,s,u=Object.assign(Object.assign({},e),{topOccupied:null==(n=e.topOccupied)||n,bottomOccupied:null==(r=e.bottomOccupied)||r,mustBeOverLapped:null!=(i=e.mustBeOverLapped)&&i,visible:null==(s=e.visible)||s});(0,o._)((0,a._)(t.prototype),"float",this).call(this,u),this.mobileWidgetStore.register(u.name,u.visible),this.mobileWidgetStore.get(u.name).subscribe(this.onFloatWidgetChange(u))},n.changeFloatWidgetVisbility=function(e,t){var n=this.floatWidgets.get(e);if(!n)return void M.r.error(`cannot find float widget, name: ${e}`);n.visible!==t&&this.mobileWidgetStore.update(e,t)},n.remove=function(e,n){(0,o._)((0,a._)(t.prototype),"remove",this).call(this,e,n),"float"===n&&this.mobileWidgetStore.clear(e)},t}(c.i);(0,u.__decorate)([(0,d.tB)(),(0,u.__metadata)("design:type",S)],T.prototype,"toolbarPositionService",void 0),(0,u.__decorate)([(0,d.tB)(),(0,u.__metadata)("design:type",l.n)],T.prototype,"toolbarService",void 0),T=(0,u.__decorate)([h(c.i,()=>g.w.isMobile()),(0,u.__metadata)("design:paramtypes",[y.O,D.W])],T)},580023:function(e,t,n){"use strict";n.d(t,{i:function(){return d}});var r=n(593323),i=n(88511);n(575739);var o=n(209787),a=n(709429),s=n(139442),u=n(434522),c=n(532895),l=n(366168),d=function(){function e(t,n){(0,r._)(this,e),this.store=t,this.surfaceService=n,this.floatWidgets=new Map,this.embedWidgets=new Map,this.wrapWidgets=new Map,this.insertWidgets=new Map,this.multiSurfaceEmbed=new Map,this.multiSurfaceWrap=new Map,this.excludedWidgets=new Set,t.register(c.j.FloatWidget,[]),t.register(c.j.EmbedWidget,[]),t.register(c.j.WrapWidget,[]),t.register(c.j.InsertWidget,[]),t.register(c.j.EmbedWidgetContainer,{})}var t=e.prototype;return t.exclude=function(e,t){e.forEach(e=>{this.excludedWidgets.add(`${t}|${e}`)})},t.float=function(e){if(this.excludedWidgets.has(`float|${e.name}`))return void l.r.info(`${e.name} has been excluded from floating widgets`);this.floatWidgets.has(e.name)&&l.r.error("Conflict float widget name"),this.floatWidgets.set(e.name,e),this.update("float")},t.changeFloatWidgetVisbility=function(e,t){var n=this.floatWidgets.get(e);if(!n)return void l.r.error(`cannot find float widget, name: ${e}`);n.visible!==t&&(n.visible=t,this.update("float"))},t.isFloatWidgetVisible=function(e){var t,n;return null!=(n=null==(t=this.floatWidgets.get(e))?void 0:t.visible)&&n},t.embed=function(e){if(this.excludedWidgets.has(`embed|${e.name}`))return void l.r.info(`${e.name} has been excluded from embed widgets`);var t,n,r,i=null!=(t=e.surface)?t:null==(n=this.surfaceService.info.current)?void 0:n.id;if(i){this.embedWidgets.set(`${e.name}|${i}`,Object.assign(Object.assign({},e),{surface:i}));var o=null!=(r=this.multiSurfaceEmbed.get(e.name))?r:[];o.push(i),this.multiSurfaceEmbed.set(e.name,o)}this.update("embed")},t.setEmbedContainer=function(e,t){var n=this.store.getValue(c.j.EmbedWidgetContainer);n[t]=e,this.store.update(c.j.EmbedWidgetContainer,Object.assign({},n))},t.wrap=function(e){var t;if(this.excludedWidgets.has(`wrap|${e.name}`))return void l.r.info(`${e.name} has been excluded from wrap widgets`);if(this.wrapWidgets.has(e.name)&&l.r.error("Conflict wrap widget name"),e.surface){this.wrapWidgets.set(`${e.name}|${e.surface}`,e);var n=null!=(t=this.multiSurfaceWrap.get(e.name))?t:[];n.push(e.surface),this.multiSurfaceWrap.set(e.name,n)}else this.wrapWidgets.set(e.name,e);this.update("wrap")},t.insert=function(e){if(this.excludedWidgets.has(`insert|${e.name}`))return void l.r.info(`${e.name} has been excluded from insert widgets`);this.insertWidgets.has(e.name)&&l.r.error("Conflict insert widget name"),this.insertWidgets.set(e.name,e),this.update("insert")},t.remove=function(e,t){var n,r;switch(t){case"embed":null==(n=this.multiSurfaceEmbed.get(e))||n.forEach(t=>{this.embedWidgets.delete(`${e}|${t}`)});break;case"float":this.floatWidgets.delete(e);break;case"wrap":null==(r=this.multiSurfaceWrap.get(e))||r.forEach(t=>{this.wrapWidgets.delete(`${e}|${t}`)}),this.wrapWidgets.delete(e);break;case"insert":this.insertWidgets.delete(e)}this.update(t)},t.update=function(e){switch(e){case"embed":this.store.update(c.j.EmbedWidget,(0,i._)(this.embedWidgets.values()));break;case"float":this.store.update(c.j.FloatWidget,(0,i._)(this.floatWidgets.values()));break;case"wrap":this.store.update(c.j.WrapWidget,(0,i._)(this.wrapWidgets.values()).sort((e,t)=>t.priority-e.priority));break;case"insert":this.store.update(c.j.InsertWidget,(0,i._)(this.insertWidgets.values()))}},e}();d=(0,o.__decorate)([(0,a.t)({overridable:!0}),(0,o.__metadata)("design:paramtypes",[s.O,u.W])],d)},139078:function(e,t,n){"use strict";function r(e,t){return Array.from({length:Math.ceil(e.length/t)},(n,r)=>e.slice(r*t,r*t+t))}function i(e){return Array.isArray(e[0])}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";return e.map(e=>e[t]).reduce((t,r,i)=>{var o=null!=r?r:n;return t[o]=(t[o]||[]).concat(e[i]),t},{})}function a(e,t){for(var n of e){if(Array.isArray(n)){var r=a(n,t);if(r)return r;continue}if(t(n))return n}return null}n.d(t,{MX:function(){return a},mx:function(){return i},vM:function(){return o},yo:function(){return r}})},170840:function(e,t,n){"use strict";function r(e){var{r:t,g:n,b:r,alpha:i=1}=e;return(299*t+587*n+114*r)/1e3>=125||i<.5}function i(e){var t=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.exec(e);return t?{r:Number(t[1]),g:Number(t[2]),b:Number(t[3]),alpha:Number(t[4])}:null}function o(e){if("transparent"===e)return{r:0,g:0,b:0,alpha:0};var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{0,2})$/i.exec(e);if(!t)return null;var n={r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)};return t[4]&&(n.alpha=parseInt(t[4],16)/255),n}n.d(t,{eO:function(){return r},jM:function(){return i},oo:function(){return o}})},308688:function(e,t,n){"use strict";n.d(t,{U:function(){return i},s:function(){return r}});var r="undefined"==typeof window||!!window.WorkbenchSSR,i=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")()},779577:function(e,t,n){"use strict";n.d(t,{S:function(){return u}});var r=n(805155),i=n(593323),o=n(921734),a=n(463313),s=n(366168),u=function(e){function t(){var e;return(0,i._)(this,t),e=(0,r._)(this,t,arguments),e.state={error:!1},e}(0,o._)(t,e);var n=t.prototype;return n.componentDidCatch=function(e){s.r.fatal(e.message)},n.render=function(){return this.state.error?null:this.props.children},t.getDerivedStateFromError=function(){return{error:!0}},t}(a.Component)},138051:function(e,t,n){"use strict";n.d(t,{w:function(){return r}});var r=e=>e},659331:function(e,t,n){"use strict";n.d(t,{w:function(){return i}});var r=n(593323),i=function(){function e(){(0,r._)(this,e)}return e.isMobile=function(){return/(mobile)/i.test(navigator.userAgent)},e.isAndroid=function(){return/(android)/i.test(navigator.userAgent)},e.isIOS=function(){return/(iphone|ipad|ipod)/i.test(navigator.userAgent)},e.isIPad=function(){return/(ipad)/i.test(navigator.userAgent)},e.isMac=function(){return!this.isMobile()&&/Mac OS X/i.test(navigator.userAgent)},e.isHarmony=function(){return/OpenHarmony/i.test(navigator.userAgent)},e.isHarmonyPhone=function(){return this.isHarmony()&&/mobile/i.test(navigator.userAgent)},e.isHarmonyPad=function(){return this.isHarmony()&&!/mobile/i.test(navigator.userAgent)&&!/\bPC;/.test(navigator.userAgent)},e.isHarmonyPC=function(){return this.isHarmony()&&!/mobile/i.test(navigator.userAgent)&&/\bPC;/.test(navigator.userAgent)},e.isFireFox=function(){return/firefox/i.test(navigator.userAgent)},e.isIE=function(){return/msie/i.test(navigator.userAgent)&&!this.isOpera()||/trident/i.test(navigator.userAgent)},e.isOpera=function(){return/opera/i.test(navigator.userAgent)},e.isChrome=function(){return/chrome/i.test(navigator.userAgent)},e.getChromeVersion=function(){var e=/Chrom(e|ium)\/([0-9]+)\./.exec(navigator.userAgent);return e?parseInt(e[2],10):0},e.isTencentDocsApp=function(){return/TencentDocs/i.test(navigator.userAgent)},e.isTencentDocsIPadApp=function(){return this.isIPad()&&this.isTencentDocsApp()},e.isMiniProgram=function(){return/miniprogram|miniapp(?!enable)/i.test(navigator.userAgent)||void 0!==window.__wxjs_environment&&"miniprogram"===window.__wxjs_environment},e.isWXMiniProgram=function(){return/MicroMessenger/i.test(navigator.userAgent)&&this.isMiniProgram()},e.isQQMiniProgram=function(){return/QQ\/|TIM/i.test(navigator.userAgent)&&this.isMiniProgram()},e}()},385015:function(e,t,n){"use strict";function r(){var e=36;return Math.random().toString(e).substr(2,6)}n.d(t,{D:function(){return r}})},98506:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},128594:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},620332:function(e,t,n){var r=n(98506);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},87553:function(e){e.exports=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},571227:function(e){function t(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise(function(i,o){var a=e.apply(n,r);function s(e){t(a,i,o,s,u,"next",e)}function u(e){t(a,i,o,s,u,"throw",e)}s(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports},126713:function(e){e.exports=function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},352669:function(e,t,n){var r=n(734321);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},737033:function(e,t,n){var r=n(734321);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},328063:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},709293:function(e,t,n){var r=n(927731);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},126146:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},919834:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},723334:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},649429:function(e){e.exports=function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},849754:function(e){e.exports=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},758282:function(e,t,n){var r=n(737033);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},793232:function(e,t,n){var r=n(130599).default,i=n(87553);e.exports=function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},851443:function(e,t,n){var r=n(130599).default;function i(){"use strict";e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},u="function"==typeof Symbol?Symbol:{},c=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",d=u.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=Object.create((t&&t.prototype instanceof _?t:_).prototype);return s(i,"_invoke",{value:A(e,n,new k(r||[]))}),i}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=p;var g="suspendedStart",m="suspendedYield",v="executing",y="completed",b={};function _(){}function C(){}function I(){}var E={};f(E,c,function(){return this});var w=Object.getPrototypeOf,S=w&&w(w(R([])));S&&S!==o&&a.call(S,c)&&(E=S);var D=I.prototype=_.prototype=Object.create(E);function M(e){["next","throw","return"].forEach(function(t){f(e,t,function(e){return this._invoke(t,e)})})}function T(e,t){var n;function i(n,o,s,u){var c=h(e[n],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then(function(e){i("next",e,s,u)},function(e){i("throw",e,s,u)}):t.resolve(d).then(function(e){l.value=e,s(l)},function(e){return i("throw",e,s,u)})}u(c.arg)}s(this,"_invoke",{value:function(e,r){function o(){return new t(function(t,n){i(e,r,t,n)})}return n=n?n.then(o,o):o()}})}function A(e,n,r){var i=g;return function(o,a){if(i===v)throw Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=x(s,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===g)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var c=h(e,n,r);if("normal"===c.type){if(i=r.done?y:m,c.arg===b)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=y,r.method="throw",r.arg=c.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),b;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):a:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,b)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function R(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(a.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw TypeError(r(e)+" is not iterable")}return C.prototype=I,s(D,"constructor",{value:I,configurable:!0}),s(I,"constructor",{value:C,configurable:!0}),C.displayName=f(I,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===C||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,I):(e.__proto__=I,f(e,d,"GeneratorFunction")),e.prototype=Object.create(D),e},n.awrap=function(e){return{__await:e}},M(T.prototype),f(T.prototype,l,function(){return this}),n.AsyncIterator=T,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new T(p(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},M(D),f(D,d,"Generator"),f(D,c,function(){return this}),f(D,"toString",function(){return"[object Generator]"}),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=R,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},927731:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1705:function(e,t,n){var r=n(128594),i=n(723334),o=n(788344),a=n(649429);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},636465:function(e,t,n){var r=n(128594),i=n(919834),o=n(788344),a=n(649429);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},149133:function(e,t,n){var r=n(620332),i=n(919834),o=n(788344),a=n(849754);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},504994:function(e,t,n){var r=n(130599).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},734321:function(e,t,n){var r=n(130599).default,i=n(504994);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},130599:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},788344:function(e,t,n){var r=n(98506);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},766123:function(e,t,n){var r=n(851443)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},121701:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},388325:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},717820:function(e,t,n){"use strict";function r(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},551450:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},732482:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(553864);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},653458:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(553864);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},474395:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,{Z:function(){return r}})},867836:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(937312);function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},359096:function(e,t,n){"use strict";function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},303812:function(e,t,n){"use strict";function r(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},344686:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(174165),i=n(717820);function o(e,t){if(t&&("object"==(0,r.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},937312:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{Z:function(){return r}})},489343:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(388325),i=n(359096),o=n(175555),a=n(303812);function s(e){return(0,r.Z)(e)||(0,i.Z)(e)||(0,o.Z)(e)||(0,a.Z)()}},553864:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(174165);function i(e,t){if("object"!=(0,r.Z)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=(0,r.Z)(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function o(e){var t=i(e,"string");return"symbol"==(0,r.Z)(t)?t:t+""}},174165:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:function(){return r}})},175555:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(121701);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},404869:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{_:function(){return r}})},192495:function(e,t,n){"use strict";function r(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{_:function(){return r}})},434902:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){n(e);return}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)})}}n.d(t,{_:function(){return i}})},805155:function(e,t,n){"use strict";n.d(t,{_:function(){return a}});var r=n(982121),i=n(262883),o=n(974952);function a(e,t,n){return t=(0,r._)(t),(0,o._)(e,(0,i._)()?Reflect.construct(t,n||[],(0,r._)(e).constructor):t.apply(e,n))}},593323:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}n.d(t,{_:function(){return r}})},943194:function(e,t,n){"use strict";function r(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw TypeError("attempted to use private field on non-instance");return e}n.d(t,{_:function(){return r}})},167398:function(e,t,n){"use strict";n.d(t,{_:function(){return i}});var r=0;function i(e){return"__private_"+r+++"_"+e}},923749:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(262883),i=n(12813);function o(e,t,n){return(o=(0,r._)()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&(0,i._)(o,n.prototype),o}).apply(null,arguments)}},758699:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.r(t),n.d(t,{_:function(){return i}})},425601:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(982121);function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r._)(e)););return e}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=i(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}})(e,t,n||e)}},982121:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,{_:function(){return r}})},921734:function(e,t,n){"use strict";n.d(t,{_:function(){return i}});var r=n(12813);function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r._)(e,t)}},262883:function(e,t,n){"use strict";function r(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(r=function(){return!!e})()}n.d(t,{_:function(){return r}})},974952:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(192495),i=n(661999);function o(e,t){return t&&("object"===(0,i._)(t)||"function"==typeof t)?t:(0,r._)(e)}},12813:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{_:function(){return r}})},88511:function(e,t,n){"use strict";n.d(t,{_:function(){return u}});var r=n(404869);function i(e){if(Array.isArray(e))return(0,r._)(e)}function o(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function a(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=n(16221);function u(e){return i(e)||o(e)||(0,s._)(e)||a()}},661999:function(e,t,n){"use strict";function r(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}n.d(t,{_:function(){return r}})},16221:function(e,t,n){"use strict";n.d(t,{_:function(){return i}});var r=n(404869);function i(e,t){if(e){if("string"==typeof e)return(0,r._)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return(0,r._)(e,t)}}},762563:function(e,t,n){"use strict";n.d(t,{_:function(){return s}});var r=n(923749),i=n(982121);function o(e){return -1!==Function.toString.call(e).indexOf("[native code]")}var a=n(12813);function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return(0,r._)(e,arguments,(0,i._)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,a._)(n,e)})(e)}},425839:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var r=function(e){return{type:"backend",init:function(e,t,n){},read:function(t,n,r){if("function"==typeof e){if(e.length<3){try{var i=e(t,n);i&&"function"==typeof i.then?i.then(function(e){return r(null,e&&e.default||e)}).catch(r):r(null,i)}catch(e){r(e)}return}e(t,n,r);return}r(null,e&&e[t]&&e[t][n])}}}},107977:function(e,t,n){"use strict";function r(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(e){e(n)}),(r=e.get("*"))&&r.slice().map(function(e){e(t,n)})}}}n.r(t),n.d(t,{default:function(){return r}})},209787:function(e,t,n){"use strict";n.r(t),n.d(t,{__addDisposableResource:function(){return L},__assign:function(){return o},__asyncDelegator:function(){return S},__asyncGenerator:function(){return w},__asyncValues:function(){return D},__await:function(){return E},__awaiter:function(){return h},__classPrivateFieldGet:function(){return O},__classPrivateFieldIn:function(){return R},__classPrivateFieldSet:function(){return k},__createBinding:function(){return m},__decorate:function(){return s},__disposeResources:function(){return P},__esDecorate:function(){return c},__exportStar:function(){return v},__extends:function(){return i},__generator:function(){return g},__importDefault:function(){return N},__importStar:function(){return x},__makeTemplateObject:function(){return M},__metadata:function(){return p},__param:function(){return u},__propKey:function(){return d},__read:function(){return b},__rest:function(){return a},__rewriteRelativeImportExtension:function(){return B},__runInitializers:function(){return l},__setFunctionName:function(){return f},__spread:function(){return _},__spreadArray:function(){return I},__spreadArrays:function(){return C},__values:function(){return y}});var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t,n,r,i,o){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var s,u=r.kind,c="getter"===u?"get":"setter"===u?"set":"value",l=!t&&e?r.static?e:e.prototype:null,d=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),f=!1,p=n.length-1;p>=0;p--){var h={};for(var g in r)h[g]="access"===g?{}:r[g];for(var g in r.access)h.access[g]=r.access[g];h.addInitializer=function(e){if(f)throw TypeError("Cannot add initializers after decoration has completed");o.push(a(e||null))};var m=(0,n[p])("accessor"===u?{get:d.get,set:d.set}:d[c],h);if("accessor"===u){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(s=a(m.get))&&(d.get=s),(s=a(m.set))&&(d.set=s),(s=a(m.init))&&i.unshift(s)}else(s=a(m))&&("field"===u?i.unshift(s):d[c]=s)}l&&Object.defineProperty(l,r.name,d),f=!0}function l(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function d(e){return"symbol"==typeof e?e:"".concat(e)}function f(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function p(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})}function g(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(s){if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}var m=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function v(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||m(t,e,n)}function y(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function _(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function C(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function I(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function E(e){return this instanceof E?(this.v=e,this):new E(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(e){return function(t){return Promise.resolve(t).then(e,d)}}function s(e,t){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||u(e,t)})},t&&(r[e]=t(r[e])))}function u(e,t){try{c(i[e](t))}catch(e){f(o[0][3],e)}}function c(e){e.value instanceof E?Promise.resolve(e.value.v).then(l,d):f(o[0][2],e)}function l(e){u("next",e)}function d(e){u("throw",e)}function f(e,t){e(t),o.shift(),o.length&&u(o[0][0],o[0][1])}}function S(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:E(e[r](t)),done:!1}:i?i(t):t}:i}}function D(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=y(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){i(r,o,(t=e[n](t)).done,t.value)})}}function i(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}}function M(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var T=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},A=function(e){return(A=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t})(e)};function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=A(e),r=0;r<n.length;r++)"default"!==n[r]&&m(t,e,n[r]);return T(t,e),t}function N(e){return e&&e.__esModule?e:{default:e}}function O(e,t,n,r){if("a"===n&&!r)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function k(e,t,n,r,i){if("m"===r)throw TypeError("Private method is not writable");if("a"===r&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function R(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function L(e,t,n){if(null!=t){var r,i;if("object"!=typeof t&&"function"!=typeof t)throw TypeError("Object expected.");if(n){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if("function"!=typeof r)throw TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var j="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function P(e){function t(t){e.error=e.hasError?new j(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&1===r)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(e){return t(e),i()})}else r|=1}catch(e){t(e)}if(1===r)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function B(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,n,r,i,o){return n?t?".jsx":".js":!r||i&&o?r+i+"."+o.toLowerCase()+"js":e}):e}t.default={__extends:i,__assign:o,__rest:a,__decorate:s,__param:u,__esDecorate:c,__runInitializers:l,__propKey:d,__setFunctionName:f,__metadata:p,__awaiter:h,__generator:g,__createBinding:m,__exportStar:v,__values:y,__read:b,__spread:_,__spreadArrays:C,__spreadArray:I,__await:E,__asyncGenerator:w,__asyncDelegator:S,__asyncValues:D,__makeTemplateObject:M,__importStar:x,__importDefault:N,__classPrivateFieldGet:O,__classPrivateFieldSet:k,__classPrivateFieldIn:R,__addDisposableResource:L,__disposeResources:P,__rewriteRelativeImportExtension:B}}}]);
//# sourceMappingURL=initial_vendors_public_2.4221796ff8d8ed62.js.map